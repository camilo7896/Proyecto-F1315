import"https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js";function F2(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Bv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jp={exports:{}},Vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function z2(){if(xE)return Vu;xE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var m in s)m!=="key"&&(l[m]=s[m])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return Vu.Fragment=e,Vu.jsx=t,Vu.jsxs=t,Vu}var RE;function B2(){return RE||(RE=1,Jp.exports=z2()),Jp.exports}var b=B2(),eg={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function H2(){if(CE)return Xe;CE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,V={};function N(L,X,re){this.props=L,this.context=X,this.refs=V,this.updater=re||D}N.prototype.isReactComponent={},N.prototype.setState=function(L,X){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,X,"setState")},N.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function F(){}F.prototype=N.prototype;function $(L,X,re){this.props=L,this.context=X,this.refs=V,this.updater=re||D}var q=$.prototype=new F;q.constructor=$,k(q,N.prototype),q.isPureReactComponent=!0;var ae=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function C(L,X,re,Q,ge,Te){return re=Te.ref,{$$typeof:n,type:L,key:X,ref:re!==void 0?re:null,props:Te}}function E(L,X){return C(L.type,X,void 0,void 0,void 0,L.props)}function S(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function R(L){var X={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(re){return X[re]})}var M=/\/+/g;function P(L,X){return typeof L=="object"&&L!==null&&L.key!=null?R(""+L.key):X.toString(36)}function I(){}function we(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(I,I):(L.status="pending",L.then(function(X){L.status==="pending"&&(L.status="fulfilled",L.value=X)},function(X){L.status==="pending"&&(L.status="rejected",L.reason=X)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Ce(L,X,re,Q,ge){var Te=typeof L;(Te==="undefined"||Te==="boolean")&&(L=null);var _e=!1;if(L===null)_e=!0;else switch(Te){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(L.$$typeof){case n:case e:_e=!0;break;case v:return _e=L._init,Ce(_e(L._payload),X,re,Q,ge)}}if(_e)return ge=ge(L),_e=Q===""?"."+P(L,0):Q,ae(ge)?(re="",_e!=null&&(re=_e.replace(M,"$&/")+"/"),Ce(ge,X,re,"",function(Fe){return Fe})):ge!=null&&(S(ge)&&(ge=E(ge,re+(ge.key==null||L&&L.key===ge.key?"":(""+ge.key).replace(M,"$&/")+"/")+_e)),X.push(ge)),1;_e=0;var Ge=Q===""?".":Q+":";if(ae(L))for(var be=0;be<L.length;be++)Q=L[be],Te=Ge+P(Q,be),_e+=Ce(Q,X,re,Te,ge);else if(be=A(L),typeof be=="function")for(L=be.call(L),be=0;!(Q=L.next()).done;)Q=Q.value,Te=Ge+P(Q,be++),_e+=Ce(Q,X,re,Te,ge);else if(Te==="object"){if(typeof L.then=="function")return Ce(we(L),X,re,Q,ge);throw X=String(L),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return _e}function z(L,X,re){if(L==null)return L;var Q=[],ge=0;return Ce(L,Q,"","",function(Te){return X.call(re,Te,ge++)}),Q}function ne(L){if(L._status===-1){var X=L._result;X=X(),X.then(function(re){(L._status===0||L._status===-1)&&(L._status=1,L._result=re)},function(re){(L._status===0||L._status===-1)&&(L._status=2,L._result=re)}),L._status===-1&&(L._status=0,L._result=X)}if(L._status===1)return L._result.default;throw L._result}var ue=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function de(){}return Xe.Children={map:z,forEach:function(L,X,re){z(L,function(){X.apply(this,arguments)},re)},count:function(L){var X=0;return z(L,function(){X++}),X},toArray:function(L){return z(L,function(X){return X})||[]},only:function(L){if(!S(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Xe.Component=N,Xe.Fragment=t,Xe.Profiler=s,Xe.PureComponent=$,Xe.StrictMode=i,Xe.Suspense=d,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return H.H.useMemoCache(L)}},Xe.cache=function(L){return function(){return L.apply(null,arguments)}},Xe.cloneElement=function(L,X,re){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Q=k({},L.props),ge=L.key,Te=void 0;if(X!=null)for(_e in X.ref!==void 0&&(Te=void 0),X.key!==void 0&&(ge=""+X.key),X)!J.call(X,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&X.ref===void 0||(Q[_e]=X[_e]);var _e=arguments.length-2;if(_e===1)Q.children=re;else if(1<_e){for(var Ge=Array(_e),be=0;be<_e;be++)Ge[be]=arguments[be+2];Q.children=Ge}return C(L.type,ge,void 0,void 0,Te,Q)},Xe.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Xe.createElement=function(L,X,re){var Q,ge={},Te=null;if(X!=null)for(Q in X.key!==void 0&&(Te=""+X.key),X)J.call(X,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ge[Q]=X[Q]);var _e=arguments.length-2;if(_e===1)ge.children=re;else if(1<_e){for(var Ge=Array(_e),be=0;be<_e;be++)Ge[be]=arguments[be+2];ge.children=Ge}if(L&&L.defaultProps)for(Q in _e=L.defaultProps,_e)ge[Q]===void 0&&(ge[Q]=_e[Q]);return C(L,Te,void 0,void 0,null,ge)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(L){return{$$typeof:m,render:L}},Xe.isValidElement=S,Xe.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ne}},Xe.memo=function(L,X){return{$$typeof:p,type:L,compare:X===void 0?null:X}},Xe.startTransition=function(L){var X=H.T,re={};H.T=re;try{var Q=L(),ge=H.S;ge!==null&&ge(re,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(de,ue)}catch(Te){ue(Te)}finally{H.T=X}},Xe.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Xe.use=function(L){return H.H.use(L)},Xe.useActionState=function(L,X,re){return H.H.useActionState(L,X,re)},Xe.useCallback=function(L,X){return H.H.useCallback(L,X)},Xe.useContext=function(L){return H.H.useContext(L)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(L,X){return H.H.useDeferredValue(L,X)},Xe.useEffect=function(L,X,re){var Q=H.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(L,X)},Xe.useId=function(){return H.H.useId()},Xe.useImperativeHandle=function(L,X,re){return H.H.useImperativeHandle(L,X,re)},Xe.useInsertionEffect=function(L,X){return H.H.useInsertionEffect(L,X)},Xe.useLayoutEffect=function(L,X){return H.H.useLayoutEffect(L,X)},Xe.useMemo=function(L,X){return H.H.useMemo(L,X)},Xe.useOptimistic=function(L,X){return H.H.useOptimistic(L,X)},Xe.useReducer=function(L,X,re){return H.H.useReducer(L,X,re)},Xe.useRef=function(L){return H.H.useRef(L)},Xe.useState=function(L){return H.H.useState(L)},Xe.useSyncExternalStore=function(L,X,re){return H.H.useSyncExternalStore(L,X,re)},Xe.useTransition=function(){return H.H.useTransition()},Xe.version="19.1.0",Xe}var IE;function Hv(){return IE||(IE=1,eg.exports=H2()),eg.exports}var U=Hv();const vd=Bv(U),jg=F2({__proto__:null,default:vd},[U]);var tg={exports:{}},Lu={},ng={exports:{}},rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function q2(){return OE||(OE=1,function(n){function e(z,ne){var ue=z.length;z.push(ne);e:for(;0<ue;){var de=ue-1>>>1,L=z[de];if(0<s(L,ne))z[de]=ne,z[ue]=L,ue=de;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var ne=z[0],ue=z.pop();if(ue!==ne){z[0]=ue;e:for(var de=0,L=z.length,X=L>>>1;de<X;){var re=2*(de+1)-1,Q=z[re],ge=re+1,Te=z[ge];if(0>s(Q,ue))ge<L&&0>s(Te,Q)?(z[de]=Te,z[ge]=ue,de=ge):(z[de]=Q,z[re]=ue,de=re);else if(ge<L&&0>s(Te,ue))z[de]=Te,z[ge]=ue,de=ge;else break e}}return ne}function s(z,ne){var ue=z.sortIndex-ne.sortIndex;return ue!==0?ue:z.id-ne.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var d=[],p=[],v=1,_=null,A=3,D=!1,k=!1,V=!1,N=!1,F=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ae(z){for(var ne=t(p);ne!==null;){if(ne.callback===null)i(p);else if(ne.startTime<=z)i(p),ne.sortIndex=ne.expirationTime,e(d,ne);else break;ne=t(p)}}function H(z){if(V=!1,ae(z),!k)if(t(d)!==null)k=!0,J||(J=!0,P());else{var ne=t(p);ne!==null&&Ce(H,ne.startTime-z)}}var J=!1,C=-1,E=5,S=-1;function R(){return N?!0:!(n.unstable_now()-S<E)}function M(){if(N=!1,J){var z=n.unstable_now();S=z;var ne=!0;try{e:{k=!1,V&&(V=!1,$(C),C=-1),D=!0;var ue=A;try{t:{for(ae(z),_=t(d);_!==null&&!(_.expirationTime>z&&R());){var de=_.callback;if(typeof de=="function"){_.callback=null,A=_.priorityLevel;var L=de(_.expirationTime<=z);if(z=n.unstable_now(),typeof L=="function"){_.callback=L,ae(z),ne=!0;break t}_===t(d)&&i(d),ae(z)}else i(d);_=t(d)}if(_!==null)ne=!0;else{var X=t(p);X!==null&&Ce(H,X.startTime-z),ne=!1}}break e}finally{_=null,A=ue,D=!1}ne=void 0}}finally{ne?P():J=!1}}}var P;if(typeof q=="function")P=function(){q(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,we=I.port2;I.port1.onmessage=M,P=function(){we.postMessage(null)}}else P=function(){F(M,0)};function Ce(z,ne){C=F(function(){z(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(z){switch(A){case 1:case 2:case 3:var ne=3;break;default:ne=A}var ue=A;A=ne;try{return z()}finally{A=ue}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(z,ne){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ue=A;A=z;try{return ne()}finally{A=ue}},n.unstable_scheduleCallback=function(z,ne,ue){var de=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?de+ue:de):ue=de,z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ue+L,z={id:v++,callback:ne,priorityLevel:z,startTime:ue,expirationTime:L,sortIndex:-1},ue>de?(z.sortIndex=ue,e(p,z),t(d)===null&&z===t(p)&&(V?($(C),C=-1):V=!0,Ce(H,ue-de))):(z.sortIndex=L,e(d,z),k||D||(k=!0,J||(J=!0,P()))),z},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(z){var ne=A;return function(){var ue=A;A=ne;try{return z.apply(this,arguments)}finally{A=ue}}}}(rg)),rg}var NE;function $2(){return NE||(NE=1,ng.exports=q2()),ng.exports}var ig={exports:{}},On={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function G2(){if(DE)return On;DE=1;var n=Hv();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(d,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:d,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,On.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,v)},On.flushSync=function(d){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=p,i.p=v,i.d.f()}},On.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},On.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},On.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var v=p.as,_=m(v,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:A,fetchPriority:D}):v==="script"&&i.d.X(d,{crossOrigin:_,integrity:A,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},On.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},On.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=m(v,p.crossOrigin);i.d.L(d,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},On.preloadModule=function(d,p){if(typeof d=="string")if(p){var v=m(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},On.requestFormReset=function(d){i.d.r(d)},On.unstable_batchedUpdates=function(d,p){return d(p)},On.useFormState=function(d,p,v){return c.H.useFormState(d,p,v)},On.useFormStatus=function(){return c.H.useHostTransitionStatus()},On.version="19.1.0",On}var PE;function BS(){if(PE)return ig.exports;PE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ig.exports=G2(),ig.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function Y2(){if(ME)return Lu;ME=1;var n=$2(),e=Hv(),t=BS();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(i(188))}function d(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return m(h),r;if(g===u)return m(h),a;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=g;else{for(var w=!1,x=h.child;x;){if(x===o){w=!0,o=h,u=g;break}if(x===u){w=!0,u=h,o=g;break}x=x.sibling}if(!w){for(x=g.child;x;){if(x===o){w=!0,o=g,u=h;break}if(x===u){w=!0,u=g,o=h;break}x=x.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function p(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=p(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function we(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case N:return"Profiler";case V:return"StrictMode";case H:return"Suspense";case J:return"SuspenseList";case S:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case q:return(r.displayName||"Context")+".Provider";case $:return(r._context.displayName||"Context")+".Consumer";case ae:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case C:return a=r.displayName||null,a!==null?a:we(r.type)||"Memo";case E:a=r._payload,r=r._init;try{return we(r(a))}catch{}}return null}var Ce=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},de=[],L=-1;function X(r){return{current:r}}function re(r){0>L||(r.current=de[L],de[L]=null,L--)}function Q(r,a){L++,de[L]=r.current,r.current=a}var ge=X(null),Te=X(null),_e=X(null),Ge=X(null);function be(r,a){switch(Q(_e,a),Q(Te,r),Q(ge,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?eE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=eE(a),r=tE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}re(ge),Q(ge,r)}function Fe(){re(ge),re(Te),re(_e)}function Qe(r){r.memoizedState!==null&&Q(Ge,r);var a=ge.current,o=tE(a,r.type);a!==o&&(Q(Te,r),Q(ge,o))}function Ie(r){Te.current===r&&(re(ge),re(Te)),Ge.current===r&&(re(Ge),Nu._currentValue=ue)}var lt=Object.prototype.hasOwnProperty,ut=n.unstable_scheduleCallback,Ke=n.unstable_cancelCallback,te=n.unstable_shouldYield,se=n.unstable_requestPaint,ve=n.unstable_now,me=n.unstable_getCurrentPriorityLevel,Re=n.unstable_ImmediatePriority,ct=n.unstable_UserBlockingPriority,He=n.unstable_NormalPriority,et=n.unstable_LowPriority,It=n.unstable_IdlePriority,We=n.log,Dt=n.unstable_setDisableYieldValue,Pe=null,Ee=null;function Ye(r){if(typeof We=="function"&&Dt(r),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(Pe,r)}catch{}}var nt=Math.clz32?Math.clz32:hn,Qn=Math.log,Vr=Math.LN2;function hn(r){return r>>>=0,r===0?32:31-(Qn(r)/Vr|0)|0}var Wn=256,Lr=4194304;function xr(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function lo(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,g=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var x=u&134217727;return x!==0?(u=x&~g,u!==0?h=xr(u):(w&=x,w!==0?h=xr(w):o||(o=x&~r,o!==0&&(h=xr(o))))):(x=u&~g,x!==0?h=xr(x):w!==0?h=xr(w):o||(o=u&~r,o!==0&&(h=xr(o)))),h===0?0:a!==0&&a!==h&&(a&g)===0&&(g=h&-h,o=a&-a,g>=o||g===32&&(o&4194048)!==0)?a:h}function cs(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Nl(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dl(){var r=Wn;return Wn<<=1,(Wn&4194048)===0&&(Wn=256),r}function Pl(){var r=Lr;return Lr<<=1,(Lr&62914560)===0&&(Lr=4194304),r}function _i(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function bi(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ml(r,a,o,u,h,g){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var x=r.entanglements,j=r.expirationTimes,W=r.hiddenUpdates;for(o=w&~o;0<o;){var oe=31-nt(o),ce=1<<oe;x[oe]=0,j[oe]=-1;var Z=W[oe];if(Z!==null)for(W[oe]=null,oe=0;oe<Z.length;oe++){var ee=Z[oe];ee!==null&&(ee.lane&=-536870913)}o&=~ce}u!==0&&jr(r,u,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(w&~a))}function jr(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-nt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function kl(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-nt(o),h=1<<u;h&a|r[u]&a&&(r[u]|=a),o&=~h}}function aa(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function uo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function sa(){var r=ne.p;return r!==0?r:(r=window.event,r===void 0?32:bE(r.type))}function jc(r,a){var o=ne.p;try{return ne.p=r,a()}finally{ne.p=o}}var kt=Math.random().toString(36).slice(2),an="__reactFiber$"+kt,Xt="__reactProps$"+kt,fr="__reactContainer$"+kt,Vl="__reactEvents$"+kt,nm="__reactListeners$"+kt,oa="__reactHandles$"+kt,Uc="__reactResources$"+kt,fs="__reactMarker$"+kt;function la(r){delete r[an],delete r[Xt],delete r[Vl],delete r[nm],delete r[oa]}function Ei(r){var a=r[an];if(a)return a;for(var o=r.parentNode;o;){if(a=o[fr]||o[an]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=aE(r);r!==null;){if(o=r[an])return o;r=aE(r)}return a}r=o,o=r.parentNode}return null}function Ur(r){if(r=r[an]||r[fr]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Fr(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function jn(r){var a=r[Uc];return a||(a=r[Uc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function $t(r){r[fs]=!0}var Ll=new Set,co={};function Rr(r,a){Ti(r,a),Ti(r+"Capture",a)}function Ti(r,a){for(co[r]=a,r=0;r<a.length;r++)Ll.add(a[r])}var Fc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},hs={};function Bc(r){return lt.call(hs,r)?!0:lt.call(zc,r)?!1:Fc.test(r)?hs[r]=!0:(zc[r]=!0,!1)}function ua(r,a,o){if(Bc(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function zr(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function bn(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}var ds,Hc;function Si(r){if(ds===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);ds=a&&a[1]||"",Hc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+r+Hc}var fo=!1;function ho(r,a){if(!r||fo)return"";fo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ee){var Z=ee}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(ee){Z=ee}r.call(ce.prototype)}}else{try{throw Error()}catch(ee){Z=ee}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ee){if(ee&&Z&&typeof ee.stack=="string")return[ee.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],x=g[1];if(w&&x){var j=w.split(`
`),W=x.split(`
`);for(h=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;h<W.length&&!W[h].includes("DetermineComponentFrameRoot");)h++;if(u===j.length||h===W.length)for(u=j.length-1,h=W.length-1;1<=u&&0<=h&&j[u]!==W[h];)h--;for(;1<=u&&0<=h;u--,h--)if(j[u]!==W[h]){if(u!==1||h!==1)do if(u--,h--,0>h||j[u]!==W[h]){var oe=`
`+j[u].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=u&&0<=h);break}}}finally{fo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Si(o):""}function jl(r){switch(r.tag){case 26:case 27:case 5:return Si(r.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return ho(r.type,!1);case 11:return ho(r.type.render,!1);case 1:return ho(r.type,!0);case 31:return Si("Activity");default:return""}}function mo(r){try{var a="";do a+=jl(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Un(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ul(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rm(r){var a=Ul(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return h.call(this)},set:function(w){u=""+w,g.call(this,w)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function po(r){r._valueTracker||(r._valueTracker=rm(r))}function Fl(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=Ul(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function ms(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var im=/[\n"\\]/g;function Qt(r){return r.replace(im,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Zn(r,a,o,u,h,g,w,x){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),a!=null?w==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Un(a)):r.value!==""+Un(a)&&(r.value=""+Un(a)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),a!=null?ca(r,w,Un(a)):o!=null?ca(r,w,Un(o)):u!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.name=""+Un(x):r.removeAttribute("name")}function ps(r,a,o,u,h,g,w,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;o=o!=null?""+Un(o):"",a=a!=null?""+Un(a):o,x||a===r.value||(r.value=a),r.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=x?r.checked:!!u,r.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function ca(r,a,o){a==="number"&&ms(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function wi(r,a,o,u){if(r=r.options,a){a={};for(var h=0;h<o.length;h++)a["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=a.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Un(o),a=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}a!==null||r[h].disabled||(a=r[h])}a!==null&&(a.selected=!0)}}function wt(r,a,o){if(a!=null&&(a=""+Un(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+Un(o):""}function gs(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(Ce(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=Un(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function hr(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qc(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||vs.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function zl(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&o[h]!==u&&qc(r,h,u)}else for(var g in a)a.hasOwnProperty(g)&&qc(r,g,a[g])}function Bl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var am=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function go(r){return sm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ai=null;function dr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var xi=null,Ri=null;function Hl(r){var a=Ur(r);if(a&&(r=a.stateNode)){var o=r[Xt]||null;e:switch(r=a.stateNode,a.type){case"input":if(Zn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Qt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var h=u[Xt]||null;if(!h)throw Error(i(90));Zn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&Fl(u)}break e;case"textarea":wt(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&wi(r,!!o.multiple,a,!1)}}}var Br=!1;function $c(r,a,o){if(Br)return r(a,o);Br=!0;try{var u=r(a);return u}finally{if(Br=!1,(xi!==null||Ri!==null)&&(Uf(),xi&&(a=xi,r=Ri,Ri=xi=null,Hl(a),r)))for(a=0;a<r.length;a++)Hl(r[a])}}function ys(r,a){var o=r.stateNode;if(o===null)return null;var u=o[Xt]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(Cr)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){mr=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{mr=!1}var Hr=null,fa=null,Ci=null;function ql(){if(Ci)return Ci;var r,a=fa,o=a.length,u,h="value"in Hr?Hr.value:Hr.textContent,g=h.length;for(r=0;r<o&&a[r]===h[r];r++);var w=o-r;for(u=1;u<=w&&a[o-u]===h[g-u];u++);return Ci=h.slice(r,1<u?1-u:void 0)}function qr(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function $r(){return!0}function $l(){return!1}function dn(r){function a(o,u,h,g,w){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var x in r)r.hasOwnProperty(x)&&(o=r[x],this[x]=o?o(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?$r:$l,this.isPropagationStopped=$l,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),a}var _t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=dn(_t),bs=v({},_t,{view:0,detail:0}),Gc=dn(bs),yo,_o,Gr,Es=v({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Gr&&(Gr&&r.type==="mousemove"?(yo=r.screenX-Gr.screenX,_o=r.screenY-Gr.screenY):_o=yo=0,Gr=r),yo)},movementY:function(r){return"movementY"in r?r.movementY:_o}}),pr=dn(Es),Yc=v({},Es,{dataTransfer:0}),om=dn(Yc),Ts=v({},bs,{relatedTarget:0}),bo=dn(Ts),Gl=v({},_t,{animationName:0,elapsedTime:0,pseudoElement:0}),Eo=dn(Gl),Kc=v({},_t,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),To=dn(Kc),lm=v({},_t,{data:0}),Yl=dn(lm),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kl(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Qc[r])?!!a[r]:!1}function ws(){return Kl}var Wc=v({},bs,{key:function(r){if(r.key){var a=Ss[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=qr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Xc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(r){return r.type==="keypress"?qr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?qr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),So=dn(Wc),Zc=v({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xl=dn(Zc),Ii=v({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),Jc=dn(Ii),ef=v({},_t,{propertyName:0,elapsedTime:0,pseudoElement:0}),tf=dn(ef),nf=v({},Es,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),wo=dn(nf),Fn=v({},_t,{newState:0,oldState:0}),rf=dn(Fn),af=[9,13,27,32],Yr=Cr&&"CompositionEvent"in window,f=null;Cr&&"documentMode"in document&&(f=document.documentMode);var y=Cr&&"TextEvent"in window&&!f,T=Cr&&(!Yr||f&&8<f&&11>=f),O=" ",Y=!1;function ie(r,a){switch(r){case"keyup":return af.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ft=!1;function sn(r,a){switch(r){case"compositionend":return ye(a);case"keypress":return a.which!==32?null:(Y=!0,O);case"textInput":return r=a.data,r===O&&Y?null:r;default:return null}}function ht(r,a){if(ft)return r==="compositionend"||!Yr&&ie(r,a)?(r=ql(),Ci=fa=Hr=null,ft=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!mn[r.type]:a==="textarea"}function Oi(r,a,o,u){xi?Ri?Ri.push(u):Ri=[u]:xi=u,a=$f(a,"onChange"),0<a.length&&(o=new vo("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var En=null,Kr=null;function Ql(r){Xb(r,0)}function sf(r){var a=Fr(r);if(Fl(a))return r}function g0(r,a){if(r==="change")return a}var v0=!1;if(Cr){var um;if(Cr){var cm="oninput"in document;if(!cm){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),cm=typeof y0.oninput=="function"}um=cm}else um=!1;v0=um&&(!document.documentMode||9<document.documentMode)}function _0(){En&&(En.detachEvent("onpropertychange",b0),Kr=En=null)}function b0(r){if(r.propertyName==="value"&&sf(Kr)){var a=[];Oi(a,Kr,r,dr(r)),$c(Ql,a)}}function gC(r,a,o){r==="focusin"?(_0(),En=a,Kr=o,En.attachEvent("onpropertychange",b0)):r==="focusout"&&_0()}function vC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return sf(Kr)}function yC(r,a){if(r==="click")return sf(a)}function _C(r,a){if(r==="input"||r==="change")return sf(a)}function bC(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Jn=typeof Object.is=="function"?Object.is:bC;function Wl(r,a){if(Jn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!lt.call(a,h)||!Jn(r[h],a[h]))return!1}return!0}function E0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function T0(r,a){var o=E0(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=E0(o)}}function S0(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?S0(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function w0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=ms(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=ms(r.document)}return a}function fm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var EC=Cr&&"documentMode"in document&&11>=document.documentMode,Ao=null,hm=null,Zl=null,dm=!1;function A0(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dm||Ao==null||Ao!==ms(u)||(u=Ao,"selectionStart"in u&&fm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Zl&&Wl(Zl,u)||(Zl=u,u=$f(hm,"onSelect"),0<u.length&&(a=new vo("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=Ao)))}function As(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var xo={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},mm={},x0={};Cr&&(x0=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function xs(r){if(mm[r])return mm[r];if(!xo[r])return r;var a=xo[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in x0)return mm[r]=a[o];return r}var R0=xs("animationend"),C0=xs("animationiteration"),I0=xs("animationstart"),TC=xs("transitionrun"),SC=xs("transitionstart"),wC=xs("transitioncancel"),O0=xs("transitionend"),N0=new Map,pm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pm.push("scrollEnd");function Ir(r,a){N0.set(r,a),Rr(a,[r])}var D0=new WeakMap;function gr(r,a){if(typeof r=="object"&&r!==null){var o=D0.get(r);return o!==void 0?o:(a={value:r,source:a,stack:mo(a)},D0.set(r,a),a)}return{value:r,source:a,stack:mo(a)}}var vr=[],Ro=0,gm=0;function of(){for(var r=Ro,a=gm=Ro=0;a<r;){var o=vr[a];vr[a++]=null;var u=vr[a];vr[a++]=null;var h=vr[a];vr[a++]=null;var g=vr[a];if(vr[a++]=null,u!==null&&h!==null){var w=u.pending;w===null?h.next=h:(h.next=w.next,w.next=h),u.pending=h}g!==0&&P0(o,h,g)}}function lf(r,a,o,u){vr[Ro++]=r,vr[Ro++]=a,vr[Ro++]=o,vr[Ro++]=u,gm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function vm(r,a,o,u){return lf(r,a,o,u),uf(r)}function Co(r,a){return lf(r,null,null,a),uf(r)}function P0(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,h&&a!==null&&(h=31-nt(o),r=g.hiddenUpdates,u=r[h],u===null?r[h]=[a]:u.push(a),a.lane=o|536870912),g):null}function uf(r){if(50<Su)throw Su=0,Sp=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Io={};function AC(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(r,a,o,u){return new AC(r,a,o,u)}function ym(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ni(r,a){var o=r.alternate;return o===null?(o=er(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function M0(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function cf(r,a,o,u,h,g){var w=0;if(u=r,typeof r=="function")ym(r)&&(w=1);else if(typeof r=="string")w=R2(r,o,ge.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case S:return r=er(31,o,a,h),r.elementType=S,r.lanes=g,r;case k:return Rs(o.children,h,g,a);case V:w=8,h|=24;break;case N:return r=er(12,o,a,h|2),r.elementType=N,r.lanes=g,r;case H:return r=er(13,o,a,h),r.elementType=H,r.lanes=g,r;case J:return r=er(19,o,a,h),r.elementType=J,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:case q:w=10;break e;case $:w=9;break e;case ae:w=11;break e;case C:w=14;break e;case E:w=16,u=null;break e}w=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=er(w,o,a,h),a.elementType=r,a.type=u,a.lanes=g,a}function Rs(r,a,o,u){return r=er(7,r,u,a),r.lanes=o,r}function _m(r,a,o){return r=er(6,r,null,a),r.lanes=o,r}function bm(r,a,o){return a=er(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Oo=[],No=0,ff=null,hf=0,yr=[],_r=0,Cs=null,Di=1,Pi="";function Is(r,a){Oo[No++]=hf,Oo[No++]=ff,ff=r,hf=a}function k0(r,a,o){yr[_r++]=Di,yr[_r++]=Pi,yr[_r++]=Cs,Cs=r;var u=Di;r=Pi;var h=32-nt(u)-1;u&=~(1<<h),o+=1;var g=32-nt(a)+h;if(30<g){var w=h-h%5;g=(u&(1<<w)-1).toString(32),u>>=w,h-=w,Di=1<<32-nt(a)+h|o<<h|u,Pi=g+r}else Di=1<<g|o<<h|u,Pi=r}function Em(r){r.return!==null&&(Is(r,1),k0(r,1,0))}function Tm(r){for(;r===ff;)ff=Oo[--No],Oo[No]=null,hf=Oo[--No],Oo[No]=null;for(;r===Cs;)Cs=yr[--_r],yr[_r]=null,Pi=yr[--_r],yr[_r]=null,Di=yr[--_r],yr[_r]=null}var zn=null,Ut=null,gt=!1,Os=null,Xr=!1,Sm=Error(i(519));function Ns(r){var a=Error(i(418,""));throw tu(gr(a,r)),Sm}function V0(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[an]=r,a[Xt]=u,o){case"dialog":it("cancel",a),it("close",a);break;case"iframe":case"object":case"embed":it("load",a);break;case"video":case"audio":for(o=0;o<Au.length;o++)it(Au[o],a);break;case"source":it("error",a);break;case"img":case"image":case"link":it("error",a),it("load",a);break;case"details":it("toggle",a);break;case"input":it("invalid",a),ps(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),po(a);break;case"select":it("invalid",a);break;case"textarea":it("invalid",a),gs(a,u.value,u.defaultValue,u.children),po(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||Jb(a.textContent,o)?(u.popover!=null&&(it("beforetoggle",a),it("toggle",a)),u.onScroll!=null&&it("scroll",a),u.onScrollEnd!=null&&it("scrollend",a),u.onClick!=null&&(a.onclick=Gf),a=!0):a=!1,a||Ns(r)}function L0(r){for(zn=r.return;zn;)switch(zn.tag){case 5:case 13:Xr=!1;return;case 27:case 3:Xr=!0;return;default:zn=zn.return}}function Jl(r){if(r!==zn)return!1;if(!gt)return L0(r),gt=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Up(r.type,r.memoizedProps)),o=!o),o&&Ut&&Ns(r),L0(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){Ut=Nr(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}Ut=null}}else a===27?(a=Ut,Ra(r.type)?(r=Hp,Hp=null,Ut=r):Ut=a):Ut=zn?Nr(r.stateNode.nextSibling):null;return!0}function eu(){Ut=zn=null,gt=!1}function j0(){var r=Os;return r!==null&&($n===null?$n=r:$n.push.apply($n,r),Os=null),r}function tu(r){Os===null?Os=[r]:Os.push(r)}var wm=X(null),Ds=null,Mi=null;function ha(r,a,o){Q(wm,a._currentValue),a._currentValue=o}function ki(r){r._currentValue=wm.current,re(wm)}function Am(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function xm(r,a,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var w=h.child;g=g.firstContext;e:for(;g!==null;){var x=g;g=h;for(var j=0;j<a.length;j++)if(x.context===a[j]){g.lanes|=o,x=g.alternate,x!==null&&(x.lanes|=o),Am(g.return,o,r),u||(w=null);break e}g=x.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(i(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),Am(w,o,r),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===r){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function nu(r,a,o,u){r=null;for(var h=a,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var x=h.type;Jn(h.pendingProps.value,w.value)||(r!==null?r.push(x):r=[x])}}else if(h===Ge.current){if(w=h.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Nu):r=[Nu])}h=h.return}r!==null&&xm(a,r,o,u),a.flags|=262144}function df(r){for(r=r.firstContext;r!==null;){if(!Jn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ps(r){Ds=r,Mi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function In(r){return U0(Ds,r)}function mf(r,a){return Ds===null&&Ps(r),U0(r,a)}function U0(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Mi===null){if(r===null)throw Error(i(308));Mi=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Mi=Mi.next=a;return o}var xC=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},RC=n.unstable_scheduleCallback,CC=n.unstable_NormalPriority,ln={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rm(){return{controller:new xC,data:new Map,refCount:0}}function ru(r){r.refCount--,r.refCount===0&&RC(CC,function(){r.controller.abort()})}var iu=null,Cm=0,Do=0,Po=null;function IC(r,a){if(iu===null){var o=iu=[];Cm=0,Do=Op(),Po={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Cm++,a.then(F0,F0),a}function F0(){if(--Cm===0&&iu!==null){Po!==null&&(Po.status="fulfilled");var r=iu;iu=null,Do=0,Po=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function OC(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<o.length;h++)(0,o[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var z0=z.S;z.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&IC(r,a),z0!==null&&z0(r,a)};var Ms=X(null);function Im(){var r=Ms.current;return r!==null?r:Ot.pooledCache}function pf(r,a){a===null?Q(Ms,Ms.current):Q(Ms,a.pool)}function B0(){var r=Im();return r===null?null:{parent:ln._currentValue,pool:r}}var au=Error(i(460)),H0=Error(i(474)),gf=Error(i(542)),Om={then:function(){}};function q0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function vf(){}function $0(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(vf,vf),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Y0(r),r;default:if(typeof a.status=="string")a.then(vf,vf);else{if(r=Ot,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Y0(r),r}throw su=a,au}}var su=null;function G0(){if(su===null)throw Error(i(459));var r=su;return su=null,r}function Y0(r){if(r===au||r===gf)throw Error(i(483))}var da=!1;function Nm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ma(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function pa(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Tt&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=uf(r),P0(r,null,o),a}return lf(r,u,a,o),uf(r)}function ou(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,kl(r,o)}}function Pm(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?h=g=a:g=g.next=a}else h=g=a;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var Mm=!1;function lu(){if(Mm){var r=Po;if(r!==null)throw r}}function uu(r,a,o,u){Mm=!1;var h=r.updateQueue;da=!1;var g=h.firstBaseUpdate,w=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var j=x,W=j.next;j.next=null,w===null?g=W:w.next=W,w=j;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,x=oe.lastBaseUpdate,x!==w&&(x===null?oe.firstBaseUpdate=W:x.next=W,oe.lastBaseUpdate=j))}if(g!==null){var ce=h.baseState;w=0,oe=W=j=null,x=g;do{var Z=x.lane&-536870913,ee=Z!==x.lane;if(ee?(dt&Z)===Z:(u&Z)===Z){Z!==0&&Z===Do&&(Mm=!0),oe!==null&&(oe=oe.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Be=r,Ve=x;Z=a;var Rt=o;switch(Ve.tag){case 1:if(Be=Ve.payload,typeof Be=="function"){ce=Be.call(Rt,ce,Z);break e}ce=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ve.payload,Z=typeof Be=="function"?Be.call(Rt,ce,Z):Be,Z==null)break e;ce=v({},ce,Z);break e;case 2:da=!0}}Z=x.callback,Z!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=h.callbacks,ee===null?h.callbacks=[Z]:ee.push(Z))}else ee={lane:Z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},oe===null?(W=oe=ee,j=ce):oe=oe.next=ee,w|=Z;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;ee=x,x=ee.next,ee.next=null,h.lastBaseUpdate=ee,h.shared.pending=null}}while(!0);oe===null&&(j=ce),h.baseState=j,h.firstBaseUpdate=W,h.lastBaseUpdate=oe,g===null&&(h.shared.lanes=0),Sa|=w,r.lanes=w,r.memoizedState=ce}}function K0(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function X0(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)K0(o[r],a)}var Mo=X(null),yf=X(0);function Q0(r,a){r=Bi,Q(yf,r),Q(Mo,a),Bi=r|a.baseLanes}function km(){Q(yf,Bi),Q(Mo,Mo.current)}function Vm(){Bi=yf.current,re(Mo),re(yf)}var ga=0,Ze=null,At=null,Wt=null,_f=!1,ko=!1,ks=!1,bf=0,cu=0,Vo=null,NC=0;function Gt(){throw Error(i(321))}function Lm(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!Jn(r[o],a[o]))return!1;return!0}function jm(r,a,o,u,h,g){return ga=g,Ze=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=r===null||r.memoizedState===null?P_:M_,ks=!1,g=o(u,h),ks=!1,ko&&(g=Z0(a,o,u,h)),W0(r),g}function W0(r){z.H=xf;var a=At!==null&&At.next!==null;if(ga=0,Wt=At=Ze=null,_f=!1,cu=0,Vo=null,a)throw Error(i(300));r===null||pn||(r=r.dependencies,r!==null&&df(r)&&(pn=!0))}function Z0(r,a,o,u){Ze=r;var h=0;do{if(ko&&(Vo=null),cu=0,ko=!1,25<=h)throw Error(i(301));if(h+=1,Wt=At=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}z.H=jC,g=a(o,u)}while(ko);return g}function DC(){var r=z.H,a=r.useState()[0];return a=typeof a.then=="function"?fu(a):a,r=r.useState()[0],(At!==null?At.memoizedState:null)!==r&&(Ze.flags|=1024),a}function Um(){var r=bf!==0;return bf=0,r}function Fm(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function zm(r){if(_f){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}_f=!1}ga=0,Wt=At=Ze=null,ko=!1,cu=bf=0,Vo=null}function Hn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Ze.memoizedState=Wt=r:Wt=Wt.next=r,Wt}function Zt(){if(At===null){var r=Ze.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var a=Wt===null?Ze.memoizedState:Wt.next;if(a!==null)Wt=a,At=r;else{if(r===null)throw Ze.alternate===null?Error(i(467)):Error(i(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Wt===null?Ze.memoizedState=Wt=r:Wt=Wt.next=r}return Wt}function Bm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fu(r){var a=cu;return cu+=1,Vo===null&&(Vo=[]),r=$0(Vo,r,a),a=Ze,(Wt===null?a.memoizedState:Wt.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?P_:M_),r}function Ef(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return fu(r);if(r.$$typeof===q)return In(r)}throw Error(i(438,String(r)))}function Hm(r){var a=null,o=Ze.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=Ze.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Bm(),Ze.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=R;return a.index++,o}function Vi(r,a){return typeof a=="function"?a(r):a}function Tf(r){var a=Zt();return qm(a,At,r)}function qm(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,g=u.pending;if(g!==null){if(h!==null){var w=h.next;h.next=g.next,g.next=w}a.baseQueue=h=g,u.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{a=h.next;var x=w=null,j=null,W=a,oe=!1;do{var ce=W.lane&-536870913;if(ce!==W.lane?(dt&ce)===ce:(ga&ce)===ce){var Z=W.revertLane;if(Z===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ce===Do&&(oe=!0);else if((ga&Z)===Z){W=W.next,Z===Do&&(oe=!0);continue}else ce={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(x=j=ce,w=g):j=j.next=ce,Ze.lanes|=Z,Sa|=Z;ce=W.action,ks&&o(g,ce),g=W.hasEagerState?W.eagerState:o(g,ce)}else Z={lane:ce,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(x=j=Z,w=g):j=j.next=Z,Ze.lanes|=ce,Sa|=ce;W=W.next}while(W!==null&&W!==a);if(j===null?w=g:j.next=x,!Jn(g,r.memoizedState)&&(pn=!0,oe&&(o=Po,o!==null)))throw o;r.memoizedState=g,r.baseState=w,r.baseQueue=j,u.lastRenderedState=g}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function $m(r){var a=Zt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,g=a.memoizedState;if(h!==null){o.pending=null;var w=h=h.next;do g=r(g,w.action),w=w.next;while(w!==h);Jn(g,a.memoizedState)||(pn=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,u]}function J0(r,a,o){var u=Ze,h=Zt(),g=gt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=a();var w=!Jn((At||h).memoizedState,o);w&&(h.memoizedState=o,pn=!0),h=h.queue;var x=n_.bind(null,u,h,r);if(hu(2048,8,x,[r]),h.getSnapshot!==a||w||Wt!==null&&Wt.memoizedState.tag&1){if(u.flags|=2048,Lo(9,Sf(),t_.bind(null,u,h,o,a),null),Ot===null)throw Error(i(349));g||(ga&124)!==0||e_(u,a,o)}return o}function e_(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Ze.updateQueue,a===null?(a=Bm(),Ze.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function t_(r,a,o,u){a.value=o,a.getSnapshot=u,r_(a)&&i_(r)}function n_(r,a,o){return o(function(){r_(a)&&i_(r)})}function r_(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!Jn(r,o)}catch{return!0}}function i_(r){var a=Co(r,2);a!==null&&ar(a,r,2)}function Gm(r){var a=Hn();if(typeof r=="function"){var o=r;if(r=o(),ks){Ye(!0);try{o()}finally{Ye(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:r},a}function a_(r,a,o,u){return r.baseState=o,qm(r,At,typeof u=="function"?u:Vi)}function PC(r,a,o,u,h){if(Af(r))throw Error(i(485));if(r=a.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};z.T!==null?o(!0):g.isTransition=!1,u(g),o=a.pending,o===null?(g.next=a.pending=g,s_(a,g)):(g.next=o.next,a.pending=o.next=g)}}function s_(r,a){var o=a.action,u=a.payload,h=r.state;if(a.isTransition){var g=z.T,w={};z.T=w;try{var x=o(h,u),j=z.S;j!==null&&j(w,x),o_(r,a,x)}catch(W){Ym(r,a,W)}finally{z.T=g}}else try{g=o(h,u),o_(r,a,g)}catch(W){Ym(r,a,W)}}function o_(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){l_(r,a,u)},function(u){return Ym(r,a,u)}):l_(r,a,o)}function l_(r,a,o){a.status="fulfilled",a.value=o,u_(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,s_(r,o)))}function Ym(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,u_(a),a=a.next;while(a!==u)}r.action=null}function u_(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function c_(r,a){return a}function f_(r,a){if(gt){var o=Ot.formState;if(o!==null){e:{var u=Ze;if(gt){if(Ut){t:{for(var h=Ut,g=Xr;h.nodeType!==8;){if(!g){h=null;break t}if(h=Nr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Ut=Nr(h.nextSibling),u=h.data==="F!";break e}}Ns(u)}u=!1}u&&(a=o[0])}}return o=Hn(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c_,lastRenderedState:a},o.queue=u,o=O_.bind(null,Ze,u),u.dispatch=o,u=Gm(!1),g=Zm.bind(null,Ze,!1,u.queue),u=Hn(),h={state:a,dispatch:null,action:r,pending:null},u.queue=h,o=PC.bind(null,Ze,h,g,o),h.dispatch=o,u.memoizedState=r,[a,o,!1]}function h_(r){var a=Zt();return d_(a,At,r)}function d_(r,a,o){if(a=qm(r,a,c_)[0],r=Tf(Vi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=fu(a)}catch(w){throw w===au?gf:w}else u=a;a=Zt();var h=a.queue,g=h.dispatch;return o!==a.memoizedState&&(Ze.flags|=2048,Lo(9,Sf(),MC.bind(null,h,o),null)),[u,g,r]}function MC(r,a){r.action=a}function m_(r){var a=Zt(),o=At;if(o!==null)return d_(a,o,r);Zt(),a=a.memoizedState,o=Zt();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function Lo(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=Ze.updateQueue,a===null&&(a=Bm(),Ze.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function Sf(){return{destroy:void 0,resource:void 0}}function p_(){return Zt().memoizedState}function wf(r,a,o,u){var h=Hn();u=u===void 0?null:u,Ze.flags|=r,h.memoizedState=Lo(1|a,Sf(),o,u)}function hu(r,a,o,u){var h=Zt();u=u===void 0?null:u;var g=h.memoizedState.inst;At!==null&&u!==null&&Lm(u,At.memoizedState.deps)?h.memoizedState=Lo(a,g,o,u):(Ze.flags|=r,h.memoizedState=Lo(1|a,g,o,u))}function g_(r,a){wf(8390656,8,r,a)}function v_(r,a){hu(2048,8,r,a)}function y_(r,a){return hu(4,2,r,a)}function __(r,a){return hu(4,4,r,a)}function b_(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function E_(r,a,o){o=o!=null?o.concat([r]):null,hu(4,4,b_.bind(null,a,r),o)}function Km(){}function T_(r,a){var o=Zt();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Lm(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function S_(r,a){var o=Zt();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Lm(a,u[1]))return u[0];if(u=r(),ks){Ye(!0);try{r()}finally{Ye(!1)}}return o.memoizedState=[u,a],u}function Xm(r,a,o){return o===void 0||(ga&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=xb(),Ze.lanes|=r,Sa|=r,o)}function w_(r,a,o,u){return Jn(o,a)?o:Mo.current!==null?(r=Xm(r,o,u),Jn(r,a)||(pn=!0),r):(ga&42)===0?(pn=!0,r.memoizedState=o):(r=xb(),Ze.lanes|=r,Sa|=r,a)}function A_(r,a,o,u,h){var g=ne.p;ne.p=g!==0&&8>g?g:8;var w=z.T,x={};z.T=x,Zm(r,!1,a,o);try{var j=h(),W=z.S;if(W!==null&&W(x,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var oe=OC(j,u);du(r,a,oe,ir(r))}else du(r,a,u,ir(r))}catch(ce){du(r,a,{then:function(){},status:"rejected",reason:ce},ir())}finally{ne.p=g,z.T=w}}function kC(){}function Qm(r,a,o,u){if(r.tag!==5)throw Error(i(476));var h=x_(r).queue;A_(r,h,a,ue,o===null?kC:function(){return R_(r),o(u)})}function x_(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:ue},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function R_(r){var a=x_(r).next.queue;du(r,a,{},ir())}function Wm(){return In(Nu)}function C_(){return Zt().memoizedState}function I_(){return Zt().memoizedState}function VC(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=ir();r=ma(o);var u=pa(a,r,o);u!==null&&(ar(u,a,o),ou(u,a,o)),a={cache:Rm()},r.payload=a;return}a=a.return}}function LC(r,a,o){var u=ir();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Af(r)?N_(a,o):(o=vm(r,a,o,u),o!==null&&(ar(o,r,u),D_(o,a,u)))}function O_(r,a,o){var u=ir();du(r,a,o,u)}function du(r,a,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Af(r))N_(a,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var w=a.lastRenderedState,x=g(w,o);if(h.hasEagerState=!0,h.eagerState=x,Jn(x,w))return lf(r,a,h,0),Ot===null&&of(),!1}catch{}finally{}if(o=vm(r,a,h,u),o!==null)return ar(o,r,u),D_(o,a,u),!0}return!1}function Zm(r,a,o,u){if(u={lane:2,revertLane:Op(),action:u,hasEagerState:!1,eagerState:null,next:null},Af(r)){if(a)throw Error(i(479))}else a=vm(r,o,u,2),a!==null&&ar(a,r,2)}function Af(r){var a=r.alternate;return r===Ze||a!==null&&a===Ze}function N_(r,a){ko=_f=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function D_(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,kl(r,o)}}var xf={readContext:In,use:Ef,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},P_={readContext:In,use:Ef,useCallback:function(r,a){return Hn().memoizedState=[r,a===void 0?null:a],r},useContext:In,useEffect:g_,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,wf(4194308,4,b_.bind(null,a,r),o)},useLayoutEffect:function(r,a){return wf(4194308,4,r,a)},useInsertionEffect:function(r,a){wf(4,2,r,a)},useMemo:function(r,a){var o=Hn();a=a===void 0?null:a;var u=r();if(ks){Ye(!0);try{r()}finally{Ye(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=Hn();if(o!==void 0){var h=o(a);if(ks){Ye(!0);try{o(a)}finally{Ye(!1)}}}else h=a;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=LC.bind(null,Ze,r),[u.memoizedState,r]},useRef:function(r){var a=Hn();return r={current:r},a.memoizedState=r},useState:function(r){r=Gm(r);var a=r.queue,o=O_.bind(null,Ze,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:Km,useDeferredValue:function(r,a){var o=Hn();return Xm(o,r,a)},useTransition:function(){var r=Gm(!1);return r=A_.bind(null,Ze,r.queue,!0,!1),Hn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=Ze,h=Hn();if(gt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Ot===null)throw Error(i(349));(dt&124)!==0||e_(u,a,o)}h.memoizedState=o;var g={value:o,getSnapshot:a};return h.queue=g,g_(n_.bind(null,u,g,r),[r]),u.flags|=2048,Lo(9,Sf(),t_.bind(null,u,g,o,a),null),o},useId:function(){var r=Hn(),a=Ot.identifierPrefix;if(gt){var o=Pi,u=Di;o=(u&~(1<<32-nt(u)-1)).toString(32)+o,a="«"+a+"R"+o,o=bf++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=NC++,a="«"+a+"r"+o.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:Wm,useFormState:f_,useActionState:f_,useOptimistic:function(r){var a=Hn();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Zm.bind(null,Ze,!0,o),o.dispatch=a,[r,a]},useMemoCache:Hm,useCacheRefresh:function(){return Hn().memoizedState=VC.bind(null,Ze)}},M_={readContext:In,use:Ef,useCallback:T_,useContext:In,useEffect:v_,useImperativeHandle:E_,useInsertionEffect:y_,useLayoutEffect:__,useMemo:S_,useReducer:Tf,useRef:p_,useState:function(){return Tf(Vi)},useDebugValue:Km,useDeferredValue:function(r,a){var o=Zt();return w_(o,At.memoizedState,r,a)},useTransition:function(){var r=Tf(Vi)[0],a=Zt().memoizedState;return[typeof r=="boolean"?r:fu(r),a]},useSyncExternalStore:J0,useId:C_,useHostTransitionStatus:Wm,useFormState:h_,useActionState:h_,useOptimistic:function(r,a){var o=Zt();return a_(o,At,r,a)},useMemoCache:Hm,useCacheRefresh:I_},jC={readContext:In,use:Ef,useCallback:T_,useContext:In,useEffect:v_,useImperativeHandle:E_,useInsertionEffect:y_,useLayoutEffect:__,useMemo:S_,useReducer:$m,useRef:p_,useState:function(){return $m(Vi)},useDebugValue:Km,useDeferredValue:function(r,a){var o=Zt();return At===null?Xm(o,r,a):w_(o,At.memoizedState,r,a)},useTransition:function(){var r=$m(Vi)[0],a=Zt().memoizedState;return[typeof r=="boolean"?r:fu(r),a]},useSyncExternalStore:J0,useId:C_,useHostTransitionStatus:Wm,useFormState:m_,useActionState:m_,useOptimistic:function(r,a){var o=Zt();return At!==null?a_(o,At,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Hm,useCacheRefresh:I_},jo=null,mu=0;function Rf(r){var a=mu;return mu+=1,jo===null&&(jo=[]),$0(jo,r,a)}function pu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Cf(r,a){throw a.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function k_(r){var a=r._init;return a(r._payload)}function V_(r){function a(G,B){if(r){var K=G.deletions;K===null?(G.deletions=[B],G.flags|=16):K.push(B)}}function o(G,B){if(!r)return null;for(;B!==null;)a(G,B),B=B.sibling;return null}function u(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function h(G,B){return G=Ni(G,B),G.index=0,G.sibling=null,G}function g(G,B,K){return G.index=K,r?(K=G.alternate,K!==null?(K=K.index,K<B?(G.flags|=67108866,B):K):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function w(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function x(G,B,K,le){return B===null||B.tag!==6?(B=_m(K,G.mode,le),B.return=G,B):(B=h(B,K),B.return=G,B)}function j(G,B,K,le){var Ae=K.type;return Ae===k?oe(G,B,K.props.children,le,K.key):B!==null&&(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===E&&k_(Ae)===B.type)?(B=h(B,K.props),pu(B,K),B.return=G,B):(B=cf(K.type,K.key,K.props,null,G.mode,le),pu(B,K),B.return=G,B)}function W(G,B,K,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=bm(K,G.mode,le),B.return=G,B):(B=h(B,K.children||[]),B.return=G,B)}function oe(G,B,K,le,Ae){return B===null||B.tag!==7?(B=Rs(K,G.mode,le,Ae),B.return=G,B):(B=h(B,K),B.return=G,B)}function ce(G,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=_m(""+B,G.mode,K),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return K=cf(B.type,B.key,B.props,null,G.mode,K),pu(K,B),K.return=G,K;case D:return B=bm(B,G.mode,K),B.return=G,B;case E:var le=B._init;return B=le(B._payload),ce(G,B,K)}if(Ce(B)||P(B))return B=Rs(B,G.mode,K,null),B.return=G,B;if(typeof B.then=="function")return ce(G,Rf(B),K);if(B.$$typeof===q)return ce(G,mf(G,B),K);Cf(G,B)}return null}function Z(G,B,K,le){var Ae=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ae!==null?null:x(G,B,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return K.key===Ae?j(G,B,K,le):null;case D:return K.key===Ae?W(G,B,K,le):null;case E:return Ae=K._init,K=Ae(K._payload),Z(G,B,K,le)}if(Ce(K)||P(K))return Ae!==null?null:oe(G,B,K,le,null);if(typeof K.then=="function")return Z(G,B,Rf(K),le);if(K.$$typeof===q)return Z(G,B,mf(G,K),le);Cf(G,K)}return null}function ee(G,B,K,le,Ae){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return G=G.get(K)||null,x(B,G,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case A:return G=G.get(le.key===null?K:le.key)||null,j(B,G,le,Ae);case D:return G=G.get(le.key===null?K:le.key)||null,W(B,G,le,Ae);case E:var tt=le._init;return le=tt(le._payload),ee(G,B,K,le,Ae)}if(Ce(le)||P(le))return G=G.get(K)||null,oe(B,G,le,Ae,null);if(typeof le.then=="function")return ee(G,B,K,Rf(le),Ae);if(le.$$typeof===q)return ee(G,B,K,mf(B,le),Ae);Cf(B,le)}return null}function Be(G,B,K,le){for(var Ae=null,tt=null,Ne=B,je=B=0,vn=null;Ne!==null&&je<K.length;je++){Ne.index>je?(vn=Ne,Ne=null):vn=Ne.sibling;var pt=Z(G,Ne,K[je],le);if(pt===null){Ne===null&&(Ne=vn);break}r&&Ne&&pt.alternate===null&&a(G,Ne),B=g(pt,B,je),tt===null?Ae=pt:tt.sibling=pt,tt=pt,Ne=vn}if(je===K.length)return o(G,Ne),gt&&Is(G,je),Ae;if(Ne===null){for(;je<K.length;je++)Ne=ce(G,K[je],le),Ne!==null&&(B=g(Ne,B,je),tt===null?Ae=Ne:tt.sibling=Ne,tt=Ne);return gt&&Is(G,je),Ae}for(Ne=u(Ne);je<K.length;je++)vn=ee(Ne,G,je,K[je],le),vn!==null&&(r&&vn.alternate!==null&&Ne.delete(vn.key===null?je:vn.key),B=g(vn,B,je),tt===null?Ae=vn:tt.sibling=vn,tt=vn);return r&&Ne.forEach(function(Da){return a(G,Da)}),gt&&Is(G,je),Ae}function Ve(G,B,K,le){if(K==null)throw Error(i(151));for(var Ae=null,tt=null,Ne=B,je=B=0,vn=null,pt=K.next();Ne!==null&&!pt.done;je++,pt=K.next()){Ne.index>je?(vn=Ne,Ne=null):vn=Ne.sibling;var Da=Z(G,Ne,pt.value,le);if(Da===null){Ne===null&&(Ne=vn);break}r&&Ne&&Da.alternate===null&&a(G,Ne),B=g(Da,B,je),tt===null?Ae=Da:tt.sibling=Da,tt=Da,Ne=vn}if(pt.done)return o(G,Ne),gt&&Is(G,je),Ae;if(Ne===null){for(;!pt.done;je++,pt=K.next())pt=ce(G,pt.value,le),pt!==null&&(B=g(pt,B,je),tt===null?Ae=pt:tt.sibling=pt,tt=pt);return gt&&Is(G,je),Ae}for(Ne=u(Ne);!pt.done;je++,pt=K.next())pt=ee(Ne,G,je,pt.value,le),pt!==null&&(r&&pt.alternate!==null&&Ne.delete(pt.key===null?je:pt.key),B=g(pt,B,je),tt===null?Ae=pt:tt.sibling=pt,tt=pt);return r&&Ne.forEach(function(U2){return a(G,U2)}),gt&&Is(G,je),Ae}function Rt(G,B,K,le){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case A:e:{for(var Ae=K.key;B!==null;){if(B.key===Ae){if(Ae=K.type,Ae===k){if(B.tag===7){o(G,B.sibling),le=h(B,K.props.children),le.return=G,G=le;break e}}else if(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===E&&k_(Ae)===B.type){o(G,B.sibling),le=h(B,K.props),pu(le,K),le.return=G,G=le;break e}o(G,B);break}else a(G,B);B=B.sibling}K.type===k?(le=Rs(K.props.children,G.mode,le,K.key),le.return=G,G=le):(le=cf(K.type,K.key,K.props,null,G.mode,le),pu(le,K),le.return=G,G=le)}return w(G);case D:e:{for(Ae=K.key;B!==null;){if(B.key===Ae)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){o(G,B.sibling),le=h(B,K.children||[]),le.return=G,G=le;break e}else{o(G,B);break}else a(G,B);B=B.sibling}le=bm(K,G.mode,le),le.return=G,G=le}return w(G);case E:return Ae=K._init,K=Ae(K._payload),Rt(G,B,K,le)}if(Ce(K))return Be(G,B,K,le);if(P(K)){if(Ae=P(K),typeof Ae!="function")throw Error(i(150));return K=Ae.call(K),Ve(G,B,K,le)}if(typeof K.then=="function")return Rt(G,B,Rf(K),le);if(K.$$typeof===q)return Rt(G,B,mf(G,K),le);Cf(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(o(G,B.sibling),le=h(B,K),le.return=G,G=le):(o(G,B),le=_m(K,G.mode,le),le.return=G,G=le),w(G)):o(G,B)}return function(G,B,K,le){try{mu=0;var Ae=Rt(G,B,K,le);return jo=null,Ae}catch(Ne){if(Ne===au||Ne===gf)throw Ne;var tt=er(29,Ne,null,G.mode);return tt.lanes=le,tt.return=G,tt}finally{}}}var Uo=V_(!0),L_=V_(!1),br=X(null),Qr=null;function va(r){var a=r.alternate;Q(un,un.current&1),Q(br,r),Qr===null&&(a===null||Mo.current!==null||a.memoizedState!==null)&&(Qr=r)}function j_(r){if(r.tag===22){if(Q(un,un.current),Q(br,r),Qr===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Qr=r)}}else ya()}function ya(){Q(un,un.current),Q(br,br.current)}function Li(r){re(br),Qr===r&&(Qr=null),re(un)}var un=X(0);function If(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Bp(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Jm(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:v({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var ep={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=ir(),h=ma(u);h.payload=a,o!=null&&(h.callback=o),a=pa(r,h,u),a!==null&&(ar(a,r,u),ou(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=ir(),h=ma(u);h.tag=1,h.payload=a,o!=null&&(h.callback=o),a=pa(r,h,u),a!==null&&(ar(a,r,u),ou(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=ir(),u=ma(o);u.tag=2,a!=null&&(u.callback=a),a=pa(r,u,o),a!==null&&(ar(a,r,o),ou(a,r,o))}};function U_(r,a,o,u,h,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,w):a.prototype&&a.prototype.isPureReactComponent?!Wl(o,u)||!Wl(h,g):!0}function F_(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&ep.enqueueReplaceState(a,a.state,null)}function Vs(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Of=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function z_(r){Of(r)}function B_(r){console.error(r)}function H_(r){Of(r)}function Nf(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function q_(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function tp(r,a,o){return o=ma(o),o.tag=3,o.payload={element:null},o.callback=function(){Nf(r,a)},o}function $_(r){return r=ma(r),r.tag=3,r}function G_(r,a,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;r.payload=function(){return h(g)},r.callback=function(){q_(a,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){q_(a,o,u),typeof h!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function UC(r,a,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&nu(a,o,h,!0),o=br.current,o!==null){switch(o.tag){case 13:return Qr===null?Ap():o.alternate===null&&Ft===0&&(Ft=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Om?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Rp(r,u,h)),!1;case 22:return o.flags|=65536,u===Om?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Rp(r,u,h)),!1}throw Error(i(435,o.tag))}return Rp(r,u,h),Ap(),!1}if(gt)return a=br.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==Sm&&(r=Error(i(422),{cause:u}),tu(gr(r,o)))):(u!==Sm&&(a=Error(i(423),{cause:u}),tu(gr(a,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=gr(u,o),h=tp(r.stateNode,u,h),Pm(r,h),Ft!==4&&(Ft=2)),!1;var g=Error(i(520),{cause:u});if(g=gr(g,o),Tu===null?Tu=[g]:Tu.push(g),Ft!==4&&(Ft=2),a===null)return!0;u=gr(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=tp(o.stateNode,u,r),Pm(o,r),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(wa===null||!wa.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=$_(h),G_(h,r,o,u),Pm(o,h),!1}o=o.return}while(o!==null);return!1}var Y_=Error(i(461)),pn=!1;function Tn(r,a,o,u){a.child=r===null?L_(a,null,o,u):Uo(a,r.child,o,u)}function K_(r,a,o,u,h){o=o.render;var g=a.ref;if("ref"in u){var w={};for(var x in u)x!=="ref"&&(w[x]=u[x])}else w=u;return Ps(a),u=jm(r,a,o,w,g,h),x=Um(),r!==null&&!pn?(Fm(r,a,h),ji(r,a,h)):(gt&&x&&Em(a),a.flags|=1,Tn(r,a,u,h),a.child)}function X_(r,a,o,u,h){if(r===null){var g=o.type;return typeof g=="function"&&!ym(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,Q_(r,a,g,u,h)):(r=cf(o.type,null,u,a,a.mode,h),r.ref=a.ref,r.return=a,a.child=r)}if(g=r.child,!up(r,h)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:Wl,o(w,u)&&r.ref===a.ref)return ji(r,a,h)}return a.flags|=1,r=Ni(g,u),r.ref=a.ref,r.return=a,a.child=r}function Q_(r,a,o,u,h){if(r!==null){var g=r.memoizedProps;if(Wl(g,u)&&r.ref===a.ref)if(pn=!1,a.pendingProps=u=g,up(r,h))(r.flags&131072)!==0&&(pn=!0);else return a.lanes=r.lanes,ji(r,a,h)}return np(r,a,o,u,h)}function W_(r,a,o){var u=a.pendingProps,h=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(h=a.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;a.childLanes=g&~u}else a.childLanes=0,a.child=null;return Z_(r,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&pf(a,g!==null?g.cachePool:null),g!==null?Q0(a,g):km(),j_(a);else return a.lanes=a.childLanes=536870912,Z_(r,a,g!==null?g.baseLanes|o:o,o)}else g!==null?(pf(a,g.cachePool),Q0(a,g),ya(),a.memoizedState=null):(r!==null&&pf(a,null),km(),ya());return Tn(r,a,h,o),a.child}function Z_(r,a,o,u){var h=Im();return h=h===null?null:{parent:ln._currentValue,pool:h},a.memoizedState={baseLanes:o,cachePool:h},r!==null&&pf(a,null),km(),j_(a),r!==null&&nu(r,a,u,!0),null}function Df(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function np(r,a,o,u,h){return Ps(a),o=jm(r,a,o,u,void 0,h),u=Um(),r!==null&&!pn?(Fm(r,a,h),ji(r,a,h)):(gt&&u&&Em(a),a.flags|=1,Tn(r,a,o,h),a.child)}function J_(r,a,o,u,h,g){return Ps(a),a.updateQueue=null,o=Z0(a,u,o,h),W0(r),u=Um(),r!==null&&!pn?(Fm(r,a,g),ji(r,a,g)):(gt&&u&&Em(a),a.flags|=1,Tn(r,a,o,g),a.child)}function eb(r,a,o,u,h){if(Ps(a),a.stateNode===null){var g=Io,w=o.contextType;typeof w=="object"&&w!==null&&(g=In(w)),g=new o(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ep,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},Nm(a),w=o.contextType,g.context=typeof w=="object"&&w!==null?In(w):Io,g.state=a.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Jm(a,o,w,u),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&ep.enqueueReplaceState(g,g.state,null),uu(a,u,g,h),lu(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){g=a.stateNode;var x=a.memoizedProps,j=Vs(o,x);g.props=j;var W=g.context,oe=o.contextType;w=Io,typeof oe=="object"&&oe!==null&&(w=In(oe));var ce=o.getDerivedStateFromProps;oe=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=a.pendingProps!==x,oe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||W!==w)&&F_(a,g,u,w),da=!1;var Z=a.memoizedState;g.state=Z,uu(a,u,g,h),lu(),W=a.memoizedState,x||Z!==W||da?(typeof ce=="function"&&(Jm(a,o,ce,u),W=a.memoizedState),(j=da||U_(a,o,j,u,Z,W,w))?(oe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=W),g.props=u,g.state=W,g.context=w,u=j):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,Dm(r,a),w=a.memoizedProps,oe=Vs(o,w),g.props=oe,ce=a.pendingProps,Z=g.context,W=o.contextType,j=Io,typeof W=="object"&&W!==null&&(j=In(W)),x=o.getDerivedStateFromProps,(W=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ce||Z!==j)&&F_(a,g,u,j),da=!1,Z=a.memoizedState,g.state=Z,uu(a,u,g,h),lu();var ee=a.memoizedState;w!==ce||Z!==ee||da||r!==null&&r.dependencies!==null&&df(r.dependencies)?(typeof x=="function"&&(Jm(a,o,x,u),ee=a.memoizedState),(oe=da||U_(a,o,oe,u,Z,ee,j)||r!==null&&r.dependencies!==null&&df(r.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ee,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ee,j)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=ee),g.props=u,g.state=ee,g.context=j,u=oe):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),u=!1)}return g=u,Df(r,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,r!==null&&u?(a.child=Uo(a,r.child,null,h),a.child=Uo(a,null,o,h)):Tn(r,a,o,h),a.memoizedState=g.state,r=a.child):r=ji(r,a,h),r}function tb(r,a,o,u){return eu(),a.flags|=256,Tn(r,a,o,u),a.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ip(r){return{baseLanes:r,cachePool:B0()}}function ap(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=Er),r}function nb(r,a,o){var u=a.pendingProps,h=!1,g=(a.flags&128)!==0,w;if((w=g)||(w=r!==null&&r.memoizedState===null?!1:(un.current&2)!==0),w&&(h=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,r===null){if(gt){if(h?va(a):ya(),gt){var x=Ut,j;if(j=x){e:{for(j=x,x=Xr;j.nodeType!==8;){if(!x){x=null;break e}if(j=Nr(j.nextSibling),j===null){x=null;break e}}x=j}x!==null?(a.memoizedState={dehydrated:x,treeContext:Cs!==null?{id:Di,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},j=er(18,null,null,0),j.stateNode=x,j.return=a,a.child=j,zn=a,Ut=null,j=!0):j=!1}j||Ns(a)}if(x=a.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Bp(x)?a.lanes=32:a.lanes=536870912,null;Li(a)}return x=u.children,u=u.fallback,h?(ya(),h=a.mode,x=Pf({mode:"hidden",children:x},h),u=Rs(u,h,o,null),x.return=a,u.return=a,x.sibling=u,a.child=x,h=a.child,h.memoizedState=ip(o),h.childLanes=ap(r,w,o),a.memoizedState=rp,u):(va(a),sp(a,x))}if(j=r.memoizedState,j!==null&&(x=j.dehydrated,x!==null)){if(g)a.flags&256?(va(a),a.flags&=-257,a=op(r,a,o)):a.memoizedState!==null?(ya(),a.child=r.child,a.flags|=128,a=null):(ya(),h=u.fallback,x=a.mode,u=Pf({mode:"visible",children:u.children},x),h=Rs(h,x,o,null),h.flags|=2,u.return=a,h.return=a,u.sibling=h,a.child=u,Uo(a,r.child,null,o),u=a.child,u.memoizedState=ip(o),u.childLanes=ap(r,w,o),a.memoizedState=rp,a=h);else if(va(a),Bp(x)){if(w=x.nextSibling&&x.nextSibling.dataset,w)var W=w.dgst;w=W,u=Error(i(419)),u.stack="",u.digest=w,tu({value:u,source:null,stack:null}),a=op(r,a,o)}else if(pn||nu(r,a,o,!1),w=(o&r.childLanes)!==0,pn||w){if(w=Ot,w!==null&&(u=o&-o,u=(u&42)!==0?1:aa(u),u=(u&(w.suspendedLanes|o))!==0?0:u,u!==0&&u!==j.retryLane))throw j.retryLane=u,Co(r,u),ar(w,r,u),Y_;x.data==="$?"||Ap(),a=op(r,a,o)}else x.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=j.treeContext,Ut=Nr(x.nextSibling),zn=a,gt=!0,Os=null,Xr=!1,r!==null&&(yr[_r++]=Di,yr[_r++]=Pi,yr[_r++]=Cs,Di=r.id,Pi=r.overflow,Cs=a),a=sp(a,u.children),a.flags|=4096);return a}return h?(ya(),h=u.fallback,x=a.mode,j=r.child,W=j.sibling,u=Ni(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,W!==null?h=Ni(W,h):(h=Rs(h,x,o,null),h.flags|=2),h.return=a,u.return=a,u.sibling=h,a.child=u,u=h,h=a.child,x=r.child.memoizedState,x===null?x=ip(o):(j=x.cachePool,j!==null?(W=ln._currentValue,j=j.parent!==W?{parent:W,pool:W}:j):j=B0(),x={baseLanes:x.baseLanes|o,cachePool:j}),h.memoizedState=x,h.childLanes=ap(r,w,o),a.memoizedState=rp,u):(va(a),o=r.child,r=o.sibling,o=Ni(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(w=a.deletions,w===null?(a.deletions=[r],a.flags|=16):w.push(r)),a.child=o,a.memoizedState=null,o)}function sp(r,a){return a=Pf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Pf(r,a){return r=er(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function op(r,a,o){return Uo(a,r.child,null,o),r=sp(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function rb(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Am(r.return,a,o)}function lp(r,a,o,u,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=h)}function ib(r,a,o){var u=a.pendingProps,h=u.revealOrder,g=u.tail;if(Tn(r,a,u.children,o),u=un.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&rb(r,o,a);else if(r.tag===19)rb(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Q(un,u),h){case"forwards":for(o=a.child,h=null;o!==null;)r=o.alternate,r!==null&&If(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=a.child,a.child=null):(h=o.sibling,o.sibling=null),lp(a,!1,h,o,g);break;case"backwards":for(o=null,h=a.child,a.child=null;h!==null;){if(r=h.alternate,r!==null&&If(r)===null){a.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}lp(a,!0,o,null,g);break;case"together":lp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ji(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),Sa|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(nu(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=Ni(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=Ni(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function up(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&df(r)))}function FC(r,a,o){switch(a.tag){case 3:be(a,a.stateNode.containerInfo),ha(a,ln,r.memoizedState.cache),eu();break;case 27:case 5:Qe(a);break;case 4:be(a,a.stateNode.containerInfo);break;case 10:ha(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(va(a),a.flags|=128,null):(o&a.child.childLanes)!==0?nb(r,a,o):(va(a),r=ji(r,a,o),r!==null?r.sibling:null);va(a);break;case 19:var h=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(nu(r,a,o,!1),u=(o&a.childLanes)!==0),h){if(u)return ib(r,a,o);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q(un,un.current),u)break;return null;case 22:case 23:return a.lanes=0,W_(r,a,o);case 24:ha(a,ln,r.memoizedState.cache)}return ji(r,a,o)}function ab(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)pn=!0;else{if(!up(r,o)&&(a.flags&128)===0)return pn=!1,FC(r,a,o);pn=(r.flags&131072)!==0}else pn=!1,gt&&(a.flags&1048576)!==0&&k0(a,hf,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,h=u._init;if(u=h(u._payload),a.type=u,typeof u=="function")ym(u)?(r=Vs(u,r),a.tag=1,a=eb(null,a,u,r,o)):(a.tag=0,a=np(null,a,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===ae){a.tag=11,a=K_(null,a,u,r,o);break e}else if(h===C){a.tag=14,a=X_(null,a,u,r,o);break e}}throw a=we(u)||u,Error(i(306,a,""))}}return a;case 0:return np(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,h=Vs(u,a.pendingProps),eb(r,a,u,h,o);case 3:e:{if(be(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var g=a.memoizedState;h=g.element,Dm(r,a),uu(a,u,null,o);var w=a.memoizedState;if(u=w.cache,ha(a,ln,u),u!==g.cache&&xm(a,[ln],o,!0),lu(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=tb(r,a,u,o);break e}else if(u!==h){h=gr(Error(i(424)),a),tu(h),a=tb(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ut=Nr(r.firstChild),zn=a,gt=!0,Os=null,Xr=!0,o=L_(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(eu(),u===h){a=ji(r,a,o);break e}Tn(r,a,u,o)}a=a.child}return a;case 26:return Df(r,a),r===null?(o=uE(a.type,null,a.pendingProps,null))?a.memoizedState=o:gt||(o=a.type,r=a.pendingProps,u=Yf(_e.current).createElement(o),u[an]=a,u[Xt]=r,wn(u,o,r),$t(u),a.stateNode=u):a.memoizedState=uE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Qe(a),r===null&&gt&&(u=a.stateNode=sE(a.type,a.pendingProps,_e.current),zn=a,Xr=!0,h=Ut,Ra(a.type)?(Hp=h,Ut=Nr(u.firstChild)):Ut=h),Tn(r,a,a.pendingProps.children,o),Df(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&gt&&((h=u=Ut)&&(u=m2(u,a.type,a.pendingProps,Xr),u!==null?(a.stateNode=u,zn=a,Ut=Nr(u.firstChild),Xr=!1,h=!0):h=!1),h||Ns(a)),Qe(a),h=a.type,g=a.pendingProps,w=r!==null?r.memoizedProps:null,u=g.children,Up(h,g)?u=null:w!==null&&Up(h,w)&&(a.flags|=32),a.memoizedState!==null&&(h=jm(r,a,DC,null,null,o),Nu._currentValue=h),Df(r,a),Tn(r,a,u,o),a.child;case 6:return r===null&&gt&&((r=o=Ut)&&(o=p2(o,a.pendingProps,Xr),o!==null?(a.stateNode=o,zn=a,Ut=null,r=!0):r=!1),r||Ns(a)),null;case 13:return nb(r,a,o);case 4:return be(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=Uo(a,null,u,o):Tn(r,a,u,o),a.child;case 11:return K_(r,a,a.type,a.pendingProps,o);case 7:return Tn(r,a,a.pendingProps,o),a.child;case 8:return Tn(r,a,a.pendingProps.children,o),a.child;case 12:return Tn(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,ha(a,a.type,u.value),Tn(r,a,u.children,o),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,Ps(a),h=In(h),u=u(h),a.flags|=1,Tn(r,a,u,o),a.child;case 14:return X_(r,a,a.type,a.pendingProps,o);case 15:return Q_(r,a,a.type,a.pendingProps,o);case 19:return ib(r,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},r===null?(o=Pf(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=Ni(r.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return W_(r,a,o);case 24:return Ps(a),u=In(ln),r===null?(h=Im(),h===null&&(h=Ot,g=Rm(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),a.memoizedState={parent:u,cache:h},Nm(a),ha(a,ln,h)):((r.lanes&o)!==0&&(Dm(r,a),uu(a,null,null,o),lu()),h=r.memoizedState,g=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),ha(a,ln,u)):(u=g.cache,ha(a,ln,u),u!==h.cache&&xm(a,[ln],o,!0))),Tn(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ui(r){r.flags|=4}function sb(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!mE(a)){if(a=br.current,a!==null&&((dt&4194048)===dt?Qr!==null:(dt&62914560)!==dt&&(dt&536870912)===0||a!==Qr))throw su=Om,H0;r.flags|=8192}}function Mf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Pl():536870912,r.lanes|=a,Ho|=a)}function gu(r,a){if(!gt)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Lt(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function zC(r,a,o){var u=a.pendingProps;switch(Tm(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(a),null;case 1:return Lt(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ki(ln),Fe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Jl(a)?Ui(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,j0())),Lt(a),null;case 26:return o=a.memoizedState,r===null?(Ui(a),o!==null?(Lt(a),sb(a,o)):(Lt(a),a.flags&=-16777217)):o?o!==r.memoizedState?(Ui(a),Lt(a),sb(a,o)):(Lt(a),a.flags&=-16777217):(r.memoizedProps!==u&&Ui(a),Lt(a),a.flags&=-16777217),null;case 27:Ie(a),o=_e.current;var h=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Ui(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Lt(a),null}r=ge.current,Jl(a)?V0(a):(r=sE(h,u,o),a.stateNode=r,Ui(a))}return Lt(a),null;case 5:if(Ie(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Ui(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Lt(a),null}if(r=ge.current,Jl(a))V0(a);else{switch(h=Yf(_e.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[an]=a,r[Xt]=u;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=r;e:switch(wn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ui(a)}}return Lt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&Ui(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=_e.current,Jl(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,h=zn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[an]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Jb(r.nodeValue,o)),r||Ns(a)}else r=Yf(r).createTextNode(u),r[an]=a,a.stateNode=r}return Lt(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Jl(a),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[an]=a}else eu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Lt(a),h=!1}else h=j0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Li(a),a):(Li(a),null)}if(Li(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),Mf(a,a.updateQueue),Lt(a),null;case 4:return Fe(),r===null&&Mp(a.stateNode.containerInfo),Lt(a),null;case 10:return ki(a.type),Lt(a),null;case 19:if(re(un),h=a.memoizedState,h===null)return Lt(a),null;if(u=(a.flags&128)!==0,g=h.rendering,g===null)if(u)gu(h,!1);else{if(Ft!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(g=If(r),g!==null){for(a.flags|=128,gu(h,!1),r=g.updateQueue,a.updateQueue=r,Mf(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)M0(o,r),o=o.sibling;return Q(un,un.current&1|2),a.child}r=r.sibling}h.tail!==null&&ve()>Lf&&(a.flags|=128,u=!0,gu(h,!1),a.lanes=4194304)}else{if(!u)if(r=If(g),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,Mf(a,r),gu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!gt)return Lt(a),null}else 2*ve()-h.renderingStartTime>Lf&&o!==536870912&&(a.flags|=128,u=!0,gu(h,!1),a.lanes=4194304);h.isBackwards?(g.sibling=a.child,a.child=g):(r=h.last,r!==null?r.sibling=g:a.child=g,h.last=g)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=ve(),a.sibling=null,r=un.current,Q(un,u?r&1|2:r&1),a):(Lt(a),null);case 22:case 23:return Li(a),Vm(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(Lt(a),a.subtreeFlags&6&&(a.flags|=8192)):Lt(a),o=a.updateQueue,o!==null&&Mf(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&re(Ms),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),ki(ln),Lt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function BC(r,a){switch(Tm(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return ki(ln),Fe(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ie(a),null;case 13:if(Li(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));eu()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return re(un),null;case 4:return Fe(),null;case 10:return ki(a.type),null;case 22:case 23:return Li(a),Vm(),r!==null&&re(Ms),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return ki(ln),null;case 25:return null;default:return null}}function ob(r,a){switch(Tm(a),a.tag){case 3:ki(ln),Fe();break;case 26:case 27:case 5:Ie(a);break;case 4:Fe();break;case 13:Li(a);break;case 19:re(un);break;case 10:ki(a.type);break;case 22:case 23:Li(a),Vm(),r!==null&&re(Ms);break;case 24:ki(ln)}}function vu(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var g=o.create,w=o.inst;u=g(),w.destroy=u}o=o.next}while(o!==h)}}catch(x){Ct(a,a.return,x)}}function _a(r,a,o){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&r)===r){var w=u.inst,x=w.destroy;if(x!==void 0){w.destroy=void 0,h=a;var j=o,W=x;try{W()}catch(oe){Ct(h,j,oe)}}}u=u.next}while(u!==g)}}catch(oe){Ct(a,a.return,oe)}}function lb(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{X0(a,o)}catch(u){Ct(r,r.return,u)}}}function ub(r,a,o){o.props=Vs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Ct(r,a,u)}}function yu(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){Ct(r,a,h)}}function Wr(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){Ct(r,a,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Ct(r,a,h)}else o.current=null}function cb(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){Ct(r,r.return,h)}}function cp(r,a,o){try{var u=r.stateNode;u2(u,r.type,o,a),u[Xt]=a}catch(h){Ct(r,r.return,h)}}function fb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ra(r.type)||r.tag===4}function fp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||fb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ra(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hp(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Gf));else if(u!==4&&(u===27&&Ra(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(hp(r,a,o),r=r.sibling;r!==null;)hp(r,a,o),r=r.sibling}function kf(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&Ra(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(kf(r,a,o),r=r.sibling;r!==null;)kf(r,a,o),r=r.sibling}function hb(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);wn(a,u,o),a[an]=r,a[Xt]=o}catch(g){Ct(r,r.return,g)}}var Fi=!1,Yt=!1,dp=!1,db=typeof WeakSet=="function"?WeakSet:Set,gn=null;function HC(r,a){if(r=r.containerInfo,Lp=Jf,r=w0(r),fm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,x=-1,j=-1,W=0,oe=0,ce=r,Z=null;t:for(;;){for(var ee;ce!==o||h!==0&&ce.nodeType!==3||(x=w+h),ce!==g||u!==0&&ce.nodeType!==3||(j=w+u),ce.nodeType===3&&(w+=ce.nodeValue.length),(ee=ce.firstChild)!==null;)Z=ce,ce=ee;for(;;){if(ce===r)break t;if(Z===o&&++W===h&&(x=w),Z===g&&++oe===u&&(j=w),(ee=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=ee}o=x===-1||j===-1?null:{start:x,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(jp={focusedElem:r,selectionRange:o},Jf=!1,gn=a;gn!==null;)if(a=gn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,gn=r;else for(;gn!==null;){switch(a=gn,g=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=a,h=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Be=Vs(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Be,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ve){Ct(o,o.return,Ve)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)zp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":zp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,gn=r;break}gn=a.return}}function mb(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ba(r,o),u&4&&vu(5,o);break;case 1:if(ba(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(w){Ct(o,o.return,w)}else{var h=Vs(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(h,a,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Ct(o,o.return,w)}}u&64&&lb(o),u&512&&yu(o,o.return);break;case 3:if(ba(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{X0(r,a)}catch(w){Ct(o,o.return,w)}}break;case 27:a===null&&u&4&&hb(o);case 26:case 5:ba(r,o),a===null&&u&4&&cb(o),u&512&&yu(o,o.return);break;case 12:ba(r,o);break;case 13:ba(r,o),u&4&&vb(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=ZC.bind(null,o),g2(r,o))));break;case 22:if(u=o.memoizedState!==null||Fi,!u){a=a!==null&&a.memoizedState!==null||Yt,h=Fi;var g=Yt;Fi=u,(Yt=a)&&!g?Ea(r,o,(o.subtreeFlags&8772)!==0):ba(r,o),Fi=h,Yt=g}break;case 30:break;default:ba(r,o)}}function pb(r){var a=r.alternate;a!==null&&(r.alternate=null,pb(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&la(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Vt=null,qn=!1;function zi(r,a,o){for(o=o.child;o!==null;)gb(r,a,o),o=o.sibling}function gb(r,a,o){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(Pe,o)}catch{}switch(o.tag){case 26:Yt||Wr(o,a),zi(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Yt||Wr(o,a);var u=Vt,h=qn;Ra(o.type)&&(Vt=o.stateNode,qn=!1),zi(r,a,o),Ru(o.stateNode),Vt=u,qn=h;break;case 5:Yt||Wr(o,a);case 6:if(u=Vt,h=qn,Vt=null,zi(r,a,o),Vt=u,qn=h,Vt!==null)if(qn)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(o.stateNode)}catch(g){Ct(o,a,g)}else try{Vt.removeChild(o.stateNode)}catch(g){Ct(o,a,g)}break;case 18:Vt!==null&&(qn?(r=Vt,iE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),ku(r)):iE(Vt,o.stateNode));break;case 4:u=Vt,h=qn,Vt=o.stateNode.containerInfo,qn=!0,zi(r,a,o),Vt=u,qn=h;break;case 0:case 11:case 14:case 15:Yt||_a(2,o,a),Yt||_a(4,o,a),zi(r,a,o);break;case 1:Yt||(Wr(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ub(o,a,u)),zi(r,a,o);break;case 21:zi(r,a,o);break;case 22:Yt=(u=Yt)||o.memoizedState!==null,zi(r,a,o),Yt=u;break;default:zi(r,a,o)}}function vb(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ku(r)}catch(o){Ct(a,a.return,o)}}function qC(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new db),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new db),a;default:throw Error(i(435,r.tag))}}function mp(r,a){var o=qC(r);a.forEach(function(u){var h=JC.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function tr(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],g=r,w=a,x=w;e:for(;x!==null;){switch(x.tag){case 27:if(Ra(x.type)){Vt=x.stateNode,qn=!1;break e}break;case 5:Vt=x.stateNode,qn=!1;break e;case 3:case 4:Vt=x.stateNode.containerInfo,qn=!0;break e}x=x.return}if(Vt===null)throw Error(i(160));gb(g,w,h),Vt=null,qn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)yb(a,r),a=a.sibling}var Or=null;function yb(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:tr(a,r),nr(r),u&4&&(_a(3,r,r.return),vu(3,r),_a(5,r,r.return));break;case 1:tr(a,r),nr(r),u&512&&(Yt||o===null||Wr(o,o.return)),u&64&&Fi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Or;if(tr(a,r),nr(r),u&512&&(Yt||o===null||Wr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[fs]||g[an]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),wn(g,u,o),g[an]=r,$t(g),u=g;break e;case"link":var w=hE("link","href",h).get(u+(o.href||""));if(w){for(var x=0;x<w.length;x++)if(g=w[x],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(x,1);break t}}g=h.createElement(u),wn(g,u,o),h.head.appendChild(g);break;case"meta":if(w=hE("meta","content",h).get(u+(o.content||""))){for(x=0;x<w.length;x++)if(g=w[x],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(x,1);break t}}g=h.createElement(u),wn(g,u,o),h.head.appendChild(g);break;default:throw Error(i(468,u))}g[an]=r,$t(g),u=g}r.stateNode=u}else dE(h,r.type,r.stateNode);else r.stateNode=fE(h,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?dE(h,r.type,r.stateNode):fE(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&cp(r,r.memoizedProps,o.memoizedProps)}break;case 27:tr(a,r),nr(r),u&512&&(Yt||o===null||Wr(o,o.return)),o!==null&&u&4&&cp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(tr(a,r),nr(r),u&512&&(Yt||o===null||Wr(o,o.return)),r.flags&32){h=r.stateNode;try{hr(h,"")}catch(ee){Ct(r,r.return,ee)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,cp(r,h,o!==null?o.memoizedProps:h)),u&1024&&(dp=!0);break;case 6:if(tr(a,r),nr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(ee){Ct(r,r.return,ee)}}break;case 3:if(Qf=null,h=Or,Or=Kf(a.containerInfo),tr(a,r),Or=h,nr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ku(a.containerInfo)}catch(ee){Ct(r,r.return,ee)}dp&&(dp=!1,_b(r));break;case 4:u=Or,Or=Kf(r.stateNode.containerInfo),tr(a,r),nr(r),Or=u;break;case 12:tr(a,r),nr(r);break;case 13:tr(a,r),nr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(bp=ve()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,mp(r,u)));break;case 22:h=r.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,W=Fi,oe=Yt;if(Fi=W||h,Yt=oe||j,tr(a,r),Yt=oe,Fi=W,nr(r),u&8192)e:for(a=r.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(o===null||j||Fi||Yt||Ls(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){j=o=a;try{if(g=j.stateNode,h)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{x=j.stateNode;var ce=j.memoizedProps.style,Z=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;x.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ee){Ct(j,j.return,ee)}}}else if(a.tag===6){if(o===null){j=a;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(ee){Ct(j,j.return,ee)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,mp(r,o))));break;case 19:tr(a,r),nr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,mp(r,u)));break;case 30:break;case 21:break;default:tr(a,r),nr(r)}}function nr(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(fb(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,g=fp(r);kf(r,g,h);break;case 5:var w=o.stateNode;o.flags&32&&(hr(w,""),o.flags&=-33);var x=fp(r);kf(r,x,w);break;case 3:case 4:var j=o.stateNode.containerInfo,W=fp(r);hp(r,W,j);break;default:throw Error(i(161))}}catch(oe){Ct(r,r.return,oe)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function _b(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;_b(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function ba(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)mb(r,a.alternate,a),a=a.sibling}function Ls(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:_a(4,a,a.return),Ls(a);break;case 1:Wr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&ub(a,a.return,o),Ls(a);break;case 27:Ru(a.stateNode);case 26:case 5:Wr(a,a.return),Ls(a);break;case 22:a.memoizedState===null&&Ls(a);break;case 30:Ls(a);break;default:Ls(a)}r=r.sibling}}function Ea(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=r,g=a,w=g.flags;switch(g.tag){case 0:case 11:case 15:Ea(h,g,o),vu(4,g);break;case 1:if(Ea(h,g,o),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(W){Ct(u,u.return,W)}if(u=g,h=u.updateQueue,h!==null){var x=u.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)K0(j[h],x)}catch(W){Ct(u,u.return,W)}}o&&w&64&&lb(g),yu(g,g.return);break;case 27:hb(g);case 26:case 5:Ea(h,g,o),o&&u===null&&w&4&&cb(g),yu(g,g.return);break;case 12:Ea(h,g,o);break;case 13:Ea(h,g,o),o&&w&4&&vb(h,g);break;case 22:g.memoizedState===null&&Ea(h,g,o),yu(g,g.return);break;case 30:break;default:Ea(h,g,o)}a=a.sibling}}function pp(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&ru(o))}function gp(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&ru(r))}function Zr(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)bb(r,a,o,u),a=a.sibling}function bb(r,a,o,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:Zr(r,a,o,u),h&2048&&vu(9,a);break;case 1:Zr(r,a,o,u);break;case 3:Zr(r,a,o,u),h&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&ru(r)));break;case 12:if(h&2048){Zr(r,a,o,u),r=a.stateNode;try{var g=a.memoizedProps,w=g.id,x=g.onPostCommit;typeof x=="function"&&x(w,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){Ct(a,a.return,j)}}else Zr(r,a,o,u);break;case 13:Zr(r,a,o,u);break;case 23:break;case 22:g=a.stateNode,w=a.alternate,a.memoizedState!==null?g._visibility&2?Zr(r,a,o,u):_u(r,a):g._visibility&2?Zr(r,a,o,u):(g._visibility|=2,Fo(r,a,o,u,(a.subtreeFlags&10256)!==0)),h&2048&&pp(w,a);break;case 24:Zr(r,a,o,u),h&2048&&gp(a.alternate,a);break;default:Zr(r,a,o,u)}}function Fo(r,a,o,u,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=r,w=a,x=o,j=u,W=w.flags;switch(w.tag){case 0:case 11:case 15:Fo(g,w,x,j,h),vu(8,w);break;case 23:break;case 22:var oe=w.stateNode;w.memoizedState!==null?oe._visibility&2?Fo(g,w,x,j,h):_u(g,w):(oe._visibility|=2,Fo(g,w,x,j,h)),h&&W&2048&&pp(w.alternate,w);break;case 24:Fo(g,w,x,j,h),h&&W&2048&&gp(w.alternate,w);break;default:Fo(g,w,x,j,h)}a=a.sibling}}function _u(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,h=u.flags;switch(u.tag){case 22:_u(o,u),h&2048&&pp(u.alternate,u);break;case 24:_u(o,u),h&2048&&gp(u.alternate,u);break;default:_u(o,u)}a=a.sibling}}var bu=8192;function zo(r){if(r.subtreeFlags&bu)for(r=r.child;r!==null;)Eb(r),r=r.sibling}function Eb(r){switch(r.tag){case 26:zo(r),r.flags&bu&&r.memoizedState!==null&&I2(Or,r.memoizedState,r.memoizedProps);break;case 5:zo(r);break;case 3:case 4:var a=Or;Or=Kf(r.stateNode.containerInfo),zo(r),Or=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=bu,bu=16777216,zo(r),bu=a):zo(r));break;default:zo(r)}}function Tb(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Eu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];gn=u,wb(u,r)}Tb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Sb(r),r=r.sibling}function Sb(r){switch(r.tag){case 0:case 11:case 15:Eu(r),r.flags&2048&&_a(9,r,r.return);break;case 3:Eu(r);break;case 12:Eu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Vf(r)):Eu(r);break;default:Eu(r)}}function Vf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];gn=u,wb(u,r)}Tb(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:_a(8,a,a.return),Vf(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Vf(a));break;default:Vf(a)}r=r.sibling}}function wb(r,a){for(;gn!==null;){var o=gn;switch(o.tag){case 0:case 11:case 15:_a(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ru(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,gn=u;else e:for(o=r;gn!==null;){u=gn;var h=u.sibling,g=u.return;if(pb(u),u===o){gn=null;break e}if(h!==null){h.return=g,gn=h;break e}gn=g}}}var $C={getCacheForType:function(r){var a=In(ln),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},GC=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ot=null,rt=null,dt=0,St=0,rr=null,Ta=!1,Bo=!1,vp=!1,Bi=0,Ft=0,Sa=0,js=0,yp=0,Er=0,Ho=0,Tu=null,$n=null,_p=!1,bp=0,Lf=1/0,jf=null,wa=null,Sn=0,Aa=null,qo=null,$o=0,Ep=0,Tp=null,Ab=null,Su=0,Sp=null;function ir(){if((Tt&2)!==0&&dt!==0)return dt&-dt;if(z.T!==null){var r=Do;return r!==0?r:Op()}return sa()}function xb(){Er===0&&(Er=(dt&536870912)===0||gt?Dl():536870912);var r=br.current;return r!==null&&(r.flags|=32),Er}function ar(r,a,o){(r===Ot&&(St===2||St===9)||r.cancelPendingCommit!==null)&&(Go(r,0),xa(r,dt,Er,!1)),bi(r,o),((Tt&2)===0||r!==Ot)&&(r===Ot&&((Tt&2)===0&&(js|=o),Ft===4&&xa(r,dt,Er,!1)),Jr(r))}function Rb(r,a,o){if((Tt&6)!==0)throw Error(i(327));var u=!o&&(a&124)===0&&(a&r.expiredLanes)===0||cs(r,a),h=u?XC(r,a):xp(r,a,!0),g=u;do{if(h===0){Bo&&!u&&xa(r,a,0,!1);break}else{if(o=r.current.alternate,g&&!YC(o)){h=xp(r,a,!1),g=!1;continue}if(h===2){if(g=a,r.errorRecoveryDisabledLanes&g)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var x=r;h=Tu;var j=x.current.memoizedState.isDehydrated;if(j&&(Go(x,w).flags|=256),w=xp(x,w,!1),w!==2){if(vp&&!j){x.errorRecoveryDisabledLanes|=g,js|=g,h=4;break e}g=$n,$n=h,g!==null&&($n===null?$n=g:$n.push.apply($n,g))}h=w}if(g=!1,h!==2)continue}}if(h===1){Go(r,0),xa(r,a,0,!0);break}e:{switch(u=r,g=h,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:xa(u,a,Er,!Ta);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(h=bp+300-ve(),10<h)){if(xa(u,a,Er,!Ta),lo(u,0,!0)!==0)break e;u.timeoutHandle=nE(Cb.bind(null,u,o,$n,jf,_p,a,Er,js,Ho,Ta,g,2,-0,0),h);break e}Cb(u,o,$n,jf,_p,a,Er,js,Ho,Ta,g,0,-0,0)}}break}while(!0);Jr(r)}function Cb(r,a,o,u,h,g,w,x,j,W,oe,ce,Z,ee){if(r.timeoutHandle=-1,ce=a.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Ou={stylesheets:null,count:0,unsuspend:C2},Eb(a),ce=O2(),ce!==null)){r.cancelPendingCommit=ce(kb.bind(null,r,a,g,o,u,h,w,x,j,oe,1,Z,ee)),xa(r,g,w,!W);return}kb(r,a,g,o,u,h,w,x,j)}function YC(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!Jn(g(),h))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function xa(r,a,o,u){a&=~yp,a&=~js,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var h=a;0<h;){var g=31-nt(h),w=1<<g;u[g]=-1,h&=~w}o!==0&&jr(r,o,a)}function Uf(){return(Tt&6)===0?(wu(0),!1):!0}function wp(){if(rt!==null){if(St===0)var r=rt.return;else r=rt,Mi=Ds=null,zm(r),jo=null,mu=0,r=rt;for(;r!==null;)ob(r.alternate,r),r=r.return;rt=null}}function Go(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,f2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),wp(),Ot=r,rt=o=Ni(r.current,null),dt=a,St=0,rr=null,Ta=!1,Bo=cs(r,a),vp=!1,Ho=Er=yp=js=Sa=Ft=0,$n=Tu=null,_p=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var h=31-nt(u),g=1<<h;a|=r[h],u&=~g}return Bi=a,of(),o}function Ib(r,a){Ze=null,z.H=xf,a===au||a===gf?(a=G0(),St=3):a===H0?(a=G0(),St=4):St=a===Y_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,rr=a,rt===null&&(Ft=1,Nf(r,gr(a,r.current)))}function Ob(){var r=z.H;return z.H=xf,r===null?xf:r}function Nb(){var r=z.A;return z.A=$C,r}function Ap(){Ft=4,Ta||(dt&4194048)!==dt&&br.current!==null||(Bo=!0),(Sa&134217727)===0&&(js&134217727)===0||Ot===null||xa(Ot,dt,Er,!1)}function xp(r,a,o){var u=Tt;Tt|=2;var h=Ob(),g=Nb();(Ot!==r||dt!==a)&&(jf=null,Go(r,a)),a=!1;var w=Ft;e:do try{if(St!==0&&rt!==null){var x=rt,j=rr;switch(St){case 8:wp(),w=6;break e;case 3:case 2:case 9:case 6:br.current===null&&(a=!0);var W=St;if(St=0,rr=null,Yo(r,x,j,W),o&&Bo){w=0;break e}break;default:W=St,St=0,rr=null,Yo(r,x,j,W)}}KC(),w=Ft;break}catch(oe){Ib(r,oe)}while(!0);return a&&r.shellSuspendCounter++,Mi=Ds=null,Tt=u,z.H=h,z.A=g,rt===null&&(Ot=null,dt=0,of()),w}function KC(){for(;rt!==null;)Db(rt)}function XC(r,a){var o=Tt;Tt|=2;var u=Ob(),h=Nb();Ot!==r||dt!==a?(jf=null,Lf=ve()+500,Go(r,a)):Bo=cs(r,a);e:do try{if(St!==0&&rt!==null){a=rt;var g=rr;t:switch(St){case 1:St=0,rr=null,Yo(r,a,g,1);break;case 2:case 9:if(q0(g)){St=0,rr=null,Pb(a);break}a=function(){St!==2&&St!==9||Ot!==r||(St=7),Jr(r)},g.then(a,a);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:q0(g)?(St=0,rr=null,Pb(a)):(St=0,rr=null,Yo(r,a,g,7));break;case 5:var w=null;switch(rt.tag){case 26:w=rt.memoizedState;case 5:case 27:var x=rt;if(!w||mE(w)){St=0,rr=null;var j=x.sibling;if(j!==null)rt=j;else{var W=x.return;W!==null?(rt=W,Ff(W)):rt=null}break t}}St=0,rr=null,Yo(r,a,g,5);break;case 6:St=0,rr=null,Yo(r,a,g,6);break;case 8:wp(),Ft=6;break e;default:throw Error(i(462))}}QC();break}catch(oe){Ib(r,oe)}while(!0);return Mi=Ds=null,z.H=u,z.A=h,Tt=o,rt!==null?0:(Ot=null,dt=0,of(),Ft)}function QC(){for(;rt!==null&&!te();)Db(rt)}function Db(r){var a=ab(r.alternate,r,Bi);r.memoizedProps=r.pendingProps,a===null?Ff(r):rt=a}function Pb(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=J_(o,a,a.pendingProps,a.type,void 0,dt);break;case 11:a=J_(o,a,a.pendingProps,a.type.render,a.ref,dt);break;case 5:zm(a);default:ob(o,a),a=rt=M0(a,Bi),a=ab(o,a,Bi)}r.memoizedProps=r.pendingProps,a===null?Ff(r):rt=a}function Yo(r,a,o,u){Mi=Ds=null,zm(a),jo=null,mu=0;var h=a.return;try{if(UC(r,h,a,o,dt)){Ft=1,Nf(r,gr(o,r.current)),rt=null;return}}catch(g){if(h!==null)throw rt=h,g;Ft=1,Nf(r,gr(o,r.current)),rt=null;return}a.flags&32768?(gt||u===1?r=!0:Bo||(dt&536870912)!==0?r=!1:(Ta=r=!0,(u===2||u===9||u===3||u===6)&&(u=br.current,u!==null&&u.tag===13&&(u.flags|=16384))),Mb(a,r)):Ff(a)}function Ff(r){var a=r;do{if((a.flags&32768)!==0){Mb(a,Ta);return}r=a.return;var o=zC(a.alternate,a,Bi);if(o!==null){rt=o;return}if(a=a.sibling,a!==null){rt=a;return}rt=a=r}while(a!==null);Ft===0&&(Ft=5)}function Mb(r,a){do{var o=BC(r.alternate,r);if(o!==null){o.flags&=32767,rt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){rt=r;return}rt=r=o}while(r!==null);Ft=6,rt=null}function kb(r,a,o,u,h,g,w,x,j){r.cancelPendingCommit=null;do zf();while(Sn!==0);if((Tt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=gm,Ml(r,o,g,w,x,j),r===Ot&&(rt=Ot=null,dt=0),qo=a,Aa=r,$o=o,Ep=g,Tp=h,Ab=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,e2(He,function(){return Fb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,h=ne.p,ne.p=2,w=Tt,Tt|=4;try{HC(r,a,o)}finally{Tt=w,ne.p=h,z.T=u}}Sn=1,Vb(),Lb(),jb()}}function Vb(){if(Sn===1){Sn=0;var r=Aa,a=qo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=z.T,z.T=null;var u=ne.p;ne.p=2;var h=Tt;Tt|=4;try{yb(a,r);var g=jp,w=w0(r.containerInfo),x=g.focusedElem,j=g.selectionRange;if(w!==x&&x&&x.ownerDocument&&S0(x.ownerDocument.documentElement,x)){if(j!==null&&fm(x)){var W=j.start,oe=j.end;if(oe===void 0&&(oe=W),"selectionStart"in x)x.selectionStart=W,x.selectionEnd=Math.min(oe,x.value.length);else{var ce=x.ownerDocument||document,Z=ce&&ce.defaultView||window;if(Z.getSelection){var ee=Z.getSelection(),Be=x.textContent.length,Ve=Math.min(j.start,Be),Rt=j.end===void 0?Ve:Math.min(j.end,Be);!ee.extend&&Ve>Rt&&(w=Rt,Rt=Ve,Ve=w);var G=T0(x,Ve),B=T0(x,Rt);if(G&&B&&(ee.rangeCount!==1||ee.anchorNode!==G.node||ee.anchorOffset!==G.offset||ee.focusNode!==B.node||ee.focusOffset!==B.offset)){var K=ce.createRange();K.setStart(G.node,G.offset),ee.removeAllRanges(),Ve>Rt?(ee.addRange(K),ee.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),ee.addRange(K))}}}}for(ce=[],ee=x;ee=ee.parentNode;)ee.nodeType===1&&ce.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ce.length;x++){var le=ce[x];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Jf=!!Lp,jp=Lp=null}finally{Tt=h,ne.p=u,z.T=o}}r.current=a,Sn=2}}function Lb(){if(Sn===2){Sn=0;var r=Aa,a=qo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=z.T,z.T=null;var u=ne.p;ne.p=2;var h=Tt;Tt|=4;try{mb(r,a.alternate,a)}finally{Tt=h,ne.p=u,z.T=o}}Sn=3}}function jb(){if(Sn===4||Sn===3){Sn=0,se();var r=Aa,a=qo,o=$o,u=Ab;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Sn=5:(Sn=0,qo=Aa=null,Ub(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(wa=null),uo(o),a=a.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(Pe,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=z.T,h=ne.p,ne.p=2,z.T=null;try{for(var g=r.onRecoverableError,w=0;w<u.length;w++){var x=u[w];g(x.value,{componentStack:x.stack})}}finally{z.T=a,ne.p=h}}($o&3)!==0&&zf(),Jr(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===Sp?Su++:(Su=0,Sp=r):Su=0,wu(0)}}function Ub(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,ru(a)))}function zf(r){return Vb(),Lb(),jb(),Fb()}function Fb(){if(Sn!==5)return!1;var r=Aa,a=Ep;Ep=0;var o=uo($o),u=z.T,h=ne.p;try{ne.p=32>o?32:o,z.T=null,o=Tp,Tp=null;var g=Aa,w=$o;if(Sn=0,qo=Aa=null,$o=0,(Tt&6)!==0)throw Error(i(331));var x=Tt;if(Tt|=4,Sb(g.current),bb(g,g.current,w,o),Tt=x,wu(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(Pe,g)}catch{}return!0}finally{ne.p=h,z.T=u,Ub(r,a)}}function zb(r,a,o){a=gr(o,a),a=tp(r.stateNode,a,2),r=pa(r,a,2),r!==null&&(bi(r,2),Jr(r))}function Ct(r,a,o){if(r.tag===3)zb(r,r,o);else for(;a!==null;){if(a.tag===3){zb(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(wa===null||!wa.has(u))){r=gr(o,r),o=$_(2),u=pa(a,o,2),u!==null&&(G_(o,u,a,r),bi(u,2),Jr(u));break}}a=a.return}}function Rp(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new GC;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(o)||(vp=!0,h.add(o),r=WC.bind(null,r,a,o),a.then(r,r))}function WC(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Ot===r&&(dt&o)===o&&(Ft===4||Ft===3&&(dt&62914560)===dt&&300>ve()-bp?(Tt&2)===0&&Go(r,0):yp|=o,Ho===dt&&(Ho=0)),Jr(r)}function Bb(r,a){a===0&&(a=Pl()),r=Co(r,a),r!==null&&(bi(r,a),Jr(r))}function ZC(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),Bb(r,o)}function JC(r,a){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Bb(r,o)}function e2(r,a){return ut(r,a)}var Bf=null,Ko=null,Cp=!1,Hf=!1,Ip=!1,Us=0;function Jr(r){r!==Ko&&r.next===null&&(Ko===null?Bf=Ko=r:Ko=Ko.next=r),Hf=!0,Cp||(Cp=!0,n2())}function wu(r,a){if(!Ip&&Hf){Ip=!0;do for(var o=!1,u=Bf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var w=u.suspendedLanes,x=u.pingedLanes;g=(1<<31-nt(42|r)+1)-1,g&=h&~(w&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Gb(u,g))}else g=dt,g=lo(u,u===Ot?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||cs(u,g)||(o=!0,Gb(u,g));u=u.next}while(o);Ip=!1}}function t2(){Hb()}function Hb(){Hf=Cp=!1;var r=0;Us!==0&&(c2()&&(r=Us),Us=0);for(var a=ve(),o=null,u=Bf;u!==null;){var h=u.next,g=qb(u,a);g===0?(u.next=null,o===null?Bf=h:o.next=h,h===null&&(Ko=o)):(o=u,(r!==0||(g&3)!==0)&&(Hf=!0)),u=h}wu(r)}function qb(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var w=31-nt(g),x=1<<w,j=h[w];j===-1?((x&o)===0||(x&u)!==0)&&(h[w]=Nl(x,a)):j<=a&&(r.expiredLanes|=x),g&=~x}if(a=Ot,o=dt,o=lo(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(St===2||St===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ke(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||cs(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&Ke(u),uo(o)){case 2:case 8:o=ct;break;case 32:o=He;break;case 268435456:o=It;break;default:o=He}return u=$b.bind(null,r),o=ut(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&Ke(u),r.callbackPriority=2,r.callbackNode=null,2}function $b(r,a){if(Sn!==0&&Sn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(zf()&&r.callbackNode!==o)return null;var u=dt;return u=lo(r,r===Ot?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Rb(r,u,a),qb(r,ve()),r.callbackNode!=null&&r.callbackNode===o?$b.bind(null,r):null)}function Gb(r,a){if(zf())return null;Rb(r,a,!0)}function n2(){h2(function(){(Tt&6)!==0?ut(Re,t2):Hb()})}function Op(){return Us===0&&(Us=Dl()),Us}function Yb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:go(""+r)}function Kb(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function r2(r,a,o,u,h){if(a==="submit"&&o&&o.stateNode===h){var g=Yb((h[Xt]||null).action),w=u.submitter;w&&(a=(a=w[Xt]||null)?Yb(a.formAction):w.getAttribute("formAction"),a!==null&&(g=a,w=null));var x=new vo("action","action",null,u,h);r.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Us!==0){var j=w?Kb(h,w):new FormData(h);Qm(o,{pending:!0,data:j,method:h.method,action:g},null,j)}}else typeof g=="function"&&(x.preventDefault(),j=w?Kb(h,w):new FormData(h),Qm(o,{pending:!0,data:j,method:h.method,action:g},g,j))},currentTarget:h}]})}}for(var Np=0;Np<pm.length;Np++){var Dp=pm[Np],i2=Dp.toLowerCase(),a2=Dp[0].toUpperCase()+Dp.slice(1);Ir(i2,"on"+a2)}Ir(R0,"onAnimationEnd"),Ir(C0,"onAnimationIteration"),Ir(I0,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(TC,"onTransitionRun"),Ir(SC,"onTransitionStart"),Ir(wC,"onTransitionCancel"),Ir(O0,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function Xb(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var w=u.length-1;0<=w;w--){var x=u[w],j=x.instance,W=x.currentTarget;if(x=x.listener,j!==g&&h.isPropagationStopped())break e;g=x,h.currentTarget=W;try{g(h)}catch(oe){Of(oe)}h.currentTarget=null,g=j}else for(w=0;w<u.length;w++){if(x=u[w],j=x.instance,W=x.currentTarget,x=x.listener,j!==g&&h.isPropagationStopped())break e;g=x,h.currentTarget=W;try{g(h)}catch(oe){Of(oe)}h.currentTarget=null,g=j}}}}function it(r,a){var o=a[Vl];o===void 0&&(o=a[Vl]=new Set);var u=r+"__bubble";o.has(u)||(Qb(a,r,2,!1),o.add(u))}function Pp(r,a,o){var u=0;a&&(u|=4),Qb(o,r,u,a)}var qf="_reactListening"+Math.random().toString(36).slice(2);function Mp(r){if(!r[qf]){r[qf]=!0,Ll.forEach(function(o){o!=="selectionchange"&&(s2.has(o)||Pp(o,!1,r),Pp(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[qf]||(a[qf]=!0,Pp("selectionchange",!1,a))}}function Qb(r,a,o,u){switch(bE(a)){case 2:var h=P2;break;case 8:h=M2;break;default:h=Kp}o=h.bind(null,a,o,r),h=void 0,!mr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(a,o,{capture:!0,passive:h}):r.addEventListener(a,o,!0):h!==void 0?r.addEventListener(a,o,{passive:h}):r.addEventListener(a,o,!1)}function kp(r,a,o,u,h){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var x=u.stateNode.containerInfo;if(x===h)break;if(w===4)for(w=u.return;w!==null;){var j=w.tag;if((j===3||j===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;x!==null;){if(w=Ei(x),w===null)return;if(j=w.tag,j===5||j===6||j===26||j===27){u=g=w;continue e}x=x.parentNode}}u=u.return}$c(function(){var W=g,oe=dr(o),ce=[];e:{var Z=N0.get(r);if(Z!==void 0){var ee=vo,Be=r;switch(r){case"keypress":if(qr(o)===0)break e;case"keydown":case"keyup":ee=So;break;case"focusin":Be="focus",ee=bo;break;case"focusout":Be="blur",ee=bo;break;case"beforeblur":case"afterblur":ee=bo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Jc;break;case R0:case C0:case I0:ee=Eo;break;case O0:ee=tf;break;case"scroll":case"scrollend":ee=Gc;break;case"wheel":ee=wo;break;case"copy":case"cut":case"paste":ee=To;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Xl;break;case"toggle":case"beforetoggle":ee=rf}var Ve=(a&4)!==0,Rt=!Ve&&(r==="scroll"||r==="scrollend"),G=Ve?Z!==null?Z+"Capture":null:Z;Ve=[];for(var B=W,K;B!==null;){var le=B;if(K=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||K===null||G===null||(le=ys(B,G),le!=null&&Ve.push(xu(B,le,K))),Rt)break;B=B.return}0<Ve.length&&(Z=new ee(Z,Be,null,o,oe),ce.push({event:Z,listeners:Ve}))}}if((a&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",Z&&o!==Ai&&(Be=o.relatedTarget||o.fromElement)&&(Ei(Be)||Be[fr]))break e;if((ee||Z)&&(Z=oe.window===oe?oe:(Z=oe.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(Be=o.relatedTarget||o.toElement,ee=W,Be=Be?Ei(Be):null,Be!==null&&(Rt=l(Be),Ve=Be.tag,Be!==Rt||Ve!==5&&Ve!==27&&Ve!==6)&&(Be=null)):(ee=null,Be=W),ee!==Be)){if(Ve=pr,le="onMouseLeave",G="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Ve=Xl,le="onPointerLeave",G="onPointerEnter",B="pointer"),Rt=ee==null?Z:Fr(ee),K=Be==null?Z:Fr(Be),Z=new Ve(le,B+"leave",ee,o,oe),Z.target=Rt,Z.relatedTarget=K,le=null,Ei(oe)===W&&(Ve=new Ve(G,B+"enter",Be,o,oe),Ve.target=K,Ve.relatedTarget=Rt,le=Ve),Rt=le,ee&&Be)t:{for(Ve=ee,G=Be,B=0,K=Ve;K;K=Xo(K))B++;for(K=0,le=G;le;le=Xo(le))K++;for(;0<B-K;)Ve=Xo(Ve),B--;for(;0<K-B;)G=Xo(G),K--;for(;B--;){if(Ve===G||G!==null&&Ve===G.alternate)break t;Ve=Xo(Ve),G=Xo(G)}Ve=null}else Ve=null;ee!==null&&Wb(ce,Z,ee,Ve,!1),Be!==null&&Rt!==null&&Wb(ce,Rt,Be,Ve,!0)}}e:{if(Z=W?Fr(W):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var Ae=g0;else if(on(Z))if(v0)Ae=_C;else{Ae=vC;var tt=gC}else ee=Z.nodeName,!ee||ee.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&Bl(W.elementType)&&(Ae=g0):Ae=yC;if(Ae&&(Ae=Ae(r,W))){Oi(ce,Ae,o,oe);break e}tt&&tt(r,Z,W),r==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&ca(Z,"number",Z.value)}switch(tt=W?Fr(W):window,r){case"focusin":(on(tt)||tt.contentEditable==="true")&&(Ao=tt,hm=W,Zl=null);break;case"focusout":Zl=hm=Ao=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,A0(ce,o,oe);break;case"selectionchange":if(EC)break;case"keydown":case"keyup":A0(ce,o,oe)}var Ne;if(Yr)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ft?ie(r,o)&&(je="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(T&&o.locale!=="ko"&&(ft||je!=="onCompositionStart"?je==="onCompositionEnd"&&ft&&(Ne=ql()):(Hr=oe,fa="value"in Hr?Hr.value:Hr.textContent,ft=!0)),tt=$f(W,je),0<tt.length&&(je=new Yl(je,r,null,o,oe),ce.push({event:je,listeners:tt}),Ne?je.data=Ne:(Ne=ye(o),Ne!==null&&(je.data=Ne)))),(Ne=y?sn(r,o):ht(r,o))&&(je=$f(W,"onBeforeInput"),0<je.length&&(tt=new Yl("onBeforeInput","beforeinput",null,o,oe),ce.push({event:tt,listeners:je}),tt.data=Ne)),r2(ce,r,W,o,oe)}Xb(ce,a)})}function xu(r,a,o){return{instance:r,listener:a,currentTarget:o}}function $f(r,a){for(var o=a+"Capture",u=[];r!==null;){var h=r,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=ys(r,o),h!=null&&u.unshift(xu(r,h,g)),h=ys(r,a),h!=null&&u.push(xu(r,h,g))),r.tag===3)return u;r=r.return}return[]}function Xo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Wb(r,a,o,u,h){for(var g=a._reactName,w=[];o!==null&&o!==u;){var x=o,j=x.alternate,W=x.stateNode;if(x=x.tag,j!==null&&j===u)break;x!==5&&x!==26&&x!==27||W===null||(j=W,h?(W=ys(o,g),W!=null&&w.unshift(xu(o,W,j))):h||(W=ys(o,g),W!=null&&w.push(xu(o,W,j)))),o=o.return}w.length!==0&&r.push({event:a,listeners:w})}var o2=/\r\n?/g,l2=/\u0000|\uFFFD/g;function Zb(r){return(typeof r=="string"?r:""+r).replace(o2,`
`).replace(l2,"")}function Jb(r,a){return a=Zb(a),Zb(r)===a}function Gf(){}function xt(r,a,o,u,h,g){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||hr(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&hr(r,""+u);break;case"className":zr(r,"class",u);break;case"tabIndex":zr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(r,o,u);break;case"style":zl(r,u,g);break;case"data":if(a!=="object"){zr(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=go(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&xt(r,a,"name",h.name,h,null),xt(r,a,"formEncType",h.formEncType,h,null),xt(r,a,"formMethod",h.formMethod,h,null),xt(r,a,"formTarget",h.formTarget,h,null)):(xt(r,a,"encType",h.encType,h,null),xt(r,a,"method",h.method,h,null),xt(r,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=go(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Gf);break;case"onScroll":u!=null&&it("scroll",r);break;case"onScrollEnd":u!=null&&it("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=go(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":it("beforetoggle",r),it("toggle",r),ua(r,"popover",u);break;case"xlinkActuate":bn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":bn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":bn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":bn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":bn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":bn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":bn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":bn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":bn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ua(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=am.get(o)||o,ua(r,o,u))}}function Vp(r,a,o,u,h,g){switch(o){case"style":zl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?hr(r,u):(typeof u=="number"||typeof u=="bigint")&&hr(r,""+u);break;case"onScroll":u!=null&&it("scroll",r);break;case"onScrollEnd":u!=null&&it("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!co.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),a=o.slice(2,h?o.length-7:void 0),g=r[Xt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(a,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ua(r,o,u)}}}function wn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",r),it("load",r);var u=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:xt(r,a,g,w,o,null)}}h&&xt(r,a,"srcSet",o.srcSet,o,null),u&&xt(r,a,"src",o.src,o,null);return;case"input":it("invalid",r);var x=g=w=h=null,j=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var oe=o[u];if(oe!=null)switch(u){case"name":h=oe;break;case"type":w=oe;break;case"checked":j=oe;break;case"defaultChecked":W=oe;break;case"value":g=oe;break;case"defaultValue":x=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,a));break;default:xt(r,a,u,oe,o,null)}}ps(r,g,x,j,W,w,h,!1),po(r);return;case"select":it("invalid",r),u=w=g=null;for(h in o)if(o.hasOwnProperty(h)&&(x=o[h],x!=null))switch(h){case"value":g=x;break;case"defaultValue":w=x;break;case"multiple":u=x;default:xt(r,a,h,x,o,null)}a=g,o=w,r.multiple=!!u,a!=null?wi(r,!!u,a,!1):o!=null&&wi(r,!!u,o,!0);return;case"textarea":it("invalid",r),g=h=u=null;for(w in o)if(o.hasOwnProperty(w)&&(x=o[w],x!=null))switch(w){case"value":u=x;break;case"defaultValue":h=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:xt(r,a,w,x,o,null)}gs(r,u,h,g),po(r);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:xt(r,a,j,u,o,null)}return;case"dialog":it("beforetoggle",r),it("toggle",r),it("cancel",r),it("close",r);break;case"iframe":case"object":it("load",r);break;case"video":case"audio":for(u=0;u<Au.length;u++)it(Au[u],r);break;case"image":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"embed":case"source":case"link":it("error",r),it("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:xt(r,a,W,u,o,null)}return;default:if(Bl(a)){for(oe in o)o.hasOwnProperty(oe)&&(u=o[oe],u!==void 0&&Vp(r,a,oe,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&xt(r,a,x,u,o,null))}function u2(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,w=null,x=null,j=null,W=null,oe=null;for(ee in o){var ce=o[ee];if(o.hasOwnProperty(ee)&&ce!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":j=ce;default:u.hasOwnProperty(ee)||xt(r,a,ee,null,u,ce)}}for(var Z in u){var ee=u[Z];if(ce=o[Z],u.hasOwnProperty(Z)&&(ee!=null||ce!=null))switch(Z){case"type":g=ee;break;case"name":h=ee;break;case"checked":W=ee;break;case"defaultChecked":oe=ee;break;case"value":w=ee;break;case"defaultValue":x=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:ee!==ce&&xt(r,a,Z,ee,u,ce)}}Zn(r,w,x,j,W,oe,g,h);return;case"select":ee=w=x=Z=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":ee=j;default:u.hasOwnProperty(g)||xt(r,a,g,null,u,j)}for(h in u)if(g=u[h],j=o[h],u.hasOwnProperty(h)&&(g!=null||j!=null))switch(h){case"value":Z=g;break;case"defaultValue":x=g;break;case"multiple":w=g;default:g!==j&&xt(r,a,h,g,u,j)}a=x,o=w,u=ee,Z!=null?wi(r,!!o,Z,!1):!!u!=!!o&&(a!=null?wi(r,!!o,a,!0):wi(r,!!o,o?[]:"",!1));return;case"textarea":ee=Z=null;for(x in o)if(h=o[x],o.hasOwnProperty(x)&&h!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:xt(r,a,x,null,u,h)}for(w in u)if(h=u[w],g=o[w],u.hasOwnProperty(w)&&(h!=null||g!=null))switch(w){case"value":Z=h;break;case"defaultValue":ee=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&xt(r,a,w,h,u,g)}wt(r,Z,ee);return;case"option":for(var Be in o)if(Z=o[Be],o.hasOwnProperty(Be)&&Z!=null&&!u.hasOwnProperty(Be))switch(Be){case"selected":r.selected=!1;break;default:xt(r,a,Be,null,u,Z)}for(j in u)if(Z=u[j],ee=o[j],u.hasOwnProperty(j)&&Z!==ee&&(Z!=null||ee!=null))switch(j){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:xt(r,a,j,Z,u,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in o)Z=o[Ve],o.hasOwnProperty(Ve)&&Z!=null&&!u.hasOwnProperty(Ve)&&xt(r,a,Ve,null,u,Z);for(W in u)if(Z=u[W],ee=o[W],u.hasOwnProperty(W)&&Z!==ee&&(Z!=null||ee!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:xt(r,a,W,Z,u,ee)}return;default:if(Bl(a)){for(var Rt in o)Z=o[Rt],o.hasOwnProperty(Rt)&&Z!==void 0&&!u.hasOwnProperty(Rt)&&Vp(r,a,Rt,void 0,u,Z);for(oe in u)Z=u[oe],ee=o[oe],!u.hasOwnProperty(oe)||Z===ee||Z===void 0&&ee===void 0||Vp(r,a,oe,Z,u,ee);return}}for(var G in o)Z=o[G],o.hasOwnProperty(G)&&Z!=null&&!u.hasOwnProperty(G)&&xt(r,a,G,null,u,Z);for(ce in u)Z=u[ce],ee=o[ce],!u.hasOwnProperty(ce)||Z===ee||Z==null&&ee==null||xt(r,a,ce,Z,u,ee)}var Lp=null,jp=null;function Yf(r){return r.nodeType===9?r:r.ownerDocument}function eE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Up(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Fp=null;function c2(){var r=window.event;return r&&r.type==="popstate"?r===Fp?!1:(Fp=r,!0):(Fp=null,!1)}var nE=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,h2=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(r){return rE.resolve(null).then(r).catch(d2)}:nE;function d2(r){setTimeout(function(){throw r})}function Ra(r){return r==="head"}function iE(r,a){var o=a,u=0,h=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var w=r.ownerDocument;if(o&1&&Ru(w.documentElement),o&2&&Ru(w.body),o&4)for(o=w.head,Ru(o),w=o.firstChild;w;){var x=w.nextSibling,j=w.nodeName;w[fs]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=x}}if(h===0){r.removeChild(g),ku(a);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);ku(a)}function zp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":zp(o),la(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function m2(r,a,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[fs])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Nr(r.nextSibling),r===null)break}return null}function p2(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Nr(r.nextSibling),r===null))return null;return r}function Bp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function g2(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Nr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Hp=null;function aE(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function sE(r,a,o){switch(a=Yf(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Ru(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);la(r)}var Tr=new Map,oE=new Set;function Kf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Hi=ne.d;ne.d={f:v2,r:y2,D:_2,C:b2,L:E2,m:T2,X:w2,S:S2,M:A2};function v2(){var r=Hi.f(),a=Uf();return r||a}function y2(r){var a=Ur(r);a!==null&&a.tag===5&&a.type==="form"?R_(a):Hi.r(r)}var Qo=typeof document>"u"?null:document;function lE(r,a,o){var u=Qo;if(u&&typeof a=="string"&&a){var h=Qt(a);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),oE.has(h)||(oE.add(h),r={rel:r,crossOrigin:o,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),wn(a,"link",r),$t(a),u.head.appendChild(a)))}}function _2(r){Hi.D(r),lE("dns-prefetch",r,null)}function b2(r,a){Hi.C(r,a),lE("preconnect",r,a)}function E2(r,a,o){Hi.L(r,a,o);var u=Qo;if(u&&r&&a){var h='link[rel="preload"][as="'+Qt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Qt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Qt(o.imageSizes)+'"]')):h+='[href="'+Qt(r)+'"]';var g=h;switch(a){case"style":g=Wo(r);break;case"script":g=Zo(r)}Tr.has(g)||(r=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),Tr.set(g,r),u.querySelector(h)!==null||a==="style"&&u.querySelector(Cu(g))||a==="script"&&u.querySelector(Iu(g))||(a=u.createElement("link"),wn(a,"link",r),$t(a),u.head.appendChild(a)))}}function T2(r,a){Hi.m(r,a);var o=Qo;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+Qt(u)+'"][href="'+Qt(r)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Zo(r)}if(!Tr.has(g)&&(r=v({rel:"modulepreload",href:r},a),Tr.set(g,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Iu(g)))return}u=o.createElement("link"),wn(u,"link",r),$t(u),o.head.appendChild(u)}}}function S2(r,a,o){Hi.S(r,a,o);var u=Qo;if(u&&r){var h=jn(u).hoistableStyles,g=Wo(r);a=a||"default";var w=h.get(g);if(!w){var x={loading:0,preload:null};if(w=u.querySelector(Cu(g)))x.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},o),(o=Tr.get(g))&&qp(r,o);var j=w=u.createElement("link");$t(j),wn(j,"link",r),j._p=new Promise(function(W,oe){j.onload=W,j.onerror=oe}),j.addEventListener("load",function(){x.loading|=1}),j.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Xf(w,a,u)}w={type:"stylesheet",instance:w,count:1,state:x},h.set(g,w)}}}function w2(r,a){Hi.X(r,a);var o=Qo;if(o&&r){var u=jn(o).hoistableScripts,h=Zo(r),g=u.get(h);g||(g=o.querySelector(Iu(h)),g||(r=v({src:r,async:!0},a),(a=Tr.get(h))&&$p(r,a),g=o.createElement("script"),$t(g),wn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function A2(r,a){Hi.M(r,a);var o=Qo;if(o&&r){var u=jn(o).hoistableScripts,h=Zo(r),g=u.get(h);g||(g=o.querySelector(Iu(h)),g||(r=v({src:r,async:!0,type:"module"},a),(a=Tr.get(h))&&$p(r,a),g=o.createElement("script"),$t(g),wn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function uE(r,a,o,u){var h=(h=_e.current)?Kf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Wo(o.href),o=jn(h).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Wo(o.href);var g=jn(h).hoistableStyles,w=g.get(r);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,w),(g=h.querySelector(Cu(r)))&&!g._p&&(w.instance=g,w.state.loading=5),Tr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Tr.set(r,o),g||x2(h,r,o,w.state))),a&&u===null)throw Error(i(528,""));return w}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Zo(o),o=jn(h).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Wo(r){return'href="'+Qt(r)+'"'}function Cu(r){return'link[rel="stylesheet"]['+r+"]"}function cE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function x2(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),wn(a,"link",o),$t(a),r.head.appendChild(a))}function Zo(r){return'[src="'+Qt(r)+'"]'}function Iu(r){return"script[async]"+r}function fE(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+Qt(o.href)+'"]');if(u)return a.instance=u,$t(u),u;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),$t(u),wn(u,"style",h),Xf(u,o.precedence,r),a.instance=u;case"stylesheet":h=Wo(o.href);var g=r.querySelector(Cu(h));if(g)return a.state.loading|=4,a.instance=g,$t(g),g;u=cE(o),(h=Tr.get(h))&&qp(u,h),g=(r.ownerDocument||r).createElement("link"),$t(g);var w=g;return w._p=new Promise(function(x,j){w.onload=x,w.onerror=j}),wn(g,"link",u),a.state.loading|=4,Xf(g,o.precedence,r),a.instance=g;case"script":return g=Zo(o.src),(h=r.querySelector(Iu(g)))?(a.instance=h,$t(h),h):(u=o,(h=Tr.get(g))&&(u=v({},o),$p(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),$t(h),wn(h,"link",u),r.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Xf(u,o.precedence,r));return a.instance}function Xf(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,w=0;w<u.length;w++){var x=u[w];if(x.dataset.precedence===a)g=x;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function qp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function $p(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Qf=null;function hE(r,a,o){if(Qf===null){var u=new Map,h=Qf=new Map;h.set(o,u)}else h=Qf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[fs]||g[an]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(a)||"";w=r+w;var x=u.get(w);x?x.push(g):u.set(w,[g])}}return u}function dE(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function R2(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function mE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Ou=null;function C2(){}function I2(r,a,o){if(Ou===null)throw Error(i(475));var u=Ou;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wo(o.href),g=r.querySelector(Cu(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Wf.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=g,$t(g);return}g=r.ownerDocument||r,o=cE(o),(h=Tr.get(h))&&qp(o,h),g=g.createElement("link"),$t(g);var w=g;w._p=new Promise(function(x,j){w.onload=x,w.onerror=j}),wn(g,"link",o),a.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Wf.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function O2(){if(Ou===null)throw Error(i(475));var r=Ou;return r.stylesheets&&r.count===0&&Gp(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&Gp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Wf(){if(this.count--,this.count===0){if(this.stylesheets)Gp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Zf=null;function Gp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Zf=new Map,a.forEach(N2,r),Zf=null,Wf.call(r))}function N2(r,a){if(!(a.state.loading&4)){var o=Zf.get(r);if(o)var u=o.get(null);else{o=new Map,Zf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var w=h[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}h=a.instance,w=h.getAttribute("data-precedence"),g=o.get(w)||u,g===u&&o.set(null,h),o.set(w,h),this.count++,u=Wf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),a.state.loading|=4}}var Nu={$$typeof:q,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function D2(r,a,o,u,h,g,w,x){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function pE(r,a,o,u,h,g,w,x,j,W,oe,ce){return r=new D2(r,a,o,w,x,j,W,ce),a=1,g===!0&&(a|=24),g=er(3,null,null,a),r.current=g,g.stateNode=r,a=Rm(),a.refCount++,r.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:a},Nm(g),r}function gE(r){return r?(r=Io,r):Io}function vE(r,a,o,u,h,g){h=gE(h),u.context===null?u.context=h:u.pendingContext=h,u=ma(a),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=pa(r,u,a),o!==null&&(ar(o,r,a),ou(o,r,a))}function yE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function Yp(r,a){yE(r,a),(r=r.alternate)&&yE(r,a)}function _E(r){if(r.tag===13){var a=Co(r,67108864);a!==null&&ar(a,r,67108864),Yp(r,67108864)}}var Jf=!0;function P2(r,a,o,u){var h=z.T;z.T=null;var g=ne.p;try{ne.p=2,Kp(r,a,o,u)}finally{ne.p=g,z.T=h}}function M2(r,a,o,u){var h=z.T;z.T=null;var g=ne.p;try{ne.p=8,Kp(r,a,o,u)}finally{ne.p=g,z.T=h}}function Kp(r,a,o,u){if(Jf){var h=Xp(u);if(h===null)kp(r,a,u,eh,o),EE(r,u);else if(V2(h,r,a,o,u))u.stopPropagation();else if(EE(r,u),a&4&&-1<k2.indexOf(r)){for(;h!==null;){var g=Ur(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=xr(g.pendingLanes);if(w!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;w;){var j=1<<31-nt(w);x.entanglements[1]|=j,w&=~j}Jr(g),(Tt&6)===0&&(Lf=ve()+500,wu(0))}}break;case 13:x=Co(g,2),x!==null&&ar(x,g,2),Uf(),Yp(g,2)}if(g=Xp(u),g===null&&kp(r,a,u,eh,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else kp(r,a,u,null,o)}}function Xp(r){return r=dr(r),Qp(r)}var eh=null;function Qp(r){if(eh=null,r=Ei(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return eh=r,null}function bE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(me()){case Re:return 2;case ct:return 8;case He:case et:return 32;case It:return 268435456;default:return 32}default:return 32}}var Wp=!1,Ca=null,Ia=null,Oa=null,Du=new Map,Pu=new Map,Na=[],k2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function EE(r,a){switch(r){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":Du.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(a.pointerId)}}function Mu(r,a,o,u,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},a!==null&&(a=Ur(a),a!==null&&_E(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),r)}function V2(r,a,o,u,h){switch(a){case"focusin":return Ca=Mu(Ca,r,a,o,u,h),!0;case"dragenter":return Ia=Mu(Ia,r,a,o,u,h),!0;case"mouseover":return Oa=Mu(Oa,r,a,o,u,h),!0;case"pointerover":var g=h.pointerId;return Du.set(g,Mu(Du.get(g)||null,r,a,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,Pu.set(g,Mu(Pu.get(g)||null,r,a,o,u,h)),!0}return!1}function TE(r){var a=Ei(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,jc(r.priority,function(){if(o.tag===13){var u=ir();u=aa(u);var h=Co(o,u);h!==null&&ar(h,o,u),Yp(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function th(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=Xp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Ai=u,o.target.dispatchEvent(u),Ai=null}else return a=Ur(o),a!==null&&_E(a),r.blockedOn=o,!1;a.shift()}return!0}function SE(r,a,o){th(r)&&o.delete(a)}function L2(){Wp=!1,Ca!==null&&th(Ca)&&(Ca=null),Ia!==null&&th(Ia)&&(Ia=null),Oa!==null&&th(Oa)&&(Oa=null),Du.forEach(SE),Pu.forEach(SE)}function nh(r,a){r.blockedOn===a&&(r.blockedOn=null,Wp||(Wp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,L2)))}var rh=null;function wE(r){rh!==r&&(rh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){rh===r&&(rh=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],h=r[a+2];if(typeof u!="function"){if(Qp(u||o)===null)continue;break}var g=Ur(o);g!==null&&(r.splice(a,3),a-=3,Qm(g,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function ku(r){function a(j){return nh(j,r)}Ca!==null&&nh(Ca,r),Ia!==null&&nh(Ia,r),Oa!==null&&nh(Oa,r),Du.forEach(a),Pu.forEach(a);for(var o=0;o<Na.length;o++){var u=Na[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Na.length&&(o=Na[0],o.blockedOn===null);)TE(o),o.blockedOn===null&&Na.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],w=h[Xt]||null;if(typeof g=="function")w||wE(o);else if(w){var x=null;if(g&&g.hasAttribute("formAction")){if(h=g,w=g[Xt]||null)x=w.formAction;else if(Qp(h)!==null)continue}else x=w.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),wE(o)}}}function Zp(r){this._internalRoot=r}ih.prototype.render=Zp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=ir();vE(o,u,r,a,null,null)},ih.prototype.unmount=Zp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;vE(r.current,2,null,r,null,null),Uf(),a[fr]=null}};function ih(r){this._internalRoot=r}ih.prototype.unstable_scheduleHydration=function(r){if(r){var a=sa();r={blockedOn:null,target:r,priority:a};for(var o=0;o<Na.length&&a!==0&&a<Na[o].priority;o++);Na.splice(o,0,r),o===0&&TE(r)}};var AE=e.version;if(AE!=="19.1.0")throw Error(i(527,AE,"19.1.0"));ne.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(a),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var j2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Pe=ah.inject(j2),Ee=ah}catch{}}return Lu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",h=z_,g=B_,w=H_,x=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks)),a=pE(r,1,!1,null,null,o,u,h,g,w,x,null),r[fr]=a.current,Mp(r),new Zp(a)},Lu.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,h="",g=z_,w=B_,x=H_,j=null,W=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks),o.formState!==void 0&&(W=o.formState)),a=pE(r,1,!0,a,o??null,u,h,g,w,x,j,W),a.context=gE(null),o=a.current,u=ir(),u=aa(u),h=ma(u),h.callback=null,pa(o,h,u),o=u,a.current.lanes=o,bi(a,o),Jr(a),r[fr]=a.current,Mp(r),new ih(a)},Lu.version="19.1.0",Lu}var kE;function K2(){if(kE)return tg.exports;kE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tg.exports=Y2(),tg.exports}var X2=K2(),Q2=BS();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},oc.apply(this,arguments)}var Fa;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Fa||(Fa={}));const VE="popstate";function W2(n){n===void 0&&(n={});function e(i,s){let{pathname:l,search:c,hash:m}=i.location;return Ug("",{pathname:l,search:c,hash:m},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:jh(s)}return J2(e,t,null,n)}function rn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function HS(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z2(){return Math.random().toString(36).substr(2,8)}function LE(n,e){return{usr:n.state,key:n.key,idx:e}}function Ug(n,e,t,i){return t===void 0&&(t=null),oc({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Sl(e):e,{state:t,key:e&&e.key||i||Z2()})}function jh(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Sl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function J2(n,e,t,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,m=Fa.Pop,d=null,p=v();p==null&&(p=0,c.replaceState(oc({},c.state,{idx:p}),""));function v(){return(c.state||{idx:null}).idx}function _(){m=Fa.Pop;let N=v(),F=N==null?null:N-p;p=N,d&&d({action:m,location:V.location,delta:F})}function A(N,F){m=Fa.Push;let $=Ug(V.location,N,F);p=v()+1;let q=LE($,p),ae=V.createHref($);try{c.pushState(q,"",ae)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(ae)}l&&d&&d({action:m,location:V.location,delta:1})}function D(N,F){m=Fa.Replace;let $=Ug(V.location,N,F);p=v();let q=LE($,p),ae=V.createHref($);c.replaceState(q,"",ae),l&&d&&d({action:m,location:V.location,delta:0})}function k(N){let F=s.location.origin!=="null"?s.location.origin:s.location.href,$=typeof N=="string"?N:jh(N);return $=$.replace(/ $/,"%20"),rn(F,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,F)}let V={get action(){return m},get location(){return n(s,c)},listen(N){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(VE,_),d=N,()=>{s.removeEventListener(VE,_),d=null}},createHref(N){return e(s,N)},createURL:k,encodeLocation(N){let F=k(N);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:A,replace:D,go(N){return c.go(N)}};return V}var jE;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(jE||(jE={}));function eI(n,e,t){return t===void 0&&(t="/"),tI(n,e,t)}function tI(n,e,t,i){let s=typeof e=="string"?Sl(e):e,l=qv(s.pathname||"/",t);if(l==null)return null;let c=qS(n);nI(c);let m=null;for(let d=0;m==null&&d<c.length;++d){let p=mI(l);m=fI(c[d],p)}return m}function qS(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let s=(l,c,m)=>{let d={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(rn(d.relativePath.startsWith(i),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(i.length));let p=Ba([i,d.relativePath]),v=t.concat(d);l.children&&l.children.length>0&&(rn(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),qS(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:uI(p,l.index),routesMeta:v})};return n.forEach((l,c)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))s(l,c);else for(let d of $S(l.path))s(l,c,d)}),e}function $S(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=$S(i.join("/")),m=[];return m.push(...c.map(d=>d===""?l:[l,d].join("/"))),s&&m.push(...c),m.map(d=>n.startsWith("/")&&d===""?"/":d)}function nI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:cI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const rI=/^:[\w-]+$/,iI=3,aI=2,sI=1,oI=10,lI=-2,UE=n=>n==="*";function uI(n,e){let t=n.split("/"),i=t.length;return t.some(UE)&&(i+=lI),e&&(i+=aI),t.filter(s=>!UE(s)).reduce((s,l)=>s+(rI.test(l)?iI:l===""?sI:oI),i)}function cI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function fI(n,e,t){let{routesMeta:i}=n,s={},l="/",c=[];for(let m=0;m<i.length;++m){let d=i[m],p=m===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=hI({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},v),A=d.route;if(!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:Ba([l,_.pathname]),pathnameBase:yI(Ba([l,_.pathnameBase])),route:A}),_.pathnameBase!=="/"&&(l=Ba([l,_.pathnameBase]))}return c}function hI(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=dI(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:i.reduce((p,v,_)=>{let{paramName:A,isOptional:D}=v;if(A==="*"){let V=m[_]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const k=m[_];return D&&!k?p[A]=void 0:p[A]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function dI(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),HS(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,d)=>(i.push({paramName:m,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function mI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return HS(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function qv(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function pI(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Sl(n):n;return{pathname:t?t.startsWith("/")?t:gI(t,e):e,search:_I(i),hash:bI(s)}}function gI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function ag(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function GS(n,e){let t=vI(n);return e?t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function YS(n,e,t,i){i===void 0&&(i=!1);let s;typeof n=="string"?s=Sl(n):(s=oc({},n),rn(!s.pathname||!s.pathname.includes("?"),ag("?","pathname","search",s)),rn(!s.pathname||!s.pathname.includes("#"),ag("#","pathname","hash",s)),rn(!s.search||!s.search.includes("#"),ag("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,m;if(c==null)m=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),_-=1;s.pathname=A.join("/")}m=_>=0?e[_]:"/"}let d=pI(s,m),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||v)&&(d.pathname+="/"),d}const Ba=n=>n.join("/").replace(/\/\/+/g,"/"),yI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_I=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,bI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function EI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const KS=["post","put","patch","delete"];new Set(KS);const TI=["get",...KS];new Set(TI);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lc.apply(this,arguments)}const $v=U.createContext(null),SI=U.createContext(null),eo=U.createContext(null),yd=U.createContext(null),as=U.createContext({outlet:null,matches:[],isDataRoute:!1}),XS=U.createContext(null);function wI(n,e){let{relative:t}=e===void 0?{}:e;Sc()||rn(!1);let{basename:i,navigator:s}=U.useContext(eo),{hash:l,pathname:c,search:m}=WS(n,{relative:t}),d=c;return i!=="/"&&(d=c==="/"?i:Ba([i,c])),s.createHref({pathname:d,search:m,hash:l})}function Sc(){return U.useContext(yd)!=null}function _d(){return Sc()||rn(!1),U.useContext(yd).location}function QS(n){U.useContext(eo).static||U.useLayoutEffect(n)}function wc(){let{isDataRoute:n}=U.useContext(as);return n?UI():AI()}function AI(){Sc()||rn(!1);let n=U.useContext($v),{basename:e,future:t,navigator:i}=U.useContext(eo),{matches:s}=U.useContext(as),{pathname:l}=_d(),c=JSON.stringify(GS(s,t.v7_relativeSplatPath)),m=U.useRef(!1);return QS(()=>{m.current=!0}),U.useCallback(function(p,v){if(v===void 0&&(v={}),!m.current)return;if(typeof p=="number"){i.go(p);return}let _=YS(p,JSON.parse(c),l,v.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ba([e,_.pathname])),(v.replace?i.replace:i.push)(_,v.state,v)},[e,i,c,l,n])}const xI=U.createContext(null);function RI(n){let e=U.useContext(as).outlet;return e&&U.createElement(xI.Provider,{value:n},e)}function WS(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=U.useContext(eo),{matches:s}=U.useContext(as),{pathname:l}=_d(),c=JSON.stringify(GS(s,i.v7_relativeSplatPath));return U.useMemo(()=>YS(n,JSON.parse(c),l,t==="path"),[n,c,l,t])}function CI(n,e){return II(n,e)}function II(n,e,t,i){Sc()||rn(!1);let{navigator:s,static:l}=U.useContext(eo),{matches:c}=U.useContext(as),m=c[c.length-1],d=m?m.params:{};m&&m.pathname;let p=m?m.pathnameBase:"/";m&&m.route;let v=_d(),_;if(e){var A;let F=typeof e=="string"?Sl(e):e;p==="/"||(A=F.pathname)!=null&&A.startsWith(p)||rn(!1),_=F}else _=v;let D=_.pathname||"/",k=D;if(p!=="/"){let F=p.replace(/^\//,"").split("/");k="/"+D.replace(/^\//,"").split("/").slice(F.length).join("/")}let V=eI(n,{pathname:k}),N=MI(V&&V.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:Ba([p,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:Ba([p,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),c,t,i);return e&&N?U.createElement(yd.Provider,{value:{location:lc({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Fa.Pop}},N):N}function OI(){let n=jI(),e=EI(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:s},t):null,null)}const NI=U.createElement(OI,null);class DI extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?U.createElement(as.Provider,{value:this.props.routeContext},U.createElement(XS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PI(n){let{routeContext:e,match:t,children:i}=n,s=U.useContext($v);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(as.Provider,{value:e},i)}function MI(n,e,t,i){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,m=(s=t)==null?void 0:s.errors;if(m!=null){let v=c.findIndex(_=>_.route.id&&(m==null?void 0:m[_.route.id])!==void 0);v>=0||rn(!1),c=c.slice(0,Math.min(c.length,v+1))}let d=!1,p=-1;if(t&&i&&i.v7_partialHydration)for(let v=0;v<c.length;v++){let _=c[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=v),_.route.id){let{loaderData:A,errors:D}=t,k=_.route.loader&&A[_.route.id]===void 0&&(!D||D[_.route.id]===void 0);if(_.route.lazy||k){d=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((v,_,A)=>{let D,k=!1,V=null,N=null;t&&(D=m&&_.route.id?m[_.route.id]:void 0,V=_.route.errorElement||NI,d&&(p<0&&A===0?(FI("route-fallback"),k=!0,N=null):p===A&&(k=!0,N=_.route.hydrateFallbackElement||null)));let F=e.concat(c.slice(0,A+1)),$=()=>{let q;return D?q=V:k?q=N:_.route.Component?q=U.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=v,U.createElement(PI,{match:_,routeContext:{outlet:v,matches:F,isDataRoute:t!=null},children:q})};return t&&(_.route.ErrorBoundary||_.route.errorElement||A===0)?U.createElement(DI,{location:t.location,revalidation:t.revalidation,component:V,error:D,children:$(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):$()},null)}var ZS=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(ZS||{}),JS=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(JS||{});function kI(n){let e=U.useContext($v);return e||rn(!1),e}function VI(n){let e=U.useContext(SI);return e||rn(!1),e}function LI(n){let e=U.useContext(as);return e||rn(!1),e}function ew(n){let e=LI(),t=e.matches[e.matches.length-1];return t.route.id||rn(!1),t.route.id}function jI(){var n;let e=U.useContext(XS),t=VI(),i=ew();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function UI(){let{router:n}=kI(ZS.UseNavigateStable),e=ew(JS.UseNavigateStable),t=U.useRef(!1);return QS(()=>{t.current=!0}),U.useCallback(function(s,l){l===void 0&&(l={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,lc({fromRouteId:e},l)))},[n,e])}const FE={};function FI(n,e,t){FE[n]||(FE[n]=!0)}function zI(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Gv(n){return RI(n.context)}function yn(n){rn(!1)}function BI(n){let{basename:e="/",children:t=null,location:i,navigationType:s=Fa.Pop,navigator:l,static:c=!1,future:m}=n;Sc()&&rn(!1);let d=e.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:d,navigator:l,static:c,future:lc({v7_relativeSplatPath:!1},m)}),[d,m,l,c]);typeof i=="string"&&(i=Sl(i));let{pathname:v="/",search:_="",hash:A="",state:D=null,key:k="default"}=i,V=U.useMemo(()=>{let N=qv(v,d);return N==null?null:{location:{pathname:N,search:_,hash:A,state:D,key:k},navigationType:s}},[d,v,_,A,D,k,s]);return V==null?null:U.createElement(eo.Provider,{value:p},U.createElement(yd.Provider,{children:t,value:V}))}function HI(n){let{children:e,location:t}=n;return CI(Fg(e),t)}new Promise(()=>{});function Fg(n,e){e===void 0&&(e=[]);let t=[];return U.Children.forEach(n,(i,s)=>{if(!U.isValidElement(i))return;let l=[...e,s];if(i.type===U.Fragment){t.push.apply(t,Fg(i.props.children,l));return}i.type!==yn&&rn(!1),!i.props.index||!i.props.children||rn(!1);let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Fg(i.props.children,l)),t.push(c)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zg.apply(this,arguments)}function qI(n,e){if(n==null)return{};var t={},i=Object.keys(n),s,l;for(l=0;l<i.length;l++)s=i[l],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function $I(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function GI(n,e){return n.button===0&&(!e||e==="_self")&&!$I(n)}const YI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KI="6";try{window.__reactRouterVersion=KI}catch{}const XI="startTransition",zE=jg[XI];function QI(n){let{basename:e,children:t,future:i,window:s}=n,l=U.useRef();l.current==null&&(l.current=W2({window:s,v5Compat:!0}));let c=l.current,[m,d]=U.useState({action:c.action,location:c.location}),{v7_startTransition:p}=i||{},v=U.useCallback(_=>{p&&zE?zE(()=>d(_)):d(_)},[d,p]);return U.useLayoutEffect(()=>c.listen(v),[c,v]),U.useEffect(()=>zI(i),[i]),U.createElement(BI,{basename:e,children:t,location:m.location,navigationType:m.action,navigator:c,future:i})}const WI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bd=U.forwardRef(function(e,t){let{onClick:i,relative:s,reloadDocument:l,replace:c,state:m,target:d,to:p,preventScrollReset:v,viewTransition:_}=e,A=qI(e,YI),{basename:D}=U.useContext(eo),k,V=!1;if(typeof p=="string"&&ZI.test(p)&&(k=p,WI))try{let q=new URL(window.location.href),ae=p.startsWith("//")?new URL(q.protocol+p):new URL(p),H=qv(ae.pathname,D);ae.origin===q.origin&&H!=null?p=H+ae.search+ae.hash:V=!0}catch{}let N=wI(p,{relative:s}),F=JI(p,{replace:c,state:m,target:d,preventScrollReset:v,relative:s,viewTransition:_});function $(q){i&&i(q),q.defaultPrevented||F(q)}return U.createElement("a",zg({},A,{href:k||N,onClick:V||l?i:$,ref:t,target:d}))});var BE;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(BE||(BE={}));var HE;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(HE||(HE={}));function JI(n,e){let{target:t,replace:i,state:s,preventScrollReset:l,relative:c,viewTransition:m}=e===void 0?{}:e,d=wc(),p=_d(),v=WS(n,{relative:c});return U.useCallback(_=>{if(GI(_,t)){_.preventDefault();let A=i!==void 0?i:jh(p)===jh(v);d(n,{replace:A,state:s,preventScrollReset:l,relative:c,viewTransition:m})}},[p,d,v,i,s,t,n,l,c,m])}const eO=()=>{};var qE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},tO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],m=n[t++],d=((s&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,m=c?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,v=l>>2,_=(l&3)<<4|m>>4;let A=(m&15)<<2|p>>6,D=p&63;d||(D=64,c||(A=64)),i.push(t[v],t[_],t[A],t[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],m=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||m==null||p==null||_==null)throw new nO;const A=l<<2|m>>4;if(i.push(A),p!==64){const D=m<<4&240|p>>2;if(i.push(D),_!==64){const k=p<<6&192|_;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rO=function(n){const e=tw(n);return nw.encodeByteArray(e,!0)},Uh=function(n){return rO(n).replace(/\./g,"")},rw=function(n){try{return nw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=()=>iO().__FIREBASE_DEFAULTS__,sO=()=>{if(typeof process>"u"||typeof qE>"u")return;const n=qE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},oO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&rw(n[1]);return e&&JSON.parse(e)},Ed=()=>{try{return eO()||aO()||sO()||oO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},iw=n=>{var e,t;return(t=(e=Ed())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},aw=n=>{const e=iw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},sw=()=>{var n;return(n=Ed())===null||n===void 0?void 0:n.config},ow=n=>{var e;return(e=Ed())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yv(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Uh(JSON.stringify(t)),Uh(JSON.stringify(c)),""].join(".")}const Wu={};function uO(){const n={prod:[],emulator:[]};for(const e of Object.keys(Wu))Wu[e]?n.emulator.push(e):n.prod.push(e);return n}function cO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let $E=!1;function Kv(n,e){if(typeof window>"u"||typeof document>"u"||!ss(window.location.host)||Wu[n]===e||Wu[n]||$E)return;Wu[n]=e;function t(A){return`__firebase__banner__${A}`}const i="__firebase__banner",l=uO().prod.length>0;function c(){const A=document.getElementById(i);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function d(A,D){A.setAttribute("width","24"),A.setAttribute("id",D),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{$E=!0,c()},A}function v(A,D){A.setAttribute("id",D),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function _(){const A=cO(i),D=t("text"),k=document.getElementById(D)||document.createElement("span"),V=t("learnmore"),N=document.getElementById(V)||document.createElement("a"),F=t("preprendIcon"),$=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const q=A.element;m(q),v(N,V);const ae=p();d($,F),q.append($,k,N,ae),document.body.appendChild(q)}l?(k.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function hO(){var n;const e=(n=Ed())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gO(){const n=Vn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vO(){return!hO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yO(){try{return typeof indexedDB=="object"}catch{return!1}}function _O(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="FirebaseError";class yi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=bO,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?EO(l,i):"Error",m=`${this.serviceName}: ${c} (${s}).`;return new yi(s,m,i)}}function EO(n,e){return n.replace(TO,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const TO=/\{\$([^}]+)}/g;function SO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(GE(l)&&GE(c)){if(!Gs(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function GE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Hu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function qu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function wO(n,e){const t=new AO(n,e);return t.subscribe.bind(t)}class AO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");xO(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=sg),s.error===void 0&&(s.error=sg),s.complete===void 0&&(s.complete=sg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(n){return n&&n._delegate?n._delegate:n}class Ka{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new lO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IO(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);i===m&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:CO(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CO(n){return n===Fs?void 0:n}function IO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new RO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(st||(st={}));const NO={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},DO=st.INFO,PO={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},MO=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=PO[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xv{constructor(e){this.name=e,this._logLevel=DO,this._logHandler=MO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const kO=(n,e)=>e.some(t=>n instanceof t);let YE,KE;function VO(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LO(){return KE||(KE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uw=new WeakMap,Bg=new WeakMap,cw=new WeakMap,og=new WeakMap,Qv=new WeakMap;function jO(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ha(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&uw.set(t,n)}).catch(()=>{}),Qv.set(e,n),e}function UO(n){if(Bg.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Bg.set(n,e)}let Hg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Bg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ha(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function FO(n){Hg=n(Hg)}function zO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(lg(this),e,...t);return cw.set(i,e.sort?e.sort():[e]),Ha(i)}:LO().includes(n)?function(...e){return n.apply(lg(this),e),Ha(uw.get(this))}:function(...e){return Ha(n.apply(lg(this),e))}}function BO(n){return typeof n=="function"?zO(n):(n instanceof IDBTransaction&&UO(n),kO(n,VO())?new Proxy(n,Hg):n)}function Ha(n){if(n instanceof IDBRequest)return jO(n);if(og.has(n))return og.get(n);const e=BO(n);return e!==n&&(og.set(n,e),Qv.set(e,n)),e}const lg=n=>Qv.get(n);function HO(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),m=Ha(c);return i&&c.addEventListener("upgradeneeded",d=>{i(Ha(c.result),d.oldVersion,d.newVersion,Ha(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),m.then(d=>{l&&d.addEventListener("close",()=>l()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const qO=["get","getKey","getAll","getAllKeys","count"],$O=["put","add","delete","clear"],ug=new Map;function XE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=$O.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||qO.includes(t)))return;const l=async function(c,...m){const d=this.transaction(c,s?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),s&&d.done]))[0]};return ug.set(e,l),l}FO(n=>({...n,get:(e,t,i)=>XE(e,t)||n.get(e,t,i),has:(e,t)=>!!XE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YO(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function YO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qg="@firebase/app",QE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Xv("@firebase/app"),KO="@firebase/app-compat",XO="@firebase/analytics-compat",QO="@firebase/analytics",WO="@firebase/app-check-compat",ZO="@firebase/app-check",JO="@firebase/auth",eN="@firebase/auth-compat",tN="@firebase/database",nN="@firebase/data-connect",rN="@firebase/database-compat",iN="@firebase/functions",aN="@firebase/functions-compat",sN="@firebase/installations",oN="@firebase/installations-compat",lN="@firebase/messaging",uN="@firebase/messaging-compat",cN="@firebase/performance",fN="@firebase/performance-compat",hN="@firebase/remote-config",dN="@firebase/remote-config-compat",mN="@firebase/storage",pN="@firebase/storage-compat",gN="@firebase/firestore",vN="@firebase/ai",yN="@firebase/firestore-compat",_N="firebase",bN="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="[DEFAULT]",EN={[qg]:"fire-core",[KO]:"fire-core-compat",[QO]:"fire-analytics",[XO]:"fire-analytics-compat",[ZO]:"fire-app-check",[WO]:"fire-app-check-compat",[JO]:"fire-auth",[eN]:"fire-auth-compat",[tN]:"fire-rtdb",[nN]:"fire-data-connect",[rN]:"fire-rtdb-compat",[iN]:"fire-fn",[aN]:"fire-fn-compat",[sN]:"fire-iid",[oN]:"fire-iid-compat",[lN]:"fire-fcm",[uN]:"fire-fcm-compat",[cN]:"fire-perf",[fN]:"fire-perf-compat",[hN]:"fire-rc",[dN]:"fire-rc-compat",[mN]:"fire-gcs",[pN]:"fire-gcs-compat",[gN]:"fire-fst",[yN]:"fire-fst-compat",[vN]:"fire-vertex","fire-js":"fire-js",[_N]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new Map,TN=new Map,Gg=new Map;function WE(n,e){try{n.container.addComponent(e)}catch(t){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ys(n){const e=n.name;if(Gg.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Gg.set(e,n);for(const t of Fh.values())WE(t,n);for(const t of TN.values())WE(t,n);return!0}function Td(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function sr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qa=new Ac("app","Firebase",SN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=bN;function fw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:$g,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw qa.create("bad-app-name",{appName:String(s)});if(t||(t=sw()),!t)throw qa.create("no-options");const l=Fh.get(s);if(l){if(Gs(t,l.options)&&Gs(i,l.config))return l;throw qa.create("duplicate-app",{appName:s})}const c=new OO(s);for(const d of Gg.values())c.addComponent(d);const m=new wN(t,i,c);return Fh.set(s,m),m}function Wv(n=$g){const e=Fh.get(n);if(!e&&n===$g&&sw())return fw();if(!e)throw qa.create("no-app",{appName:n});return e}function li(n,e,t){var i;let s=(i=EN[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const m=[`Unable to register library "${s}" with version "${e}":`];l&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(m.join(" "));return}Ys(new Ka(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="firebase-heartbeat-database",xN=1,uc="firebase-heartbeat-store";let cg=null;function hw(){return cg||(cg=HO(AN,xN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uc)}catch(t){console.warn(t)}}}}).catch(n=>{throw qa.create("idb-open",{originalErrorMessage:n.message})})),cg}async function RN(n){try{const t=(await hw()).transaction(uc),i=await t.objectStore(uc).get(dw(n));return await t.done,i}catch(e){if(e instanceof yi)Xi.warn(e.message);else{const t=qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(t.message)}}}async function ZE(n,e){try{const i=(await hw()).transaction(uc,"readwrite");await i.objectStore(uc).put(e,dw(n)),await i.done}catch(t){if(t instanceof yi)Xi.warn(t.message);else{const i=qa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Xi.warn(i.message)}}}function dw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=1024,IN=30;class ON{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=JE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>IN){const c=PN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=JE(),{heartbeatsToSend:i,unsentEntries:s}=NN(this._heartbeatsCache.heartbeats),l=Uh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Xi.warn(t),""}}}function JE(){return new Date().toISOString().substring(0,10)}function NN(n,e=CN){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),e1(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),e1(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class DN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yO()?_O().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function e1(n){return Uh(JSON.stringify({version:2,heartbeats:n})).length}function PN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n){Ys(new Ka("platform-logger",e=>new GO(e),"PRIVATE")),Ys(new Ka("heartbeat",e=>new ON(e),"PRIVATE")),li(qg,QE,n),li(qg,QE,"esm2017"),li("fire-js","")}MN("");function Zv(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function mw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kN=mw,pw=new Ac("auth","Firebase",mw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Xv("@firebase/auth");function VN(n,...e){zh.logLevel<=st.WARN&&zh.warn(`Auth (${to}): ${n}`,...e)}function Eh(n,...e){zh.logLevel<=st.ERROR&&zh.error(`Auth (${to}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(n,...e){throw ey(n,...e)}function Pr(n,...e){return ey(n,...e)}function Jv(n,e,t){const i=Object.assign(Object.assign({},kN()),{[e]:t});return new Ac("auth","Firebase",i).create(e,{appName:n.name})}function $a(n){return Jv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LN(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ar(n,"argument-error"),Jv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ey(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return pw.create(n,...e)}function Le(n,e,...t){if(!n)throw ey(e,...t)}function $i(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Eh(e),new Error(e)}function Qi(n,e){n||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function jN(){return t1()==="http:"||t1()==="https:"}function t1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jN()||mO()||"connection"in navigator)?navigator.onLine:!0}function FN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qi(t>e,"Short delay should be less than long delay!"),this.isMobile=fO()||pO()}get(){return UN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(n,e){Qi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HN=new Rc(3e4,6e4);function no(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function os(n,e,t,i,s={}){return vw(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const m=xc(Object.assign({key:n.config.apiKey},c)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},l);return dO()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&ss(n.emulatorConfig.host)&&(p.credentials="include"),gw.fetch()(await yw(n,n.config.apiHost,t,m),p)})}async function vw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},zN),e);try{const s=new $N(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw sh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[d,p]=m.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw sh(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw sh(n,"user-disabled",c);const v=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Jv(n,v,p);Ar(n,v)}}catch(s){if(s instanceof yi)throw s;Ar(n,"network-request-failed",{message:String(s)})}}async function Sd(n,e,t,i,s={}){const l=await os(n,e,t,i,s);return"mfaPendingCredential"in l&&Ar(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function yw(n,e,t,i){const s=`${e}${t}?${i}`,l=n,c=l.config.emulator?ty(n.config,s):`${n.config.apiScheme}://${s}`;return BN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function qN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $N{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Pr(this.auth,"network-request-failed")),HN.get())})}}function sh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Pr(n,e,i);return s.customData._tokenResponse=t,s}function n1(n){return n!==void 0&&n.enterprise!==void 0}class GN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YN(n,e){return os(n,"GET","/v2/recaptchaConfig",no(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(n,e){return os(n,"POST","/v1/accounts:delete",e)}async function Bh(n,e){return os(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XN(n,e=!1){const t=Bt(n),i=await t.getIdToken(e),s=ny(i);Le(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:i,authTime:Zu(fg(s.auth_time)),issuedAtTime:Zu(fg(s.iat)),expirationTime:Zu(fg(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function fg(n){return Number(n)*1e3}function ny(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const s=rw(t);return s?JSON.parse(s):(Eh("Failed to decode base64 JWT payload"),null)}catch(s){return Eh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function r1(n){const e=ny(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof yi&&QN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function QN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(n){var e;const t=n.auth,i=await n.getIdToken(),s=await cc(n,Bh(t,{idToken:i}));Le(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?_w(l.providerUserInfo):[],m=JN(n.providerData,c),d=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(m!=null&&m.length),v=d?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new Kg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,_)}async function ZN(n){const e=Bt(n);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JN(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function _w(n){return n.map(e=>{var{providerId:t}=e,i=Zv(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(n,e){const t=await vw(n,{},async()=>{const i=xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await yw(n,s,"/v1/token",`key=${l}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:m,body:i};return n.emulatorConfig&&ss(n.emulatorConfig.host)&&(d.credentials="include"),gw.fetch()(c,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tD(n,e){return os(n,"POST","/v2/accounts:revokeToken",no(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=r1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await eD(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new ol;return i&&(Le(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Le(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Le(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,l=Zv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Kg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await cc(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return XN(this,e)}reload(){return ZN(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Hh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject($a(this.auth));const e=await this.getIdToken();return await cc(this,KN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,l,c,m,d,p,v;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,A=(s=t.email)!==null&&s!==void 0?s:void 0,D=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,k=(c=t.photoURL)!==null&&c!==void 0?c:void 0,V=(m=t.tenantId)!==null&&m!==void 0?m:void 0,N=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,F=(p=t.createdAt)!==null&&p!==void 0?p:void 0,$=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:q,emailVerified:ae,isAnonymous:H,providerData:J,stsTokenManager:C}=t;Le(q&&C,e,"internal-error");const E=ol.fromJSON(this.name,C);Le(typeof q=="string",e,"internal-error"),Pa(_,e.name),Pa(A,e.name),Le(typeof ae=="boolean",e,"internal-error"),Le(typeof H=="boolean",e,"internal-error"),Pa(D,e.name),Pa(k,e.name),Pa(V,e.name),Pa(N,e.name),Pa(F,e.name),Pa($,e.name);const S=new Dr({uid:q,auth:e,email:A,emailVerified:ae,displayName:_,isAnonymous:H,photoURL:k,phoneNumber:D,tenantId:V,stsTokenManager:E,createdAt:F,lastLoginAt:$});return J&&Array.isArray(J)&&(S.providerData=J.map(R=>Object.assign({},R))),N&&(S._redirectEventId=N),S}static async _fromIdTokenResponse(e,t,i=!1){const s=new ol;s.updateFromServerResponse(t);const l=new Dr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Hh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Le(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?_w(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),m=new ol;m.updateFromIdToken(i);const d=new Dr({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Kg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=new Map;function Gi(n){Qi(n instanceof Function,"Expected a class definition");let e=i1.get(n);return e?(Qi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,i1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bw.type="NONE";const a1=bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(n,e,t){return`firebase:${n}:${e}:${t}`}class ll{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=Th(this.userKey,s.apiKey,l),this.fullPersistenceKey=Th("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bh(this.auth,{idToken:e}).catch(()=>{});return t?Dr._fromGetAccountInfoResponse(this.auth,t,e):null}return Dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ll(Gi(a1),e,i);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=s[0]||Gi(a1);const c=Th(i,e.config.apiKey,e.name);let m=null;for(const p of t)try{const v=await p._get(c);if(v){let _;if(typeof v=="string"){const A=await Bh(e,{idToken:v}).catch(()=>{});if(!A)break;_=await Dr._fromGetAccountInfoResponse(e,A,v)}else _=Dr._fromJSON(e,v);p!==l&&(m=_),l=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new ll(l,e,i):(l=d[0],m&&await l._set(c,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new ll(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ww(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ew(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xw(e))return"Blackberry";if(Rw(e))return"Webos";if(Tw(e))return"Safari";if((e.includes("chrome/")||Sw(e))&&!e.includes("edge/"))return"Chrome";if(Aw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Ew(n=Vn()){return/firefox\//i.test(n)}function Tw(n=Vn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sw(n=Vn()){return/crios\//i.test(n)}function ww(n=Vn()){return/iemobile/i.test(n)}function Aw(n=Vn()){return/android/i.test(n)}function xw(n=Vn()){return/blackberry/i.test(n)}function Rw(n=Vn()){return/webos/i.test(n)}function ry(n=Vn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nD(n=Vn()){var e;return ry(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rD(){return gO()&&document.documentMode===10}function Cw(n=Vn()){return ry(n)||Aw(n)||Rw(n)||xw(n)||/windows phone/i.test(n)||ww(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(n,e=[]){let t;switch(n){case"Browser":t=s1(Vn());break;case"Worker":t=`${s1(Vn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${to}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,m)=>{try{const d=e(l);c(d)}catch(d){m(d)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(n,e={}){return os(n,"GET","/v2/passwordPolicy",no(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=6;class oD{constructor(e){var t,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:sD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,l,c,m;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(m=d.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),d}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o1(this),this.idTokenSubscription=new o1(this),this.beforeStateQueue=new iD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gi(t)),this._initializationPromise=this.queue(async()=>{var i,s,l;if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bh(this,{idToken:e}),i=await Dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(sr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===m)&&(d!=null&&d.user)&&(s=d.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject($a(this));const t=e?Bt(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject($a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject($a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aD(this),t=new oD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ac("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await tD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gi(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[Gi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,s);return()=>{c=!0,d()}}else{const d=e.addObserver(t);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&VN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ro(n){return Bt(n)}class o1{constructor(e){this.auth=e,this.observer=null,this.addObserver=wO(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uD(n){wd=n}function Ow(n){return wd.loadJS(n)}function cD(){return wd.recaptchaEnterpriseScript}function fD(){return wd.gapiScript}function hD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class dD{constructor(){this.enterprise=new mD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class mD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const pD="recaptcha-enterprise",Nw="NO_RECAPTCHA";class gD{constructor(e){this.type=pD,this.auth=ro(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{YN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new GN(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(d=>{m(d)})})}function s(l,c,m){const d=window.grecaptcha;n1(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Nw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(m=>{if(!t&&n1(window.grecaptcha))s(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=cD();d.length!==0&&(d+=m),Ow(d).then(()=>{s(m,l,c)}).catch(p=>{c(p)})}}).catch(m=>{c(m)})})}}async function l1(n,e,t,i=!1,s=!1){const l=new gD(n);let c;if(s)c=Nw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const d=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const d=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function u1(n,e,t,i,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await l1(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await l1(n,e,t,t==="getOobCode");return i(n,m)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(n,e){const t=Td(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(Gs(l,e??{}))return s;Ar(s,"already-initialized")}return t.initialize({options:e})}function yD(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Gi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function _D(n,e,t){const i=ro(n);Le(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=Dw(e),{host:c,port:m}=bD(e),d=m===null?"":`:${m}`,p={url:`${l}//${c}${d}/`},v=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Le(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Le(Gs(p,i.config.emulator)&&Gs(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,ss(c)?(Yv(`${l}//${c}${d}`),Kv("Auth",!0)):ED()}function Dw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function bD(n){const e=Dw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:c1(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:c1(c)}}}function c1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ED(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,t){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function TD(n,e){return os(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(n,e){return Sd(n,"POST","/v1/accounts:signInWithPassword",no(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(n,e){return Sd(n,"POST","/v1/accounts:signInWithEmailLink",no(n,e))}async function AD(n,e){return Sd(n,"POST","/v1/accounts:signInWithEmailLink",no(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends iy{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new fc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new fc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u1(e,t,"signInWithPassword",SD);case"emailLink":return wD(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u1(e,i,"signUpPassword",TD);case"emailLink":return AD(e,{idToken:t,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(n,e){return Sd(n,"POST","/v1/accounts:signInWithIdp",no(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="http://localhost";class Wi extends iy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ar("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,l=Zv(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new Wi(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ul(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ul(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ul(e,t)}buildRequest(){const e={requestUri:xD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CD(n){const e=Hu(qu(n)).link,t=e?Hu(qu(e)).deep_link_id:null,i=Hu(qu(n)).deep_link_id;return(i?Hu(qu(i)).link:null)||i||t||e||n}class ay{constructor(e){var t,i,s,l,c,m;const d=Hu(qu(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,v=(i=d.oobCode)!==null&&i!==void 0?i:null,_=RD((s=d.mode)!==null&&s!==void 0?s:null);Le(p&&v&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=v,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=d.lang)!==null&&c!==void 0?c:null,this.tenantId=(m=d.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=CD(e);try{return new ay(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,t){return fc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=ay.parseLink(t);return Le(i,"argument-error"),fc._fromEmailAndCode(e,i.code,i.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ju extends wl{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Le("providerId"in t&&"signInMethod"in t,"argument-error"),Wi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Le(e.idToken||e.accessToken,"argument-error"),Wi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ju.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ju.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:l,nonce:c,providerId:m}=e;if(!i&&!s&&!t&&!l||!m)return null;try{return new Ju(m)._credential({idToken:t,accessToken:i,nonce:c,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends wl{constructor(){super("facebook.com")}static credential(e){return Wi._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ka.credential(e.oauthAccessToken)}catch{return null}}}ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wi._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Va.credential(t,i)}catch{return null}}}Va.GOOGLE_SIGN_IN_METHOD="google.com";Va.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends wl{constructor(){super("github.com")}static credential(e){return Wi._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return La.credential(e.oauthAccessToken)}catch{return null}}}La.GITHUB_SIGN_IN_METHOD="github.com";La.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends wl{constructor(){super("twitter.com")}static credential(e,t){return Wi._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ja.credential(t,i)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await Dr._fromIdTokenResponse(e,i,s),c=f1(i);return new ml({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=f1(i);return new ml({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function f1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends yi{constructor(e,t,i,s){var l;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new qh(e,t,i,s)}}function Pw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(n,l,e,i):l})}async function ID(n,e,t=!1){const i=await cc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ml._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(n,e,t=!1){const{auth:i}=n;if(sr(i.app))return Promise.reject($a(i));const s="reauthenticate";try{const l=await cc(n,Pw(i,s,e,n),t);Le(l.idToken,i,"internal-error");const c=ny(l.idToken);Le(c,i,"internal-error");const{sub:m}=c;return Le(n.uid===m,i,"user-mismatch"),ml._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ar(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(n,e,t=!1){if(sr(n.app))return Promise.reject($a(n));const i="signIn",s=await Pw(n,i,e),l=await ml._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function OD(n,e){return kw(ro(n),e)}async function ND(n,e){return Mw(Bt(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(n){const e=ro(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function PD(n,e,t){return sr(n.app)?Promise.reject($a(n)):OD(Bt(n),io.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&DD(n),i})}function MD(n,e,t,i){return Bt(n).onIdTokenChanged(e,t,i)}function kD(n,e,t){return Bt(n).beforeAuthStateChanged(e,t)}function Vw(n,e,t,i){return Bt(n).onAuthStateChanged(e,t,i)}function VD(n){return Bt(n).signOut()}const $h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=1e3,jD=10;class jw extends Lw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,d)=>{this.notifyListeners(c,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);rD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jD):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jw.type="LOCAL";const UD=jw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw extends Lw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Uw.type="SESSION";const Fw=Uw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Ad(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const m=Array.from(c).map(async p=>p(t.origin,l)),d=await FD(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((m,d)=>{const p=oy("",20);s.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(_){const A=_;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(A.data.response);break;default:clearTimeout(v),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function BD(n){ui().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function HD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function $D(){return zw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="firebaseLocalStorageDb",GD=1,Gh="firebaseLocalStorage",Hw="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xd(n,e){return n.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function YD(){const n=indexedDB.deleteDatabase(Bw);return new Cc(n).toPromise()}function Xg(){const n=indexedDB.open(Bw,GD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Gh,{keyPath:Hw})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Gh)?e(i):(i.close(),await YD(),e(await Xg()))})})}async function h1(n,e,t){const i=xd(n,!0).put({[Hw]:e,value:t});return new Cc(i).toPromise()}async function KD(n,e){const t=xd(n,!1).get(e),i=await new Cc(t).toPromise();return i===void 0?null:i.value}function d1(n,e){const t=xd(n,!0).delete(e);return new Cc(t).toPromise()}const XD=800,QD=3;class qw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>QD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ad._getInstance($D()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await HD(),!this.activeServiceWorker)return;this.sender=new zD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xg();return await h1(e,$h,"1"),await d1(e,$h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>h1(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>KD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>d1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=xd(s,!1).getAll();return new Cc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qw.type="LOCAL";const WD=qw;new Rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(n,e){return e?Gi(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly extends iy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ul(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZD(n){return kw(n.auth,new ly(n),n.bypassAuthState)}function JD(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),Mw(t,new ly(n),n.bypassAuthState)}async function eP(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),ID(t,new ly(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZD;case"linkViaPopup":case"linkViaRedirect":return eP;case"reauthViaPopup":case"reauthViaRedirect":return JD;default:Ar(this.auth,"internal-error")}}resolve(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=new Rc(2e3,1e4);async function nP(n,e,t){if(sr(n.app))return Promise.reject(Pr(n,"operation-not-supported-in-this-environment"));const i=ro(n);LN(n,e,sy);const s=$w(i,t);return new zs(i,"signInViaPopup",e,s).executeNotNull()}class zs extends Gw{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,zs.currentPopupAction&&zs.currentPopupAction.cancel(),zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const e=oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tP.get())};e()}}zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="pendingRedirect",Sh=new Map;class iP extends Gw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const i=await aP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aP(n,e){const t=lP(e),i=oP(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function sP(n,e){Sh.set(n._key(),e)}function oP(n){return Gi(n._redirectPersistence)}function lP(n){return Th(rP,n.config.apiKey,n.name)}async function uP(n,e,t=!1){if(sr(n.app))return Promise.reject($a(n));const i=ro(n),s=$w(i,e),c=await new iP(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=10*60*1e3;class fP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Yw(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Pr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cP&&this.cachedEventUids.clear(),this.cachedEventUids.has(m1(e))}saveEventToCache(e){this.cachedEventUids.add(m1(e)),this.lastProcessedEventTime=Date.now()}}function m1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Yw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(n,e={}){return os(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pP=/^https?/;async function gP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await dP(n);for(const t of e)try{if(vP(t))return}catch{}Ar(n,"unauthorized-domain")}function vP(n){const e=Yg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!pP.test(t))return!1;if(mP.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new Rc(3e4,6e4);function p1(){const n=ui().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _P(n){return new Promise((e,t)=>{var i,s,l;function c(){p1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p1(),t(Pr(n,"network-request-failed"))},timeout:yP.get()})}if(!((s=(i=ui().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=ui().gapi)===null||l===void 0)&&l.load)c();else{const m=hD("iframefcb");return ui()[m]=()=>{gapi.load?c():t(Pr(n,"network-request-failed"))},Ow(`${fD()}?onload=${m}`).catch(d=>t(d))}}).catch(e=>{throw wh=null,e})}let wh=null;function bP(n){return wh=wh||_P(n),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new Rc(5e3,15e3),TP="__/auth/iframe",SP="emulator/auth/iframe",wP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xP(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ty(e,SP):`https://${n.config.authDomain}/${TP}`,i={apiKey:e.apiKey,appName:n.name,v:to},s=AP.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${xc(i).slice(1)}`}async function RP(n){const e=await bP(n),t=ui().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:xP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wP,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=Pr(n,"network-request-failed"),m=ui().setTimeout(()=>{l(c)},EP.get());function d(){ui().clearTimeout(m),s(i)}i.ping(d).then(d,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IP=500,OP=600,NP="_blank",DP="http://localhost";class g1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PP(n,e,t,i=IP,s=OP){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const d=Object.assign(Object.assign({},CP),{width:i.toString(),height:s.toString(),top:l,left:c}),p=Vn().toLowerCase();t&&(m=Sw(p)?NP:t),Ew(p)&&(e=e||DP,d.scrollbars="yes");const v=Object.entries(d).reduce((A,[D,k])=>`${A}${D}=${k},`,"");if(nD(p)&&m!=="_self")return MP(e||"",m),new g1(null);const _=window.open(e||"",m,v);Le(_,n,"popup-blocked");try{_.focus()}catch{}return new g1(_)}function MP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="__/auth/handler",VP="emulator/auth/handler",LP=encodeURIComponent("fac");async function v1(n,e,t,i,s,l){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:to,eventId:s};if(e instanceof sy){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",SO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof wl){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const d=await n._getAppCheckToken(),p=d?`#${LP}=${encodeURIComponent(d)}`:"";return`${jP(n)}?${xc(m).slice(1)}${p}`}function jP({config:n}){return n.emulator?ty(n,VP):`https://${n.authDomain}/${kP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="webStorageSupport";class UP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fw,this._completeRedirectFn=uP,this._overrideRedirectResult=sP}async _openPopup(e,t,i,s){var l;Qi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await v1(e,t,i,Yg(),s);return PP(e,c,oy())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await v1(e,t,i,Yg(),s);return BD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Qi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await RP(e),i=new fP(e);return t.register("authEvent",s=>(Le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hg,{type:hg},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[hg];c!==void 0&&t(!!c),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Cw()||Tw()||ry()}}const FP=UP;var y1="@firebase/auth",_1="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HP(n){Ys(new Ka("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=i.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Iw(n)},p=new lD(i,s,l,d);return yD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ys(new Ka("auth-internal",e=>{const t=ro(e.getProvider("auth").getImmediate());return(i=>new zP(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),li(y1,_1,BP(n)),li(y1,_1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=5*60,$P=ow("authIdTokenMaxAge")||qP;let b1=null;const GP=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>$P)return;const s=t==null?void 0:t.token;b1!==s&&(b1=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Ic(n=Wv()){const e=Td(n,"auth");if(e.isInitialized())return e.getImmediate();const t=vD(n,{popupRedirectResolver:FP,persistence:[WD,UD,Fw]}),i=ow("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=GP(l.toString());kD(t,c,()=>c(t.currentUser)),MD(t,m=>c(m))}}const s=iw("auth");return s&&_D(t,`http://${s}`),t}function YP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}uD({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=Pr("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",YP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HP("Browser");var KP="firebase",XP="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li(KP,XP,"app");const QP={apiKey:"AIzaSyBFNS35GuRSRIlEdupw1wxcv-qj4Ym9_PY",authDomain:"proyectouno-d09e0.firebaseapp.com",databaseURL:"https://proyectouno-d09e0-default-rtdb.firebaseio.com",projectId:"proyectouno-d09e0",storageBucket:"proyectouno-d09e0.firebasestorage.app",messagingSenderId:"567007730982",appId:"1:567007730982:web:9077c9fdf525daca01f5e7",measurementId:"G-FP9HKZQMX6"},Xn=fw(QP);var E1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ga,Kw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,E){function S(){}S.prototype=E.prototype,C.D=E.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(R,M,P){for(var I=Array(arguments.length-2),we=2;we<arguments.length;we++)I[we-2]=arguments[we];return E.prototype[M].apply(R,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,E,S){S||(S=0);var R=Array(16);if(typeof E=="string")for(var M=0;16>M;++M)R[M]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(M=0;16>M;++M)R[M]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=C.g[0],S=C.g[1],M=C.g[2];var P=C.g[3],I=E+(P^S&(M^P))+R[0]+3614090360&4294967295;E=S+(I<<7&4294967295|I>>>25),I=P+(M^E&(S^M))+R[1]+3905402710&4294967295,P=E+(I<<12&4294967295|I>>>20),I=M+(S^P&(E^S))+R[2]+606105819&4294967295,M=P+(I<<17&4294967295|I>>>15),I=S+(E^M&(P^E))+R[3]+3250441966&4294967295,S=M+(I<<22&4294967295|I>>>10),I=E+(P^S&(M^P))+R[4]+4118548399&4294967295,E=S+(I<<7&4294967295|I>>>25),I=P+(M^E&(S^M))+R[5]+1200080426&4294967295,P=E+(I<<12&4294967295|I>>>20),I=M+(S^P&(E^S))+R[6]+2821735955&4294967295,M=P+(I<<17&4294967295|I>>>15),I=S+(E^M&(P^E))+R[7]+4249261313&4294967295,S=M+(I<<22&4294967295|I>>>10),I=E+(P^S&(M^P))+R[8]+1770035416&4294967295,E=S+(I<<7&4294967295|I>>>25),I=P+(M^E&(S^M))+R[9]+2336552879&4294967295,P=E+(I<<12&4294967295|I>>>20),I=M+(S^P&(E^S))+R[10]+4294925233&4294967295,M=P+(I<<17&4294967295|I>>>15),I=S+(E^M&(P^E))+R[11]+2304563134&4294967295,S=M+(I<<22&4294967295|I>>>10),I=E+(P^S&(M^P))+R[12]+1804603682&4294967295,E=S+(I<<7&4294967295|I>>>25),I=P+(M^E&(S^M))+R[13]+4254626195&4294967295,P=E+(I<<12&4294967295|I>>>20),I=M+(S^P&(E^S))+R[14]+2792965006&4294967295,M=P+(I<<17&4294967295|I>>>15),I=S+(E^M&(P^E))+R[15]+1236535329&4294967295,S=M+(I<<22&4294967295|I>>>10),I=E+(M^P&(S^M))+R[1]+4129170786&4294967295,E=S+(I<<5&4294967295|I>>>27),I=P+(S^M&(E^S))+R[6]+3225465664&4294967295,P=E+(I<<9&4294967295|I>>>23),I=M+(E^S&(P^E))+R[11]+643717713&4294967295,M=P+(I<<14&4294967295|I>>>18),I=S+(P^E&(M^P))+R[0]+3921069994&4294967295,S=M+(I<<20&4294967295|I>>>12),I=E+(M^P&(S^M))+R[5]+3593408605&4294967295,E=S+(I<<5&4294967295|I>>>27),I=P+(S^M&(E^S))+R[10]+38016083&4294967295,P=E+(I<<9&4294967295|I>>>23),I=M+(E^S&(P^E))+R[15]+3634488961&4294967295,M=P+(I<<14&4294967295|I>>>18),I=S+(P^E&(M^P))+R[4]+3889429448&4294967295,S=M+(I<<20&4294967295|I>>>12),I=E+(M^P&(S^M))+R[9]+568446438&4294967295,E=S+(I<<5&4294967295|I>>>27),I=P+(S^M&(E^S))+R[14]+3275163606&4294967295,P=E+(I<<9&4294967295|I>>>23),I=M+(E^S&(P^E))+R[3]+4107603335&4294967295,M=P+(I<<14&4294967295|I>>>18),I=S+(P^E&(M^P))+R[8]+1163531501&4294967295,S=M+(I<<20&4294967295|I>>>12),I=E+(M^P&(S^M))+R[13]+2850285829&4294967295,E=S+(I<<5&4294967295|I>>>27),I=P+(S^M&(E^S))+R[2]+4243563512&4294967295,P=E+(I<<9&4294967295|I>>>23),I=M+(E^S&(P^E))+R[7]+1735328473&4294967295,M=P+(I<<14&4294967295|I>>>18),I=S+(P^E&(M^P))+R[12]+2368359562&4294967295,S=M+(I<<20&4294967295|I>>>12),I=E+(S^M^P)+R[5]+4294588738&4294967295,E=S+(I<<4&4294967295|I>>>28),I=P+(E^S^M)+R[8]+2272392833&4294967295,P=E+(I<<11&4294967295|I>>>21),I=M+(P^E^S)+R[11]+1839030562&4294967295,M=P+(I<<16&4294967295|I>>>16),I=S+(M^P^E)+R[14]+4259657740&4294967295,S=M+(I<<23&4294967295|I>>>9),I=E+(S^M^P)+R[1]+2763975236&4294967295,E=S+(I<<4&4294967295|I>>>28),I=P+(E^S^M)+R[4]+1272893353&4294967295,P=E+(I<<11&4294967295|I>>>21),I=M+(P^E^S)+R[7]+4139469664&4294967295,M=P+(I<<16&4294967295|I>>>16),I=S+(M^P^E)+R[10]+3200236656&4294967295,S=M+(I<<23&4294967295|I>>>9),I=E+(S^M^P)+R[13]+681279174&4294967295,E=S+(I<<4&4294967295|I>>>28),I=P+(E^S^M)+R[0]+3936430074&4294967295,P=E+(I<<11&4294967295|I>>>21),I=M+(P^E^S)+R[3]+3572445317&4294967295,M=P+(I<<16&4294967295|I>>>16),I=S+(M^P^E)+R[6]+76029189&4294967295,S=M+(I<<23&4294967295|I>>>9),I=E+(S^M^P)+R[9]+3654602809&4294967295,E=S+(I<<4&4294967295|I>>>28),I=P+(E^S^M)+R[12]+3873151461&4294967295,P=E+(I<<11&4294967295|I>>>21),I=M+(P^E^S)+R[15]+530742520&4294967295,M=P+(I<<16&4294967295|I>>>16),I=S+(M^P^E)+R[2]+3299628645&4294967295,S=M+(I<<23&4294967295|I>>>9),I=E+(M^(S|~P))+R[0]+4096336452&4294967295,E=S+(I<<6&4294967295|I>>>26),I=P+(S^(E|~M))+R[7]+1126891415&4294967295,P=E+(I<<10&4294967295|I>>>22),I=M+(E^(P|~S))+R[14]+2878612391&4294967295,M=P+(I<<15&4294967295|I>>>17),I=S+(P^(M|~E))+R[5]+4237533241&4294967295,S=M+(I<<21&4294967295|I>>>11),I=E+(M^(S|~P))+R[12]+1700485571&4294967295,E=S+(I<<6&4294967295|I>>>26),I=P+(S^(E|~M))+R[3]+2399980690&4294967295,P=E+(I<<10&4294967295|I>>>22),I=M+(E^(P|~S))+R[10]+4293915773&4294967295,M=P+(I<<15&4294967295|I>>>17),I=S+(P^(M|~E))+R[1]+2240044497&4294967295,S=M+(I<<21&4294967295|I>>>11),I=E+(M^(S|~P))+R[8]+1873313359&4294967295,E=S+(I<<6&4294967295|I>>>26),I=P+(S^(E|~M))+R[15]+4264355552&4294967295,P=E+(I<<10&4294967295|I>>>22),I=M+(E^(P|~S))+R[6]+2734768916&4294967295,M=P+(I<<15&4294967295|I>>>17),I=S+(P^(M|~E))+R[13]+1309151649&4294967295,S=M+(I<<21&4294967295|I>>>11),I=E+(M^(S|~P))+R[4]+4149444226&4294967295,E=S+(I<<6&4294967295|I>>>26),I=P+(S^(E|~M))+R[11]+3174756917&4294967295,P=E+(I<<10&4294967295|I>>>22),I=M+(E^(P|~S))+R[2]+718787259&4294967295,M=P+(I<<15&4294967295|I>>>17),I=S+(P^(M|~E))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+P&4294967295}i.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var S=E-this.blockSize,R=this.B,M=this.h,P=0;P<E;){if(M==0)for(;P<=S;)s(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<E;)if(R[M++]=C.charCodeAt(P++),M==this.blockSize){s(this,R),M=0;break}}else for(;P<E;)if(R[M++]=C[P++],M==this.blockSize){s(this,R),M=0;break}}this.h=M,this.o+=E},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var S=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=S&255,S/=256;for(this.u(C),C=Array(16),E=S=0;4>E;++E)for(var R=0;32>R;R+=8)C[S++]=this.g[E]>>>R&255;return C};function l(C,E){var S=m;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=E(C)}function c(C,E){this.h=E;for(var S=[],R=!0,M=C.length-1;0<=M;M--){var P=C[M]|0;R&&P==E||(S[M]=P,R=!1)}this.g=S}var m={};function d(C){return-128<=C&&128>C?l(C,function(E){return new c([E|0],0>E?-1:0)}):new c([C|0],0>C?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return _;if(0>C)return N(p(-C));for(var E=[],S=1,R=0;C>=S;R++)E[R]=C/S|0,S*=4294967296;return new c(E,0)}function v(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return N(v(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=p(Math.pow(E,8)),R=_,M=0;M<C.length;M+=8){var P=Math.min(8,C.length-M),I=parseInt(C.substring(M,M+P),E);8>P?(P=p(Math.pow(E,P)),R=R.j(P).add(p(I))):(R=R.j(S),R=R.add(p(I)))}return R}var _=d(0),A=d(1),D=d(16777216);n=c.prototype,n.m=function(){if(V(this))return-N(this).m();for(var C=0,E=1,S=0;S<this.g.length;S++){var R=this.i(S);C+=(0<=R?R:4294967296+R)*E,E*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(V(this))return"-"+N(this).toString(C);for(var E=p(Math.pow(C,6)),S=this,R="";;){var M=ae(S,E).g;S=F(S,M.j(E));var P=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=M,k(S))return P+R;for(;6>P.length;)P="0"+P;R=P+R}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function V(C){return C.h==-1}n.l=function(C){return C=F(this,C),V(C)?-1:k(C)?0:1};function N(C){for(var E=C.g.length,S=[],R=0;R<E;R++)S[R]=~C.g[R];return new c(S,~C.h).add(A)}n.abs=function(){return V(this)?N(this):this},n.add=function(C){for(var E=Math.max(this.g.length,C.g.length),S=[],R=0,M=0;M<=E;M++){var P=R+(this.i(M)&65535)+(C.i(M)&65535),I=(P>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);R=I>>>16,P&=65535,I&=65535,S[M]=I<<16|P}return new c(S,S[S.length-1]&-2147483648?-1:0)};function F(C,E){return C.add(N(E))}n.j=function(C){if(k(this)||k(C))return _;if(V(this))return V(C)?N(this).j(N(C)):N(N(this).j(C));if(V(C))return N(this.j(N(C)));if(0>this.l(D)&&0>C.l(D))return p(this.m()*C.m());for(var E=this.g.length+C.g.length,S=[],R=0;R<2*E;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(var M=0;M<C.g.length;M++){var P=this.i(R)>>>16,I=this.i(R)&65535,we=C.i(M)>>>16,Ce=C.i(M)&65535;S[2*R+2*M]+=I*Ce,$(S,2*R+2*M),S[2*R+2*M+1]+=P*Ce,$(S,2*R+2*M+1),S[2*R+2*M+1]+=I*we,$(S,2*R+2*M+1),S[2*R+2*M+2]+=P*we,$(S,2*R+2*M+2)}for(R=0;R<E;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=E;R<2*E;R++)S[R]=0;return new c(S,0)};function $(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function q(C,E){this.g=C,this.h=E}function ae(C,E){if(k(E))throw Error("division by zero");if(k(C))return new q(_,_);if(V(C))return E=ae(N(C),E),new q(N(E.g),N(E.h));if(V(E))return E=ae(C,N(E)),new q(N(E.g),E.h);if(30<C.g.length){if(V(C)||V(E))throw Error("slowDivide_ only works with positive integers.");for(var S=A,R=E;0>=R.l(C);)S=H(S),R=H(R);var M=J(S,1),P=J(R,1);for(R=J(R,2),S=J(S,2);!k(R);){var I=P.add(R);0>=I.l(C)&&(M=M.add(S),P=I),R=J(R,1),S=J(S,1)}return E=F(C,M.j(E)),new q(M,E)}for(M=_;0<=C.l(E);){for(S=Math.max(1,Math.floor(C.m()/E.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),P=p(S),I=P.j(E);V(I)||0<I.l(C);)S-=R,P=p(S),I=P.j(E);k(P)&&(P=A),M=M.add(P),C=F(C,I)}return new q(M,C)}n.A=function(C){return ae(this,C).h},n.and=function(C){for(var E=Math.max(this.g.length,C.g.length),S=[],R=0;R<E;R++)S[R]=this.i(R)&C.i(R);return new c(S,this.h&C.h)},n.or=function(C){for(var E=Math.max(this.g.length,C.g.length),S=[],R=0;R<E;R++)S[R]=this.i(R)|C.i(R);return new c(S,this.h|C.h)},n.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),S=[],R=0;R<E;R++)S[R]=this.i(R)^C.i(R);return new c(S,this.h^C.h)};function H(C){for(var E=C.g.length+1,S=[],R=0;R<E;R++)S[R]=C.i(R)<<1|C.i(R-1)>>>31;return new c(S,C.h)}function J(C,E){var S=E>>5;E%=32;for(var R=C.g.length-S,M=[],P=0;P<R;P++)M[P]=0<E?C.i(P+S)>>>E|C.i(P+S+1)<<32-E:C.i(P+S);return new c(M,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Kw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Ga=c}).apply(typeof E1<"u"?E1:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xw,$u,Qw,Ah,Qg,Ww,Zw,Jw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,T){return f==Array.prototype||f==Object.prototype||(f[y]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<f.length;++y){var T=f[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function s(f,y){if(y)e:{var T=i;f=f.split(".");for(var O=0;O<f.length-1;O++){var Y=f[O];if(!(Y in T))break e;T=T[Y]}f=f[f.length-1],O=T[f],y=y(O),y!=O&&y!=null&&e(T,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var T=0,O=!1,Y={next:function(){if(!O&&T<f.length){var ie=T++;return{value:y(ie,f[ie]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(f){return f||function(){return l(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},m=this||self;function d(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,T){return f.call.apply(f.bind,arguments)}function _(f,y,T){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,O),f.apply(y,Y)}}return function(){return f.apply(y,arguments)}}function A(f,y,T){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,A.apply(null,arguments)}function D(f,y){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function k(f,y){function T(){}T.prototype=y.prototype,f.aa=y.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(O,Y,ie){for(var ye=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)ye[ft-2]=arguments[ft];return y.prototype[Y].apply(O,ye)}}function V(f){const y=f.length;if(0<y){const T=Array(y);for(let O=0;O<y;O++)T[O]=f[O];return T}return[]}function N(f,y){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(d(O)){const Y=f.length||0,ie=O.length||0;f.length=Y+ie;for(let ye=0;ye<ie;ye++)f[Y+ye]=O[ye]}else f.push(O)}}class F{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(f){return/^[\s\xa0]*$/.test(f)}function q(){var f=m.navigator;return f&&(f=f.userAgent)?f:""}function ae(f){return ae[" "](f),f}ae[" "]=function(){};var H=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function J(f,y,T){for(const O in f)y.call(T,f[O],O,f)}function C(f,y){for(const T in f)y.call(void 0,f[T],T,f)}function E(f){const y={};for(const T in f)y[T]=f[T];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,y){let T,O;for(let Y=1;Y<arguments.length;Y++){O=arguments[Y];for(T in O)f[T]=O[T];for(let ie=0;ie<S.length;ie++)T=S[ie],Object.prototype.hasOwnProperty.call(O,T)&&(f[T]=O[T])}}function M(f){var y=1;f=f.split(":");const T=[];for(;0<y&&f.length;)T.push(f.shift()),y--;return f.length&&T.push(f.join(":")),T}function P(f){m.setTimeout(()=>{throw f},0)}function I(){var f=de;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class we{constructor(){this.h=this.g=null}add(y,T){const O=Ce.get();O.set(y,T),this.h?this.h.next=O:this.g=O,this.h=O}}var Ce=new F(()=>new z,f=>f.reset());class z{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ue=!1,de=new we,L=()=>{const f=m.Promise.resolve(void 0);ne=()=>{f.then(X)}};var X=()=>{for(var f;f=I();){try{f.h.call(f.g)}catch(T){P(T)}var y=Ce;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ue=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};m.addEventListener("test",T,y),m.removeEventListener("test",T,y)}catch{}return f}();function Te(f,y){if(Q.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(H){e:{try{ae(y.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(y=null)}}else T=="mouseover"?y=f.fromElement:T=="mouseout"&&(y=f.toElement);this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:_e[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Te.aa.h.call(this)}}k(Te,Q);var _e={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),be=0;function Fe(f,y,T,O,Y){this.listener=f,this.proxy=null,this.src=y,this.type=T,this.capture=!!O,this.ha=Y,this.key=++be,this.da=this.fa=!1}function Qe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ie(f){this.src=f,this.g={},this.h=0}Ie.prototype.add=function(f,y,T,O,Y){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var ye=ut(f,y,O,Y);return-1<ye?(y=f[ye],T||(y.fa=!1)):(y=new Fe(y,this.src,ie,!!O,Y),y.fa=T,f.push(y)),y};function lt(f,y){var T=y.type;if(T in f.g){var O=f.g[T],Y=Array.prototype.indexOf.call(O,y,void 0),ie;(ie=0<=Y)&&Array.prototype.splice.call(O,Y,1),ie&&(Qe(y),f.g[T].length==0&&(delete f.g[T],f.h--))}}function ut(f,y,T,O){for(var Y=0;Y<f.length;++Y){var ie=f[Y];if(!ie.da&&ie.listener==y&&ie.capture==!!T&&ie.ha==O)return Y}return-1}var Ke="closure_lm_"+(1e6*Math.random()|0),te={};function se(f,y,T,O,Y){if(Array.isArray(y)){for(var ie=0;ie<y.length;ie++)se(f,y[ie],T,O,Y);return null}return T=Dt(T),f&&f[Ge]?f.K(y,T,p(O)?!!O.capture:!1,Y):ve(f,y,T,!1,O,Y)}function ve(f,y,T,O,Y,ie){if(!y)throw Error("Invalid event type");var ye=p(Y)?!!Y.capture:!!Y,ft=It(f);if(ft||(f[Ke]=ft=new Ie(f)),T=ft.add(y,T,O,ye,ie),T.proxy)return T;if(O=me(),T.proxy=O,O.src=f,O.listener=T,f.addEventListener)ge||(Y=ye),Y===void 0&&(Y=!1),f.addEventListener(y.toString(),O,Y);else if(f.attachEvent)f.attachEvent(He(y.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function me(){function f(T){return y.call(f.src,f.listener,T)}const y=et;return f}function Re(f,y,T,O,Y){if(Array.isArray(y))for(var ie=0;ie<y.length;ie++)Re(f,y[ie],T,O,Y);else O=p(O)?!!O.capture:!!O,T=Dt(T),f&&f[Ge]?(f=f.i,y=String(y).toString(),y in f.g&&(ie=f.g[y],T=ut(ie,T,O,Y),-1<T&&(Qe(ie[T]),Array.prototype.splice.call(ie,T,1),ie.length==0&&(delete f.g[y],f.h--)))):f&&(f=It(f))&&(y=f.g[y.toString()],f=-1,y&&(f=ut(y,T,O,Y)),(T=-1<f?y[f]:null)&&ct(T))}function ct(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Ge])lt(y.i,f);else{var T=f.type,O=f.proxy;y.removeEventListener?y.removeEventListener(T,O,f.capture):y.detachEvent?y.detachEvent(He(T),O):y.addListener&&y.removeListener&&y.removeListener(O),(T=It(y))?(lt(T,f),T.h==0&&(T.src=null,y[Ke]=null)):Qe(f)}}}function He(f){return f in te?te[f]:te[f]="on"+f}function et(f,y){if(f.da)f=!0;else{y=new Te(y,this);var T=f.listener,O=f.ha||f.src;f.fa&&ct(f),f=T.call(O,y)}return f}function It(f){return f=f[Ke],f instanceof Ie?f:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dt(f){return typeof f=="function"?f:(f[We]||(f[We]=function(y){return f.handleEvent(y)}),f[We])}function Pe(){re.call(this),this.i=new Ie(this),this.M=this,this.F=null}k(Pe,re),Pe.prototype[Ge]=!0,Pe.prototype.removeEventListener=function(f,y,T,O){Re(this,f,y,T,O)};function Ee(f,y){var T,O=f.F;if(O)for(T=[];O;O=O.F)T.push(O);if(f=f.M,O=y.type||y,typeof y=="string")y=new Q(y,f);else if(y instanceof Q)y.target=y.target||f;else{var Y=y;y=new Q(O,f),R(y,Y)}if(Y=!0,T)for(var ie=T.length-1;0<=ie;ie--){var ye=y.g=T[ie];Y=Ye(ye,O,!0,y)&&Y}if(ye=y.g=f,Y=Ye(ye,O,!0,y)&&Y,Y=Ye(ye,O,!1,y)&&Y,T)for(ie=0;ie<T.length;ie++)ye=y.g=T[ie],Y=Ye(ye,O,!1,y)&&Y}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var T=f.g[y],O=0;O<T.length;O++)Qe(T[O]);delete f.g[y],f.h--}}this.F=null},Pe.prototype.K=function(f,y,T,O){return this.i.add(String(f),y,!1,T,O)},Pe.prototype.L=function(f,y,T,O){return this.i.add(String(f),y,!0,T,O)};function Ye(f,y,T,O){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var Y=!0,ie=0;ie<y.length;++ie){var ye=y[ie];if(ye&&!ye.da&&ye.capture==T){var ft=ye.listener,sn=ye.ha||ye.src;ye.fa&&lt(f.i,ye),Y=ft.call(sn,O)!==!1&&Y}}return Y&&!O.defaultPrevented}function nt(f,y,T){if(typeof f=="function")T&&(f=A(f,T));else if(f&&typeof f.handleEvent=="function")f=A(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(f,y||0)}function Qn(f){f.g=nt(()=>{f.g=null,f.i&&(f.i=!1,Qn(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Vr extends re{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hn(f){re.call(this),this.h=f,this.g={}}k(hn,re);var Wn=[];function Lr(f){J(f.g,function(y,T){this.g.hasOwnProperty(T)&&ct(y)},f),f.g={}}hn.prototype.N=function(){hn.aa.N.call(this),Lr(this)},hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=m.JSON.stringify,lo=m.JSON.parse,cs=class{stringify(f){return m.JSON.stringify(f,void 0)}parse(f){return m.JSON.parse(f,void 0)}};function Nl(){}Nl.prototype.h=null;function Dl(f){return f.h||(f.h=f.i())}function Pl(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){Q.call(this,"d")}k(bi,Q);function Ml(){Q.call(this,"c")}k(Ml,Q);var jr={},kl=null;function aa(){return kl=kl||new Pe}jr.La="serverreachability";function uo(f){Q.call(this,jr.La,f)}k(uo,Q);function sa(f){const y=aa();Ee(y,new uo(y))}jr.STAT_EVENT="statevent";function jc(f,y){Q.call(this,jr.STAT_EVENT,f),this.stat=y}k(jc,Q);function kt(f){const y=aa();Ee(y,new jc(y,f))}jr.Ma="timingevent";function an(f,y){Q.call(this,jr.Ma,f),this.size=y}k(an,Q);function Xt(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){f()},y)}function fr(){this.g=!0}fr.prototype.xa=function(){this.g=!1};function Vl(f,y,T,O,Y,ie){f.info(function(){if(f.g)if(ie)for(var ye="",ft=ie.split("&"),sn=0;sn<ft.length;sn++){var ht=ft[sn].split("=");if(1<ht.length){var mn=ht[0];ht=ht[1];var on=mn.split("_");ye=2<=on.length&&on[1]=="type"?ye+(mn+"="+ht+"&"):ye+(mn+"=redacted&")}}else ye=null;else ye=ie;return"XMLHTTP REQ ("+O+") [attempt "+Y+"]: "+y+`
`+T+`
`+ye})}function nm(f,y,T,O,Y,ie,ye){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Y+"]: "+y+`
`+T+`
`+ie+" "+ye})}function oa(f,y,T,O){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+fs(f,T)+(O?" "+O:"")})}function Uc(f,y){f.info(function(){return"TIMEOUT: "+y})}fr.prototype.info=function(){};function fs(f,y){if(!f.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var O=T[f];if(!(2>O.length)){var Y=O[1];if(Array.isArray(Y)&&!(1>Y.length)){var ie=Y[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ye=1;ye<Y.length;ye++)Y[ye]=""}}}}return xr(T)}catch{return y}}var la={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ur;function Fr(){}k(Fr,Nl),Fr.prototype.g=function(){return new XMLHttpRequest},Fr.prototype.i=function(){return{}},Ur=new Fr;function jn(f,y,T,O){this.j=f,this.i=y,this.l=T,this.R=O||1,this.U=new hn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $t}function $t(){this.i=null,this.g="",this.h=!1}var Ll={},co={};function Rr(f,y,T){f.L=1,f.v=gs(Zn(y)),f.m=T,f.P=!0,Ti(f,null)}function Ti(f,y){f.F=Date.now(),hs(f),f.A=Zn(f.v);var T=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),Hl(T.i,"t",O),f.C=0,T=f.j.J,f.h=new $t,f.g=tf(f.j,T?y:null,!f.m),0<f.O&&(f.M=new Vr(A(f.Y,f,f.g),f.O)),y=f.U,T=f.g,O=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Wn[0]=Y.toString()),Y=Wn);for(var ie=0;ie<Y.length;ie++){var ye=se(T,Y[ie],O||y.handleEvent,!1,y.h||y);if(!ye)break;y.g[ye.key]=ye}y=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),sa(),Vl(f.i,f.u,f.A,f.l,f.R,f.m)}jn.prototype.ca=function(f){f=f.target;const y=this.M;y&&pr(f)==3?y.j():this.Y(f)},jn.prototype.Y=function(f){try{if(f==this.g)e:{const on=pr(this.g);var y=this.g.Ba();const Oi=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||Yc(this.g)))){this.J||on!=4||y==7||(y==8||0>=Oi?sa(3):sa(2)),ua(this);var T=this.g.Z();this.X=T;t:if(Fc(this)){var O=Yc(this.g);f="";var Y=O.length,ie=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),zr(this);var ye="";break t}this.h.i=new m.TextDecoder}for(y=0;y<Y;y++)this.h.h=!0,f+=this.h.i.decode(O[y],{stream:!(ie&&y==Y-1)});O.length=0,this.h.g+=f,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=T==200,nm(this.i,this.u,this.A,this.l,this.R,on,T),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,sn=this.g;if((ft=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(ft)){var ht=ft;break t}}ht=null}if(T=ht)oa(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ds(this,T);else{this.o=!1,this.s=3,kt(12),bn(this),zr(this);break e}}if(this.P){T=!0;let En;for(;!this.J&&this.C<ye.length;)if(En=zc(this,ye),En==co){on==4&&(this.s=4,kt(14),T=!1),oa(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Ll){this.s=4,kt(15),oa(this.i,this.l,ye,"[Invalid Chunk]"),T=!1;break}else oa(this.i,this.l,En,null),ds(this,En);if(Fc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||ye.length!=0||this.h.h||(this.s=1,kt(16),T=!1),this.o=this.o&&T,!T)oa(this.i,this.l,ye,"[Invalid Chunked Response]"),bn(this),zr(this);else if(0<ye.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),ws(mn),mn.M=!0,kt(11))}}else oa(this.i,this.l,ye,null),ds(this,ye);on==4&&bn(this),this.o&&!this.J&&(on==4?Zc(this.j,this):(this.o=!1,hs(this)))}else om(this.g),T==400&&0<ye.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),bn(this),zr(this)}}}catch{}finally{}};function Fc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function zc(f,y){var T=f.C,O=y.indexOf(`
`,T);return O==-1?co:(T=Number(y.substring(T,O)),isNaN(T)?Ll:(O+=1,O+T>y.length?co:(y=y.slice(O,O+T),f.C=O+T,y)))}jn.prototype.cancel=function(){this.J=!0,bn(this)};function hs(f){f.S=Date.now()+f.I,Bc(f,f.I)}function Bc(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Xt(A(f.ba,f),y)}function ua(f){f.B&&(m.clearTimeout(f.B),f.B=null)}jn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Uc(this.i,this.A),this.L!=2&&(sa(),kt(17)),bn(this),this.s=2,zr(this)):Bc(this,this.S-f)};function zr(f){f.j.G==0||f.J||Zc(f.j,f)}function bn(f){ua(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Lr(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function ds(f,y){try{var T=f.j;if(T.G!=0&&(T.g==f||jl(T.h,f))){if(!f.K&&jl(T.h,f)&&T.G==3){try{var O=T.Da.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Y=O;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)So(T),Eo(T);else break e;Kl(T),kt(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=Xt(A(T.Za,T),6e3));if(1>=ho(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ii(T,11)}else if((f.K||T.g==f)&&So(T),!$(y))for(Y=T.Da.g.parse(y),y=0;y<Y.length;y++){let ht=Y[y];if(T.T=ht[0],ht=ht[1],T.G==2)if(ht[0]=="c"){T.K=ht[1],T.ia=ht[2];const mn=ht[3];mn!=null&&(T.la=mn,T.j.info("VER="+T.la));const on=ht[4];on!=null&&(T.Aa=on,T.j.info("SVER="+T.Aa));const Oi=ht[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(O=1.5*Oi,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const En=f.g;if(En){const Kr=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kr){var ie=O.h;ie.g||Kr.indexOf("spdy")==-1&&Kr.indexOf("quic")==-1&&Kr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(mo(ie,ie.h),ie.h=null))}if(O.D){const Ql=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Ql&&(O.ya=Ql,wt(O.I,O.D,Ql))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var ye=f;if(O.qa=ef(O,O.J?O.ia:null,O.W),ye.K){Un(O.h,ye);var ft=ye,sn=O.L;sn&&(ft.I=sn),ft.B&&(ua(ft),hs(ft)),O.g=ye}else Qc(O);0<T.i.length&&To(T)}else ht[0]!="stop"&&ht[0]!="close"||Ii(T,7);else T.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Ii(T,7):Gl(T):ht[0]!="noop"&&T.l&&T.l.ta(ht),T.v=0)}}sa(4)}catch{}}var Hc=class{constructor(f,y){this.g=f,this.map=y}};function Si(f){this.l=f||10,m.PerformanceNavigationTiming?(f=m.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ho(f){return f.h?1:f.g?f.g.size:0}function jl(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function mo(f,y){f.g?f.g.add(y):f.h=y}function Un(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Si.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ul(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const T of f.g.values())y=y.concat(T.D);return y}return V(f.i)}function rm(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var y=[],T=f.length,O=0;O<T;O++)y.push(f[O]);return y}y=[],T=0;for(O in f)y[T++]=f[O];return y}function po(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var y=[];f=f.length;for(var T=0;T<f;T++)y.push(T);return y}y=[],T=0;for(const O in f)y[T++]=O;return y}}}function Fl(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var T=po(f),O=rm(f),Y=O.length,ie=0;ie<Y;ie++)y.call(void 0,O[ie],T&&T[ie],f)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function im(f,y){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var O=f[T].indexOf("="),Y=null;if(0<=O){var ie=f[T].substring(0,O);Y=f[T].substring(O+1)}else ie=f[T];y(ie,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Qt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Qt){this.h=f.h,ps(this,f.j),this.o=f.o,this.g=f.g,ca(this,f.s),this.l=f.l;var y=f.i,T=new Ai;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),wi(this,T),this.m=f.m}else f&&(y=String(f).match(ms))?(this.h=!1,ps(this,y[1]||"",!0),this.o=hr(y[2]||""),this.g=hr(y[3]||"",!0),ca(this,y[4]),this.l=hr(y[5]||"",!0),wi(this,y[6]||"",!0),this.m=hr(y[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}Qt.prototype.toString=function(){var f=[],y=this.j;y&&f.push(vs(y,zl,!0),":");var T=this.g;return(T||y=="file")&&(f.push("//"),(y=this.o)&&f.push(vs(y,zl,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(vs(T,T.charAt(0)=="/"?am:Bl,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",vs(T,go)),f.join("")};function Zn(f){return new Qt(f)}function ps(f,y,T){f.j=T?hr(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function ca(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function wi(f,y,T){y instanceof Ai?(f.i=y,$c(f.i,f.h)):(T||(y=vs(y,sm)),f.i=new Ai(y,f.h))}function wt(f,y,T){f.i.set(y,T)}function gs(f){return wt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function hr(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function vs(f,y,T){return typeof f=="string"?(f=encodeURI(f).replace(y,qc),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function qc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var zl=/[#\/\?@]/g,Bl=/[#\?:]/g,am=/[#\?]/g,sm=/[#\?@]/g,go=/#/g;function Ai(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function dr(f){f.g||(f.g=new Map,f.h=0,f.i&&im(f.i,function(y,T){f.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=Ai.prototype,n.add=function(f,y){dr(this),this.i=null,f=Br(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(y),this.h+=1,this};function xi(f,y){dr(f),y=Br(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Ri(f,y){return dr(f),y=Br(f,y),f.g.has(y)}n.forEach=function(f,y){dr(this),this.g.forEach(function(T,O){T.forEach(function(Y){f.call(y,Y,O,this)},this)},this)},n.na=function(){dr(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let O=0;O<y.length;O++){const Y=f[O];for(let ie=0;ie<Y.length;ie++)T.push(y[O])}return T},n.V=function(f){dr(this);let y=[];if(typeof f=="string")Ri(this,f)&&(y=y.concat(this.g.get(Br(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)y=y.concat(f[T])}return y},n.set=function(f,y){return dr(this),this.i=null,f=Br(this,f),Ri(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Hl(f,y,T){xi(f,y),0<T.length&&(f.i=null,f.g.set(Br(f,y),V(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var O=y[T];const ie=encodeURIComponent(String(O)),ye=this.V(O);for(O=0;O<ye.length;O++){var Y=ie;ye[O]!==""&&(Y+="="+encodeURIComponent(String(ye[O]))),f.push(Y)}}return this.i=f.join("&")};function Br(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function $c(f,y){y&&!f.j&&(dr(f),f.i=null,f.g.forEach(function(T,O){var Y=O.toLowerCase();O!=Y&&(xi(this,O),Hl(this,Y,T))},f)),f.j=y}function ys(f,y){const T=new fr;if(m.Image){const O=new Image;O.onload=D(mr,T,"TestLoadImage: loaded",!0,y,O),O.onerror=D(mr,T,"TestLoadImage: error",!1,y,O),O.onabort=D(mr,T,"TestLoadImage: abort",!1,y,O),O.ontimeout=D(mr,T,"TestLoadImage: timeout",!1,y,O),m.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else y(!1)}function Cr(f,y){const T=new fr,O=new AbortController,Y=setTimeout(()=>{O.abort(),mr(T,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:O.signal}).then(ie=>{clearTimeout(Y),ie.ok?mr(T,"TestPingServer: ok",!0,y):mr(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),mr(T,"TestPingServer: error",!1,y)})}function mr(f,y,T,O,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),O(T)}catch{}}function _s(){this.g=new cs}function Hr(f,y,T){const O=T||"";try{Fl(f,function(Y,ie){let ye=Y;p(Y)&&(ye=xr(Y)),y.push(O+ie+"="+encodeURIComponent(ye))})}catch(Y){throw y.push(O+"type="+encodeURIComponent("_badmap")),Y}}function fa(f){this.l=f.Ub||null,this.j=f.eb||!1}k(fa,Nl),fa.prototype.g=function(){return new Ci(this.l,this.j)},fa.prototype.i=function(f){return function(){return f}}({});function Ci(f,y){Pe.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ci,Pe),n=Ci.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,$r(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ql(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ql(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?qr(this):$r(this),this.readyState==3&&ql(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,qr(this))},n.Qa=function(f){this.g&&(this.response=f,qr(this))},n.ga=function(){this.g&&qr(this)};function qr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,$r(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=y.next();return f.join(`\r
`)};function $r(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function $l(f){let y="";return J(f,function(T,O){y+=O,y+=":",y+=T,y+=`\r
`}),y}function dn(f,y,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=$l(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):wt(f,y,T))}function _t(f){Pe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(_t,Pe);var vo=/^https?$/i,bs=["POST","PUT"];n=_t.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ur.g(),this.v=this.o?Dl(this.o):Dl(Ur),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(ie){Gc(this,ie);return}if(f=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Y in O)T.set(Y,O[Y]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ie of O.keys())T.set(ie,O.get(ie));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(ie=>ie.toLowerCase()=="content-type"),Y=m.FormData&&f instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bs,y,void 0))||O||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ye]of T)this.g.setRequestHeader(ie,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){Gc(this,ie)}};function Gc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,yo(f),Gr(f)}function yo(f){f.A||(f.A=!0,Ee(f,"complete"),Ee(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ee(this,"complete"),Ee(this,"abort"),Gr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gr(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?_o(this):this.bb())},n.bb=function(){_o(this)};function _o(f){if(f.h&&typeof c<"u"&&(!f.v[1]||pr(f)!=4||f.Z()!=2)){if(f.u&&pr(f)==4)nt(f.Ea,0,f);else if(Ee(f,"readystatechange"),pr(f)==4){f.h=!1;try{const ye=f.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var O;if(O=ye===0){var Y=String(f.D).match(ms)[1]||null;!Y&&m.self&&m.self.location&&(Y=m.self.location.protocol.slice(0,-1)),O=!vo.test(Y?Y.toLowerCase():"")}T=O}if(T)Ee(f,"complete"),Ee(f,"success");else{f.m=6;try{var ie=2<pr(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",yo(f)}}finally{Gr(f)}}}}function Gr(f,y){if(f.g){Es(f);const T=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ee(f,"ready");try{T.onreadystatechange=O}catch{}}}function Es(f){f.I&&(m.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function pr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),lo(y)}};function Yc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function om(f){const y={};f=(f.g&&2<=pr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if($(f[O]))continue;var T=M(f[O]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ie=y[Y]||[];y[Y]=ie,ie.push(T)}C(y,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(f,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||y}function bo(f){this.Aa=0,this.i=[],this.j=new fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,f),this.cb=Ts("retryDelaySeedMs",1e4,f),this.Wa=Ts("forwardChannelMaxRetries",2,f),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(f&&f.concurrentRequestLimit),this.Da=new _s,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=bo.prototype,n.la=8,n.G=1,n.connect=function(f,y,T,O){kt(0),this.W=f,this.H=y||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=ef(this,null,this.W),To(this)};function Gl(f){if(Kc(f),f.G==3){var y=f.U++,T=Zn(f.I);if(wt(T,"SID",f.K),wt(T,"RID",y),wt(T,"TYPE","terminate"),Ss(f,T),y=new jn(f,f.j,y),y.L=2,y.v=gs(Zn(T)),T=!1,m.navigator&&m.navigator.sendBeacon)try{T=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&m.Image&&(new Image().src=y.v,T=!0),T||(y.g=tf(y.j,null),y.g.ea(y.v)),y.F=Date.now(),hs(y)}Jc(f)}function Eo(f){f.g&&(ws(f),f.g.cancel(),f.g=null)}function Kc(f){Eo(f),f.u&&(m.clearTimeout(f.u),f.u=null),So(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&m.clearTimeout(f.s),f.s=null)}function To(f){if(!fo(f.h)&&!f.s){f.s=!0;var y=f.Ga;ne||L(),ue||(ne(),ue=!0),de.add(y,f),f.B=0}}function lm(f,y){return ho(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Xt(A(f.Ga,f,y),Xl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new jn(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=E(ie),R(ie,this.S)):ie=this.S),this.m!==null||this.O||(Y.H=ie,ie=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Xc(this,Y,y),T=Zn(this.I),wt(T,"RID",f),wt(T,"CVER",22),this.D&&wt(T,"X-HTTP-Session-Id",this.D),Ss(this,T),ie&&(this.O?y="headers="+encodeURIComponent(String($l(ie)))+"&"+y:this.m&&dn(T,this.m,ie)),mo(this.h,Y),this.Ua&&wt(T,"TYPE","init"),this.P?(wt(T,"$req",y),wt(T,"SID","null"),Y.T=!0,Rr(Y,T,null)):Rr(Y,T,y),this.G=2}}else this.G==3&&(f?Yl(this,f):this.i.length==0||fo(this.h)||Yl(this))};function Yl(f,y){var T;y?T=y.l:T=f.U++;const O=Zn(f.I);wt(O,"SID",f.K),wt(O,"RID",T),wt(O,"AID",f.T),Ss(f,O),f.m&&f.o&&dn(O,f.m,f.o),T=new jn(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Xc(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),mo(f.h,T),Rr(T,O,y)}function Ss(f,y){f.H&&J(f.H,function(T,O){wt(y,O,T)}),f.l&&Fl({},function(T,O){wt(y,O,T)})}function Xc(f,y,T){T=Math.min(f.i.length,T);var O=f.l?A(f.l.Na,f.l,f):null;e:{var Y=f.i;let ie=-1;for(;;){const ye=["count="+T];ie==-1?0<T?(ie=Y[0].g,ye.push("ofs="+ie)):ie=0:ye.push("ofs="+ie);let ft=!0;for(let sn=0;sn<T;sn++){let ht=Y[sn].g;const mn=Y[sn].map;if(ht-=ie,0>ht)ie=Math.max(0,Y[sn].g-100),ft=!1;else try{Hr(mn,ye,"req"+ht+"_")}catch{O&&O(mn)}}if(ft){O=ye.join("&");break e}}}return f=f.i.splice(0,T),y.D=f,O}function Qc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ne||L(),ue||(ne(),ue=!0),de.add(y,f),f.v=0}}function Kl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Xt(A(f.Fa,f),Xl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Xt(A(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Eo(this),Wc(this))};function ws(f){f.A!=null&&(m.clearTimeout(f.A),f.A=null)}function Wc(f){f.g=new jn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Zn(f.qa);wt(y,"RID","rpc"),wt(y,"SID",f.K),wt(y,"AID",f.T),wt(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&wt(y,"TO",f.ja),wt(y,"TYPE","xmlhttp"),Ss(f,y),f.m&&f.o&&dn(y,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=gs(Zn(y)),T.m=null,T.P=!0,Ti(T,f)}n.Za=function(){this.C!=null&&(this.C=null,Eo(this),Kl(this),kt(19))};function So(f){f.C!=null&&(m.clearTimeout(f.C),f.C=null)}function Zc(f,y){var T=null;if(f.g==y){So(f),ws(f),f.g=null;var O=2}else if(jl(f.h,y))T=y.D,Un(f.h,y),O=1;else return;if(f.G!=0){if(y.o)if(O==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var Y=f.B;O=aa(),Ee(O,new an(O,T)),To(f)}else Qc(f);else if(Y=y.s,Y==3||Y==0&&0<y.X||!(O==1&&lm(f,y)||O==2&&Kl(f)))switch(T&&0<T.length&&(y=f.h,y.i=y.i.concat(T)),Y){case 1:Ii(f,5);break;case 4:Ii(f,10);break;case 3:Ii(f,6);break;default:Ii(f,2)}}}function Xl(f,y){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*y}function Ii(f,y){if(f.j.info("Error code "+y),y==2){var T=A(f.fb,f),O=f.Xa;const Y=!O;O=new Qt(O||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ps(O,"https"),gs(O),Y?ys(O.toString(),T):Cr(O.toString(),T)}else kt(2);f.G=0,f.l&&f.l.sa(y),Jc(f),Kc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Jc(f){if(f.G=0,f.ka=[],f.l){const y=Ul(f.h);(y.length!=0||f.i.length!=0)&&(N(f.ka,y),N(f.ka,f.i),f.h.i.length=0,V(f.i),f.i.length=0),f.l.ra()}}function ef(f,y,T){var O=T instanceof Qt?Zn(T):new Qt(T);if(O.g!="")y&&(O.g=y+"."+O.g),ca(O,O.s);else{var Y=m.location;O=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;var ie=new Qt(null);O&&ps(ie,O),y&&(ie.g=y),Y&&ca(ie,Y),T&&(ie.l=T),O=ie}return T=f.D,y=f.ya,T&&y&&wt(O,T,y),wt(O,"VER",f.la),Ss(f,O),O}function tf(f,y,T){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new _t(new fa({eb:T})):new _t(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function nf(){}n=nf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wo(){}wo.prototype.g=function(f,y){return new Fn(f,y)};function Fn(f,y){Pe.call(this),this.g=new bo(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!$(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Yr(this)}k(Fn,Pe),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){Gl(this.g)},Fn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=xr(f),f=T);y.i.push(new Hc(y.Ya++,f)),y.G==3&&To(y)},Fn.prototype.N=function(){this.g.l=null,delete this.j,Gl(this.g),delete this.g,Fn.aa.N.call(this)};function rf(f){bi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const T in y){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}k(rf,bi);function af(){Ml.call(this),this.status=1}k(af,Ml);function Yr(f){this.g=f}k(Yr,nf),Yr.prototype.ua=function(){Ee(this.g,"a")},Yr.prototype.ta=function(f){Ee(this.g,new rf(f))},Yr.prototype.sa=function(f){Ee(this.g,new af)},Yr.prototype.ra=function(){Ee(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,Jw=function(){return new wo},Zw=function(){return aa()},Ww=jr,Qg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,Ah=la,Ei.COMPLETE="complete",Qw=Ei,Pl.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,$u=Pl,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,Xw=_t}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const T1="@firebase/firestore",S1="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new Xv("@firebase/firestore");function el(){return Ks.logLevel}function Se(n,...e){if(Ks.logLevel<=st.DEBUG){const t=e.map(uy);Ks.debug(`Firestore (${Al}): ${n}`,...t)}}function Zi(n,...e){if(Ks.logLevel<=st.ERROR){const t=e.map(uy);Ks.error(`Firestore (${Al}): ${n}`,...t)}}function Xa(n,...e){if(Ks.logLevel<=st.WARN){const t=e.map(uy);Ks.warn(`Firestore (${Al}): ${n}`,...t)}}function uy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,eA(n,i,t)}function eA(n,e,t){let i=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Zi(i),new Error(i)}function Et(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||eA(e,s,i)}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends yi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pn.UNAUTHENTICATED))}shutdown(){}}class ZP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JP{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Et(this.o===void 0,42304);let i=this.i;const s=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let l=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Yi,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},m=d=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>m(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?m(d):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Yi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Et(typeof i.accessToken=="string",31837,{l:i}),new tA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class eM{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tM{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new eM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Et(this.o===void 0,3512);const i=l=>{l.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new w1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new w1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=rM(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function Je(n,e){return n<e?-1:n>e?1:0}function Wg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return Je(i,s);{const l=nA(),c=iM(l.encode(A1(n,t)),l.encode(A1(e,t)));return c!==0?c:Je(i,s)}}t+=i>65535?2:1}return Je(n.length,e.length)}function A1(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function iM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Je(n[t],e[t]);return Je(n.length,e.length)}function pl(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="__name__";class ei{constructor(e,t,i){t===void 0?t=0:t>e.length&&ze(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ze(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=ei.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Je(e.length,t.length)}static compareSegments(e,t){const i=ei.isNumericId(e),s=ei.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?ei.extractNumericId(e).compare(ei.extractNumericId(t)):Wg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ga.fromString(e.substring(4,e.length-2))}}class Pt extends ei{construct(e,t,i){return new Pt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new xe(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new Pt(t)}static emptyPath(){return new Pt([])}}const aM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends ei{construct(e,t,i){return new Rn(e,t,i)}static isValidIdentifier(e){return aM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x1}static keyField(){return new Rn([x1])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new xe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const m=e[s];if(m==="\\"){if(s+1===e.length)throw new xe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new xe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else m==="`"?(c=!c,s++):m!=="."||c?(i+=m,s++):(l(),s++)}if(l(),c)throw new xe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(t)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Pt.fromString(e))}static fromName(e){return new Me(Pt.fromString(e).popFirst(5))}static empty(){return new Me(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(n,e,t){if(!t)throw new xe(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sM(n,e,t,i){if(e===!0&&i===!0)throw new xe(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function R1(n){if(!Me.isDocumentKey(n))throw new xe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function C1(n){if(Me.isDocumentKey(n))throw new xe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function fy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ze(12329,{type:typeof n})}function Mr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fy(n);throw new xe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Oc(n,e){if(!iA(n))throw new xe(he.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(s&&typeof c!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new xe(he.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=-62135596800,O1=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*O1);return new Nt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<I1)throw new xe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O1}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Oc(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:tn("string",Nt._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Nt(0,0))}static max(){return new qe(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function oM(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=qe.fromTimestamp(i===1e9?new Nt(t+1,0):new Nt(t,i));return new Qa(s,Me.empty(),e)}function lM(n){return new Qa(n.readTime,n.key,hc)}class Qa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Qa(qe.min(),Me.empty(),hc)}static max(){return new Qa(qe.max(),Me.empty(),hc)}}function uM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(n.documentKey,e.documentKey),t!==0?t:Je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==cM)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,i)=>{t(e)})}static reject(e){return new fe((t,i)=>{i(e)})}static waitFor(e){return new fe((t,i)=>{let s=0,l=0,c=!1;e.forEach(m=>{++s,m.next(()=>{++l,c&&l===s&&t()},d=>i(d))}),c=!0,l===s&&t()})}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next(s=>s?fe.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new fe((i,s)=>{const l=e.length,c=new Array(l);let m=0;for(let d=0;d<l;d++){const p=d;t(e[p]).next(v=>{c[p]=v,++m,m===l&&i(c)},v=>s(v))}})}static doWhile(e,t){return new fe((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}function hM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Rl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Rd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-1;function Cd(n){return n==null}function Yh(n){return n===0&&1/n==-1/0}function dM(n){return typeof n=="number"&&Number.isInteger(n)&&!Yh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="";function mM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=N1(e)),e=pM(n.get(t),e);return N1(e)}function pM(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case aA:t+="";break;default:t+=l}}return t}function N1(n){return n+aA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ls(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t){this.comparator=e,this.root=t||An.EMPTY}insert(e,t){return new jt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??An.RED,this.left=s??An.EMPTY,this.right=l??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new An(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return An.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,t,i,s,l){return this}insert(e,t,i){return new An(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new P1(this.data.getIterator())}getIteratorFrom(e){return new P1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class P1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new or([])}unionWith(e){let t=new fn(Rn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new oA("Invalid base64 string: "+l):l}}(e);return new Cn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new Cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const gM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(n){if(Et(!!n,39018),typeof n=="string"){let e=0;const t=gM.exec(n);if(Et(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kt(n.seconds),nanos:Kt(n.nanos)}}function Kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Za(n){return typeof n=="string"?Cn.fromBase64String(n):Cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="server_timestamp",uA="__type__",cA="__previous_value__",fA="__local_write_time__";function dy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[uA])===null||t===void 0?void 0:t.stringValue)===lA}function Id(n){const e=n.mapValue.fields[cA];return dy(e)?Id(e):e}function dc(n){const e=Wa(n.mapValue.fields[fA].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,t,i,s,l,c,m,d,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=v}}const Kh="(default)";class mc{constructor(e,t){this.projectId=e,this.database=t||Kh}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="__type__",yM="__max__",uh={mapValue:{}},dA="__vector__",Xh="value";function Ja(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dy(n)?4:bM(n)?9007199254740991:_M(n)?10:11:ze(28295,{value:n})}function gi(n,e){if(n===e)return!0;const t=Ja(n);if(t!==Ja(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dc(n).isEqual(dc(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Wa(s.timestampValue),m=Wa(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return Za(s.bytesValue).isEqual(Za(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return Kt(s.geoPointValue.latitude)===Kt(l.geoPointValue.latitude)&&Kt(s.geoPointValue.longitude)===Kt(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Kt(s.integerValue)===Kt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Kt(s.doubleValue),m=Kt(l.doubleValue);return c===m?Yh(c)===Yh(m):isNaN(c)&&isNaN(m)}return!1}(n,e);case 9:return pl(n.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},m=l.mapValue.fields||{};if(D1(c)!==D1(m))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(m[d]===void 0||!gi(c[d],m[d])))return!1;return!0}(n,e);default:return ze(52216,{left:n})}}function pc(n,e){return(n.values||[]).find(t=>gi(t,e))!==void 0}function gl(n,e){if(n===e)return 0;const t=Ja(n),i=Ja(e);if(t!==i)return Je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Je(n.booleanValue,e.booleanValue);case 2:return function(l,c){const m=Kt(l.integerValue||l.doubleValue),d=Kt(c.integerValue||c.doubleValue);return m<d?-1:m>d?1:m===d?0:isNaN(m)?isNaN(d)?0:-1:1}(n,e);case 3:return M1(n.timestampValue,e.timestampValue);case 4:return M1(dc(n),dc(e));case 5:return Wg(n.stringValue,e.stringValue);case 6:return function(l,c){const m=Za(l),d=Za(c);return m.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const m=l.split("/"),d=c.split("/");for(let p=0;p<m.length&&p<d.length;p++){const v=Je(m[p],d[p]);if(v!==0)return v}return Je(m.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const m=Je(Kt(l.latitude),Kt(c.latitude));return m!==0?m:Je(Kt(l.longitude),Kt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return k1(n.arrayValue,e.arrayValue);case 10:return function(l,c){var m,d,p,v;const _=l.fields||{},A=c.fields||{},D=(m=_[Xh])===null||m===void 0?void 0:m.arrayValue,k=(d=A[Xh])===null||d===void 0?void 0:d.arrayValue,V=Je(((p=D==null?void 0:D.values)===null||p===void 0?void 0:p.length)||0,((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0);return V!==0?V:k1(D,k)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===uh.mapValue&&c===uh.mapValue)return 0;if(l===uh.mapValue)return 1;if(c===uh.mapValue)return-1;const m=l.fields||{},d=Object.keys(m),p=c.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let _=0;_<d.length&&_<v.length;++_){const A=Wg(d[_],v[_]);if(A!==0)return A;const D=gl(m[d[_]],p[v[_]]);if(D!==0)return D}return Je(d.length,v.length)}(n.mapValue,e.mapValue);default:throw ze(23264,{le:t})}}function M1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Je(n,e);const t=Wa(n),i=Wa(e),s=Je(t.seconds,i.seconds);return s!==0?s:Je(t.nanos,i.nanos)}function k1(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=gl(t[s],i[s]);if(l)return l}return Je(t.length,i.length)}function vl(n){return Zg(n)}function Zg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Wa(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Za(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Me.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=Zg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${Zg(t.fields[c])}`;return s+"}"}(n.mapValue):ze(61005,{value:n})}function xh(n){switch(Ja(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Id(n);return e?16+xh(e):16;case 5:return 2*n.stringValue.length;case 6:return Za(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+xh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return ls(i.fields,(l,c)=>{s+=l.length+xh(c)}),s}(n.mapValue);default:throw ze(13486,{value:n})}}function Jg(n){return!!n&&"integerValue"in n}function my(n){return!!n&&"arrayValue"in n}function V1(n){return!!n&&"nullValue"in n}function L1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rh(n){return!!n&&"mapValue"in n}function _M(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[hA])===null||t===void 0?void 0:t.stringValue)===dA}function ec(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ls(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ec(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ec(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===yM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Rh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(t)}setAll(e){let t=Rn.emptyPath(),i={},s=[];e.forEach((c,m)=>{if(!t.isImmediateParentOf(m)){const d=this.getFieldsMap(t);this.applyChanges(d,i,s),i={},s=[],t=m.popLast()}c?i[m.lastSegment()]=ec(c):s.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());Rh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Rh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){ls(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new Yn(ec(this.value))}}function mA(n){const e=[];return ls(n.fields,(t,i)=>{const s=new Rn([t]);if(Rh(i)){const l=mA(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,t,i,s,l,c,m){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new Mn(e,0,qe.min(),qe.min(),qe.min(),Yn.empty(),0)}static newFoundDocument(e,t,i,s){return new Mn(e,1,t,qe.min(),i,s,0)}static newNoDocument(e,t){return new Mn(e,2,t,qe.min(),qe.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new Mn(e,3,t,qe.min(),qe.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t){this.position=e,this.inclusive=t}}function j1(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=Me.comparator(Me.fromName(c.referenceValue),t.key):i=gl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function U1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function EM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{}class cn extends pA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new SM(e,t,i):t==="array-contains"?new xM(e,i):t==="in"?new RM(e,i):t==="not-in"?new CM(e,i):t==="array-contains-any"?new IM(e,i):new cn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new wM(e,i):new AM(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(gl(t,this.value)):t!==null&&Ja(this.value)===Ja(t)&&this.matchesComparison(gl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends pA{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new vi(e,t)}matches(e){return gA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function gA(n){return n.op==="and"}function vA(n){return TM(n)&&gA(n)}function TM(n){for(const e of n.filters)if(e instanceof vi)return!1;return!0}function ev(n){if(n instanceof cn)return n.field.canonicalString()+n.op.toString()+vl(n.value);if(vA(n))return n.filters.map(e=>ev(e)).join(",");{const e=n.filters.map(t=>ev(t)).join(",");return`${n.op}(${e})`}}function yA(n,e){return n instanceof cn?function(i,s){return s instanceof cn&&i.op===s.op&&i.field.isEqual(s.field)&&gi(i.value,s.value)}(n,e):n instanceof vi?function(i,s){return s instanceof vi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,m)=>l&&yA(c,s.filters[m]),!0):!1}(n,e):void ze(19439)}function _A(n){return n instanceof cn?function(t){return`${t.field.canonicalString()} ${t.op} ${vl(t.value)}`}(n):n instanceof vi?function(t){return t.op.toString()+" {"+t.getFilters().map(_A).join(" ,")+"}"}(n):"Filter"}class SM extends cn{constructor(e,t,i){super(e,t,i),this.key=Me.fromName(i.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class wM extends cn{constructor(e,t){super(e,"in",t),this.keys=bA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AM extends cn{constructor(e,t){super(e,"not-in",t),this.keys=bA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Me.fromName(i.referenceValue))}class xM extends cn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return my(t)&&pc(t.arrayValue,this.value)}}class RM extends cn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pc(this.value.arrayValue,t)}}class CM extends cn{constructor(e,t){super(e,"not-in",t)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pc(this.value.arrayValue,t)}}class IM extends cn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!my(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>pc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,t=null,i=[],s=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=m,this.Pe=null}}function F1(n,e=null,t=[],i=[],s=null,l=null,c=null){return new OM(n,e,t,i,s,l,c)}function py(n){const e=$e(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ev(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Cd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>vl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>vl(i)).join(",")),e.Pe=t}return e.Pe}function gy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!EM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!yA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!U1(n.startAt,e.startAt)&&U1(n.endAt,e.endAt)}function tv(n){return Me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t=null,i=[],s=[],l=null,c="F",m=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function NM(n,e,t,i,s,l,c,m){return new Od(n,e,t,i,s,l,c,m)}function vy(n){return new Od(n)}function z1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function DM(n){return n.collectionGroup!==null}function tc(n){const e=$e(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new fn(Rn.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Wh(l,i))}),t.has(Rn.keyField().canonicalString())||e.Te.push(new Wh(Rn.keyField(),i))}return e.Te}function ci(n){const e=$e(n);return e.Ie||(e.Ie=PM(e,tc(n))),e.Ie}function PM(n,e){if(n.limitType==="F")return F1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Wh(s.field,l)});const t=n.endAt?new Qh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Qh(n.startAt.position,n.startAt.inclusive):null;return F1(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function nv(n,e,t){return new Od(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nd(n,e){return gy(ci(n),ci(e))&&n.limitType===e.limitType}function EA(n){return`${py(ci(n))}|lt:${n.limitType}`}function tl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>_A(s)).join(", ")}]`),Cd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>vl(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>vl(s)).join(",")),`Target(${i})`}(ci(n))}; limitType=${n.limitType})`}function Dd(n,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Me.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,s){for(const l of tc(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,m,d){const p=j1(c,m,d);return c.inclusive?p<=0:p<0}(i.startAt,tc(i),s)||i.endAt&&!function(c,m,d){const p=j1(c,m,d);return c.inclusive?p>=0:p>0}(i.endAt,tc(i),s))}(n,e)}function MM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TA(n){return(e,t)=>{let i=!1;for(const s of tc(n)){const l=kM(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function kM(n,e,t){const i=n.field.isKeyField()?Me.comparator(e.key,t.key):function(l,c,m){const d=c.data.field(l),p=m.data.field(l);return d!==null&&p!==null?gl(d,p):ze(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ze(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return sA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=new jt(Me.comparator);function Ji(){return VM}const SA=new jt(Me.comparator);function Gu(...n){let e=SA;for(const t of n)e=e.insert(t.key,t);return e}function wA(n){let e=SA;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Bs(){return nc()}function AA(){return nc()}function nc(){return new ao(n=>n.toString(),(n,e)=>n.isEqual(e))}const LM=new jt(Me.comparator),jM=new fn(Me.comparator);function ot(...n){let e=jM;for(const t of n)e=e.add(t);return e}const UM=new fn(Je);function FM(){return UM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function xA(n){return{integerValue:""+n}}function zM(n,e){return dM(e)?xA(e):yy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this._=void 0}}function BM(n,e,t){return n instanceof Zh?function(s,l){const c={fields:{[uA]:{stringValue:lA},[fA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&dy(l)&&(l=Id(l)),l&&(c.fields[cA]=l),{mapValue:c}}(t,e):n instanceof gc?CA(n,e):n instanceof vc?IA(n,e):function(s,l){const c=RA(s,l),m=B1(c)+B1(s.Ee);return Jg(c)&&Jg(s.Ee)?xA(m):yy(s.serializer,m)}(n,e)}function HM(n,e,t){return n instanceof gc?CA(n,e):n instanceof vc?IA(n,e):t}function RA(n,e){return n instanceof Jh?function(i){return Jg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Zh extends Pd{}class gc extends Pd{constructor(e){super(),this.elements=e}}function CA(n,e){const t=OA(e);for(const i of n.elements)t.some(s=>gi(s,i))||t.push(i);return{arrayValue:{values:t}}}class vc extends Pd{constructor(e){super(),this.elements=e}}function IA(n,e){let t=OA(e);for(const i of n.elements)t=t.filter(s=>!gi(s,i));return{arrayValue:{values:t}}}class Jh extends Pd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function B1(n){return Kt(n.integerValue||n.doubleValue)}function OA(n){return my(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function qM(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof gc&&s instanceof gc||i instanceof vc&&s instanceof vc?pl(i.elements,s.elements,gi):i instanceof Jh&&s instanceof Jh?gi(i.Ee,s.Ee):i instanceof Zh&&s instanceof Zh}(n.transform,e.transform)}class $M{constructor(e,t){this.version=e,this.transformResults=t}}class wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Md{}function NA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _y(n.key,wr.none()):new Nc(n.key,n.data,wr.none());{const t=n.data,i=Yn.empty();let s=new fn(Rn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new us(n.key,i,new or(s.toArray()),wr.none())}}function GM(n,e,t){n instanceof Nc?function(s,l,c){const m=s.value.clone(),d=q1(s.fieldTransforms,l,c.transformResults);m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):n instanceof us?function(s,l,c){if(!Ch(s.precondition,l))return void l.convertToUnknownDocument(c.version);const m=q1(s.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(DA(s)),d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function rc(n,e,t,i){return n instanceof Nc?function(l,c,m,d){if(!Ch(l.precondition,c))return m;const p=l.value.clone(),v=$1(l.fieldTransforms,d,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof us?function(l,c,m,d){if(!Ch(l.precondition,c))return m;const p=$1(l.fieldTransforms,d,c),v=c.data;return v.setAll(DA(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(l,c,m){return Ch(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(n,e,t)}function YM(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=RA(i.transform,s||null);l!=null&&(t===null&&(t=Yn.empty()),t.set(i.field,l))}return t||null}function H1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&pl(i,s,(l,c)=>qM(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Nc extends Md{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class us extends Md{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function DA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function q1(n,e,t){const i=new Map;Et(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,m=e.data.field(l.field);i.set(l.field,HM(c,m,t[s]))}return i}function $1(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,BM(l,c,e))}return i}class _y extends Md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KM extends Md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&GM(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=rc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=rc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=AA();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=t.has(s.key)?null:m;const d=NA(c,m);d!==null&&i.set(s.key,d),c.isValidDocument()||c.convertToNoDocument(qe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ot())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(t,i)=>H1(t,i))&&pl(this.baseMutations,e.baseMutations,(t,i)=>H1(t,i))}}class by{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Et(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let s=function(){return LM}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new by(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,mt;function ZM(n){switch(n){case he.OK:return ze(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return ze(15467,{code:n})}}function PA(n){if(n===void 0)return Zi("GRPC error has no .code"),he.UNKNOWN;switch(n){case Jt.OK:return he.OK;case Jt.CANCELLED:return he.CANCELLED;case Jt.UNKNOWN:return he.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return he.INTERNAL;case Jt.UNAVAILABLE:return he.UNAVAILABLE;case Jt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Jt.NOT_FOUND:return he.NOT_FOUND;case Jt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Jt.ABORTED:return he.ABORTED;case Jt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Jt.DATA_LOSS:return he.DATA_LOSS;default:return ze(39323,{code:n})}}(mt=Jt||(Jt={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new Ga([4294967295,4294967295],0);function G1(n){const e=nA().encode(n),t=new Kw;return t.update(e),new Uint8Array(t.digest())}function Y1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ga([t,i],0),new Ga([s,l],0)]}class Ey{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Yu(`Invalid padding: ${t}`);if(i<0)throw new Yu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ga.fromNumber(this.fe)}pe(e,t,i){let s=e.add(t.multiply(Ga.fromNumber(i)));return s.compare(JM)===1&&(s=new Ga([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=G1(e),[i,s]=Y1(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,s,l);if(!this.ye(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ey(l,s,t);return i.forEach(m=>c.insert(m)),c}insert(e){if(this.fe===0)return;const t=G1(e),[i,s]=Y1(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,s,l);this.we(c)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new kd(qe.min(),s,new jt(Je),Ji(),ot())}}class Dc{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Dc(i,t,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t,i,s){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=s}}class MA{constructor(e,t){this.targetId=e,this.De=t}}class kA{constructor(e,t,i=Cn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class K1{constructor(){this.ve=0,this.Ce=X1(),this.Fe=Cn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ot(),t=ot(),i=ot();return this.Ce.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:ze(38017,{changeType:l})}}),new Dc(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=X1()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Et(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class e4{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ji(),this.je=ch(),this.Je=ch(),this.He=new jt(Je)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,s)=>{this.nt(s)&&t(s)})}it(e){const t=e.targetId,i=e.De.count,s=this.st(t);if(s){const l=s.target;if(tv(l))if(i===0){const c=new Me(l.path);this.Xe(t,c,Mn.newNoDocument(c,qe.min()))}else Et(i===1,20013,{expectedCount:i});else{const c=this.ot(t);if(c!==i){const m=this._t(e),d=m?this.ut(m,e,c):1;if(d!==0){this.rt(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,m;try{c=Za(i).toUint8Array()}catch(d){if(d instanceof oA)return Xa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{m=new Ey(c,s,l)}catch(d){return Xa(d instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return m.fe===0?null:m}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const c=this.We.lt(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,l,null),s++)}),s}Pt(e){const t=new Map;this.Ge.forEach((l,c)=>{const m=this.st(c);if(m){if(l.current&&tv(m.target)){const d=new Me(m.target.path);this.Tt(d).has(c)||this.It(c,d)||this.Xe(c,d,Mn.newNoDocument(d,e))}l.Ne&&(t.set(c,l.Le()),l.ke())}});let i=ot();this.Je.forEach((l,c)=>{let m=!0;c.forEachWhile(d=>{const p=this.st(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(l))}),this.ze.forEach((l,c)=>c.setReadTime(e));const s=new kd(e,t,this.He,this.ze,i);return this.ze=Ji(),this.je=ch(),this.Je=ch(),this.He=new jt(Je),s}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new K1,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new fn(Je),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new fn(Je),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new K1),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function ch(){return new jt(Me.comparator)}function X1(){return new jt(Me.comparator)}const t4={asc:"ASCENDING",desc:"DESCENDING"},n4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r4={and:"AND",or:"OR"};class i4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rv(n,e){return n.useProto3Json||Cd(e)?e:{value:e}}function ed(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function a4(n,e){return ed(n,e.toTimestamp())}function fi(n){return Et(!!n,49232),qe.fromTimestamp(function(t){const i=Wa(t);return new Nt(i.seconds,i.nanos)}(n))}function Ty(n,e){return iv(n,e).canonicalString()}function iv(n,e){const t=function(s){return new Pt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function LA(n){const e=Pt.fromString(n);return Et(BA(e),10190,{key:e.toString()}),e}function av(n,e){return Ty(n.databaseId,e.path)}function dg(n,e){const t=LA(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Me(UA(t))}function jA(n,e){return Ty(n.databaseId,e)}function s4(n){const e=LA(n);return e.length===4?Pt.emptyPath():UA(e)}function sv(n){return new Pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UA(n){return Et(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Q1(n,e,t){return{name:av(n,e),fields:t.value.mapValue.fields}}function o4(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ze(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(Et(v===void 0||typeof v=="string",58123),Cn.fromBase64String(v||"")):(Et(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Cn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(p){const v=p.code===void 0?he.UNKNOWN:PA(p.code);return new xe(v,p.message||"")}(c);t=new kA(i,s,l,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=dg(n,i.document.name),l=fi(i.document.updateTime),c=i.document.createTime?fi(i.document.createTime):qe.min(),m=new Yn({mapValue:{fields:i.document.fields}}),d=Mn.newFoundDocument(s,l,c,m),p=i.targetIds||[],v=i.removedTargetIds||[];t=new Ih(p,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=dg(n,i.document),l=i.readTime?fi(i.readTime):qe.min(),c=Mn.newNoDocument(s,l),m=i.removedTargetIds||[];t=new Ih([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=dg(n,i.document),l=i.removedTargetIds||[];t=new Ih([],l,s,null)}else{if(!("filter"in e))return ze(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new WM(s,l),m=i.targetId;t=new MA(m,c)}}return t}function l4(n,e){let t;if(e instanceof Nc)t={update:Q1(n,e.key,e.value)};else if(e instanceof _y)t={delete:av(n,e.key)};else if(e instanceof us)t={update:Q1(n,e.key,e.data),updateMask:v4(e.fieldMask)};else{if(!(e instanceof KM))return ze(16599,{Rt:e.type});t={verify:av(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const m=c.transform;if(m instanceof Zh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof gc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Jh)return{fieldPath:c.field.canonicalString(),increment:m.Ee};throw ze(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:a4(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ze(27497)}(n,e.precondition)),t}function u4(n,e){return n&&n.length>0?(Et(e!==void 0,14353),n.map(t=>function(s,l){let c=s.updateTime?fi(s.updateTime):fi(l);return c.isEqual(qe.min())&&(c=fi(l)),new $M(c,s.transformResults||[])}(t,e))):[]}function c4(n,e){return{documents:[jA(n,e.path)]}}function f4(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=jA(n,s);const l=function(p){if(p.length!==0)return zA(vi.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(v=>function(A){return{field:nl(A.field),direction:m4(A.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=rv(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:t,parent:s}}function h4(n){let e=s4(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Et(i===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(_){const A=FA(_);return A instanceof vi&&vA(A)?A.getFilters():[A]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(A=>function(k){return new Wh(rl(k.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(A))}(t.orderBy));let m=null;t.limit&&(m=function(_){let A;return A=typeof _=="object"?_.value:_,Cd(A)?null:A}(t.limit));let d=null;t.startAt&&(d=function(_){const A=!!_.before,D=_.values||[];return new Qh(D,A)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const A=!_.before,D=_.values||[];return new Qh(D,A)}(t.endAt)),NM(e,s,c,l,m,"F",d,p)}function d4(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=rl(t.unaryFilter.field);return cn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=rl(t.unaryFilter.field);return cn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=rl(t.unaryFilter.field);return cn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=rl(t.unaryFilter.field);return cn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(n):n.fieldFilter!==void 0?function(t){return cn.create(rl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return vi.create(t.compositeFilter.filters.map(i=>FA(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(t.compositeFilter.op))}(n):ze(30097,{filter:n})}function m4(n){return t4[n]}function p4(n){return n4[n]}function g4(n){return r4[n]}function nl(n){return{fieldPath:n.canonicalString()}}function rl(n){return Rn.fromServerFormat(n.fieldPath)}function zA(n){return n instanceof cn?function(t){if(t.op==="=="){if(L1(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NAN"}};if(V1(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(L1(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NAN"}};if(V1(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(t.field),op:p4(t.op),value:t.value}}}(n):n instanceof vi?function(t){const i=t.getFilters().map(s=>zA(s));return i.length===1?i[0]:{compositeFilter:{op:g4(t.op),filters:i}}}(n):ze(54877,{filter:n})}function v4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function BA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t,i,s,l=qe.min(),c=qe.min(),m=Cn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=d}withSequenceNumber(e){return new za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.gt=e}}function _4(n){const e=h4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.Dn=new E4}addToCollectionParentIndex(e,t){return this.Dn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Qa.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Qa.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class E4{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new fn(Pt.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new fn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HA=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(HA,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new yl(0)}static ur(){return new yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="LruGarbageCollector",T4=1048576;function J1([n,e],[t,i]){const s=Je(n,t);return s===0?Je(e,i):s}class S4{constructor(e){this.Tr=e,this.buffer=new fn(J1),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();J1(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class w4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Se(Z1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Rl(t)?Se(Z1,"Ignoring IndexedDB error during garbage collection: ",t):await xl(t)}await this.Rr(3e5)})}}class A4{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(Rd.ue);const i=new S4(t);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(W1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W1):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,s,l,c,m,d,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,c=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(i=_,m=Date.now(),this.removeTargets(e,i,t))).next(_=>(l=_,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),el()<=st.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(m-c)+`ms
	Removed ${l} targets in `+(d-m)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-v}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:_})))}}function x4(n,e){return new A4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.changes=new ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&rc(i.mutation,s,or.empty(),Nt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ot()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ot()){const s=Bs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let c=Gu();return l.forEach((m,d)=>{c=c.insert(m,d.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Bs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ot()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,m)=>{t.set(c,m)})})}computeViews(e,t,i,s){let l=Ji();const c=nc(),m=function(){return nc()}();return t.forEach((d,p)=>{const v=i.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof us)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),rc(v.mutation,p,v.mutation.getFieldMask(),Nt.now())):c.set(p.key,or.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((p,v)=>c.set(p,v)),t.forEach((p,v)=>{var _;return m.set(p,new C4(v,(_=c.get(p))!==null&&_!==void 0?_:null))}),m))}recalculateAndSaveOverlays(e,t){const i=nc();let s=new jt((c,m)=>c-m),l=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const m of c)m.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let v=i.get(d)||or.empty();v=m.applyToLocalView(p,v),i.set(d,v);const _=(s.get(m.batchId)||ot()).add(d);s=s.insert(m.batchId,_)})}).next(()=>{const c=[],m=s.getReverseIterator();for(;m.hasNext();){const d=m.getNext(),p=d.key,v=d.value,_=AA();v.forEach(A=>{if(!l.has(A)){const D=NA(t.get(A),i.get(A));D!==null&&_.set(A,D),l=l.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return fe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return Me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):fe.resolve(Bs());let m=hc,d=l;return c.next(p=>fe.forEach(p,(v,_)=>(m<_.largestBatchId&&(m=_.largestBatchId),l.get(v)?fe.resolve():this.remoteDocumentCache.getEntry(e,v).next(A=>{d=d.insert(v,A)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,d,p,ot())).next(v=>({batchId:m,changes:wA(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next(i=>{let s=Gu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=Gu();return this.indexManager.getCollectionParents(e,l).next(m=>fe.forEach(m,d=>{const p=function(_,A){return new Od(A,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,s).next(v=>{v.forEach((_,A)=>{c=c.insert(_,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(c=>{l.forEach((d,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,Mn.newInvalidDocument(v)))});let m=Gu();return c.forEach((d,p)=>{const v=l.get(d);v!==void 0&&rc(v.mutation,p,or.empty(),Nt.now()),Dd(t,p)&&(m=m.insert(d,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return fe.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(s){return{id:s.id,version:s.version,createTime:fi(s.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(s){return{name:s.name,query:_4(s.bundledQuery),readTime:fi(s.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.overlays=new jt(Me.comparator),this.kr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Bs();return fe.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.wt(e,t,l)}),fe.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const s=Bs(),l=t.length+1,c=new Me(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const d=m.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>i&&s.set(d.getKey(),d)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new jt((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=Bs(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const m=Bs(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,v)=>m.set(p,v)),!(m.size()>=s)););return fe.resolve(m)}wt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new QM(t,i));let l=this.kr.get(t);l===void 0&&(l=ot(),this.kr.set(t,l)),this.kr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.qr=new fn(_n.Qr),this.$r=new fn(_n.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new _n(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new _n(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){const t=new Me(new Pt([])),i=new _n(t,e),s=new _n(t,e+1),l=[];return this.$r.forEachInRange([i,s],c=>{this.Wr(c),l.push(c.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Me(new Pt([])),i=new _n(t,e),s=new _n(t,e+1);let l=ot();return this.$r.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new _n(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class _n{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Me.comparator(e.key,t.key)||Je(e.Hr,t.Hr)}static Ur(e,t){return Je(e.Hr,t.Hr)||Me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new fn(_n.Qr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new XM(l,t,i,s);this.mutationQueue.push(c);for(const m of s)this.Yr=this.Yr.add(new _n(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Xr(i),l=s<0?0:s;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?hy:this.er-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new _n(t,0),s=new _n(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([i,s],c=>{const m=this.Zr(c.Hr);l.push(m)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new fn(Je);return t.forEach(s=>{const l=new _n(s,0),c=new _n(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],m=>{i=i.add(m.Hr)})}),fe.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;Me.isDocumentKey(l)||(l=l.child(""));const c=new _n(new Me(l),0);let m=new fn(Je);return this.Yr.forEachWhile(d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(m=m.add(d.Hr)),!0)},c),fe.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Et(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return fe.forEach(t.mutations,s=>{const l=new _n(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){const i=new _n(t,0),s=this.Yr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.ni=e,this.docs=function(){return new jt(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():Mn.newInvalidDocument(t))}getEntries(e,t){let i=Ji();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():Mn.newInvalidDocument(s))}),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=Ji();const c=t.path,m=new Me(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(m);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||uM(lM(v),i)<=0||(s.has(v.key)||Dd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,t,i,s){ze(9500)}ri(e,t){return fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new k4(this)}getSize(e){return fe.resolve(this.size)}}class k4 extends R4{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(i)}),fe.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.persistence=e,this.ii=new ao(t=>py(t),gy),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.si=0,this.oi=new Sy,this.targetCount=0,this._i=yl.ar()}forEachTarget(e,t){return this.ii.forEach((i,s)=>t(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),fe.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new yl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.hr(t),fe.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.ii.forEach((c,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),fe.waitFor(l).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t){this.ai={},this.overlays={},this.ui=new Rd(0),this.ci=!1,this.ci=!0,this.li=new D4,this.referenceDelegate=e(this),this.hi=new V4(this),this.indexManager=new b4,this.remoteDocumentCache=function(s){return new M4(s)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new y4(t),this.Ti=new O4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new N4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new P4(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){Se("MemoryPersistence","Starting transaction:",e);const s=new L4(this.ui.next());return this.referenceDelegate.Ii(),i(s).next(l=>this.referenceDelegate.di(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ei(e,t){return fe.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}}class L4 extends fM{constructor(e){super(),this.currentSequenceNumber=e}}class wy{constructor(e){this.persistence=e,this.Ai=new Sy,this.Ri=null}static Vi(e){return new wy(e)}get mi(){if(this.Ri)return this.Ri;throw ze(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(s=>this.mi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.mi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.mi,i=>{const s=Me.fromPath(i);return this.fi(e,s).next(l=>{l||t.removeEntry(s,qe.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return fe.or([()=>fe.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class td{constructor(e,t){this.persistence=e,this.gi=new ao(i=>mM(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=x4(this,t)}static Vi(e,t){return new td(e,t)}Ii(){}di(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return fe.forEach(this.gi,(i,s)=>this.Sr(e,i,s).next(l=>l?fe.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ri(e,c=>this.Sr(e,c,t).next(m=>{m||(i++,l.removeEntry(c,qe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),fe.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xh(e.data.value)),t}Sr(e,t,i){return fe.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return fe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=s}static Es(e,t){let i=ot(),s=ot();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Ay(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return vO()?8:hM(Vn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.ps(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ys(e,t,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new j4;return this.ws(e,t,c).next(m=>{if(l.result=m,this.Rs)return this.Ss(e,t,c,m.size)})}).next(()=>l.result)}Ss(e,t,i,s){return i.documentReadCount<this.Vs?(el()<=st.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),fe.resolve()):(el()<=st.DEBUG&&Se("QueryEngine","Query:",tl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(el()<=st.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(t))):fe.resolve())}ps(e,t){if(z1(t))return fe.resolve(null);let i=ci(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=nv(t,null,"F"),i=ci(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=ot(...l);return this.gs.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,i).next(d=>{const p=this.bs(t,m);return this.Ds(t,p,c,d.readTime)?this.ps(e,nv(t,null,"F")):this.vs(e,p,t,d)}))})))}ys(e,t,i,s){return z1(t)||s.isEqual(qe.min())?fe.resolve(null):this.gs.getDocuments(e,i).next(l=>{const c=this.bs(t,l);return this.Ds(t,c,i,s)?fe.resolve(null):(el()<=st.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),tl(t)),this.vs(e,c,t,oM(s,hc)).next(m=>m))})}bs(e,t){let i=new fn(TA(e));return t.forEach((s,l)=>{Dd(e,l)&&(i=i.add(l))}),i}Ds(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ws(e,t,i){return el()<=st.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",tl(t)),this.gs.getDocumentsMatchingQuery(e,t,Qa.min(),i)}vs(e,t,i,s){return this.gs.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="LocalStore",F4=3e8;class z4{constructor(e,t,i,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new jt(Je),this.Ms=new ao(l=>py(l),gy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I4(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function B4(n,e,t,i){return new z4(n,e,t,i)}async function $A(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],m=[];let d=ot();for(const p of s){c.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}for(const p of l){m.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}return t.localDocuments.getDocuments(i,d).next(p=>({Bs:p,removedBatchIds:c,addedBatchIds:m}))})})}function H4(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,d,p,v){const _=p.batch,A=_.keys();let D=fe.resolve();return A.forEach(k=>{D=D.next(()=>v.getEntry(d,k)).next(V=>{const N=p.docVersions.get(k);Et(N!==null,48541),V.version.compareTo(N)<0&&(_.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),v.addEntry(V)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(d,_))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let d=ot();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(d=d.add(m.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function GA(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function q4(n,e){const t=$e(n),i=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const m=[];e.targetChanges.forEach((v,_)=>{const A=s.get(_);if(!A)return;m.push(t.hi.removeMatchingKeys(l,v.removedDocuments,_).next(()=>t.hi.addMatchingKeys(l,v.addedDocuments,_)));let D=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?D=D.withResumeToken(Cn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,i)),s=s.insert(_,D),function(V,N,F){return V.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=F4?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(A,D,v)&&m.push(t.hi.updateTargetData(l,D))});let d=Ji(),p=ot();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),m.push($4(l,c,e.documentUpdates).next(v=>{d=v.Ls,p=v.ks})),!i.isEqual(qe.min())){const v=t.hi.getLastRemoteSnapshotVersion(l).next(_=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,i));m.push(v)}return fe.waitFor(m).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,d,p)).next(()=>d)}).then(l=>(t.Fs=s,l))}function $4(n,e,t){let i=ot(),s=ot();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Ji();return t.forEach((m,d)=>{const p=l.get(m);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(m)),d.isNoDocument()&&d.version.isEqual(qe.min())?(e.removeEntry(m,d.readTime),c=c.insert(m,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(m,d)):Se(xy,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",d.version)}),{Ls:c,ks:s}})}function G4(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=hy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Y4(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.hi.getTargetData(i,e).next(l=>l?(s=l,fe.resolve(s)):t.hi.allocateTargetId(i).next(c=>(s=new za(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Fs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function ov(n,e,t){const i=$e(n),s=i.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Rl(c))throw c;Se(xy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(s.target)}function eT(n,e,t){const i=$e(n);let s=qe.min(),l=ot();return i.persistence.runTransaction("Execute query","readwrite",c=>function(d,p,v){const _=$e(d),A=_.Ms.get(v);return A!==void 0?fe.resolve(_.Fs.get(A)):_.hi.getTargetData(p,v)}(i,c,ci(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,m.targetId).next(d=>{l=d})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,e,t?s:qe.min(),t?l:ot())).next(m=>(K4(i,MM(e),m),{documents:m,qs:l})))}function K4(n,e,t){let i=n.xs.get(e)||qe.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.xs.set(e,i)}class tT{constructor(){this.activeTargetIds=FM()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X4{constructor(){this.Fo=new tT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new tT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="ConnectivityMonitor";class rT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Se(nT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Se(nT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh=null;function lv(){return fh===null?fh=function(){return 268435456+Math.round(2147483648*Math.random())}():fh++,"0x"+fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="RestConnection",W4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z4{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===Kh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,t,i,s,l){const c=lv(),m=this.Go(e,t.toUriEncodedString());Se(mg,`Sending RPC '${e}' ${c}:`,m,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,s,l);const{host:p}=new URL(m),v=ss(p);return this.jo(e,m,d,i,v).then(_=>(Se(mg,`Received RPC '${e}' ${c}: `,_),_),_=>{throw Xa(mg,`RPC '${e}' ${c} failed with error: `,_,"url: ",m,"request:",i),_})}Jo(e,t,i,s,l,c){return this.Wo(e,t,i,s,l)}zo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Al}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}Go(e,t){const i=W4[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class ek extends Z4{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,s,l){const c=lv();return new Promise((m,d)=>{const p=new Xw;p.setWithCredentials(!0),p.listenOnce(Qw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ah.NO_ERROR:const _=p.getResponseJson();Se(Nn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),m(_);break;case Ah.TIMEOUT:Se(Nn,`RPC '${e}' ${c} timed out`),d(new xe(he.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const A=p.getStatus();if(Se(Nn,`RPC '${e}' ${c} failed with status:`,A,"response text:",p.getResponseText()),A>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const k=D==null?void 0:D.error;if(k&&k.status&&k.message){const V=function(F){const $=F.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf($)>=0?$:he.UNKNOWN}(k.status);d(new xe(V,k.message))}else d(new xe(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new xe(he.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{c_:e,streamId:c,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{Se(Nn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(s);Se(Nn,`RPC '${e}' ${c} sending request:`,s),p.send(t,"POST",v,i,15)})}P_(e,t,i){const s=lv(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Jw(),m=Zw(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const v=l.join("");Se(Nn,`Creating RPC '${e}' stream ${s}: ${v}`,d);const _=c.createWebChannel(v,d);this.T_(_);let A=!1,D=!1;const k=new J4({Ho:N=>{D?Se(Nn,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(A||(Se(Nn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),A=!0),Se(Nn,`RPC '${e}' stream ${s} sending:`,N),_.send(N))},Yo:()=>_.close()}),V=(N,F,$)=>{N.listen(F,q=>{try{$(q)}catch(ae){setTimeout(()=>{throw ae},0)}})};return V(_,$u.EventType.OPEN,()=>{D||(Se(Nn,`RPC '${e}' stream ${s} transport opened.`),k.s_())}),V(_,$u.EventType.CLOSE,()=>{D||(D=!0,Se(Nn,`RPC '${e}' stream ${s} transport closed`),k.__(),this.I_(_))}),V(_,$u.EventType.ERROR,N=>{D||(D=!0,Xa(Nn,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),k.__(new xe(he.UNAVAILABLE,"The operation could not be completed")))}),V(_,$u.EventType.MESSAGE,N=>{var F;if(!D){const $=N.data[0];Et(!!$,16349);const q=$,ae=(q==null?void 0:q.error)||((F=q[0])===null||F===void 0?void 0:F.error);if(ae){Se(Nn,`RPC '${e}' stream ${s} received error:`,ae);const H=ae.status;let J=function(S){const R=Jt[S];if(R!==void 0)return PA(R)}(H),C=ae.message;J===void 0&&(J=he.INTERNAL,C="Unknown error status: "+H+" with message "+ae.message),D=!0,k.__(new xe(J,C)),_.close()}else Se(Nn,`RPC '${e}' stream ${s} received:`,$),k.a_($)}}),V(m,Ww.STAT_EVENT,N=>{N.stat===Qg.PROXY?Se(Nn,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Qg.NOPROXY&&Se(Nn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.o_()},0),k}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(n){return new i4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t,i=1e3,s=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=s,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-i);s>0&&Se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="PersistentStream";class KA{constructor(e,t,i,s,l,c,m,d){this.Fi=e,this.w_=i,this.S_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new YA(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Zi(t.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.b_===t&&this.W_(i,s)},i=>{e(()=>{const s=new xe(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)})})}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{i(()=>this.G_(s))}),this.stream.onMessage(s=>{i(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Se(iT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Se(iT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tk extends KA{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=o4(this.serializer,e),i=function(l){if(!("targetChange"in l))return qe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?qe.min():c.readTime?fi(c.readTime):qe.min()}(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=sv(this.serializer),t.addTarget=function(l,c){let m;const d=c.target;if(m=tv(d)?{documents:c4(l,d)}:{query:f4(l,d).Vt},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=VA(l,c.resumeToken);const p=rv(l,c.expectedCount);p!==null&&(m.expectedCount=p)}else if(c.snapshotVersion.compareTo(qe.min())>0){m.readTime=ed(l,c.snapshotVersion.toTimestamp());const p=rv(l,c.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const i=d4(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=sv(this.serializer),t.removeTarget=e,this.k_(t)}}class nk extends KA{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=u4(e.writeResults,e.commitTime),i=fi(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=sv(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>l4(this.serializer,i))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{}class ik extends rk{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new xe(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,iv(t,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(he.UNKNOWN,l.toString())})}Jo(e,t,i,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.connection.Jo(e,iv(t,i),s,c,m,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(he.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class ak{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Zi(t),this._a=!1):Se("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class sk{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{so(this)&&(Se(Xs,"Restarting streams for network reachability change."),await async function(d){const p=$e(d);p.Ia.add(4),await Pc(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Ld(p)}(this))})}),this.Aa=new ak(i,s)}}async function Ld(n){if(so(n))for(const e of n.da)await e(!0)}async function Pc(n){for(const e of n.da)await e(!1)}function XA(n,e){const t=$e(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Oy(t)?Iy(t):Cl(t).x_()&&Cy(t,e))}function Ry(n,e){const t=$e(n),i=Cl(t);t.Ta.delete(e),i.x_()&&QA(t,e),t.Ta.size===0&&(i.x_()?i.B_():so(t)&&t.Aa.set("Unknown"))}function Cy(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cl(n).H_(e)}function QA(n,e){n.Ra.$e(e),Cl(n).Y_(e)}function Iy(n){n.Ra=new e4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Cl(n).start(),n.Aa.aa()}function Oy(n){return so(n)&&!Cl(n).M_()&&n.Ta.size>0}function so(n){return $e(n).Ia.size===0}function WA(n){n.Ra=void 0}async function ok(n){n.Aa.set("Online")}async function lk(n){n.Ta.forEach((e,t)=>{Cy(n,e)})}async function uk(n,e){WA(n),Oy(n)?(n.Aa.la(e),Iy(n)):n.Aa.set("Unknown")}async function ck(n,e,t){if(n.Aa.set("Online"),e instanceof kA&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const m of l.targetIds)s.Ta.has(m)&&(await s.remoteSyncer.rejectListen(m,c),s.Ta.delete(m),s.Ra.removeTarget(m))}(n,e)}catch(i){Se(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await nd(n,i)}else if(e instanceof Ih?n.Ra.Ye(e):e instanceof MA?n.Ra.it(e):n.Ra.et(e),!t.isEqual(qe.min()))try{const i=await GA(n.localStore);t.compareTo(i)>=0&&await function(l,c){const m=l.Ra.Pt(c);return m.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=l.Ta.get(p);v&&l.Ta.set(p,v.withResumeToken(d.resumeToken,c))}}),m.targetMismatches.forEach((d,p)=>{const v=l.Ta.get(d);if(!v)return;l.Ta.set(d,v.withResumeToken(Cn.EMPTY_BYTE_STRING,v.snapshotVersion)),QA(l,d);const _=new za(v.target,d,p,v.sequenceNumber);Cy(l,_)}),l.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(i){Se(Xs,"Failed to raise snapshot:",i),await nd(n,i)}}async function nd(n,e,t){if(!Rl(e))throw e;n.Ia.add(1),await Pc(n),n.Aa.set("Offline"),t||(t=()=>GA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Se(Xs,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Ld(n)})}function ZA(n,e){return e().catch(t=>nd(n,t,e))}async function jd(n){const e=$e(n),t=es(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:hy;for(;fk(e);)try{const s=await G4(e.localStore,i);if(s===null){e.Pa.length===0&&t.B_();break}i=s.batchId,hk(e,s)}catch(s){await nd(e,s)}JA(e)&&ex(e)}function fk(n){return so(n)&&n.Pa.length<10}function hk(n,e){n.Pa.push(e);const t=es(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function JA(n){return so(n)&&!es(n).M_()&&n.Pa.length>0}function ex(n){es(n).start()}async function dk(n){es(n).na()}async function mk(n){const e=es(n);for(const t of n.Pa)e.X_(t.mutations)}async function pk(n,e,t){const i=n.Pa.shift(),s=by.from(i,e,t);await ZA(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await jd(n)}async function gk(n,e){e&&es(n).Z_&&await async function(i,s){if(function(c){return ZM(c)&&c!==he.ABORTED}(s.code)){const l=i.Pa.shift();es(i).N_(),await ZA(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await jd(i)}}(n,e),JA(n)&&ex(n)}async function aT(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Se(Xs,"RemoteStore received new credentials");const i=so(t);t.Ia.add(3),await Pc(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Ld(t)}async function vk(n,e){const t=$e(n);e?(t.Ia.delete(2),await Ld(t)):e||(t.Ia.add(2),await Pc(t),t.Aa.set("Unknown"))}function Cl(n){return n.Va||(n.Va=function(t,i,s){const l=$e(t);return l.ia(),new tk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Zo:ok.bind(null,n),e_:lk.bind(null,n),n_:uk.bind(null,n),J_:ck.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Oy(n)?Iy(n):n.Aa.set("Unknown")):(await n.Va.stop(),WA(n))})),n.Va}function es(n){return n.ma||(n.ma=function(t,i,s){const l=$e(t);return l.ia(),new nk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:dk.bind(null,n),n_:gk.bind(null,n),ea:mk.bind(null,n),ta:pk.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await jd(n)):(await n.ma.stop(),n.Pa.length>0&&(Se(Xs,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,m=new Ny(e,t,c,s,l);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dy(n,e){if(Zi("AsyncQueue",`${e}: ${n}`),Rl(n))return new xe(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Me.comparator(t.key,i.key):(t,i)=>Me.comparator(t.key,i.key),this.keyedMap=Gu(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new cl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.fa=new jt(Me.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ze(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}}class _l{constructor(e,t,i,s,l,c,m,d,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach(m=>{c.push({type:0,doc:m})}),new _l(e,t,cl.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class _k{constructor(){this.queries=oT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const s=$e(t),l=s.queries;s.queries=oT(),l.forEach((c,m)=>{for(const d of m.wa)d.onError(i)})})(this,new xe(he.ABORTED,"Firestore shutting down"))}}function oT(){return new ao(n=>EA(n),Nd)}async function tx(n,e){const t=$e(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.Sa()&&e.ba()&&(i=2):(l=new yk,i=e.ba()?0:1);try{switch(i){case 0:l.ya=await t.onListen(s,!0);break;case 1:l.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const m=Dy(c,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(m)}t.queries.set(s,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&Py(t)}async function nx(n,e){const t=$e(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.wa.indexOf(e);c>=0&&(l.wa.splice(c,1),l.wa.length===0?s=e.ba()?0:1:!l.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function bk(n,e){const t=$e(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const m of c.wa)m.Ca(s)&&(i=!0);c.ya=s}}i&&Py(t)}function Ek(n,e,t){const i=$e(n),s=i.queries.get(e);if(s)for(const l of s.wa)l.onError(t);i.queries.delete(e)}function Py(n){n.Da.forEach(e=>{e.next()})}var uv,lT;(lT=uv||(uv={})).Fa="default",lT.Cache="cache";class rx{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new _l(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==uv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.key=e}}class ax{constructor(e){this.key=e}}class Tk{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ot(),this.mutatedKeys=ot(),this.Xa=TA(e),this.eu=new cl(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new sT,s=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,m=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,_)=>{const A=s.get(v),D=Dd(this.query,_)?_:null,k=!!A&&this.mutatedKeys.has(A.key),V=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let N=!1;A&&D?A.data.isEqual(D.data)?k!==V&&(i.track({type:3,doc:D}),N=!0):this.iu(A,D)||(i.track({type:2,doc:D}),N=!0,(d&&this.Xa(D,d)>0||p&&this.Xa(D,p)<0)&&(m=!0)):!A&&D?(i.track({type:0,doc:D}),N=!0):A&&!D&&(i.track({type:1,doc:A}),N=!0,(d||p)&&(m=!0)),N&&(D?(c=c.add(D),l=V?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{eu:c,ru:i,Ds:m,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((v,_)=>function(D,k){const V=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{At:N})}};return V(D)-V(k)}(v.type,_.type)||this.Xa(v.doc,_.doc)),this.su(i),s=s!=null&&s;const m=t&&!s?this.ou():[],d=this.Za.size===0&&this.current&&!s?1:0,p=d!==this.Ya;return this.Ya=d,c.length!==0||p?{snapshot:new _l(this.query,e.eu,l,c,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new sT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ot(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new ax(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new ix(i))}),t}uu(e){this.Ha=e.qs,this.Za=ot();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return _l.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const My="SyncEngine";class Sk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class wk{constructor(e){this.key=e,this.lu=!1}}class Ak{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new ao(m=>EA(m),Nd),this.Tu=new Map,this.Iu=new Set,this.du=new jt(Me.comparator),this.Eu=new Map,this.Au=new Sy,this.Ru={},this.Vu=new Map,this.mu=yl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function xk(n,e,t=!0){const i=fx(n);let s;const l=i.Pu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.cu()):s=await sx(i,e,t,!0),s}async function Rk(n,e){const t=fx(n);await sx(t,e,!0,!1)}async function sx(n,e,t,i){const s=await Y4(n.localStore,ci(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let m;return i&&(m=await Ck(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&XA(n.remoteStore,s),m}async function Ck(n,e,t,i,s){n.gu=(_,A,D)=>async function(V,N,F,$){let q=N.view.nu(F);q.Ds&&(q=await eT(V.localStore,N.query,!1).then(({documents:C})=>N.view.nu(C,q)));const ae=$&&$.targetChanges.get(N.targetId),H=$&&$.targetMismatches.get(N.targetId)!=null,J=N.view.applyChanges(q,V.isPrimaryClient,ae,H);return cT(V,N.targetId,J._u),J.snapshot}(n,_,A,D);const l=await eT(n.localStore,e,!0),c=new Tk(e,l.qs),m=c.nu(l.documents),d=Dc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),p=c.applyChanges(m,n.isPrimaryClient,d);cT(n,t,p._u);const v=new Sk(e,t,c);return n.Pu.set(e,v),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),p.snapshot}async function Ik(n,e,t){const i=$e(n),s=i.Pu.get(e),l=i.Tu.get(s.targetId);if(l.length>1)return i.Tu.set(s.targetId,l.filter(c=>!Nd(c,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await ov(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Ry(i.remoteStore,s.targetId),cv(i,s.targetId)}).catch(xl)):(cv(i,s.targetId),await ov(i.localStore,s.targetId,!0))}async function Ok(n,e){const t=$e(n),i=t.Pu.get(e),s=t.Tu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ry(t.remoteStore,i.targetId))}async function Nk(n,e,t){const i=jk(n);try{const s=await function(c,m){const d=$e(c),p=Nt.now(),v=m.reduce((D,k)=>D.add(k.key),ot());let _,A;return d.persistence.runTransaction("Locally write mutations","readwrite",D=>{let k=Ji(),V=ot();return d.Os.getEntries(D,v).next(N=>{k=N,k.forEach((F,$)=>{$.isValidDocument()||(V=V.add(F))})}).next(()=>d.localDocuments.getOverlayedDocuments(D,k)).next(N=>{_=N;const F=[];for(const $ of m){const q=YM($,_.get($.key).overlayedDocument);q!=null&&F.push(new us($.key,q,mA(q.value.mapValue),wr.exists(!0)))}return d.mutationQueue.addMutationBatch(D,p,F,m)}).next(N=>{A=N;const F=N.applyToLocalDocumentSet(_,V);return d.documentOverlayCache.saveOverlays(D,N.batchId,F)})}).then(()=>({batchId:A.batchId,changes:wA(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,m,d){let p=c.Ru[c.currentUser.toKey()];p||(p=new jt(Je)),p=p.insert(m,d),c.Ru[c.currentUser.toKey()]=p}(i,s.batchId,t),await Mc(i,s.changes),await jd(i.remoteStore)}catch(s){const l=Dy(s,"Failed to persist write");t.reject(l)}}async function ox(n,e){const t=$e(n);try{const i=await q4(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.Eu.get(l);c&&(Et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.lu=!0:s.modifiedDocuments.size>0?Et(c.lu,14607):s.removedDocuments.size>0&&(Et(c.lu,42227),c.lu=!1))}),await Mc(t,i,e)}catch(i){await xl(i)}}function uT(n,e,t){const i=$e(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Pu.forEach((l,c)=>{const m=c.view.va(e);m.snapshot&&s.push(m.snapshot)}),function(c,m){const d=$e(c);d.onlineState=m;let p=!1;d.queries.forEach((v,_)=>{for(const A of _.wa)A.va(m)&&(p=!0)}),p&&Py(d)}(i.eventManager,e),s.length&&i.hu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Dk(n,e,t){const i=$e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Eu.get(e),l=s&&s.key;if(l){let c=new jt(Me.comparator);c=c.insert(l,Mn.newNoDocument(l,qe.min()));const m=ot().add(l),d=new kd(qe.min(),new Map,new jt(Je),c,m);await ox(i,d),i.du=i.du.remove(l),i.Eu.delete(e),ky(i)}else await ov(i.localStore,e,!1).then(()=>cv(i,e,t)).catch(xl)}async function Pk(n,e){const t=$e(n),i=e.batch.batchId;try{const s=await H4(t.localStore,e);ux(t,i,null),lx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Mc(t,s)}catch(s){await xl(s)}}async function Mk(n,e,t){const i=$e(n);try{const s=await function(c,m){const d=$e(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return d.mutationQueue.lookupMutationBatch(p,m).next(_=>(Et(_!==null,37113),v=_.keys(),d.mutationQueue.removeMutationBatch(p,_))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,v,m)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>d.localDocuments.getDocuments(p,v))})}(i.localStore,e);ux(i,e,t),lx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Mc(i,s)}catch(s){await xl(s)}}function lx(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function ux(n,e,t){const i=$e(n);let s=i.Ru[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Ru[i.currentUser.toKey()]=s}}function cv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||cx(n,i)})}function cx(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ry(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),ky(n))}function cT(n,e,t){for(const i of t)i instanceof ix?(n.Au.addReference(i.key,e),kk(n,i)):i instanceof ax?(Se(My,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||cx(n,i.key)):ze(19791,{yu:i})}function kk(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(Se(My,"New document in limbo: "+t),n.Iu.add(i),ky(n))}function ky(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Me(Pt.fromString(e)),i=n.mu.next();n.Eu.set(i,new wk(t)),n.du=n.du.insert(t,i),XA(n.remoteStore,new za(ci(vy(t.path)),i,"TargetPurposeLimboResolution",Rd.ue))}}async function Mc(n,e,t){const i=$e(n),s=[],l=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((m,d)=>{c.push(i.gu(d,e,t).then(p=>{var v;if((p||t)&&i.isPrimaryClient){const _=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(d.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(p){s.push(p);const _=Ay.Es(d.targetId,p);l.push(_)}}))}),await Promise.all(c),i.hu.J_(s),await async function(d,p){const v=$e(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>fe.forEach(p,A=>fe.forEach(A.Is,D=>v.persistence.referenceDelegate.addReference(_,A.targetId,D)).next(()=>fe.forEach(A.ds,D=>v.persistence.referenceDelegate.removeReference(_,A.targetId,D)))))}catch(_){if(!Rl(_))throw _;Se(xy,"Failed to update sequence numbers: "+_)}for(const _ of p){const A=_.targetId;if(!_.fromCache){const D=v.Fs.get(A),k=D.snapshotVersion,V=D.withLastLimboFreeSnapshotVersion(k);v.Fs=v.Fs.insert(A,V)}}}(i.localStore,l))}async function Vk(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Se(My,"User change. New user:",e.toKey());const i=await $A(t.localStore,e);t.currentUser=e,function(l,c){l.Vu.forEach(m=>{m.forEach(d=>{d.reject(new xe(he.CANCELLED,c))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Mc(t,i.Bs)}}function Lk(n,e){const t=$e(n),i=t.Eu.get(e);if(i&&i.lu)return ot().add(i.key);{let s=ot();const l=t.Tu.get(e);if(!l)return s;for(const c of l){const m=t.Pu.get(c);s=s.unionWith(m.view.tu)}return s}}function fx(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dk.bind(null,e),e.hu.J_=bk.bind(null,e.eventManager),e.hu.pu=Ek.bind(null,e.eventManager),e}function jk(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mk.bind(null,e),e}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return B4(this.persistence,new U4,e.initialUser,this.serializer)}Du(e){return new qA(wy.Vi,this.serializer)}bu(e){return new X4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class Uk extends rd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Et(this.persistence.referenceDelegate instanceof td,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new w4(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new qA(i=>td.Vi(i,t),this.serializer)}}class fv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vk.bind(null,this.syncEngine),await vk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _k}()}createDatastore(e){const t=Vd(e.databaseInfo.databaseId),i=function(l){return new ek(l)}(e.databaseInfo);return function(l,c,m,d){return new ik(l,c,m,d)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,l,c,m){return new sk(i,s,l,c,m)}(this.localStore,this.datastore,e.asyncQueue,t=>uT(this.syncEngine,t,0),function(){return rT.C()?new rT:new Q4}())}createSyncEngine(e,t){return function(s,l,c,m,d,p,v){const _=new Ak(s,l,c,m,d,p);return v&&(_.fu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=$e(s);Se(Xs,"RemoteStore shutting down."),l.Ia.add(5),await Pc(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}fv.provider={build:()=>new fv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class Fk{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Pn.UNAUTHENTICATED,this.clientId=cy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{Se(ts,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Se(ts,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Dy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function gg(n,e){n.asyncQueue.verifyOperationInProgress(),Se(ts,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await $A(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>{Xa("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Se("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Xa("Terminating Firestore due to IndexedDb database deletion failed",s)})}),n._offlineComponents=e}async function fT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await zk(n);Se(ts,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>aT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>aT(e.remoteStore,s)),n._onlineComponents=e}async function zk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(ts,"Using user provided OfflineComponentProvider");try{await gg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===he.FAILED_PRECONDITION||s.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Xa("Error using user provided cache. Falling back to memory cache: "+t),await gg(n,new rd)}}else Se(ts,"Using default OfflineComponentProvider"),await gg(n,new Uk(void 0));return n._offlineComponents}async function dx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(ts,"Using user provided OnlineComponentProvider"),await fT(n,n._uninitializedComponentsProvider._online)):(Se(ts,"Using default OnlineComponentProvider"),await fT(n,new fv))),n._onlineComponents}function Bk(n){return dx(n).then(e=>e.syncEngine)}async function mx(n){const e=await dx(n),t=e.eventManager;return t.onListen=xk.bind(null,e.syncEngine),t.onUnlisten=Ik.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Rk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ok.bind(null,e.syncEngine),t}function Hk(n,e,t={}){const i=new Yi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,p){const v=new hx({next:A=>{v.Ou(),c.enqueueAndForget(()=>nx(l,_));const D=A.docs.has(m);!D&&A.fromCache?p.reject(new xe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&d&&d.source==="server"?p.reject(new xe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),_=new rx(vy(m.path),v,{includeMetadataChanges:!0,ka:!0});return tx(l,_)}(await mx(n),n.asyncQueue,e,t,i)),i.promise}function qk(n,e,t={}){const i=new Yi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,p){const v=new hx({next:A=>{v.Ou(),c.enqueueAndForget(()=>nx(l,_)),A.fromCache&&d.source==="server"?p.reject(new xe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),_=new rx(m,v,{includeMetadataChanges:!0,ka:!0});return tx(l,_)}(await mx(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="firestore.googleapis.com",dT=!0;class mT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gx,this.ssl=dT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:dT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T4)throw new xe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=px((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ud{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new WP;switch(i.type){case"firstParty":return new tM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new xe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=hT.get(t);i&&(Se("ComponentProvider","Removing Datastore"),hT.delete(t),i.terminate())}(this),Promise.resolve()}}function $k(n,e,t,i={}){var s;n=Mr(n,Ud);const l=ss(e),c=n._getSettings(),m=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l&&(Yv(`https://${d}`),Kv("Firestore",!0)),c.host!==gx&&c.host!==d&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:d,ssl:l,emulatorOptions:i});if(!Gs(p,m)&&(n._setSettings(p),i.mockUserToken)){let v,_;if(typeof i.mockUserToken=="string")v=i.mockUserToken,_=Pn.MOCK_USER;else{v=lw(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new xe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Pn(A)}n._authCredentials=new ZP(new tA(v,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Fd(this.firestore,e,this._query)}}class nn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Oc(t,nn._jsonSchema))return new nn(e,i||null,new Me(Pt.fromString(t.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:tn("string",nn._jsonSchemaVersion),referencePath:tn("string")};class Ya extends Fd{constructor(e,t,i){super(e,t,vy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new Me(e))}withConverter(e){return new Ya(this.firestore,e,this._path)}}function kn(n,e,...t){if(n=Bt(n),rA("collection","path",e),n instanceof Ud){const i=Pt.fromString(e,...t);return C1(i),new Ya(n,null,i)}{if(!(n instanceof nn||n instanceof Ya))throw new xe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pt.fromString(e,...t));return C1(i),new Ya(n.firestore,null,i)}}function hi(n,e,...t){if(n=Bt(n),arguments.length===1&&(e=cy.newId()),rA("doc","path",e),n instanceof Ud){const i=Pt.fromString(e,...t);return R1(i),new nn(n,null,new Me(i))}{if(!(n instanceof nn||n instanceof Ya))throw new xe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pt.fromString(e,...t));return R1(i),new nn(n.firestore,n instanceof Ya?n.converter:null,new Me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="AsyncQueue";class gT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new YA(this,"async_queue_retry"),this.oc=()=>{const i=pg();i&&Se(pT,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=pg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Yi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Rl(e))throw e;Se(pT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Zi("INTERNAL UNHANDLED ERROR: ",vT(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=Ny.createAndSchedule(this,e,t,i,l=>this.lc(l));return this.ec.push(s),s}ac(){this.tc&&ze(47125,{hc:vT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function vT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class oo extends Ud{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new gT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gT(e),this._firestoreClient=void 0,await e}}}function kr(n,e){const t=typeof n=="object"?n:Wv(),i=typeof n=="string"?n:Kh,s=Td(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=aw("firestore");l&&$k(s,...l)}return s}function Vy(n){if(n._terminated)throw new xe(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Gk(n),n._firestoreClient}function Gk(n){var e,t,i;const s=n._freezeSettings(),l=function(m,d,p,v){return new vM(m,d,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,px(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new Fk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(m){const d=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sr(Cn.fromBase64String(e))}catch(t){throw new xe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sr(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Oc(e,Sr._jsonSchema))return Sr.fromBase64String(e.bytes)}}Sr._jsonSchemaVersion="firestore/bytes/1.0",Sr._jsonSchema={type:tn("string",Sr._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(Oc(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:tn("string",di._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Oc(e,mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new mi(e.vectorValues);throw new xe(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:tn("string",mi._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=/^__.*__$/;class Kk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nc(e,this.data,t,this.fieldTransforms)}}class vx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{Ec:n})}}class jy{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new jy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:i,mc:!1});return s.fc(e),s}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return id(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(yx(this.Ec)&&Yk.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Xk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Vd(e)}Dc(e,t,i,s=!1){return new jy({Ec:e,methodName:t,bc:i,path:Rn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uy(n){const e=n._freezeSettings(),t=Vd(n._databaseId);return new Xk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _x(n,e,t,i,s,l={}){const c=n.Dc(l.merge||l.mergeFields?2:0,e,t,s);Fy("Data must be an object, but it was:",c,i);const m=bx(i,c);let d,p;if(l.merge)d=new or(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const A=hv(e,_,t);if(!c.contains(A))throw new xe(he.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Tx(v,A)||v.push(A)}d=new or(v),p=c.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,p=c.fieldTransforms;return new Kk(new Yn(m),d,p)}class Bd extends Ly{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bd}}function Qk(n,e,t,i){const s=n.Dc(1,e,t);Fy("Data must be an object, but it was:",s,i);const l=[],c=Yn.empty();ls(i,(d,p)=>{const v=zy(e,d,t);p=Bt(p);const _=s.gc(v);if(p instanceof Bd)l.push(v);else{const A=Hd(p,_);A!=null&&(l.push(v),c.set(v,A))}});const m=new or(l);return new vx(c,m,s.fieldTransforms)}function Wk(n,e,t,i,s,l){const c=n.Dc(1,e,t),m=[hv(e,i,t)],d=[s];if(l.length%2!=0)throw new xe(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)m.push(hv(e,l[A])),d.push(l[A+1]);const p=[],v=Yn.empty();for(let A=m.length-1;A>=0;--A)if(!Tx(p,m[A])){const D=m[A];let k=d[A];k=Bt(k);const V=c.gc(D);if(k instanceof Bd)p.push(D);else{const N=Hd(k,V);N!=null&&(p.push(D),v.set(D,N))}}const _=new or(p);return new vx(v,_,c.fieldTransforms)}function Hd(n,e){if(Ex(n=Bt(n)))return Fy("Unsupported field value:",e,n),bx(n,e);if(n instanceof Ly)return function(i,s){if(!yx(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const m of i){let d=Hd(m,s.yc(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,s){if((i=Bt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return zM(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Nt.fromDate(i);return{timestampValue:ed(s.serializer,l)}}if(i instanceof Nt){const l=new Nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ed(s.serializer,l)}}if(i instanceof di)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sr)return{bytesValue:VA(s.serializer,i._byteString)};if(i instanceof nn){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ty(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof mi)return function(c,m){return{mapValue:{fields:{[hA]:{stringValue:dA},[Xh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw m.wc("VectorValues must only contain numeric values.");return yy(m.serializer,p)})}}}}}}(i,s);throw s.wc(`Unsupported field value: ${fy(i)}`)}(n,e)}function bx(n,e){const t={};return sA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(n,(i,s)=>{const l=Hd(s,e.Vc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function Ex(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nt||n instanceof di||n instanceof Sr||n instanceof nn||n instanceof Ly||n instanceof mi)}function Fy(n,e,t){if(!Ex(t)||!iA(t)){const i=fy(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function hv(n,e,t){if((e=Bt(e))instanceof zd)return e._internalPath;if(typeof e=="string")return zy(n,e);throw id("Field path arguments must be of type string or ",n,!1,void 0,t)}const Zk=new RegExp("[~\\*/\\[\\]]");function zy(n,e,t){if(e.search(Zk)>=0)throw id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zd(...e.split("."))._internalPath}catch{throw id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function id(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${i}`),c&&(d+=` in document ${s}`),d+=")"),new xe(he.INVALID_ARGUMENT,m+n+d)}function Tx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Jk extends Sx{data(){return super.data()}}function wx(n,e){return typeof e=="string"?zy(n,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tV{convertValue(e,t="none"){switch(Ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ls(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Xh].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>Kt(c.doubleValue));return new mi(l)}convertGeoPoint(e){return new di(Kt(e.latitude),Kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Id(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const t=Wa(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Pt.fromString(e);Et(BA(i),9688,{name:e});const s=new mc(i.get(1),i.get(3)),l=new Me(i.popFirst(5));return s.isEqual(t)||Zi(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qs extends Sx{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(wx("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=qs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:tn("string",qs._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class Oh extends qs{data(e={}){return super.data(e)}}class fl{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ku(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Oh(this._firestore,this._userDataWriter,i.key,i,new Ku(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(m=>{const d=new Oh(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Ku(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);return m.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const d=new Oh(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Ku(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return m.type!==0&&(p=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:nV(m.type),doc:d,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(n){n=Mr(n,nn);const e=Mr(n.firestore,oo);return Hk(Vy(e),n._key).then(t=>rV(e,n,t))}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:tn("string",fl._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class xx extends tV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,t)}}function ii(n){n=Mr(n,Fd);const e=Mr(n.firestore,oo),t=Vy(e),i=new xx(e);return eV(n._query),qk(t,n._query).then(s=>new fl(e,i,n,s))}function yT(n,e,t){n=Mr(n,nn);const i=Mr(n.firestore,oo),s=Ax(n.converter,e);return qd(i,[_x(Uy(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,wr.none())])}function dv(n,e,t,...i){n=Mr(n,nn);const s=Mr(n.firestore,oo),l=Uy(s);let c;return c=typeof(e=Bt(e))=="string"||e instanceof zd?Wk(l,"updateDoc",n._key,e,t,i):Qk(l,"updateDoc",n._key,e),qd(s,[c.toMutation(n._key,wr.exists(!0))])}function Rx(n){return qd(Mr(n.firestore,oo),[new _y(n._key,wr.none())])}function bl(n,e){const t=Mr(n.firestore,oo),i=hi(n),s=Ax(n.converter,e);return qd(t,[_x(Uy(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,wr.exists(!1))]).then(()=>i)}function qd(n,e){return function(i,s){const l=new Yi;return i.asyncQueue.enqueueAndForget(async()=>Nk(await Bk(i),s,l)),l.promise}(Vy(n),e)}function rV(n,e,t){const i=t.docs.get(e._key),s=new xx(n);return new qs(n,s,e._key,i,new Ku(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Al=s})(to),Ys(new Ka("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),m=new oo(new JP(i.getProvider("auth-internal")),new nM(c,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(p.options.projectId,v)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),li(T1,S1,e),li(T1,S1,"esm2017")})();const iV="/assets/img1-DVwx2mag.svg",aV="/assets/img2-g_SNuGLK.svg",_T=kr(Xn),bT=Ic(Xn),sV=()=>{const n=wc(),[e,t]=U.useState(""),[i,s]=U.useState(""),[l,c]=U.useState(null),m=async()=>{const p=new Ju("microsoft.com");p.setCustomParameters({prompt:"select_account"});try{const _=(await nP(bT,p)).user,A=hi(_T,"users",_.uid);(await ad(A)).exists()||await yT(A,{id:_.uid,email:_.email,role:null}),n("/home")}catch(v){console.error("Error en login con Microsoft:",v.message),c("Error al iniciar sesión con Microsoft.")}},d=async p=>{p.preventDefault();try{const _=(await PD(bT,e,i)).user;console.log("Usuario autenticado:",_);const A=hi(_T,"users",_.uid);(await ad(A)).exists()||await yT(A,{id:_.uid,email:_.email,role:null}),n("/home")}catch(v){console.error("Error en login:",v),v instanceof Error?c(v.message):c("Error desconocido.")}};return b.jsxs("div",{className:"w-full min-h-screen bg-gray-50 flex flex-col sm:justify-center items-center pt-6 sm:pt-0 relative",children:[b.jsxs("div",{className:"w-full sm:max-w-md p-5 mx-auto",children:[b.jsx("h2",{className:"mb-12 text-center text-5xl font-extrabold",children:"F1315"}),b.jsxs("form",{onSubmit:d,children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block mb-1",htmlFor:"email",children:"Usuario"}),b.jsx("input",{id:"email",type:"email",name:"email",value:e,onChange:p=>t(p.target.value),className:"py-2 px-3 border border-gray-300 rounded-md shadow-sm w-full",required:!0})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block mb-1",htmlFor:"password",children:"Contraseña"}),b.jsx("input",{id:"password",type:"password",name:"password",value:i,onChange:p=>s(p.target.value),className:"py-2 px-3 border border-gray-300 rounded-md shadow-sm w-full",required:!0})]}),l&&b.jsx("div",{className:"text-red-600 text-sm mb-3",children:l}),b.jsx("div",{className:"mt-6",children:b.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-950 text-white rounded-md hover:bg-blue-800",children:"Sign In"})})]}),b.jsx("div",{className:"flex justify-center flex-col items-center mt-4",children:b.jsxs("button",{onClick:m,className:"m-3 flex flex-col items-center justify-center cursor-pointer  p-2 rounded-2xl hover:bg-red-100",children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"3vh",height:"auto",viewBox:"0 0 48 48",children:[b.jsx("path",{fill:"#ff5722",d:"M6 6H22V22H6z"}),b.jsx("path",{fill:"#4caf50",d:"M26 6H42V22H26z"}),b.jsx("path",{fill:"#ffc107",d:"M26 26H42V42H26z"}),b.jsx("path",{fill:"#03a9f4",d:"M6 26H22V42H6z"})]}),"Iniciar con Microsoft"]})})]}),b.jsxs("div",{className:"imgBanner",children:[b.jsx("div",{children:b.jsx("img",{className:"img1",src:iV,alt:"img1"})}),b.jsx("div",{children:b.jsx("img",{className:"img2",src:aV,alt:"img2"})})]})]})};function oV(){return b.jsx(b.Fragment,{children:b.jsx("div",{className:"bg-amber-100",children:b.jsx(sV,{})})})}function ET(){return b.jsx(b.Fragment,{children:b.jsx("div",{className:"transition-transform duration-300 ease-in-out",children:b.jsxs("div",{className:"p-8 bg-gray-100 min-h-screen flex flex-col items-center justify-start",children:[b.jsx("h1",{className:"text-4xl font-bold mb-4",children:"¡Bienvenido!"}),b.jsx("p",{className:"text-lg mb-8 text-center max-w-2xl",children:"Aquí puedes gestionar y visualizar los registros de horómetros y eficiencias de tus máquinas. Usa los enlaces abajo para navegar rápidamente por las funciones principales."}),b.jsx("div",{className:"mt-6 text-center italic text-gray-700 max-w-2xl",children:'"El éxito es la suma de pequeños esfuerzos repetidos día tras día."'}),b.jsx("div",{})]})})})}const By=U.createContext(void 0),lV=({children:n})=>{const e=Ic(),[t,i]=U.useState(null);U.useEffect(()=>{const m=Vw(e,d=>{i(d)});return()=>m()},[]);const[s,l]=U.useState(!1),c=()=>{l(m=>!m)};return b.jsx(By.Provider,{value:{user:t,openMenu:s,toogleMenu:c},children:n})};function Qs(n){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(n)}function uV(n,e){if(Qs(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Qs(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Cx(n){var e=uV(n,"string");return Qs(e)=="symbol"?e:e+""}function Xu(n,e,t){return(e=Cx(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function ke(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TT(Object(t),!0).forEach(function(i){Xu(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cV(n){if(Array.isArray(n))return n}function fV(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,l,c,m=[],d=!0,p=!1;try{if(l=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;d=!1}else for(;!(d=(i=l.call(t)).done)&&(m.push(i.value),m.length!==e);d=!0);}catch(v){p=!0,s=v}finally{try{if(!d&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(p)throw s}}return m}}function mv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function Ix(n,e){if(n){if(typeof n=="string")return mv(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?mv(n,e):void 0}}function hV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ki(n,e){return cV(n)||fV(n,e)||Ix(n,e)||hV()}function dV(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function ra(n,e){if(n==null)return{};var t,i,s=dV(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var mV=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function pV(n){var e=n.defaultInputValue,t=e===void 0?"":e,i=n.defaultMenuIsOpen,s=i===void 0?!1:i,l=n.defaultValue,c=l===void 0?null:l,m=n.inputValue,d=n.menuIsOpen,p=n.onChange,v=n.onInputChange,_=n.onMenuClose,A=n.onMenuOpen,D=n.value,k=ra(n,mV),V=U.useState(m!==void 0?m:t),N=Ki(V,2),F=N[0],$=N[1],q=U.useState(d!==void 0?d:s),ae=Ki(q,2),H=ae[0],J=ae[1],C=U.useState(D!==void 0?D:c),E=Ki(C,2),S=E[0],R=E[1],M=U.useCallback(function(ue,de){typeof p=="function"&&p(ue,de),R(ue)},[p]),P=U.useCallback(function(ue,de){var L;typeof v=="function"&&(L=v(ue,de)),$(L!==void 0?L:ue)},[v]),I=U.useCallback(function(){typeof A=="function"&&A(),J(!0)},[A]),we=U.useCallback(function(){typeof _=="function"&&_(),J(!1)},[_]),Ce=m!==void 0?m:F,z=d!==void 0?d:H,ne=D!==void 0?D:S;return ke(ke({},k),{},{inputValue:Ce,menuIsOpen:z,onChange:M,onInputChange:P,onMenuClose:we,onMenuOpen:I,value:ne})}function Ue(){return Ue=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ue.apply(null,arguments)}function gV(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ST(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Cx(i.key),i)}}function vV(n,e,t){return e&&ST(n.prototype,e),t&&ST(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function pv(n,e){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},pv(n,e)}function yV(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&pv(n,e)}function sd(n){return sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sd(n)}function Ox(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ox=function(){return!!n})()}function _V(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function bV(n,e){if(e&&(Qs(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _V(n)}function EV(n){var e=Ox();return function(){var t,i=sd(n);if(e){var s=sd(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return bV(this,t)}}function TV(n){if(Array.isArray(n))return mv(n)}function SV(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function wV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hy(n){return TV(n)||SV(n)||Ix(n)||wV()}function AV(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function xV(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var RV=function(){function n(t){var i=this;this._insertTag=function(s){var l;i.tags.length===0?i.insertionPoint?l=i.insertionPoint.nextSibling:i.prepend?l=i.container.firstChild:l=i.before:l=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,l),i.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(xV(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var l=AV(s);try{l.insertRule(i,l.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var s;return(s=i.parentNode)==null?void 0:s.removeChild(i)}),this.tags=[],this.ctr=0},n}(),Dn="-ms-",od="-moz-",vt="-webkit-",Nx="comm",qy="rule",$y="decl",CV="@import",Dx="@keyframes",IV="@layer",OV=Math.abs,$d=String.fromCharCode,NV=Object.assign;function DV(n,e){return xn(n,0)^45?(((e<<2^xn(n,0))<<2^xn(n,1))<<2^xn(n,2))<<2^xn(n,3):0}function Px(n){return n.trim()}function PV(n,e){return(n=e.exec(n))?n[0]:n}function yt(n,e,t){return n.replace(e,t)}function gv(n,e){return n.indexOf(e)}function xn(n,e){return n.charCodeAt(e)|0}function yc(n,e,t){return n.slice(e,t)}function ti(n){return n.length}function Gy(n){return n.length}function hh(n,e){return e.push(n),n}function MV(n,e){return n.map(e).join("")}var Gd=1,El=1,Mx=0,Kn=0,en=0,Il="";function Yd(n,e,t,i,s,l,c){return{value:n,root:e,parent:t,type:i,props:s,children:l,line:Gd,column:El,length:c,return:""}}function ju(n,e){return NV(Yd("",null,null,"",null,null,0),n,{length:-n.length},e)}function kV(){return en}function VV(){return en=Kn>0?xn(Il,--Kn):0,El--,en===10&&(El=1,Gd--),en}function ur(){return en=Kn<Mx?xn(Il,Kn++):0,El++,en===10&&(El=1,Gd++),en}function pi(){return xn(Il,Kn)}function Nh(){return Kn}function kc(n,e){return yc(Il,n,e)}function _c(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kx(n){return Gd=El=1,Mx=ti(Il=n),Kn=0,[]}function Vx(n){return Il="",n}function Dh(n){return Px(kc(Kn-1,vv(n===91?n+2:n===40?n+1:n)))}function LV(n){for(;(en=pi())&&en<33;)ur();return _c(n)>2||_c(en)>3?"":" "}function jV(n,e){for(;--e&&ur()&&!(en<48||en>102||en>57&&en<65||en>70&&en<97););return kc(n,Nh()+(e<6&&pi()==32&&ur()==32))}function vv(n){for(;ur();)switch(en){case n:return Kn;case 34:case 39:n!==34&&n!==39&&vv(en);break;case 40:n===41&&vv(n);break;case 92:ur();break}return Kn}function UV(n,e){for(;ur()&&n+en!==57;)if(n+en===84&&pi()===47)break;return"/*"+kc(e,Kn-1)+"*"+$d(n===47?n:ur())}function FV(n){for(;!_c(pi());)ur();return kc(n,Kn)}function zV(n){return Vx(Ph("",null,null,null,[""],n=kx(n),0,[0],n))}function Ph(n,e,t,i,s,l,c,m,d){for(var p=0,v=0,_=c,A=0,D=0,k=0,V=1,N=1,F=1,$=0,q="",ae=s,H=l,J=i,C=q;N;)switch(k=$,$=ur()){case 40:if(k!=108&&xn(C,_-1)==58){gv(C+=yt(Dh($),"&","&\f"),"&\f")!=-1&&(F=-1);break}case 34:case 39:case 91:C+=Dh($);break;case 9:case 10:case 13:case 32:C+=LV(k);break;case 92:C+=jV(Nh()-1,7);continue;case 47:switch(pi()){case 42:case 47:hh(BV(UV(ur(),Nh()),e,t),d);break;default:C+="/"}break;case 123*V:m[p++]=ti(C)*F;case 125*V:case 59:case 0:switch($){case 0:case 125:N=0;case 59+v:F==-1&&(C=yt(C,/\f/g,"")),D>0&&ti(C)-_&&hh(D>32?AT(C+";",i,t,_-1):AT(yt(C," ","")+";",i,t,_-2),d);break;case 59:C+=";";default:if(hh(J=wT(C,e,t,p,v,s,m,q,ae=[],H=[],_),l),$===123)if(v===0)Ph(C,e,J,J,ae,l,_,m,H);else switch(A===99&&xn(C,3)===110?100:A){case 100:case 108:case 109:case 115:Ph(n,J,J,i&&hh(wT(n,J,J,0,0,s,m,q,s,ae=[],_),H),s,H,_,m,i?ae:H);break;default:Ph(C,J,J,J,[""],H,0,m,H)}}p=v=D=0,V=F=1,q=C="",_=c;break;case 58:_=1+ti(C),D=k;default:if(V<1){if($==123)--V;else if($==125&&V++==0&&VV()==125)continue}switch(C+=$d($),$*V){case 38:F=v>0?1:(C+="\f",-1);break;case 44:m[p++]=(ti(C)-1)*F,F=1;break;case 64:pi()===45&&(C+=Dh(ur())),A=pi(),v=_=ti(q=C+=FV(Nh())),$++;break;case 45:k===45&&ti(C)==2&&(V=0)}}return l}function wT(n,e,t,i,s,l,c,m,d,p,v){for(var _=s-1,A=s===0?l:[""],D=Gy(A),k=0,V=0,N=0;k<i;++k)for(var F=0,$=yc(n,_+1,_=OV(V=c[k])),q=n;F<D;++F)(q=Px(V>0?A[F]+" "+$:yt($,/&\f/g,A[F])))&&(d[N++]=q);return Yd(n,e,t,s===0?qy:m,d,p,v)}function BV(n,e,t){return Yd(n,e,t,Nx,$d(kV()),yc(n,2,-2),0)}function AT(n,e,t,i){return Yd(n,e,t,$y,yc(n,0,i),yc(n,i+1,-1),i)}function hl(n,e){for(var t="",i=Gy(n),s=0;s<i;s++)t+=e(n[s],s,n,e)||"";return t}function HV(n,e,t,i){switch(n.type){case IV:if(n.children.length)break;case CV:case $y:return n.return=n.return||n.value;case Nx:return"";case Dx:return n.return=n.value+"{"+hl(n.children,i)+"}";case qy:n.value=n.props.join(",")}return ti(t=hl(n.children,i))?n.return=n.value+"{"+t+"}":""}function qV(n){var e=Gy(n);return function(t,i,s,l){for(var c="",m=0;m<e;m++)c+=n[m](t,i,s,l)||"";return c}}function $V(n){return function(e){e.root||(e=e.return)&&n(e)}}function GV(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var YV=function(e,t,i){for(var s=0,l=0;s=l,l=pi(),s===38&&l===12&&(t[i]=1),!_c(l);)ur();return kc(e,Kn)},KV=function(e,t){var i=-1,s=44;do switch(_c(s)){case 0:s===38&&pi()===12&&(t[i]=1),e[i]+=YV(Kn-1,t,i);break;case 2:e[i]+=Dh(s);break;case 4:if(s===44){e[++i]=pi()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=$d(s)}while(s=ur());return e},XV=function(e,t){return Vx(KV(kx(e),t))},xT=new WeakMap,QV=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,s=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!xT.get(i))&&!s){xT.set(e,!0);for(var l=[],c=XV(t,l),m=i.props,d=0,p=0;d<c.length;d++)for(var v=0;v<m.length;v++,p++)e.props[p]=l[d]?c[d].replace(/&\f/g,m[v]):m[v]+" "+c[d]}}},WV=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Lx(n,e){switch(DV(n,e)){case 5103:return vt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return vt+n+od+n+Dn+n+n;case 6828:case 4268:return vt+n+Dn+n+n;case 6165:return vt+n+Dn+"flex-"+n+n;case 5187:return vt+n+yt(n,/(\w+).+(:[^]+)/,vt+"box-$1$2"+Dn+"flex-$1$2")+n;case 5443:return vt+n+Dn+"flex-item-"+yt(n,/flex-|-self/,"")+n;case 4675:return vt+n+Dn+"flex-line-pack"+yt(n,/align-content|flex-|-self/,"")+n;case 5548:return vt+n+Dn+yt(n,"shrink","negative")+n;case 5292:return vt+n+Dn+yt(n,"basis","preferred-size")+n;case 6060:return vt+"box-"+yt(n,"-grow","")+vt+n+Dn+yt(n,"grow","positive")+n;case 4554:return vt+yt(n,/([^-])(transform)/g,"$1"+vt+"$2")+n;case 6187:return yt(yt(yt(n,/(zoom-|grab)/,vt+"$1"),/(image-set)/,vt+"$1"),n,"")+n;case 5495:case 3959:return yt(n,/(image-set\([^]*)/,vt+"$1$`$1");case 4968:return yt(yt(n,/(.+:)(flex-)?(.*)/,vt+"box-pack:$3"+Dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vt+n+n;case 4095:case 3583:case 4068:case 2532:return yt(n,/(.+)-inline(.+)/,vt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ti(n)-1-e>6)switch(xn(n,e+1)){case 109:if(xn(n,e+4)!==45)break;case 102:return yt(n,/(.+:)(.+)-([^]+)/,"$1"+vt+"$2-$3$1"+od+(xn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~gv(n,"stretch")?Lx(yt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(xn(n,e+1)!==115)break;case 6444:switch(xn(n,ti(n)-3-(~gv(n,"!important")&&10))){case 107:return yt(n,":",":"+vt)+n;case 101:return yt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vt+(xn(n,14)===45?"inline-":"")+"box$3$1"+vt+"$2$3$1"+Dn+"$2box$3")+n}break;case 5936:switch(xn(n,e+11)){case 114:return vt+n+Dn+yt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return vt+n+Dn+yt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return vt+n+Dn+yt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return vt+n+Dn+n+n}return n}var ZV=function(e,t,i,s){if(e.length>-1&&!e.return)switch(e.type){case $y:e.return=Lx(e.value,e.length);break;case Dx:return hl([ju(e,{value:yt(e.value,"@","@"+vt)})],s);case qy:if(e.length)return MV(e.props,function(l){switch(PV(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hl([ju(e,{props:[yt(l,/:(read-\w+)/,":"+od+"$1")]})],s);case"::placeholder":return hl([ju(e,{props:[yt(l,/:(plac\w+)/,":"+vt+"input-$1")]}),ju(e,{props:[yt(l,/:(plac\w+)/,":"+od+"$1")]}),ju(e,{props:[yt(l,/:(plac\w+)/,Dn+"input-$1")]})],s)}return""})}},JV=[ZV],e3=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(V){var N=V.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(V),V.setAttribute("data-s",""))})}var s=e.stylisPlugins||JV,l={},c,m=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(V){for(var N=V.getAttribute("data-emotion").split(" "),F=1;F<N.length;F++)l[N[F]]=!0;m.push(V)});var d,p=[QV,WV];{var v,_=[HV,$V(function(V){v.insert(V)})],A=qV(p.concat(s,_)),D=function(N){return hl(zV(N),A)};d=function(N,F,$,q){v=$,D(N?N+"{"+F.styles+"}":F.styles),q&&(k.inserted[F.name]=!0)}}var k={key:t,sheet:new RV({key:t,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:d};return k.sheet.hydrate(m),k},vg={exports:{}},bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function t3(){if(RT)return bt;RT=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,m=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,v=n?Symbol.for("react.forward_ref"):60112,_=n?Symbol.for("react.suspense"):60113,A=n?Symbol.for("react.suspense_list"):60120,D=n?Symbol.for("react.memo"):60115,k=n?Symbol.for("react.lazy"):60116,V=n?Symbol.for("react.block"):60121,N=n?Symbol.for("react.fundamental"):60117,F=n?Symbol.for("react.responder"):60118,$=n?Symbol.for("react.scope"):60119;function q(H){if(typeof H=="object"&&H!==null){var J=H.$$typeof;switch(J){case e:switch(H=H.type,H){case d:case p:case i:case l:case s:case _:return H;default:switch(H=H&&H.$$typeof,H){case m:case v:case k:case D:case c:return H;default:return J}}case t:return J}}}function ae(H){return q(H)===p}return bt.AsyncMode=d,bt.ConcurrentMode=p,bt.ContextConsumer=m,bt.ContextProvider=c,bt.Element=e,bt.ForwardRef=v,bt.Fragment=i,bt.Lazy=k,bt.Memo=D,bt.Portal=t,bt.Profiler=l,bt.StrictMode=s,bt.Suspense=_,bt.isAsyncMode=function(H){return ae(H)||q(H)===d},bt.isConcurrentMode=ae,bt.isContextConsumer=function(H){return q(H)===m},bt.isContextProvider=function(H){return q(H)===c},bt.isElement=function(H){return typeof H=="object"&&H!==null&&H.$$typeof===e},bt.isForwardRef=function(H){return q(H)===v},bt.isFragment=function(H){return q(H)===i},bt.isLazy=function(H){return q(H)===k},bt.isMemo=function(H){return q(H)===D},bt.isPortal=function(H){return q(H)===t},bt.isProfiler=function(H){return q(H)===l},bt.isStrictMode=function(H){return q(H)===s},bt.isSuspense=function(H){return q(H)===_},bt.isValidElementType=function(H){return typeof H=="string"||typeof H=="function"||H===i||H===p||H===l||H===s||H===_||H===A||typeof H=="object"&&H!==null&&(H.$$typeof===k||H.$$typeof===D||H.$$typeof===c||H.$$typeof===m||H.$$typeof===v||H.$$typeof===N||H.$$typeof===F||H.$$typeof===$||H.$$typeof===V)},bt.typeOf=q,bt}var CT;function n3(){return CT||(CT=1,vg.exports=t3()),vg.exports}var yg,IT;function r3(){if(IT)return yg;IT=1;var n=n3(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[n.ForwardRef]=i,l[n.Memo]=s;function c(k){return n.isMemo(k)?s:l[k.$$typeof]||e}var m=Object.defineProperty,d=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,v=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,A=Object.prototype;function D(k,V,N){if(typeof V!="string"){if(A){var F=_(V);F&&F!==A&&D(k,F,N)}var $=d(V);p&&($=$.concat(p(V)));for(var q=c(k),ae=c(V),H=0;H<$.length;++H){var J=$[H];if(!t[J]&&!(N&&N[J])&&!(ae&&ae[J])&&!(q&&q[J])){var C=v(V,J);try{m(k,J,C)}catch{}}}}return k}return yg=D,yg}r3();var i3=!0;function a3(n,e,t){var i="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(i+=s+" ")}),i}var jx=function(e,t,i){var s=e.key+"-"+t.name;(i===!1||i3===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},s3=function(e,t,i){jx(e,t,i);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var l=t;do e.insert(t===l?"."+s:"",l,e.sheet,!0),l=l.next;while(l!==void 0)}};function o3(n){for(var e=0,t,i=0,s=n.length;s>=4;++i,s-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var l3={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},u3=/[A-Z]|^ms/g,c3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ux=function(e){return e.charCodeAt(1)===45},OT=function(e){return e!=null&&typeof e!="boolean"},_g=GV(function(n){return Ux(n)?n:n.replace(u3,"-$&").toLowerCase()}),NT=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(c3,function(i,s,l){return ni={name:s,styles:l,next:ni},s})}return l3[e]!==1&&!Ux(e)&&typeof t=="number"&&t!==0?t+"px":t};function bc(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return ni={name:s.name,styles:s.styles,next:ni},s.name;var l=t;if(l.styles!==void 0){var c=l.next;if(c!==void 0)for(;c!==void 0;)ni={name:c.name,styles:c.styles,next:ni},c=c.next;var m=l.styles+";";return m}return f3(n,e,t)}case"function":{if(n!==void 0){var d=ni,p=t(n);return ni=d,bc(n,e,p)}break}}var v=t;return v}function f3(n,e,t){var i="";if(Array.isArray(t))for(var s=0;s<t.length;s++)i+=bc(n,e,t[s])+";";else for(var l in t){var c=t[l];if(typeof c!="object"){var m=c;OT(m)&&(i+=_g(l)+":"+NT(l,m)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&e==null)for(var d=0;d<c.length;d++)OT(c[d])&&(i+=_g(l)+":"+NT(l,c[d])+";");else{var p=bc(n,e,c);switch(l){case"animation":case"animationName":{i+=_g(l)+":"+p+";";break}default:i+=l+"{"+p+"}"}}}return i}var DT=/label:\s*([^\s;{]+)\s*(;|$)/g,ni;function Fx(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,s="";ni=void 0;var l=n[0];if(l==null||l.raw===void 0)i=!1,s+=bc(t,e,l);else{var c=l;s+=c[0]}for(var m=1;m<n.length;m++)if(s+=bc(t,e,n[m]),i){var d=l;s+=d[m]}DT.lastIndex=0;for(var p="",v;(v=DT.exec(s))!==null;)p+="-"+v[1];var _=o3(s)+p;return{name:_,styles:s,next:ni}}var h3=function(e){return e()},d3=jg.useInsertionEffect?jg.useInsertionEffect:!1,m3=d3||h3,zx=U.createContext(typeof HTMLElement<"u"?e3({key:"css"}):null);zx.Provider;var p3=function(e){return U.forwardRef(function(t,i){var s=U.useContext(zx);return e(t,s,i)})},g3=U.createContext({}),Yy={}.hasOwnProperty,yv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",v3=function(e,t){var i={};for(var s in t)Yy.call(t,s)&&(i[s]=t[s]);return i[yv]=e,i},y3=function(e){var t=e.cache,i=e.serialized,s=e.isStringTag;return jx(t,i,s),m3(function(){return s3(t,i,s)}),null},_3=p3(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var s=n[yv],l=[i],c="";typeof n.className=="string"?c=a3(e.registered,l,n.className):n.className!=null&&(c=n.className+" ");var m=Fx(l,void 0,U.useContext(g3));c+=e.key+"-"+m.name;var d={};for(var p in n)Yy.call(n,p)&&p!=="css"&&p!==yv&&(d[p]=n[p]);return d.className=c,t&&(d.ref=t),U.createElement(U.Fragment,null,U.createElement(y3,{cache:e,serialized:m,isStringTag:typeof s=="string"}),U.createElement(s,d))}),b3=_3,De=function(e,t){var i=arguments;if(t==null||!Yy.call(t,"css"))return U.createElement.apply(void 0,i);var s=i.length,l=new Array(s);l[0]=b3,l[1]=v3(e,t);for(var c=2;c<s;c++)l[c]=i[c];return U.createElement.apply(null,l)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(De||(De={}));function Ky(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Fx(e)}function E3(){var n=Ky.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function T3(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const S3=Math.min,w3=Math.max,ld=Math.round,dh=Math.floor,ud=n=>({x:n,y:n});function A3(n){const{x:e,y:t,width:i,height:s}=n;return{width:i,height:s,top:t,left:e,right:e+i,bottom:t+s,x:e,y:t}}function Kd(){return typeof window<"u"}function Bx(n){return qx(n)?(n.nodeName||"").toLowerCase():"#document"}function ea(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Hx(n){var e;return(e=(qx(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function qx(n){return Kd()?n instanceof Node||n instanceof ea(n).Node:!1}function x3(n){return Kd()?n instanceof Element||n instanceof ea(n).Element:!1}function Xy(n){return Kd()?n instanceof HTMLElement||n instanceof ea(n).HTMLElement:!1}function PT(n){return!Kd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ea(n).ShadowRoot}function $x(n){const{overflow:e,overflowX:t,overflowY:i,display:s}=Qy(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(s)}function R3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function C3(n){return["html","body","#document"].includes(Bx(n))}function Qy(n){return ea(n).getComputedStyle(n)}function I3(n){if(Bx(n)==="html")return n;const e=n.assignedSlot||n.parentNode||PT(n)&&n.host||Hx(n);return PT(e)?e.host:e}function Gx(n){const e=I3(n);return C3(e)?n.ownerDocument?n.ownerDocument.body:n.body:Xy(e)&&$x(e)?e:Gx(e)}function cd(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=Gx(n),l=s===((i=n.ownerDocument)==null?void 0:i.body),c=ea(s);if(l){const m=_v(c);return e.concat(c,c.visualViewport||[],$x(s)?s:[],m&&t?cd(m):[])}return e.concat(s,cd(s,[],t))}function _v(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function O3(n){const e=Qy(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=Xy(n),l=s?n.offsetWidth:t,c=s?n.offsetHeight:i,m=ld(t)!==l||ld(i)!==c;return m&&(t=l,i=c),{width:t,height:i,$:m}}function Wy(n){return x3(n)?n:n.contextElement}function MT(n){const e=Wy(n);if(!Xy(e))return ud(1);const t=e.getBoundingClientRect(),{width:i,height:s,$:l}=O3(e);let c=(l?ld(t.width):t.width)/i,m=(l?ld(t.height):t.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!m||!Number.isFinite(m))&&(m=1),{x:c,y:m}}const N3=ud(0);function D3(n){const e=ea(n);return!R3()||!e.visualViewport?N3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function P3(n,e,t){return!1}function kT(n,e,t,i){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),l=Wy(n);let c=ud(1);e&&(c=MT(n));const m=P3()?D3(l):ud(0);let d=(s.left+m.x)/c.x,p=(s.top+m.y)/c.y,v=s.width/c.x,_=s.height/c.y;if(l){const A=ea(l),D=i;let k=A,V=_v(k);for(;V&&i&&D!==k;){const N=MT(V),F=V.getBoundingClientRect(),$=Qy(V),q=F.left+(V.clientLeft+parseFloat($.paddingLeft))*N.x,ae=F.top+(V.clientTop+parseFloat($.paddingTop))*N.y;d*=N.x,p*=N.y,v*=N.x,_*=N.y,d+=q,p+=ae,k=ea(V),V=_v(k)}}return A3({width:v,height:_,x:d,y:p})}function Yx(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function M3(n,e){let t=null,i;const s=Hx(n);function l(){var m;clearTimeout(i),(m=t)==null||m.disconnect(),t=null}function c(m,d){m===void 0&&(m=!1),d===void 0&&(d=1),l();const p=n.getBoundingClientRect(),{left:v,top:_,width:A,height:D}=p;if(m||e(),!A||!D)return;const k=dh(_),V=dh(s.clientWidth-(v+A)),N=dh(s.clientHeight-(_+D)),F=dh(v),q={rootMargin:-k+"px "+-V+"px "+-N+"px "+-F+"px",threshold:w3(0,S3(1,d))||1};let ae=!0;function H(J){const C=J[0].intersectionRatio;if(C!==d){if(!ae)return c();C?c(!1,C):i=setTimeout(()=>{c(!1,1e-7)},1e3)}C===1&&!Yx(p,n.getBoundingClientRect())&&c(),ae=!1}try{t=new IntersectionObserver(H,{...q,root:s.ownerDocument})}catch{t=new IntersectionObserver(H,q)}t.observe(n)}return c(!0),l}function k3(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,p=Wy(n),v=s||l?[...p?cd(p):[],...cd(e)]:[];v.forEach(F=>{s&&F.addEventListener("scroll",t,{passive:!0}),l&&F.addEventListener("resize",t)});const _=p&&m?M3(p,t):null;let A=-1,D=null;c&&(D=new ResizeObserver(F=>{let[$]=F;$&&$.target===p&&D&&(D.unobserve(e),cancelAnimationFrame(A),A=requestAnimationFrame(()=>{var q;(q=D)==null||q.observe(e)})),t()}),p&&!d&&D.observe(p),D.observe(e));let k,V=d?kT(n):null;d&&N();function N(){const F=kT(n);V&&!Yx(V,F)&&t(),V=F,k=requestAnimationFrame(N)}return t(),()=>{var F;v.forEach($=>{s&&$.removeEventListener("scroll",t),l&&$.removeEventListener("resize",t)}),_==null||_(),(F=D)==null||F.disconnect(),D=null,d&&cancelAnimationFrame(k)}}var bv=U.useLayoutEffect,V3=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],fd=function(){};function L3(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function j3(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];var l=[].concat(i);if(e&&n)for(var c in e)e.hasOwnProperty(c)&&e[c]&&l.push("".concat(L3(n,c)));return l.filter(function(m){return m}).map(function(m){return String(m).trim()}).join(" ")}var VT=function(e){return Y3(e)?e.filter(Boolean):Qs(e)==="object"&&e!==null?[e]:[]},Kx=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=ra(e,V3);return ke({},t)},zt=function(e,t,i){var s=e.cx,l=e.getStyles,c=e.getClassNames,m=e.className;return{css:l(t,e),className:s(i??{},c(t,e),m)}};function Xd(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function U3(n){return Xd(n)?window.innerHeight:n.clientHeight}function Xx(n){return Xd(n)?window.pageYOffset:n.scrollTop}function hd(n,e){if(Xd(n)){window.scrollTo(0,e);return}n.scrollTop=e}function F3(n){var e=getComputedStyle(n),t=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function z3(n,e,t,i){return t*((n=n/i-1)*n*n+1)+e}function mh(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:fd,s=Xx(n),l=e-s,c=10,m=0;function d(){m+=c;var p=z3(m,s,l,t);hd(n,p),m<t?window.requestAnimationFrame(d):i(n)}d()}function LT(n,e){var t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),s=e.offsetHeight/3;i.bottom+s>t.bottom?hd(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+s,n.scrollHeight)):i.top-s<t.top&&hd(n,Math.max(e.offsetTop-s,0))}function B3(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function jT(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function H3(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Qx=!1,q3={get passive(){return Qx=!0}},ph=typeof window<"u"?window:{};ph.addEventListener&&ph.removeEventListener&&(ph.addEventListener("p",fd,q3),ph.removeEventListener("p",fd,!1));var $3=Qx;function G3(n){return n!=null}function Y3(n){return Array.isArray(n)}function gh(n,e,t){return n?e:t}var K3=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var l=Object.entries(e).filter(function(c){var m=Ki(c,1),d=m[0];return!i.includes(d)});return l.reduce(function(c,m){var d=Ki(m,2),p=d[0],v=d[1];return c[p]=v,c},{})},X3=["children","innerProps"],Q3=["children","innerProps"];function W3(n){var e=n.maxHeight,t=n.menuEl,i=n.minHeight,s=n.placement,l=n.shouldScroll,c=n.isFixedPosition,m=n.controlHeight,d=F3(t),p={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return p;var v=d.getBoundingClientRect(),_=v.height,A=t.getBoundingClientRect(),D=A.bottom,k=A.height,V=A.top,N=t.offsetParent.getBoundingClientRect(),F=N.top,$=c?window.innerHeight:U3(d),q=Xx(d),ae=parseInt(getComputedStyle(t).marginBottom,10),H=parseInt(getComputedStyle(t).marginTop,10),J=F-H,C=$-V,E=J+q,S=_-q-V,R=D-$+q+ae,M=q+V-H,P=160;switch(s){case"auto":case"bottom":if(C>=k)return{placement:"bottom",maxHeight:e};if(S>=k&&!c)return l&&mh(d,R,P),{placement:"bottom",maxHeight:e};if(!c&&S>=i||c&&C>=i){l&&mh(d,R,P);var I=c?C-ae:S-ae;return{placement:"bottom",maxHeight:I}}if(s==="auto"||c){var we=e,Ce=c?J:E;return Ce>=i&&(we=Math.min(Ce-ae-m,e)),{placement:"top",maxHeight:we}}if(s==="bottom")return l&&hd(d,R),{placement:"bottom",maxHeight:e};break;case"top":if(J>=k)return{placement:"top",maxHeight:e};if(E>=k&&!c)return l&&mh(d,M,P),{placement:"top",maxHeight:e};if(!c&&E>=i||c&&J>=i){var z=e;return(!c&&E>=i||c&&J>=i)&&(z=c?J-H:E-H),l&&mh(d,M,P),{placement:"top",maxHeight:z}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return p}function Z3(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var Wx=function(e){return e==="auto"?"bottom":e},J3=function(e,t){var i,s=e.placement,l=e.theme,c=l.borderRadius,m=l.spacing,d=l.colors;return ke((i={label:"menu"},Xu(i,Z3(s),"100%"),Xu(i,"position","absolute"),Xu(i,"width","100%"),Xu(i,"zIndex",1),i),t?{}:{backgroundColor:d.neutral0,borderRadius:c,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:m.menuGutter,marginTop:m.menuGutter})},Zx=U.createContext(null),e6=function(e){var t=e.children,i=e.minMenuHeight,s=e.maxMenuHeight,l=e.menuPlacement,c=e.menuPosition,m=e.menuShouldScrollIntoView,d=e.theme,p=U.useContext(Zx)||{},v=p.setPortalPlacement,_=U.useRef(null),A=U.useState(s),D=Ki(A,2),k=D[0],V=D[1],N=U.useState(null),F=Ki(N,2),$=F[0],q=F[1],ae=d.spacing.controlHeight;return bv(function(){var H=_.current;if(H){var J=c==="fixed",C=m&&!J,E=W3({maxHeight:s,menuEl:H,minHeight:i,placement:l,shouldScroll:C,isFixedPosition:J,controlHeight:ae});V(E.maxHeight),q(E.placement),v==null||v(E.placement)}},[s,l,c,m,i,v,ae]),t({ref:_,placerProps:ke(ke({},e),{},{placement:$||Wx(l),maxHeight:k})})},t6=function(e){var t=e.children,i=e.innerRef,s=e.innerProps;return De("div",Ue({},zt(e,"menu",{menu:!0}),{ref:i},s),t)},n6=t6,r6=function(e,t){var i=e.maxHeight,s=e.theme.spacing.baseUnit;return ke({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},i6=function(e){var t=e.children,i=e.innerProps,s=e.innerRef,l=e.isMulti;return De("div",Ue({},zt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:s},i),t)},Jx=function(e,t){var i=e.theme,s=i.spacing.baseUnit,l=i.colors;return ke({textAlign:"center"},t?{}:{color:l.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},a6=Jx,s6=Jx,o6=function(e){var t=e.children,i=t===void 0?"No options":t,s=e.innerProps,l=ra(e,X3);return De("div",Ue({},zt(ke(ke({},l),{},{children:i,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),i)},l6=function(e){var t=e.children,i=t===void 0?"Loading...":t,s=e.innerProps,l=ra(e,Q3);return De("div",Ue({},zt(ke(ke({},l),{},{children:i,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),i)},u6=function(e){var t=e.rect,i=e.offset,s=e.position;return{left:t.left,position:s,top:i,width:t.width,zIndex:1}},c6=function(e){var t=e.appendTo,i=e.children,s=e.controlElement,l=e.innerProps,c=e.menuPlacement,m=e.menuPosition,d=U.useRef(null),p=U.useRef(null),v=U.useState(Wx(c)),_=Ki(v,2),A=_[0],D=_[1],k=U.useMemo(function(){return{setPortalPlacement:D}},[]),V=U.useState(null),N=Ki(V,2),F=N[0],$=N[1],q=U.useCallback(function(){if(s){var C=B3(s),E=m==="fixed"?0:window.pageYOffset,S=C[A]+E;(S!==(F==null?void 0:F.offset)||C.left!==(F==null?void 0:F.rect.left)||C.width!==(F==null?void 0:F.rect.width))&&$({offset:S,rect:C})}},[s,m,A,F==null?void 0:F.offset,F==null?void 0:F.rect.left,F==null?void 0:F.rect.width]);bv(function(){q()},[q]);var ae=U.useCallback(function(){typeof p.current=="function"&&(p.current(),p.current=null),s&&d.current&&(p.current=k3(s,d.current,q,{elementResize:"ResizeObserver"in window}))},[s,q]);bv(function(){ae()},[ae]);var H=U.useCallback(function(C){d.current=C,ae()},[ae]);if(!t&&m!=="fixed"||!F)return null;var J=De("div",Ue({ref:H},zt(ke(ke({},e),{},{offset:F.offset,position:m,rect:F.rect}),"menuPortal",{"menu-portal":!0}),l),i);return De(Zx.Provider,{value:k},t?Q2.createPortal(J,t):J)},f6=function(e){var t=e.isDisabled,i=e.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},h6=function(e){var t=e.children,i=e.innerProps,s=e.isDisabled,l=e.isRtl;return De("div",Ue({},zt(e,"container",{"--is-disabled":s,"--is-rtl":l}),i),t)},d6=function(e,t){var i=e.theme.spacing,s=e.isMulti,l=e.hasValue,c=e.selectProps.controlShouldRenderValue;return ke({alignItems:"center",display:s&&l&&c?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},m6=function(e){var t=e.children,i=e.innerProps,s=e.isMulti,l=e.hasValue;return De("div",Ue({},zt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":l}),i),t)},p6=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},g6=function(e){var t=e.children,i=e.innerProps;return De("div",Ue({},zt(e,"indicatorsContainer",{indicators:!0}),i),t)},UT,v6=["size"],y6=["innerProps","isRtl","size"],_6={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},eR=function(e){var t=e.size,i=ra(e,v6);return De("svg",Ue({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:_6},i))},Zy=function(e){return De(eR,Ue({size:20},e),De("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},tR=function(e){return De(eR,Ue({size:20},e),De("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},nR=function(e,t){var i=e.isFocused,s=e.theme,l=s.spacing.baseUnit,c=s.colors;return ke({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:i?c.neutral60:c.neutral20,padding:l*2,":hover":{color:i?c.neutral80:c.neutral40}})},b6=nR,E6=function(e){var t=e.children,i=e.innerProps;return De("div",Ue({},zt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),t||De(tR,null))},T6=nR,S6=function(e){var t=e.children,i=e.innerProps;return De("div",Ue({},zt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),t||De(Zy,null))},w6=function(e,t){var i=e.isDisabled,s=e.theme,l=s.spacing.baseUnit,c=s.colors;return ke({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:i?c.neutral10:c.neutral20,marginBottom:l*2,marginTop:l*2})},A6=function(e){var t=e.innerProps;return De("span",Ue({},t,zt(e,"indicatorSeparator",{"indicator-separator":!0})))},x6=E3(UT||(UT=T3([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),R6=function(e,t){var i=e.isFocused,s=e.size,l=e.theme,c=l.colors,m=l.spacing.baseUnit;return ke({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:i?c.neutral60:c.neutral20,padding:m*2})},bg=function(e){var t=e.delay,i=e.offset;return De("span",{css:Ky({animation:"".concat(x6," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},C6=function(e){var t=e.innerProps,i=e.isRtl,s=e.size,l=s===void 0?4:s,c=ra(e,y6);return De("div",Ue({},zt(ke(ke({},c),{},{innerProps:t,isRtl:i,size:l}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),De(bg,{delay:0,offset:i}),De(bg,{delay:160,offset:!0}),De(bg,{delay:320,offset:!i}))},I6=function(e,t){var i=e.isDisabled,s=e.isFocused,l=e.theme,c=l.colors,m=l.borderRadius,d=l.spacing;return ke({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:i?c.neutral5:c.neutral0,borderColor:i?c.neutral10:s?c.primary:c.neutral20,borderRadius:m,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(c.primary):void 0,"&:hover":{borderColor:s?c.primary:c.neutral30}})},O6=function(e){var t=e.children,i=e.isDisabled,s=e.isFocused,l=e.innerRef,c=e.innerProps,m=e.menuIsOpen;return De("div",Ue({ref:l},zt(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":s,"control--menu-is-open":m}),c,{"aria-disabled":i||void 0}),t)},N6=O6,D6=["data"],P6=function(e,t){var i=e.theme.spacing;return t?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},M6=function(e){var t=e.children,i=e.cx,s=e.getStyles,l=e.getClassNames,c=e.Heading,m=e.headingProps,d=e.innerProps,p=e.label,v=e.theme,_=e.selectProps;return De("div",Ue({},zt(e,"group",{group:!0}),d),De(c,Ue({},m,{selectProps:_,theme:v,getStyles:s,getClassNames:l,cx:i}),p),De("div",null,t))},k6=function(e,t){var i=e.theme,s=i.colors,l=i.spacing;return ke({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:l.baseUnit*3,paddingRight:l.baseUnit*3,textTransform:"uppercase"})},V6=function(e){var t=Kx(e);t.data;var i=ra(t,D6);return De("div",Ue({},zt(e,"groupHeading",{"group-heading":!0}),i))},L6=M6,j6=["innerRef","isDisabled","isHidden","inputClassName"],U6=function(e,t){var i=e.isDisabled,s=e.value,l=e.theme,c=l.spacing,m=l.colors;return ke(ke({visibility:i?"hidden":"visible",transform:s?"translateZ(0)":""},F6),t?{}:{margin:c.baseUnit/2,paddingBottom:c.baseUnit/2,paddingTop:c.baseUnit/2,color:m.neutral80})},rR={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},F6={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ke({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},rR)},z6=function(e){return ke({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},rR)},B6=function(e){var t=e.cx,i=e.value,s=Kx(e),l=s.innerRef,c=s.isDisabled,m=s.isHidden,d=s.inputClassName,p=ra(s,j6);return De("div",Ue({},zt(e,"input",{"input-container":!0}),{"data-value":i||""}),De("input",Ue({className:t({input:!0},d),ref:l,style:z6(m),disabled:c},p)))},H6=B6,q6=function(e,t){var i=e.theme,s=i.spacing,l=i.borderRadius,c=i.colors;return ke({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:c.neutral10,borderRadius:l/2,margin:s.baseUnit/2})},$6=function(e,t){var i=e.theme,s=i.borderRadius,l=i.colors,c=e.cropWithEllipsis;return ke({overflow:"hidden",textOverflow:c||c===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},G6=function(e,t){var i=e.theme,s=i.spacing,l=i.borderRadius,c=i.colors,m=e.isFocused;return ke({alignItems:"center",display:"flex"},t?{}:{borderRadius:l/2,backgroundColor:m?c.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:c.dangerLight,color:c.danger}})},iR=function(e){var t=e.children,i=e.innerProps;return De("div",i,t)},Y6=iR,K6=iR;function X6(n){var e=n.children,t=n.innerProps;return De("div",Ue({role:"button"},t),e||De(Zy,{size:14}))}var Q6=function(e){var t=e.children,i=e.components,s=e.data,l=e.innerProps,c=e.isDisabled,m=e.removeProps,d=e.selectProps,p=i.Container,v=i.Label,_=i.Remove;return De(p,{data:s,innerProps:ke(ke({},zt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":c})),l),selectProps:d},De(v,{data:s,innerProps:ke({},zt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},t),De(_,{data:s,innerProps:ke(ke({},zt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},m),selectProps:d}))},W6=Q6,Z6=function(e,t){var i=e.isDisabled,s=e.isFocused,l=e.isSelected,c=e.theme,m=c.spacing,d=c.colors;return ke({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:l?d.primary:s?d.primary25:"transparent",color:i?d.neutral20:l?d.neutral0:"inherit",padding:"".concat(m.baseUnit*2,"px ").concat(m.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:l?d.primary:d.primary50}})},J6=function(e){var t=e.children,i=e.isDisabled,s=e.isFocused,l=e.isSelected,c=e.innerRef,m=e.innerProps;return De("div",Ue({},zt(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":s,"option--is-selected":l}),{ref:c,"aria-disabled":i},m),t)},eL=J6,tL=function(e,t){var i=e.theme,s=i.spacing,l=i.colors;return ke({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:l.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},nL=function(e){var t=e.children,i=e.innerProps;return De("div",Ue({},zt(e,"placeholder",{placeholder:!0}),i),t)},rL=nL,iL=function(e,t){var i=e.isDisabled,s=e.theme,l=s.spacing,c=s.colors;return ke({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:i?c.neutral40:c.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},aL=function(e){var t=e.children,i=e.isDisabled,s=e.innerProps;return De("div",Ue({},zt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),s),t)},sL=aL,oL={ClearIndicator:S6,Control:N6,DropdownIndicator:E6,DownChevron:tR,CrossIcon:Zy,Group:L6,GroupHeading:V6,IndicatorsContainer:g6,IndicatorSeparator:A6,Input:H6,LoadingIndicator:C6,Menu:n6,MenuList:i6,MenuPortal:c6,LoadingMessage:l6,NoOptionsMessage:o6,MultiValue:W6,MultiValueContainer:Y6,MultiValueLabel:K6,MultiValueRemove:X6,Option:eL,Placeholder:rL,SelectContainer:h6,SingleValue:sL,ValueContainer:m6},lL=function(e){return ke(ke({},oL),e.components)},FT=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function uL(n,e){return!!(n===e||FT(n)&&FT(e))}function cL(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!uL(n[t],e[t]))return!1;return!0}function fL(n,e){e===void 0&&(e=cL);var t=null;function i(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var c=n.apply(this,s);return t={lastResult:c,lastArgs:s,lastThis:this},c}return i.clear=function(){t=null},i}var hL={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},dL=function(e){return De("span",Ue({css:hL},e))},zT=dL,mL={guidance:function(e){var t=e.isSearchable,i=e.isMulti,s=e.tabSelectsValue,l=e.context,c=e.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return c?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,i=e.label,s=i===void 0?"":i,l=e.labels,c=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return c?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,i=e.focused,s=e.options,l=e.label,c=l===void 0?"":l,m=e.selectValue,d=e.isDisabled,p=e.isSelected,v=e.isAppleDevice,_=function(V,N){return V&&V.length?"".concat(V.indexOf(N)+1," of ").concat(V.length):""};if(t==="value"&&m)return"value ".concat(c," focused, ").concat(_(m,i),".");if(t==="menu"&&v){var A=d?" disabled":"",D="".concat(p?" selected":"").concat(A);return"".concat(c).concat(D,", ").concat(_(s,i),".")}return""},onFilter:function(e){var t=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(t?" for search term "+t:"",".")}},pL=function(e){var t=e.ariaSelection,i=e.focusedOption,s=e.focusedValue,l=e.focusableOptions,c=e.isFocused,m=e.selectValue,d=e.selectProps,p=e.id,v=e.isAppleDevice,_=d.ariaLiveMessages,A=d.getOptionLabel,D=d.inputValue,k=d.isMulti,V=d.isOptionDisabled,N=d.isSearchable,F=d.menuIsOpen,$=d.options,q=d.screenReaderStatus,ae=d.tabSelectsValue,H=d.isLoading,J=d["aria-label"],C=d["aria-live"],E=U.useMemo(function(){return ke(ke({},mL),_||{})},[_]),S=U.useMemo(function(){var Ce="";if(t&&E.onChange){var z=t.option,ne=t.options,ue=t.removedValue,de=t.removedValues,L=t.value,X=function(be){return Array.isArray(be)?null:be},re=ue||z||X(L),Q=re?A(re):"",ge=ne||de||void 0,Te=ge?ge.map(A):[],_e=ke({isDisabled:re&&V(re,m),label:Q,labels:Te},t);Ce=E.onChange(_e)}return Ce},[t,E,V,m,A]),R=U.useMemo(function(){var Ce="",z=i||s,ne=!!(i&&m&&m.includes(i));if(z&&E.onFocus){var ue={focused:z,label:A(z),isDisabled:V(z,m),isSelected:ne,options:l,context:z===i?"menu":"value",selectValue:m,isAppleDevice:v};Ce=E.onFocus(ue)}return Ce},[i,s,A,V,E,l,m,v]),M=U.useMemo(function(){var Ce="";if(F&&$.length&&!H&&E.onFilter){var z=q({count:l.length});Ce=E.onFilter({inputValue:D,resultsMessage:z})}return Ce},[l,D,F,E,$,q,H]),P=(t==null?void 0:t.action)==="initial-input-focus",I=U.useMemo(function(){var Ce="";if(E.guidance){var z=s?"value":F?"menu":"input";Ce=E.guidance({"aria-label":J,context:z,isDisabled:i&&V(i,m),isMulti:k,isSearchable:N,tabSelectsValue:ae,isInitialFocus:P})}return Ce},[J,i,s,k,V,N,F,E,m,ae,P]),we=De(U.Fragment,null,De("span",{id:"aria-selection"},S),De("span",{id:"aria-focused"},R),De("span",{id:"aria-results"},M),De("span",{id:"aria-guidance"},I));return De(U.Fragment,null,De(zT,{id:p},P&&we),De(zT,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},c&&!P&&we))},gL=pL,Ev=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],vL=new RegExp("["+Ev.map(function(n){return n.letters}).join("")+"]","g"),aR={};for(var Eg=0;Eg<Ev.length;Eg++)for(var Tg=Ev[Eg],Sg=0;Sg<Tg.letters.length;Sg++)aR[Tg.letters[Sg]]=Tg.base;var sR=function(e){return e.replace(vL,function(t){return aR[t]})},yL=fL(sR),BT=function(e){return e.replace(/^\s+|\s+$/g,"")},_L=function(e){return"".concat(e.label," ").concat(e.value)},bL=function(e){return function(t,i){if(t.data.__isNew__)return!0;var s=ke({ignoreCase:!0,ignoreAccents:!0,stringify:_L,trim:!0,matchFrom:"any"},e),l=s.ignoreCase,c=s.ignoreAccents,m=s.stringify,d=s.trim,p=s.matchFrom,v=d?BT(i):i,_=d?BT(m(t)):m(t);return l&&(v=v.toLowerCase(),_=_.toLowerCase()),c&&(v=yL(v),_=sR(_)),p==="start"?_.substr(0,v.length)===v:_.indexOf(v)>-1}},EL=["innerRef"];function TL(n){var e=n.innerRef,t=ra(n,EL),i=K3(t,"onExited","in","enter","exit","appear");return De("input",Ue({ref:e},i,{css:Ky({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var SL=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function wL(n){var e=n.isEnabled,t=n.onBottomArrive,i=n.onBottomLeave,s=n.onTopArrive,l=n.onTopLeave,c=U.useRef(!1),m=U.useRef(!1),d=U.useRef(0),p=U.useRef(null),v=U.useCallback(function(N,F){if(p.current!==null){var $=p.current,q=$.scrollTop,ae=$.scrollHeight,H=$.clientHeight,J=p.current,C=F>0,E=ae-H-q,S=!1;E>F&&c.current&&(i&&i(N),c.current=!1),C&&m.current&&(l&&l(N),m.current=!1),C&&F>E?(t&&!c.current&&t(N),J.scrollTop=ae,S=!0,c.current=!0):!C&&-F>q&&(s&&!m.current&&s(N),J.scrollTop=0,S=!0,m.current=!0),S&&SL(N)}},[t,i,s,l]),_=U.useCallback(function(N){v(N,N.deltaY)},[v]),A=U.useCallback(function(N){d.current=N.changedTouches[0].clientY},[]),D=U.useCallback(function(N){var F=d.current-N.changedTouches[0].clientY;v(N,F)},[v]),k=U.useCallback(function(N){if(N){var F=$3?{passive:!1}:!1;N.addEventListener("wheel",_,F),N.addEventListener("touchstart",A,F),N.addEventListener("touchmove",D,F)}},[D,A,_]),V=U.useCallback(function(N){N&&(N.removeEventListener("wheel",_,!1),N.removeEventListener("touchstart",A,!1),N.removeEventListener("touchmove",D,!1))},[D,A,_]);return U.useEffect(function(){if(e){var N=p.current;return k(N),function(){V(N)}}},[e,k,V]),function(N){p.current=N}}var HT=["boxSizing","height","overflow","paddingRight","position"],qT={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function $T(n){n.cancelable&&n.preventDefault()}function GT(n){n.stopPropagation()}function YT(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function KT(){return"ontouchstart"in window||navigator.maxTouchPoints}var XT=!!(typeof window<"u"&&window.document&&window.document.createElement),Uu=0,Jo={capture:!1,passive:!1};function AL(n){var e=n.isEnabled,t=n.accountForScrollbars,i=t===void 0?!0:t,s=U.useRef({}),l=U.useRef(null),c=U.useCallback(function(d){if(XT){var p=document.body,v=p&&p.style;if(i&&HT.forEach(function(k){var V=v&&v[k];s.current[k]=V}),i&&Uu<1){var _=parseInt(s.current.paddingRight,10)||0,A=document.body?document.body.clientWidth:0,D=window.innerWidth-A+_||0;Object.keys(qT).forEach(function(k){var V=qT[k];v&&(v[k]=V)}),v&&(v.paddingRight="".concat(D,"px"))}p&&KT()&&(p.addEventListener("touchmove",$T,Jo),d&&(d.addEventListener("touchstart",YT,Jo),d.addEventListener("touchmove",GT,Jo))),Uu+=1}},[i]),m=U.useCallback(function(d){if(XT){var p=document.body,v=p&&p.style;Uu=Math.max(Uu-1,0),i&&Uu<1&&HT.forEach(function(_){var A=s.current[_];v&&(v[_]=A)}),p&&KT()&&(p.removeEventListener("touchmove",$T,Jo),d&&(d.removeEventListener("touchstart",YT,Jo),d.removeEventListener("touchmove",GT,Jo)))}},[i]);return U.useEffect(function(){if(e){var d=l.current;return c(d),function(){m(d)}}},[e,c,m]),function(d){l.current=d}}var xL=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},RL={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function CL(n){var e=n.children,t=n.lockEnabled,i=n.captureEnabled,s=i===void 0?!0:i,l=n.onBottomArrive,c=n.onBottomLeave,m=n.onTopArrive,d=n.onTopLeave,p=wL({isEnabled:s,onBottomArrive:l,onBottomLeave:c,onTopArrive:m,onTopLeave:d}),v=AL({isEnabled:t}),_=function(D){p(D),v(D)};return De(U.Fragment,null,t&&De("div",{onClick:xL,css:RL}),e(_))}var IL={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},OL=function(e){var t=e.name,i=e.onFocus;return De("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:IL,value:"",onChange:function(){}})},NL=OL;function Jy(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function DL(){return Jy(/^iPhone/i)}function oR(){return Jy(/^Mac/i)}function PL(){return Jy(/^iPad/i)||oR()&&navigator.maxTouchPoints>1}function ML(){return DL()||PL()}function kL(){return oR()||ML()}var VL=function(e){return e.label},LL=function(e){return e.label},jL=function(e){return e.value},UL=function(e){return!!e.isDisabled},FL={clearIndicator:T6,container:f6,control:I6,dropdownIndicator:b6,group:P6,groupHeading:k6,indicatorsContainer:p6,indicatorSeparator:w6,input:U6,loadingIndicator:R6,loadingMessage:s6,menu:J3,menuList:r6,menuPortal:u6,multiValue:q6,multiValueLabel:$6,multiValueRemove:G6,noOptionsMessage:a6,option:Z6,placeholder:tL,singleValue:iL,valueContainer:d6},zL={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},BL=4,lR=4,HL=38,qL=lR*2,$L={baseUnit:lR,controlHeight:HL,menuGutter:qL},wg={borderRadius:BL,colors:zL,spacing:$L},GL={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:jT(),captureMenuScroll:!jT(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:bL(),formatGroupLabel:VL,getOptionLabel:LL,getOptionValue:jL,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:UL,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!H3(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function QT(n,e,t,i){var s=fR(n,e,t),l=hR(n,e,t),c=cR(n,e),m=dd(n,e);return{type:"option",data:e,isDisabled:s,isSelected:l,label:c,value:m,index:i}}function Mh(n,e){return n.options.map(function(t,i){if("options"in t){var s=t.options.map(function(c,m){return QT(n,c,e,m)}).filter(function(c){return ZT(n,c)});return s.length>0?{type:"group",data:t,options:s,index:i}:void 0}var l=QT(n,t,e,i);return ZT(n,l)?l:void 0}).filter(G3)}function uR(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,Hy(t.options.map(function(i){return i.data}))):e.push(t.data),e},[])}function WT(n,e){return n.reduce(function(t,i){return i.type==="group"?t.push.apply(t,Hy(i.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(i.index,"-").concat(s.index)}}))):t.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),t},[])}function YL(n,e){return uR(Mh(n,e))}function ZT(n,e){var t=n.inputValue,i=t===void 0?"":t,s=e.data,l=e.isSelected,c=e.label,m=e.value;return(!mR(n)||!l)&&dR(n,{label:c,value:m,data:s},i)}function KL(n,e){var t=n.focusedValue,i=n.selectValue,s=i.indexOf(t);if(s>-1){var l=e.indexOf(t);if(l>-1)return t;if(s<e.length)return e[s]}return null}function XL(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var Ag=function(e,t){var i,s=(i=e.find(function(l){return l.data===t}))===null||i===void 0?void 0:i.id;return s||null},cR=function(e,t){return e.getOptionLabel(t)},dd=function(e,t){return e.getOptionValue(t)};function fR(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function hR(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var i=dd(n,e);return t.some(function(s){return dd(n,s)===i})}function dR(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var mR=function(e){var t=e.hideSelectedOptions,i=e.isMulti;return t===void 0?i:t},QL=1,pR=function(n){yV(t,n);var e=EV(t);function t(i){var s;if(gV(this,t),s=e.call(this,i),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=kL(),s.controlRef=null,s.getControlRef=function(d){s.controlRef=d},s.focusedOptionRef=null,s.getFocusedOptionRef=function(d){s.focusedOptionRef=d},s.menuListRef=null,s.getMenuListRef=function(d){s.menuListRef=d},s.inputRef=null,s.getInputRef=function(d){s.inputRef=d},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(d,p){var v=s.props,_=v.onChange,A=v.name;p.name=A,s.ariaOnChange(d,p),_(d,p)},s.setValue=function(d,p,v){var _=s.props,A=_.closeMenuOnSelect,D=_.isMulti,k=_.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:k}),A&&(s.setState({inputIsHiddenAfterUpdate:!D}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(d,{action:p,option:v})},s.selectOption=function(d){var p=s.props,v=p.blurInputOnSelect,_=p.isMulti,A=p.name,D=s.state.selectValue,k=_&&s.isOptionSelected(d,D),V=s.isOptionDisabled(d,D);if(k){var N=s.getOptionValue(d);s.setValue(D.filter(function(F){return s.getOptionValue(F)!==N}),"deselect-option",d)}else if(!V)_?s.setValue([].concat(Hy(D),[d]),"select-option",d):s.setValue(d,"select-option");else{s.ariaOnChange(d,{action:"select-option",option:d,name:A});return}v&&s.blurInput()},s.removeValue=function(d){var p=s.props.isMulti,v=s.state.selectValue,_=s.getOptionValue(d),A=v.filter(function(k){return s.getOptionValue(k)!==_}),D=gh(p,A,A[0]||null);s.onChange(D,{action:"remove-value",removedValue:d}),s.focusInput()},s.clearValue=function(){var d=s.state.selectValue;s.onChange(gh(s.props.isMulti,[],null),{action:"clear",removedValues:d})},s.popValue=function(){var d=s.props.isMulti,p=s.state.selectValue,v=p[p.length-1],_=p.slice(0,p.length-1),A=gh(d,_,_[0]||null);v&&s.onChange(A,{action:"pop-value",removedValue:v})},s.getFocusedOptionId=function(d){return Ag(s.state.focusableOptionsWithIds,d)},s.getFocusableOptionsWithIds=function(){return WT(Mh(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var d=arguments.length,p=new Array(d),v=0;v<d;v++)p[v]=arguments[v];return j3.apply(void 0,[s.props.classNamePrefix].concat(p))},s.getOptionLabel=function(d){return cR(s.props,d)},s.getOptionValue=function(d){return dd(s.props,d)},s.getStyles=function(d,p){var v=s.props.unstyled,_=FL[d](p,v);_.boxSizing="border-box";var A=s.props.styles[d];return A?A(_,p):_},s.getClassNames=function(d,p){var v,_;return(v=(_=s.props.classNames)[d])===null||v===void 0?void 0:v.call(_,p)},s.getElementId=function(d){return"".concat(s.state.instancePrefix,"-").concat(d)},s.getComponents=function(){return lL(s.props)},s.buildCategorizedOptions=function(){return Mh(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return uR(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(d,p){s.setState({ariaSelection:ke({value:d},p)})},s.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(d){s.blockOptionHover=!1},s.onControlMouseDown=function(d){if(!d.defaultPrevented){var p=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&s.onMenuClose():p&&s.openMenu("first"):(p&&(s.openAfterFocus=!0),s.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},s.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!s.props.isDisabled){var p=s.props,v=p.isMulti,_=p.menuIsOpen;s.focusInput(),_?(s.setState({inputIsHiddenAfterUpdate:!v}),s.onMenuClose()):s.openMenu("first"),d.preventDefault()}},s.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(s.clearValue(),d.preventDefault(),s.openAfterFocus=!1,d.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(d){typeof s.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&Xd(d.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(d)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(d){var p=d.touches,v=p&&p.item(0);v&&(s.initialTouchX=v.clientX,s.initialTouchY=v.clientY,s.userIsDragging=!1)},s.onTouchMove=function(d){var p=d.touches,v=p&&p.item(0);if(v){var _=Math.abs(v.clientX-s.initialTouchX),A=Math.abs(v.clientY-s.initialTouchY),D=5;s.userIsDragging=_>D||A>D}},s.onTouchEnd=function(d){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(d.target)&&s.menuListRef&&!s.menuListRef.contains(d.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(d){s.userIsDragging||s.onControlMouseDown(d)},s.onClearIndicatorTouchEnd=function(d){s.userIsDragging||s.onClearIndicatorMouseDown(d)},s.onDropdownIndicatorTouchEnd=function(d){s.userIsDragging||s.onDropdownIndicatorMouseDown(d)},s.handleInputChange=function(d){var p=s.props.inputValue,v=d.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(v,{action:"input-change",prevInputValue:p}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(d){s.props.onFocus&&s.props.onFocus(d),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(d){var p=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(d),s.onInputChange("",{action:"input-blur",prevInputValue:p}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(d){if(!(s.blockOptionHover||s.state.focusedOption===d)){var p=s.getFocusableOptions(),v=p.indexOf(d);s.setState({focusedOption:d,focusedOptionId:v>-1?s.getFocusedOptionId(d):null})}},s.shouldHideSelectedOptions=function(){return mR(s.props)},s.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),s.focus()},s.onKeyDown=function(d){var p=s.props,v=p.isMulti,_=p.backspaceRemovesValue,A=p.escapeClearsValue,D=p.inputValue,k=p.isClearable,V=p.isDisabled,N=p.menuIsOpen,F=p.onKeyDown,$=p.tabSelectsValue,q=p.openMenuOnFocus,ae=s.state,H=ae.focusedOption,J=ae.focusedValue,C=ae.selectValue;if(!V&&!(typeof F=="function"&&(F(d),d.defaultPrevented))){switch(s.blockOptionHover=!0,d.key){case"ArrowLeft":if(!v||D)return;s.focusValue("previous");break;case"ArrowRight":if(!v||D)return;s.focusValue("next");break;case"Delete":case"Backspace":if(D)return;if(J)s.removeValue(J);else{if(!_)return;v?s.popValue():k&&s.clearValue()}break;case"Tab":if(s.isComposing||d.shiftKey||!N||!$||!H||q&&s.isOptionSelected(H,C))return;s.selectOption(H);break;case"Enter":if(d.keyCode===229)break;if(N){if(!H||s.isComposing)return;s.selectOption(H);break}return;case"Escape":N?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:D}),s.onMenuClose()):k&&A&&s.clearValue();break;case" ":if(D)return;if(!N){s.openMenu("first");break}if(!H)return;s.selectOption(H);break;case"ArrowUp":N?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":N?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!N)return;s.focusOption("pageup");break;case"PageDown":if(!N)return;s.focusOption("pagedown");break;case"Home":if(!N)return;s.focusOption("first");break;case"End":if(!N)return;s.focusOption("last");break;default:return}d.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++QL),s.state.selectValue=VT(i.value),i.menuIsOpen&&s.state.selectValue.length){var l=s.getFocusableOptionsWithIds(),c=s.buildFocusableOptions(),m=c.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=l,s.state.focusedOption=c[m],s.state.focusedOptionId=Ag(l,c[m])}return s}return vV(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&LT(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var l=this.props,c=l.isDisabled,m=l.menuIsOpen,d=this.state.isFocused;(d&&!c&&s.isDisabled||d&&m&&!s.menuIsOpen)&&this.focusInput(),d&&c&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!c&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(LT(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,l){this.props.onInputChange(s,l)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var l=this,c=this.state,m=c.selectValue,d=c.isFocused,p=this.buildFocusableOptions(),v=s==="first"?0:p.length-1;if(!this.props.isMulti){var _=p.indexOf(m[0]);_>-1&&(v=_)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:p[v],focusedOptionId:this.getFocusedOptionId(p[v])},function(){return l.onMenuOpen()})}},{key:"focusValue",value:function(s){var l=this.state,c=l.selectValue,m=l.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=c.indexOf(m);m||(d=-1);var p=c.length-1,v=-1;if(c.length){switch(s){case"previous":d===0?v=0:d===-1?v=p:v=d-1;break;case"next":d>-1&&d<p&&(v=d+1);break}this.setState({inputIsHidden:v!==-1,focusedValue:c[v]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",l=this.props.pageSize,c=this.state.focusedOption,m=this.getFocusableOptions();if(m.length){var d=0,p=m.indexOf(c);c||(p=-1),s==="up"?d=p>0?p-1:m.length-1:s==="down"?d=(p+1)%m.length:s==="pageup"?(d=p-l,d<0&&(d=0)):s==="pagedown"?(d=p+l,d>m.length-1&&(d=m.length-1)):s==="last"&&(d=m.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:m[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(m[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(wg):ke(ke({},wg),this.props.theme):wg}},{key:"getCommonProps",value:function(){var s=this.clearValue,l=this.cx,c=this.getStyles,m=this.getClassNames,d=this.getValue,p=this.selectOption,v=this.setValue,_=this.props,A=_.isMulti,D=_.isRtl,k=_.options,V=this.hasValue();return{clearValue:s,cx:l,getStyles:c,getClassNames:m,getValue:d,hasValue:V,isMulti:A,isRtl:D,options:k,selectOption:p,selectProps:_,setValue:v,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,l=s.isClearable,c=s.isMulti;return l===void 0?c:l}},{key:"isOptionDisabled",value:function(s,l){return fR(this.props,s,l)}},{key:"isOptionSelected",value:function(s,l){return hR(this.props,s,l)}},{key:"filterOption",value:function(s,l){return dR(this.props,s,l)}},{key:"formatOptionLabel",value:function(s,l){if(typeof this.props.formatOptionLabel=="function"){var c=this.props.inputValue,m=this.state.selectValue;return this.props.formatOptionLabel(s,{context:l,inputValue:c,selectValue:m})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,l=s.isDisabled,c=s.isSearchable,m=s.inputId,d=s.inputValue,p=s.tabIndex,v=s.form,_=s.menuIsOpen,A=s.required,D=this.getComponents(),k=D.Input,V=this.state,N=V.inputIsHidden,F=V.ariaSelection,$=this.commonProps,q=m||this.getElementId("input"),ae=ke(ke(ke({"aria-autocomplete":"list","aria-expanded":_,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":A,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},_&&{"aria-controls":this.getElementId("listbox")}),!c&&{"aria-readonly":!0}),this.hasValue()?(F==null?void 0:F.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return c?U.createElement(k,Ue({},$,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:q,innerRef:this.getInputRef,isDisabled:l,isHidden:N,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:p,form:v,type:"text",value:d},ae)):U.createElement(TL,Ue({id:q,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:fd,onFocus:this.onInputFocus,disabled:l,tabIndex:p,inputMode:"none",form:v,value:""},ae))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,l=this.getComponents(),c=l.MultiValue,m=l.MultiValueContainer,d=l.MultiValueLabel,p=l.MultiValueRemove,v=l.SingleValue,_=l.Placeholder,A=this.commonProps,D=this.props,k=D.controlShouldRenderValue,V=D.isDisabled,N=D.isMulti,F=D.inputValue,$=D.placeholder,q=this.state,ae=q.selectValue,H=q.focusedValue,J=q.isFocused;if(!this.hasValue()||!k)return F?null:U.createElement(_,Ue({},A,{key:"placeholder",isDisabled:V,isFocused:J,innerProps:{id:this.getElementId("placeholder")}}),$);if(N)return ae.map(function(E,S){var R=E===H,M="".concat(s.getOptionLabel(E),"-").concat(s.getOptionValue(E));return U.createElement(c,Ue({},A,{components:{Container:m,Label:d,Remove:p},isFocused:R,isDisabled:V,key:M,index:S,removeProps:{onClick:function(){return s.removeValue(E)},onTouchEnd:function(){return s.removeValue(E)},onMouseDown:function(I){I.preventDefault()}},data:E}),s.formatOptionLabel(E,"value"))});if(F)return null;var C=ae[0];return U.createElement(v,Ue({},A,{data:C,isDisabled:V}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),l=s.ClearIndicator,c=this.commonProps,m=this.props,d=m.isDisabled,p=m.isLoading,v=this.state.isFocused;if(!this.isClearable()||!l||d||!this.hasValue()||p)return null;var _={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return U.createElement(l,Ue({},c,{innerProps:_,isFocused:v}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),l=s.LoadingIndicator,c=this.commonProps,m=this.props,d=m.isDisabled,p=m.isLoading,v=this.state.isFocused;if(!l||!p)return null;var _={"aria-hidden":"true"};return U.createElement(l,Ue({},c,{innerProps:_,isDisabled:d,isFocused:v}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),l=s.DropdownIndicator,c=s.IndicatorSeparator;if(!l||!c)return null;var m=this.commonProps,d=this.props.isDisabled,p=this.state.isFocused;return U.createElement(c,Ue({},m,{isDisabled:d,isFocused:p}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),l=s.DropdownIndicator;if(!l)return null;var c=this.commonProps,m=this.props.isDisabled,d=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return U.createElement(l,Ue({},c,{innerProps:p,isDisabled:m,isFocused:d}))}},{key:"renderMenu",value:function(){var s=this,l=this.getComponents(),c=l.Group,m=l.GroupHeading,d=l.Menu,p=l.MenuList,v=l.MenuPortal,_=l.LoadingMessage,A=l.NoOptionsMessage,D=l.Option,k=this.commonProps,V=this.state.focusedOption,N=this.props,F=N.captureMenuScroll,$=N.inputValue,q=N.isLoading,ae=N.loadingMessage,H=N.minMenuHeight,J=N.maxMenuHeight,C=N.menuIsOpen,E=N.menuPlacement,S=N.menuPosition,R=N.menuPortalTarget,M=N.menuShouldBlockScroll,P=N.menuShouldScrollIntoView,I=N.noOptionsMessage,we=N.onMenuScrollToTop,Ce=N.onMenuScrollToBottom;if(!C)return null;var z=function(Q,ge){var Te=Q.type,_e=Q.data,Ge=Q.isDisabled,be=Q.isSelected,Fe=Q.label,Qe=Q.value,Ie=V===_e,lt=Ge?void 0:function(){return s.onOptionHover(_e)},ut=Ge?void 0:function(){return s.selectOption(_e)},Ke="".concat(s.getElementId("option"),"-").concat(ge),te={id:Ke,onClick:ut,onMouseMove:lt,onMouseOver:lt,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:be};return U.createElement(D,Ue({},k,{innerProps:te,data:_e,isDisabled:Ge,isSelected:be,key:Ke,label:Fe,type:Te,value:Qe,isFocused:Ie,innerRef:Ie?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(Q.data,"menu"))},ne;if(this.hasOptions())ne=this.getCategorizedOptions().map(function(re){if(re.type==="group"){var Q=re.data,ge=re.options,Te=re.index,_e="".concat(s.getElementId("group"),"-").concat(Te),Ge="".concat(_e,"-heading");return U.createElement(c,Ue({},k,{key:_e,data:Q,options:ge,Heading:m,headingProps:{id:Ge,data:re.data},label:s.formatGroupLabel(re.data)}),re.options.map(function(be){return z(be,"".concat(Te,"-").concat(be.index))}))}else if(re.type==="option")return z(re,"".concat(re.index))});else if(q){var ue=ae({inputValue:$});if(ue===null)return null;ne=U.createElement(_,k,ue)}else{var de=I({inputValue:$});if(de===null)return null;ne=U.createElement(A,k,de)}var L={minMenuHeight:H,maxMenuHeight:J,menuPlacement:E,menuPosition:S,menuShouldScrollIntoView:P},X=U.createElement(e6,Ue({},k,L),function(re){var Q=re.ref,ge=re.placerProps,Te=ge.placement,_e=ge.maxHeight;return U.createElement(d,Ue({},k,L,{innerRef:Q,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:q,placement:Te}),U.createElement(CL,{captureEnabled:F,onTopArrive:we,onBottomArrive:Ce,lockEnabled:M},function(Ge){return U.createElement(p,Ue({},k,{innerRef:function(Fe){s.getMenuListRef(Fe),Ge(Fe)},innerProps:{role:"listbox","aria-multiselectable":k.isMulti,id:s.getElementId("listbox")},isLoading:q,maxHeight:_e,focusedOption:V}),ne)}))});return R||S==="fixed"?U.createElement(v,Ue({},k,{appendTo:R,controlElement:this.controlRef,menuPlacement:E,menuPosition:S}),X):X}},{key:"renderFormField",value:function(){var s=this,l=this.props,c=l.delimiter,m=l.isDisabled,d=l.isMulti,p=l.name,v=l.required,_=this.state.selectValue;if(v&&!this.hasValue()&&!m)return U.createElement(NL,{name:p,onFocus:this.onValueInputFocus});if(!(!p||m))if(d)if(c){var A=_.map(function(V){return s.getOptionValue(V)}).join(c);return U.createElement("input",{name:p,type:"hidden",value:A})}else{var D=_.length>0?_.map(function(V,N){return U.createElement("input",{key:"i-".concat(N),name:p,type:"hidden",value:s.getOptionValue(V)})}):U.createElement("input",{name:p,type:"hidden",value:""});return U.createElement("div",null,D)}else{var k=_[0]?this.getOptionValue(_[0]):"";return U.createElement("input",{name:p,type:"hidden",value:k})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,l=this.state,c=l.ariaSelection,m=l.focusedOption,d=l.focusedValue,p=l.isFocused,v=l.selectValue,_=this.getFocusableOptions();return U.createElement(gL,Ue({},s,{id:this.getElementId("live-region"),ariaSelection:c,focusedOption:m,focusedValue:d,isFocused:p,selectValue:v,focusableOptions:_,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),l=s.Control,c=s.IndicatorsContainer,m=s.SelectContainer,d=s.ValueContainer,p=this.props,v=p.className,_=p.id,A=p.isDisabled,D=p.menuIsOpen,k=this.state.isFocused,V=this.commonProps=this.getCommonProps();return U.createElement(m,Ue({},V,{className:v,innerProps:{id:_,onKeyDown:this.onKeyDown},isDisabled:A,isFocused:k}),this.renderLiveRegion(),U.createElement(l,Ue({},V,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:A,isFocused:k,menuIsOpen:D}),U.createElement(d,Ue({},V,{isDisabled:A}),this.renderPlaceholderOrValue(),this.renderInput()),U.createElement(c,Ue({},V,{isDisabled:A}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,l){var c=l.prevProps,m=l.clearFocusValueOnUpdate,d=l.inputIsHiddenAfterUpdate,p=l.ariaSelection,v=l.isFocused,_=l.prevWasFocused,A=l.instancePrefix,D=s.options,k=s.value,V=s.menuIsOpen,N=s.inputValue,F=s.isMulti,$=VT(k),q={};if(c&&(k!==c.value||D!==c.options||V!==c.menuIsOpen||N!==c.inputValue)){var ae=V?YL(s,$):[],H=V?WT(Mh(s,$),"".concat(A,"-option")):[],J=m?KL(l,$):null,C=XL(l,ae),E=Ag(H,C);q={selectValue:$,focusedOption:C,focusedOptionId:E,focusableOptionsWithIds:H,focusedValue:J,clearFocusValueOnUpdate:!1}}var S=d!=null&&s!==c?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},R=p,M=v&&_;return v&&!M&&(R={value:gh(F,$,$[0]||null),options:$,action:"initial-input-focus"},M=!_),(p==null?void 0:p.action)==="initial-input-focus"&&(R=null),ke(ke(ke({},q),S),{},{prevProps:s,ariaSelection:R,prevWasFocused:M})}}]),t}(U.Component);pR.defaultProps=GL;var WL=U.forwardRef(function(n,e){var t=pV(n);return U.createElement(pR,Ue({ref:e},t))}),ZL=WL;const Fu=kr(Xn),JL=()=>{const[n,e]=U.useState(""),[t,i]=U.useState(""),[s,l]=U.useState([]),[c,m]=U.useState([]),[d,p]=U.useState(null),[v,_]=U.useState(!1),[A,D]=U.useState(""),[k,V]=U.useState(null),[N,F]=U.useState([]),[$,q]=U.useState([]),[ae,H]=U.useState(!1),[J,C]=U.useState(null);U.useEffect(()=>{(async()=>{try{const[ne,ue]=await Promise.all([ii(kn(Fu,"machines")),ii(kn(Fu,"assignments"))]),de=ne.docs.map(X=>({id:X.id,...X.data()}));l(de);const L=ue.docs.map(X=>{const re=X.data();return{id:X.id,operator:re.operator??"",machines:re.machines??[],timestamp:re.timestamp??null}});m(L)}catch(ne){console.error("Error fetching data:",ne)}})()},[]);const E=c.filter(z=>z.operator.toUpperCase().includes(t.toUpperCase())),S=z=>{e(z.operator),F(z.machines),q(z.machines),p(z.id??null)},R=z=>c.some(ne=>ne.operator.toUpperCase()===z.toUpperCase()&&ne.id!==d),M=z=>{z&&(V(z),D(""),_(!0))},P=async()=>{if(A==="C4ballo.2024*"&&k)try{await Rx(hi(Fu,"assignments",k)),m(z=>z.filter(ne=>ne.id!==k)),alert("Asignación eliminada"),k===d&&(e(""),F([]),p(null))}catch(z){console.error("Error eliminando:",z),alert("Error al eliminar")}else alert("Contraseña incorrecta.");_(!1),V(null)},I=async z=>{z.preventDefault();const ne=n.toUpperCase();if(R(ne)&&!d){alert(`El operario "${n}" ya tiene asignada una máquina. Por favor, busque y edite esa asignación.`);return}const ue={operator:ne,machines:N,timestamp:Nt.now()};try{if(d){const de=hi(Fu,"assignments",d);await dv(de,ue),m(L=>L.map(X=>X.id===d?{...X,...ue}:X)),alert("Asignación actualizada")}else{const de=await bl(kn(Fu,"assignments"),ue);m(L=>[...L,{id:de.id,...ue}]),alert("Asignación guardada")}e(""),F([]),q([]),p(null),i("")}catch(de){console.error("Error al guardar:",de),alert("Hubo un error al guardar")}},we=s.filter(z=>z.abbreviation).map(z=>({value:z.abbreviation,label:z.abbreviation})),Ce=z=>{d&&N.includes(z)?(C(z),H(!0)):F(ne=>ne.filter(ue=>ue!==z))};return b.jsxs("div",{className:"p-6 rounded-lg shadow-md w-full max-w-full mx-auto backgroundForm",children:[b.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Asignar Máquinas a operarios"}),b.jsxs("form",{onSubmit:I,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1 text-white",children:"Operario"}),b.jsx("input",{type:"text",value:n,onChange:z=>e(z.target.value),className:"w-full border px-3 bg-gray-200 py-2 rounded-md",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1 text-white",children:"Seleccionar máquinas"}),b.jsx(ZL,{isMulti:!0,options:we,value:N.map(z=>({value:z,label:z})),placeholder:"Buscar y seleccionar máquinas...",className:"z-0",onKeyDown:z=>{z.key==="Backspace"&&d&&N.length>0&&(Ce(N[N.length-1]),z.preventDefault())},onFocus:()=>{q(N)},onChange:z=>{const ne=Array.isArray(z)?z.map(de=>de.value):[],ue=$.filter(de=>!ne.includes(de));if(ue.length>0&&d){C(ue[0]),H(!0);return}F(ne)}})]}),b.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:d?"Actualizar":"Asignar máquinas"})]}),b.jsxs("div",{className:"bg-gray-700 p-3 mt-5",children:[b.jsxs("div",{className:"mb-4 mt-5 ",children:[b.jsx("label",{className:"block mb-1 text-white",children:"Buscar Código de Operario"}),b.jsx("input",{type:"text",placeholder:"Buscar...",value:t,onChange:z=>i(z.target.value),className:"w-full border px-3 bg-gray-200 py-2 rounded-md"})]}),b.jsxs("div",{className:"mt-8",children:[b.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Operarios y sus asignaciones"}),E.length===0?b.jsx("p",{className:"text-white",children:"No hay coincidencias."}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map(z=>b.jsxs("div",{className:"bg-gray-800 p-4 rounded shadow hover:shadow-lg transition-shadow duration-300 relative",children:[b.jsx("h4",{className:"text-xl font-semibold mb-2 text-white",children:z.operator}),b.jsxs("p",{className:"mb-1 text-white",children:[b.jsx("strong",{children:"Máquinas:"})," ",b.jsx("small",{className:"font-bold text-emerald-500",children:z.machines.join(", ")})]}),b.jsxs("p",{className:"mb-1 text-white",children:[b.jsx("strong",{children:"Fecha:"})," ",z.timestamp?new Date(z.timestamp.seconds*1e3).toLocaleString():"Sin fecha"]}),b.jsxs("div",{className:"flex space-x-2 mt-2",children:[b.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded",onClick:()=>S(z),children:"Editar"}),b.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded",onClick:()=>M(z.id),children:"Eliminar"})]})]},z.id))})]})]}),v&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white p-6 rounded shadow max-w-sm w-full",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Ingrese la contraseña para eliminar"}),b.jsx("input",{type:"password",className:"w-full border px-3 py-2 rounded mb-4",value:A,onChange:z=>D(z.target.value),placeholder:"Contraseña"}),b.jsxs("div",{className:"flex justify-end space-x-2",children:[b.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded",onClick:()=>{_(!1),C(null),H(!1),D("")},children:"Cancelar"}),b.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded",onClick:P,children:"Confirmar"})]})]})}),ae&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white p-6 rounded shadow max-w-sm w-full",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Ingrese la contraseña para quitar la máquina"}),b.jsx("input",{type:"password",className:"w-full border px-3 py-2 rounded mb-4",value:A,onChange:z=>D(z.target.value),placeholder:"Contraseña"}),b.jsxs("div",{className:"flex justify-end space-x-2",children:[b.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded",onClick:()=>{H(!1),C(null),D("")},children:"Cancelar"}),b.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded",onClick:()=>{A==="C4ballo.2024*"?J&&F(z=>z.filter(ne=>ne!==J)):alert("Contraseña incorrecta"),H(!1),C(null),D("")},children:"Confirmar"})]})]})})]})};function JT(){return b.jsx(b.Fragment,{children:b.jsx(JL,{})})}const ej=[{title:"Registrar",slug:"f1315"},{title:"Ver registros",slug:"eficence"}];function tj({item:n}){return b.jsx(bd,{to:`/picado/${n.slug}`,children:b.jsx("button",{className:"button",children:n.title})})}const nj=()=>b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex flex-col items-center p-4 space-y-6 md:space-y-8",children:[b.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:ej.map((n,e)=>b.jsx(tj,{item:n},e))}),b.jsx("div",{className:"w-full ",children:b.jsx(Gv,{})})]})}),rj=({registrosFiltrados:n,machineStandards:e})=>{const t=n.reduce((v,_)=>(_.machines.forEach(A=>{const D=parseFloat(A.horometroFinal)||0,k=parseFloat(A.horometroInicial)||0,V=D-k,N=parseFloat(e[A.machine]||"0"),F=typeof A.horasAsignadas=="string"?parseFloat(A.horasAsignadas):A.horasAsignadas||0,$=N>0?V-N*F:0;v[_.operatorCode]||(v[_.operatorCode]={name:_.operatorName||_.operatorCode,code:_.operatorCode,totalEficiencia:0,count:0}),v[_.operatorCode].totalEficiencia+=$,v[_.operatorCode].count+=1}),v),{}),i=Object.values(t).map(v=>({...v,eficienciaPromedio:v.count>0?v.totalEficiencia/v.count:0})).sort((v,_)=>_.eficienciaPromedio-v.eficienciaPromedio);if(i.length===0)return null;const s=i.filter(v=>v.eficienciaPromedio>0).map(v=>v.eficienciaPromedio),l=i.filter(v=>v.eficienciaPromedio<0).map(v=>v.eficienciaPromedio),c=Math.max(...s,.1),m=Math.min(...l,-.1),d=["bg-green-300","bg-green-400","bg-green-500","bg-green-600","bg-green-700"],p=["bg-red-300","bg-red-400","bg-red-500","bg-red-600","bg-red-700"];return b.jsxs("div",{className:"my-6",children:[b.jsx("h3",{className:"text-lg font-semibold mb-2 text-center",children:"posiciones de los operarios"}),b.jsx("div",{className:"flex items-center justify-center space-x-4 overflow-x-auto py-4",children:i.map((v,_)=>{let A="bg-gray-400";if(v.eficienciaPromedio>0){const D=Math.min(Math.floor(v.eficienciaPromedio/c*(d.length-1)),d.length-1);A=d[D]}else if(v.eficienciaPromedio<0){const D=Math.min(Math.floor(v.eficienciaPromedio/m*(p.length-1)),p.length-1);A=p[D]}return b.jsxs("div",{className:"flex flex-col items-center mx-2",children:[b.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold 
                  shadow-md border-2 ${_===0?"border-yellow-400":"border-transparent"} ${A}`,style:{transform:_===0?"scale(1.1)":"scale(1)"},children:v.code}),b.jsx("strong",{className:"text-lg text-gray-500",children:_+1})]},v.code)})})]})},zu=kr(Xn),eS=Ic(),ij=({isOpen:n,onClose:e,onConfirm:t})=>{const[i,s]=U.useState("");if(!n)return null;const l=()=>{t(i),s("")};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white p-6 rounded-lg w-96",children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Verificación de contraseña"}),b.jsx("p",{className:"mb-4",children:"Por favor ingrese su contraseña para confirmar la eliminación:"}),b.jsx("input",{type:"password",value:i,onChange:c=>s(c.target.value),className:"w-full border p-2 rounded mb-4",placeholder:"Ingrese su contraseña"}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{onClick:e,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded",children:"Cancelar"}),b.jsx("button",{onClick:l,className:"bg-red-600 text-white px-4 py-2 rounded",children:"Confirmar"})]})]})})},xg=({editable:n=!1})=>{var Ke;const[e,t]=U.useState([]),[i,s]=U.useState(null),[l,c]=U.useState({}),[m,d]=U.useState(""),[p,v]=U.useState(null),[_,A]=U.useState(!1),[D,k]=U.useState(null),[V,N]=U.useState(!1),[F,$]=U.useState(null),q=te=>{$(te),N(!0)},ae=()=>{N(!1),$(null)},[H,J]=U.useState(""),[C,E]=U.useState(""),[S,R]=U.useState({}),[M,P]=U.useState(()=>new Date().toISOString().slice(0,7)),[I,we]=U.useState("");U.useEffect(()=>{const te=eS.currentUser;te&&v(te.email)},[]);const Ce=async()=>{try{const te=await ii(kn(zu,"machines")),se={};te.forEach(ve=>{const me=ve.data();me.abbreviation&&me.efficiency&&(se[me.abbreviation]=me.efficiency)}),R(se)}catch(te){console.error("Error fetching machine standards:",te)}},z=te=>{if(!te)return"";const se=new Date(te),ve=String(se.getDate()).padStart(2,"0"),me=String(se.getMonth()+1).padStart(2,"0"),Re=se.getFullYear(),ct=String(se.getHours()).padStart(2,"0"),He=String(se.getMinutes()).padStart(2,"0");return`${ve}/${me}/${Re} ${ct}:${He}`};U.useEffect(()=>{(async()=>{try{const ve=(await ii(kn(zu,"registro_horometros"))).docs.map(me=>({id:me.id,...me.data()}));t(ve)}catch(se){console.error("Error fetching registros:",se)}})(),Ce()},[]);const ne=Array.from(new Set(e.map(te=>te.operatorCode))),ue=e.filter(te=>{if(H){const se=new Date(te.fecha),ve=se.getFullYear(),me=String(se.getMonth()+1).padStart(2,"0"),Re=String(se.getDate()).padStart(2,"0");return`${ve}-${me}-${Re}`===H}return!0}).filter(te=>C?te.machines.some(se=>se.machine===C):!0).filter(te=>I?te.operatorCode===I:!0).sort((te,se)=>new Date(se.fecha).getTime()-new Date(te.fecha).getTime()).filter(te=>M?te.fecha.slice(0,7)===M:!0),de=ue.reduce((te,se)=>(se.machines.forEach(ve=>{const me=parseFloat(ve.horometroFinal),Re=parseFloat(ve.horometroInicial),ct=isNaN(me)||isNaN(Re)?0:me-Re,He=S[ve.machine]??"0",et=parseFloat(He),It=typeof ve.horasAsignadas=="string"?parseFloat(ve.horasAsignadas):ve.horasAsignadas;if(!isNaN(ct)&&!isNaN(et)&&!isNaN(It)){const We=ct-et*It;te+=We}}),te),0),L=(te,se)=>{if(te.estado==="Revisado"){alert("No se puede editar un registro que ya ha sido revisado.");return}s(te.id+"-"+se);const ve=te.machines[se],me=te.fecha,ct=new Date(me).toISOString().slice(0,16);c({...ve,fechaHora:ct}),d(String(ve.horasAsignadas))},X=async te=>{const se=eS.currentUser;if(!se||!se.email)return!1;const ve=io.credential(se.email,te);try{return await ND(se,ve),!0}catch(me){return console.error("Error en reautenticación:",me),!1}},re=async(te,se)=>{if(!window.confirm("¿Está seguro de que desea eliminar este registro?"))return;if(!await X(se)){alert("Contraseña incorrecta. No se puede eliminar el registro.");return}if(window.confirm("Esta acción no se puede deshacer. ¿Confirma la eliminación?"))try{await Rx(hi(zu,"registro_horometros",te)),t(me=>me.filter(Re=>Re.id!==te)),alert("Registro eliminado correctamente")}catch(me){console.error("Error al eliminar el registro:",me),alert("Error al eliminar el registro")}},Q=te=>{const se=e.find(ve=>ve.id===te);if(se&&se.estado==="Revisado"){alert("No se puede eliminar un registro que ya ha sido revisado.");return}k(te),A(!0)},ge=async te=>{D&&await re(D,te),A(!1),k(null)},Te=async(te,se)=>{try{await dv(hi(zu,"registro_horometros",te),{estado:se,fechaUltimaEdicion:new Date().toISOString(),editadoPor:p??"Desconocido"}),t(ve=>ve.map(me=>me.id===te?{...me,estado:se}:me))}catch(ve){console.error("Error al actualizar el estado:",ve)}},_e=async(te,se)=>{const ve=e.findIndex(Ee=>Ee.id===te);if(ve===-1)return;const me=e[ve];if(me.estado==="Revisado"){alert("No se puede editar un registro que ya ha sido revisado."),s(null);return}const Re=parseFloat(m);if(isNaN(Re)){alert("Ingrese un número válido para horas.");return}const ct=[...me.machines],He=me.originalMachines?me.originalMachines[se]:void 0,et=He??{horasAsignadas:"",horometroFinal:"",horometroInicial:"",machine:"",reference:"",paradasMayores:"",observaciones:""};ct[se]={horasAsignadas:Re,horometroFinal:l.horometroFinal??(He==null?void 0:He.horometroFinal)??"",horometroInicial:l.horometroInicial??(He==null?void 0:He.horometroInicial)??"",machine:l.machine??(He==null?void 0:He.machine)??"",paradasMayores:l.paradasMayores??(He==null?void 0:He.paradasMayores)??"",reference:l.reference??(He==null?void 0:He.reference)??"",observaciones:l.observaciones??(He==null?void 0:He.observaciones)??""};let It=me.fecha;if(l.fechaHora){const Ee=new Date(l.fechaHora),Ye=new Date(me.fecha);Ee.getTime()!==Ye.getTime()&&(It=Ee.toISOString())}const We=[];Object.keys(ct[se]).forEach(Ee=>{const Ye=et[Ee],nt=ct[se][Ee];Ye!==nt&&We.push({campo:Ee,valorAnterior:Ye,valorNuevo:nt})});const Dt=new Date().toLocaleString("es-CO"),Pe=p??"Desconocido";try{const Ee={machines:ct,editadoPor:Pe,camposModificados:We.join(", "),fechaUltimaEdicion:new Date().toISOString(),detallesEdicion:[...me.detallesEdicion??[],{usuario:Pe,fechaHora:Dt,valorAnterior:We.reduce((nt,Qn)=>(nt[Qn.campo]=Qn.valorAnterior,nt),{}),valorNuevo:We.reduce((nt,Qn)=>(nt[Qn.campo]=Qn.valorNuevo,nt),{})}]};It!==me.fecha&&(Ee.fecha=It),await dv(hi(zu,"registro_horometros",te),Ee);const Ye=[...e];Ye[ve]={...me,machines:ct,...It!==me.fecha?{fecha:It}:{}},t(Ye),s(null)}catch(Ee){console.error("Error al guardar:",Ee)}},Ge=te=>typeof te=="number"?te.toFixed(2):String(te),be=()=>{const te=["Fecha","Máquina","Código Operario","Horómetro Inicial","Horómetro Final","Referencia","Paradas Mayores","Observaciones","Horas Asignadas","Horas Trabajadas","Estándar","Estandar en horas","Eficiencia (horas)","Estado"],se=e.flatMap(He=>He.machines.map(et=>{const It=parseFloat(et.horometroFinal)||0,We=parseFloat(et.horometroInicial)||0,Dt=It-We,Pe=parseFloat(S[et.machine]||"0"),Ee=typeof et.horasAsignadas=="string"?parseFloat(et.horasAsignadas):Number(et.horasAsignadas)||0,Ye=Dt-Pe*Ee;return{Fecha:z(He.fecha),Máquina:et.machine,"Código Operario":He.operatorCode,"Horómetro Inicial":et.horometroInicial||"0.00","Horómetro Final":et.horometroFinal||"0.00",Referencia:et.reference||"N/A","Paradas Mayores":et.paradasMayores||"0.00",Observaciones:et.observaciones||"","Horas Asignadas":Ge(et.horasAsignadas||0),"Horas Trabajadas":Dt.toFixed(2),Estándar:Pe,"Eficiencia (horas)":Ye.toFixed(2),Estado:He.estado||"Pendiente"}})),ve=[te.join(","),...se.map(He=>te.map(et=>`"${String(He[et]||"").replace(/"/g,'""')}"`).join(","))].join(`
`),me=new Blob([ve],{type:"text/csv;charset=utf-8;"}),Re=document.createElement("a"),ct=URL.createObjectURL(me);Re.setAttribute("href",ct),Re.setAttribute("download",`eficiencia_picado_COMPLETO_${new Date().toISOString().slice(0,10)}.csv`),Re.style.visibility="hidden",document.body.appendChild(Re),Re.click(),document.body.removeChild(Re)},Fe=ue.reduce((te,se)=>(se.machines.forEach(ve=>{const me=typeof ve.horasAsignadas=="string"?parseFloat(ve.horasAsignadas):ve.horasAsignadas;te+=isNaN(me)?0:me}),te),0),Qe=ue.reduce((te,se)=>(se.machines.forEach(ve=>{const me=parseFloat(ve.horometroFinal)||0,Re=parseFloat(ve.horometroInicial)||0;te+=me-Re}),te),0),Ie=ue.reduce((te,se)=>(se.machines.forEach(ve=>{const me=typeof ve.horasAsignadas=="string"?parseFloat(ve.horasAsignadas):ve.horasAsignadas,Re=parseFloat(S[ve.machine]||"0");te+=me*Re}),te),0),lt=Qe-Ie,ut=ue.reduce((te,se)=>(se.machines.forEach(ve=>{const me=parseFloat(S[ve.machine]||"0"),Re=typeof ve.horasAsignadas=="string"?parseFloat(ve.horasAsignadas):ve.horasAsignadas||0;me>0&&(te+=me*Re)}),te),0);return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"p-6 w-full bg-white rounded-lg border border-gray-200 shadow-lg overflow-x-auto relative",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800"}),b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800"}),b.jsx("button",{onClick:be,className:"bg-blue-950 hover:bg-blue-900 text-white px-4 py-2 rounded shadow cursor-pointer",children:"Exportar CSV"})]})]}),b.jsx("hr",{}),b.jsx("br",{}),b.jsxs("div",{className:"flex flex-col md:flex-row mb-4 gap-2 items-center",children:[b.jsxs("div",{children:[b.jsx("label",{className:"mr-2 font-semibold",children:"Filtrar por día:"}),b.jsx("input",{type:"date",value:H,onChange:te=>J(te.target.value),className:"border p-1 rounded"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"mr-2 font-semibold",children:"Filtrar por máquina:"}),b.jsxs("select",{value:C,onChange:te=>E(te.target.value),className:"border p-1 rounded",children:[b.jsx("option",{value:"",children:"Todas"}),Array.from(new Set(e.flatMap(te=>te.machines.map(se=>se.machine)))).map(te=>b.jsx("option",{value:te,children:te},te))]})]})]}),b.jsxs("div",{className:"flex flex-col md:flex-row mb-4 gap-2 items-center",children:[b.jsxs("div",{children:[b.jsx("label",{className:"mr-2 font-semibold",children:"Filtrar por mes:"}),b.jsx("input",{type:"month",value:M,onChange:te=>P(te.target.value),className:"border p-1 rounded"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"mr-2 font-semibold",children:"Filtrar por operario:"}),b.jsxs("select",{value:I,onChange:te=>we(te.target.value),className:"border p-1 rounded",children:[b.jsx("option",{value:"",children:"Todos"}),ne.map(te=>b.jsx("option",{value:te,children:te},te))]})]})]}),b.jsxs("div",{className:"grid grid-cols-4 gap-4 my-4",children:[b.jsxs("div",{className:"bg-blue-100 p-3 rounded shadow",children:[b.jsx("p",{className:"font-bold",children:"Total Horas Asignadas"}),b.jsxs("p",{children:[Fe.toFixed(2)," horas"]})]}),b.jsxs("div",{className:"bg-green-100 p-3 rounded shadow",children:[b.jsx("p",{className:"font-bold",children:"Total Horas Trabajadas"}),b.jsxs("p",{children:[Qe.toFixed(2)," horas"]})]}),b.jsxs("div",{className:"bg-purple-100 p-3 rounded shadow",children:[b.jsx("p",{className:"font-bold",children:"Total Estandar en Horas"}),b.jsxs("p",{children:[ut.toFixed(2)," horas"]})]}),b.jsxs("div",{className:`p-3 rounded shadow ${lt>=0?"bg-green-200":"bg-red-200"}`,children:[b.jsx("p",{className:"font-bold",children:"Eficiencia Total"}),b.jsxs("strong",{className:"text-sm",children:["Porcentaje:"," ",ut>0&&!isNaN(Qe)?((Qe/ut-1)*100).toFixed(2):"0.00","%"]})]})]}),b.jsxs("p",{className:"mb-2 text-sm text-gray-600",children:["Total de ítems:"," ",ue.flatMap(te=>te.machines.filter(se=>!C||se.machine===C)).length]}),b.jsx(rj,{registrosFiltrados:ue,machineStandards:S})," ",b.jsxs("div",{className:"overflow-x-auto w-full",children:[b.jsxs("table",{className:"min-w-full w-full border border-gray-300 text-sm text-left",children:[b.jsx("thead",{className:"backgroundForm text-white",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-3 py-2 border",children:"Fecha"}),b.jsx("th",{className:"px-3 py-2 border",children:"Maquina"}),b.jsx("th",{className:"px-3 py-2 border",children:"Cod.Operario"}),b.jsx("th",{className:"px-3 py-2 border",children:"Horometro inicial"}),b.jsx("th",{className:"px-3 py-2 border",children:"Horometro final"}),b.jsx("th",{className:"px-3 py-2 border",children:"reference"}),b.jsx("th",{className:"px-3 py-2 border",children:"Paradas mayores"}),b.jsx("th",{className:"px-3 py-2 border",children:"Observaciones"}),b.jsx("th",{className:"px-3 py-2 border",children:"Horas Asignadas"}),b.jsx("th",{className:"px-3 py-2 border",children:"Horas trabajadas"}),b.jsx("th",{className:"px-3 py-2 border",children:"Estandar en horas"}),b.jsx("th",{className:"px-3 py-2 border",children:"Estandar"}),b.jsx("th",{className:"px-3 py-2 border",children:"Eficiencia en horas"}),b.jsx("th",{className:"px-3 py-2 border",children:"Estado"}),n&&b.jsx("th",{className:"px-3 py-2 border",children:"Acciones"}),b.jsx("th",{className:"px-3 py-2 border",children:"📝"}),b.jsx("th",{className:"px-3 py-2 border",children:"Eliminar"})]})}),b.jsx("tbody",{children:ue.flatMap(te=>te.machines.filter(se=>!C||se.machine===C).map((se,ve)=>{const me=parseFloat(se.horometroFinal),Re=parseFloat(se.horometroInicial),ct=isNaN(me)||isNaN(Re)?0:me-Re,He=S[se.machine]??"0",et=parseFloat(He),It=typeof se.horasAsignadas=="string"?parseFloat(se.horasAsignadas):se.horasAsignadas;let We=0;!isNaN(ct)&&!isNaN(et)&&!isNaN(It)&&(We=ct-et*It);let Dt="";We>0?Dt="bg-green-200":We<=0&&We>-1?Dt="bg-yellow-200":We<=-1&&We>=-100&&(Dt="bg-red-200");const Pe=i===te.id+"-"+ve,Ee=te.estado==="Revisado";return b.jsxs("tr",{className:`hover:bg-gray-100 ${Dt}`,children:[b.jsx("td",{className:"px-3 py-2 border",children:Pe?b.jsx("input",{type:"datetime-local",value:l.fechaHora??"",onChange:Ye=>c(nt=>({...nt,fechaHora:Ye.target.value})),className:"w-full border p-1",disabled:Ee}):z(te.fecha)})," ",b.jsx("td",{className:"px-3 py-2 border",children:se.machine}),b.jsx("td",{className:"px-3 py-2 border",children:te.operatorCode}),b.jsx("td",{className:"px-3 py-2 border",children:Pe?b.jsx("input",{type:"number",step:"0.01",value:l.horometroInicial??"",onChange:Ye=>c(nt=>({...nt,horometroInicial:Ye.target.value})),className:"w-full border p-1",disabled:Ee}):se.horometroInicial&&se.horometroInicial.trim()!==""?parseFloat(se.horometroInicial).toFixed(2):"0.00"}),b.jsx("td",{className:"px-3 py-2 border",children:Pe?b.jsx("input",{type:"number",step:"0.01",value:l.horometroFinal??"",onChange:Ye=>c(nt=>({...nt,horometroFinal:Ye.target.value})),className:"w-full border p-1",disabled:Ee}):se.horometroFinal&&se.horometroFinal.trim()!==""?parseFloat(se.horometroFinal).toFixed(2):"0.00"}),b.jsx("td",{className:"px-3 py-2 border",children:se.reference?se.reference:"N/A"}),b.jsx("td",{className:"px-3 py-2 border",children:Pe?b.jsx("input",{type:"text",value:l.paradasMayores??"",onChange:Ye=>c(nt=>({...nt,paradasMayores:Ye.target.value})),className:"w-full border p-1",disabled:Ee}):se.paradasMayores&&se.paradasMayores.trim()!==""?se.paradasMayores:"0.00"}),b.jsx("td",{className:"px-3 py-2 border",children:se.observaciones}),b.jsx("td",{className:"px-3 py-2 border",children:Pe?b.jsx("input",{type:"number",step:"0.01",value:m,onChange:Ye=>d(Ye.target.value),className:"w-full border p-1 ",min:"0",disabled:Ee}):Ge(se.horasAsignadas||0)}),b.jsx("td",{className:"px-3 py-2 border",children:ct.toFixed(2)}),b.jsx("td",{className:"px-3 py-2 border",children:S[se.machine]&&parseFloat(S[se.machine])>0?(parseFloat(S[se.machine]||"0")*(typeof se.horasAsignadas=="string"?parseFloat(se.horasAsignadas):se.horasAsignadas||0)).toFixed(2):"N/A"}),b.jsx("td",{className:"px-3 py-2 border",children:S[se.machine]??"N/A"}),b.jsx("td",{className:"px-3 py-2 border",children:We.toFixed(2)}),b.jsx("td",{className:"px-3 py-2 border",children:b.jsx("span",{className:`px-2 py-1 rounded text-white ${te.estado==="Revisado"?"bg-green-500":te.estado==="Rechazado"?"bg-red-500":"bg-gray-500"}`,children:te.estado||"Pendiente"})}),n&&b.jsx("td",{className:"px-3 py-2 border",children:Pe?b.jsx("button",{onClick:()=>_e(te.id,ve),className:"bg-blue-500 text-white px-2 py-1 rounded cursor-pointer",disabled:Ee,children:"Guardar"}):b.jsx("button",{onClick:()=>L(te,ve),className:"bg-gray-500 text-white px-2 py-1 rounded cursor-pointer",disabled:Ee,children:"Editar"})}),b.jsx("td",{className:"px-3 py-2 border text-center",children:te.detallesEdicion&&te.detallesEdicion.length>0&&b.jsx("div",{className:"relative inline-block cursor-pointer",onClick:()=>q(te),children:b.jsx("span",{className:"text-blue-600",children:"👤"})})}),b.jsx("td",{className:"px-3 py-2 border",children:b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("button",{onClick:()=>Te(te.id,"Revisado"),disabled:Ee,className:`px-2 py-1 rounded text-xs ${Ee?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-green-500 hover:bg-green-600 text-white"}`,children:"Revisado"}),b.jsx("button",{onClick:()=>Te(te.id,"Rechazado"),disabled:Ee,className:`px-2 py-1 rounded text-xs ${Ee?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-red-500 hover:bg-red-600 text-white"}`,children:"Rechazado"}),b.jsx("button",{onClick:()=>Q(te.id),disabled:Ee,className:`px-2 py-1 rounded text-xs ${Ee?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-black hover:bg-gray-800 text-white"}`,children:"Eliminar"})]})})]},`${te.id}-${ve}`)}))})]}),V&&F&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white p-4 rounded shadow-lg max-w-lg w-full max-h-full overflow-y-auto",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Detalles de Edición"}),b.jsx("button",{className:"absolute top-2 right-2 text-red-600 font-bold",onClick:ae,children:"✖"}),(Ke=F.detallesEdicion)==null?void 0:Ke.map((te,se)=>b.jsxs("div",{className:"mb-4 border-b border-gray-300 pb-2",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"Usuario:"})," ",te.usuario]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Fecha y hora:"})," ",te.fechaHora]}),b.jsxs("div",{children:[b.jsx("strong",{children:"Modificaciones:"}),b.jsx("ul",{children:Object.keys(te.valorAnterior).map(ve=>{const me=te.valorAnterior[ve],Re=te.valorNuevo[ve];return me!==Re?b.jsxs("li",{children:[b.jsxs("strong",{children:[ve,":"]})," ",me," →"," ",Re]},ve):null})})]})]},se))]})})]}),b.jsx("div",{className:`mt-4 p-2 rounded shadow ${de>=0?"bg-green-200 text-green-800":de>=-5&&de<=-.1?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"}`,children:b.jsxs("strong",{className:"text-sm",children:["Porcentaje:"," ",ut>0&&!isNaN(Qe)?((Qe/ut-1)*100).toFixed(2):"0.00","%"]})})]}),b.jsx(ij,{isOpen:_,onClose:()=>A(!1),onConfirm:ge})]})},aj=[{title:"Operarios",subtitle:"Gestión de tareas y seguimiento de operarios",url:"/picado"},{title:"Asignaciones",subtitle:"Asigna maquinas a operarios",url:"/supervisor"},{title:"Configuracion",subtitle:"Crearción de maquinas, usuarios y edición de registros",url:"/configurations"}],sj="/assets/user-Ckodi9qk.png",tS=Ic(Xn),oj=kr(Xn),lj=aj,uj=({openMenu:n})=>{const[e,t]=U.useState({user:null,photoURL:null}),i=wc();U.useEffect(()=>{const l=Vw(tS,async c=>{if(c){const m=hi(oj,"users",c.uid),d=await ad(m),p=d.exists()?d.data().role:null;t({user:c.displayName||c.email||c.uid,photoURL:c.photoURL||null,role:p||null})}else t({user:null,photoURL:null,role:null})});return()=>{l()}},[]);const s=()=>{VD(tS).then(()=>{console.log("Sesion cerrada correctamente"),i("/")}).catch(l=>{console.log(l)})};return b.jsx(b.Fragment,{children:b.jsxs("div",{id:"menu",className:"bg-gray-900 min-h-screen z-10 text-slate-300 w-64 fixed top-0 h-screen overflow-y-scroll transition-transform duration-300 ease-in-out  translate-x-1 right-1",children:[b.jsx("div",{id:"logo",className:"my-4 px-6",children:b.jsxs("h1",{className:"text-lg md:text-2xl font-bold text-white",children:["El Caballo",b.jsx("span",{className:"text-blue-500",children:"S.A"}),"."]})}),b.jsxs("div",{id:"profile",className:"px-6 py-10",children:[b.jsx("p",{className:"text-slate-500",children:"Bienvenido,"}),b.jsxs("a",{href:"#",className:"inline-flex space-x-2 items-center",children:[b.jsx("span",{children:e.photoURL?b.jsx("img",{className:"rounded-full w-full h-auto",src:e.photoURL,alt:""}):b.jsx("div",{children:b.jsx("img",{className:"w-16",src:sj,alt:"Foto de Usuario"})})}),b.jsx("span",{className:"text-sm md:text-base font-bold",children:e.user?b.jsxs(b.Fragment,{children:[b.jsx("p",{children:e.user}),b.jsx("span",{className:"text-xs text-slate-400 italic",children:e.role?e.role:"Sin rol"})]}):b.jsx("p",{children:"No hay usuario autenticado"})})]})]}),b.jsx("div",{className:"flex justify-center items-center pb-5",children:b.jsx("button",{onClick:s,className:"bg-red-600 w-full rounded-2xl mx-5 hover:bg-white/8 cursor-pointer",children:"Salir"})}),b.jsx("div",{id:"nav",className:"w-full px-6",children:lj.map((l,c)=>b.jsx(bd,{to:l.url,className:"w-full px-2 inline-flex space-x-2 items-center border-b border-slate-700 py-3 hover:bg-white/5 transition ease-linear duration-150",children:b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-lg font-bold leading-5 text-white",children:l.title}),b.jsx("span",{className:"text-sm text-white/50 hidden md:block",children:l.subtitle})]})},c))})]})})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const cj={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},fj={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function hj(n,e,t){return(e=mj(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function pe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(t),!0).forEach(function(i){hj(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dj(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mj(n){var e=dj(n,"string");return typeof e=="symbol"?e:e+""}const rS=()=>{};let e0={},gR={},vR=null,yR={mark:rS,measure:rS};try{typeof window<"u"&&(e0=window),typeof document<"u"&&(gR=document),typeof MutationObserver<"u"&&(vR=MutationObserver),typeof performance<"u"&&(yR=performance)}catch{}const{userAgent:iS=""}=e0.navigator||{},ns=e0,Mt=gR,aS=vR,vh=yR;ns.document;const ia=!!Mt.documentElement&&!!Mt.head&&typeof Mt.addEventListener=="function"&&typeof Mt.createElement=="function",_R=~iS.indexOf("MSIE")||~iS.indexOf("Trident/");var pj=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,gj=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,bR={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},vj={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},ER=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Ln="classic",Qd="duotone",yj="sharp",_j="sharp-duotone",TR=[Ln,Qd,yj,_j],bj={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Ej={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},Tj=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Sj={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},wj=["fak","fa-kit","fakd","fa-kit-duotone"],sS={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Aj=["kit"],xj={kit:{"fa-kit":"fak"}},Rj=["fak","fakd"],Cj={kit:{fak:"fa-kit"}},oS={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},yh={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ij=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Oj=["fak","fa-kit","fakd","fa-kit-duotone"],Nj={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Dj={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},Pj={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Tv={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Mj=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Sv=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...Ij,...Mj],kj=["solid","regular","light","thin","duotone","brands"],SR=[1,2,3,4,5,6,7,8,9,10],Vj=SR.concat([11,12,13,14,15,16,17,18,19,20]),Lj=[...Object.keys(Pj),...kj,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",yh.GROUP,yh.SWAP_OPACITY,yh.PRIMARY,yh.SECONDARY].concat(SR.map(n=>"".concat(n,"x"))).concat(Vj.map(n=>"w-".concat(n))),jj={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const ta="___FONT_AWESOME___",wv=16,wR="fa",AR="svg-inline--fa",Ws="data-fa-i2svg",Av="data-fa-pseudo-element",Uj="data-fa-pseudo-element-pending",t0="data-prefix",n0="data-icon",lS="fontawesome-i2svg",Fj="async",zj=["HTML","HEAD","STYLE","SCRIPT"],xR=(()=>{try{return!0}catch{return!1}})();function Vc(n){return new Proxy(n,{get(e,t){return t in e?e[t]:e[Ln]}})}const RR=pe({},bR);RR[Ln]=pe(pe(pe(pe({},{"fa-duotone":"duotone"}),bR[Ln]),sS.kit),sS["kit-duotone"]);const Bj=Vc(RR),xv=pe({},Sj);xv[Ln]=pe(pe(pe(pe({},{duotone:"fad"}),xv[Ln]),oS.kit),oS["kit-duotone"]);const uS=Vc(xv),Rv=pe({},Tv);Rv[Ln]=pe(pe({},Rv[Ln]),Cj.kit);const r0=Vc(Rv),Cv=pe({},Dj);Cv[Ln]=pe(pe({},Cv[Ln]),xj.kit);Vc(Cv);const Hj=pj,CR="fa-layers-text",qj=gj,$j=pe({},bj);Vc($j);const Gj=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Rg=vj,Yj=[...Aj,...Lj],ic=ns.FontAwesomeConfig||{};function Kj(n){var e=Mt.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function Xj(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}Mt&&typeof Mt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,i]=e;const s=Xj(Kj(t));s!=null&&(ic[i]=s)});const IR={styleDefault:"solid",familyDefault:Ln,cssPrefix:wR,replacementClass:AR,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ic.familyPrefix&&(ic.cssPrefix=ic.familyPrefix);const Tl=pe(pe({},IR),ic);Tl.autoReplaceSvg||(Tl.observeMutations=!1);const Oe={};Object.keys(IR).forEach(n=>{Object.defineProperty(Oe,n,{enumerable:!0,set:function(e){Tl[n]=e,ac.forEach(t=>t(Oe))},get:function(){return Tl[n]}})});Object.defineProperty(Oe,"familyPrefix",{enumerable:!0,set:function(n){Tl.cssPrefix=n,ac.forEach(e=>e(Oe))},get:function(){return Tl.cssPrefix}});ns.FontAwesomeConfig=Oe;const ac=[];function Qj(n){return ac.push(n),()=>{ac.splice(ac.indexOf(n),1)}}const Ma=wv,ai={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Wj(n){if(!n||!ia)return;const e=Mt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;const t=Mt.head.childNodes;let i=null;for(let s=t.length-1;s>-1;s--){const l=t[s],c=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(i=l)}return Mt.head.insertBefore(e,i),n}const Zj="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ec(){let n=12,e="";for(;n-- >0;)e+=Zj[Math.random()*62|0];return e}function Ol(n){const e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function i0(n){return n.classList?Ol(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function OR(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Jj(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(OR(n[t]),'" '),"").trim()}function Wd(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function a0(n){return n.size!==ai.size||n.x!==ai.x||n.y!==ai.y||n.rotate!==ai.rotate||n.flipX||n.flipY}function eU(n){let{transform:e,containerWidth:t,iconWidth:i}=n;const s={transform:"translate(".concat(t/2," 256)")},l="translate(".concat(e.x*32,", ").concat(e.y*32,") "),c="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),m="rotate(".concat(e.rotate," 0 0)"),d={transform:"".concat(l," ").concat(c," ").concat(m)},p={transform:"translate(".concat(i/2*-1," -256)")};return{outer:s,inner:d,path:p}}function tU(n){let{transform:e,width:t=wv,height:i=wv,startCentered:s=!1}=n,l="";return s&&_R?l+="translate(".concat(e.x/Ma-t/2,"em, ").concat(e.y/Ma-i/2,"em) "):s?l+="translate(calc(-50% + ".concat(e.x/Ma,"em), calc(-50% + ").concat(e.y/Ma,"em)) "):l+="translate(".concat(e.x/Ma,"em, ").concat(e.y/Ma,"em) "),l+="scale(".concat(e.size/Ma*(e.flipX?-1:1),", ").concat(e.size/Ma*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var nU=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function NR(){const n=wR,e=AR,t=Oe.cssPrefix,i=Oe.replacementClass;let s=nU;if(t!==n||i!==e){const l=new RegExp("\\.".concat(n,"\\-"),"g"),c=new RegExp("\\--".concat(n,"\\-"),"g"),m=new RegExp("\\.".concat(e),"g");s=s.replace(l,".".concat(t,"-")).replace(c,"--".concat(t,"-")).replace(m,".".concat(i))}return s}let cS=!1;function Cg(){Oe.autoAddCss&&!cS&&(Wj(NR()),cS=!0)}var rU={mixout(){return{dom:{css:NR,insertCss:Cg}}},hooks(){return{beforeDOMElementCreation(){Cg()},beforeI2svg(){Cg()}}}};const na=ns||{};na[ta]||(na[ta]={});na[ta].styles||(na[ta].styles={});na[ta].hooks||(na[ta].hooks={});na[ta].shims||(na[ta].shims=[]);var si=na[ta];const DR=[],PR=function(){Mt.removeEventListener("DOMContentLoaded",PR),md=1,DR.map(n=>n())};let md=!1;ia&&(md=(Mt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Mt.readyState),md||Mt.addEventListener("DOMContentLoaded",PR));function iU(n){ia&&(md?setTimeout(n,0):DR.push(n))}function Lc(n){const{tag:e,attributes:t={},children:i=[]}=n;return typeof n=="string"?OR(n):"<".concat(e," ").concat(Jj(t),">").concat(i.map(Lc).join(""),"</").concat(e,">")}function fS(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var Ig=function(e,t,i,s){var l=Object.keys(e),c=l.length,m=t,d,p,v;for(i===void 0?(d=1,v=e[l[0]]):(d=0,v=i);d<c;d++)p=l[d],v=m(v,e[p],p,e);return v};function aU(n){const e=[];let t=0;const i=n.length;for(;t<i;){const s=n.charCodeAt(t++);if(s>=55296&&s<=56319&&t<i){const l=n.charCodeAt(t++);(l&64512)==56320?e.push(((s&1023)<<10)+(l&1023)+65536):(e.push(s),t--)}else e.push(s)}return e}function Iv(n){const e=aU(n);return e.length===1?e[0].toString(16):null}function sU(n,e){const t=n.length;let i=n.charCodeAt(e),s;return i>=55296&&i<=56319&&t>e+1&&(s=n.charCodeAt(e+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}function hS(n){return Object.keys(n).reduce((e,t)=>{const i=n[t];return!!i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function Ov(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:i=!1}=t,s=hS(e);typeof si.hooks.addPack=="function"&&!i?si.hooks.addPack(n,hS(e)):si.styles[n]=pe(pe({},si.styles[n]||{}),s),n==="fas"&&Ov("fa",e)}const{styles:Tc,shims:oU}=si,MR=Object.keys(r0),lU=MR.reduce((n,e)=>(n[e]=Object.keys(r0[e]),n),{});let s0=null,kR={},VR={},LR={},jR={},UR={};function uU(n){return~Yj.indexOf(n)}function cU(n,e){const t=e.split("-"),i=t[0],s=t.slice(1).join("-");return i===n&&s!==""&&!uU(s)?s:null}const FR=()=>{const n=i=>Ig(Tc,(s,l,c)=>(s[c]=Ig(l,i,{}),s),{});kR=n((i,s,l)=>(s[3]&&(i[s[3]]=l),s[2]&&s[2].filter(m=>typeof m=="number").forEach(m=>{i[m.toString(16)]=l}),i)),VR=n((i,s,l)=>(i[l]=l,s[2]&&s[2].filter(m=>typeof m=="string").forEach(m=>{i[m]=l}),i)),UR=n((i,s,l)=>{const c=s[2];return i[l]=l,c.forEach(m=>{i[m]=l}),i});const e="far"in Tc||Oe.autoFetchSvg,t=Ig(oU,(i,s)=>{const l=s[0];let c=s[1];const m=s[2];return c==="far"&&!e&&(c="fas"),typeof l=="string"&&(i.names[l]={prefix:c,iconName:m}),typeof l=="number"&&(i.unicodes[l.toString(16)]={prefix:c,iconName:m}),i},{names:{},unicodes:{}});LR=t.names,jR=t.unicodes,s0=Zd(Oe.styleDefault,{family:Oe.familyDefault})};Qj(n=>{s0=Zd(n.styleDefault,{family:Oe.familyDefault})});FR();function o0(n,e){return(kR[n]||{})[e]}function fU(n,e){return(VR[n]||{})[e]}function Hs(n,e){return(UR[n]||{})[e]}function zR(n){return LR[n]||{prefix:null,iconName:null}}function hU(n){const e=jR[n],t=o0("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function rs(){return s0}const BR=()=>({prefix:null,iconName:null,rest:[]});function dU(n){let e=Ln;const t=MR.reduce((i,s)=>(i[s]="".concat(Oe.cssPrefix,"-").concat(s),i),{});return TR.forEach(i=>{(n.includes(t[i])||n.some(s=>lU[i].includes(s)))&&(e=i)}),e}function Zd(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=Ln}=e,i=Bj[t][n];if(t===Qd&&!n)return"fad";const s=uS[t][n]||uS[t][i],l=n in si.styles?n:null;return s||l||null}function mU(n){let e=[],t=null;return n.forEach(i=>{const s=cU(Oe.cssPrefix,i);s?t=s:i&&e.push(i)}),{iconName:t,rest:e}}function dS(n){return n.sort().filter((e,t,i)=>i.indexOf(e)===t)}function Jd(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let i=null;const s=Sv.concat(Oj),l=dS(n.filter(_=>s.includes(_))),c=dS(n.filter(_=>!Sv.includes(_))),m=l.filter(_=>(i=_,!ER.includes(_))),[d=null]=m,p=dU(l),v=pe(pe({},mU(c)),{},{prefix:Zd(d,{family:p})});return pe(pe(pe({},v),yU({values:n,family:p,styles:Tc,config:Oe,canonical:v,givenPrefix:i})),pU(t,i,v))}function pU(n,e,t){let{prefix:i,iconName:s}=t;if(n||!i||!s)return{prefix:i,iconName:s};const l=e==="fa"?zR(s):{},c=Hs(i,s);return s=l.iconName||c||s,i=l.prefix||i,i==="far"&&!Tc.far&&Tc.fas&&!Oe.autoFetchSvg&&(i="fas"),{prefix:i,iconName:s}}const gU=TR.filter(n=>n!==Ln||n!==Qd),vU=Object.keys(Tv).filter(n=>n!==Ln).map(n=>Object.keys(Tv[n])).flat();function yU(n){const{values:e,family:t,canonical:i,givenPrefix:s="",styles:l={},config:c={}}=n,m=t===Qd,d=e.includes("fa-duotone")||e.includes("fad"),p=c.familyDefault==="duotone",v=i.prefix==="fad"||i.prefix==="fa-duotone";if(!m&&(d||p||v)&&(i.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(i.prefix="fab"),!i.prefix&&gU.includes(t)&&(Object.keys(l).find(A=>vU.includes(A))||c.autoFetchSvg)){const A=Tj.get(t).defaultShortPrefixId;i.prefix=A,i.iconName=Hs(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||s==="fa")&&(i.prefix=rs()||"fas"),i}class _U{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const s=t.reduce(this._pullDefinitions,{});Object.keys(s).forEach(l=>{this.definitions[l]=pe(pe({},this.definitions[l]||{}),s[l]),Ov(l,s[l]);const c=r0[Ln][l];c&&Ov(c,s[l]),FR()})}reset(){this.definitions={}}_pullDefinitions(e,t){const i=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(i).map(s=>{const{prefix:l,iconName:c,icon:m}=i[s],d=m[2];e[l]||(e[l]={}),d.length>0&&d.forEach(p=>{typeof p=="string"&&(e[l][p]=m)}),e[l][c]=m}),e}}let mS=[],al={};const dl={},bU=Object.keys(dl);function EU(n,e){let{mixoutsTo:t}=e;return mS=n,al={},Object.keys(dl).forEach(i=>{bU.indexOf(i)===-1&&delete dl[i]}),mS.forEach(i=>{const s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(l=>{typeof s[l]=="function"&&(t[l]=s[l]),typeof s[l]=="object"&&Object.keys(s[l]).forEach(c=>{t[l]||(t[l]={}),t[l][c]=s[l][c]})}),i.hooks){const l=i.hooks();Object.keys(l).forEach(c=>{al[c]||(al[c]=[]),al[c].push(l[c])})}i.provides&&i.provides(dl)}),t}function Nv(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];return(al[n]||[]).forEach(c=>{e=c.apply(null,[e,...i])}),e}function Zs(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(al[n]||[]).forEach(l=>{l.apply(null,t)})}function is(){const n=arguments[0],e=Array.prototype.slice.call(arguments,1);return dl[n]?dl[n].apply(null,e):void 0}function Dv(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n;const t=n.prefix||rs();if(e)return e=Hs(t,e)||e,fS(HR.definitions,t,e)||fS(si.styles,t,e)}const HR=new _U,TU=()=>{Oe.autoReplaceSvg=!1,Oe.observeMutations=!1,Zs("noAuto")},SU={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ia?(Zs("beforeI2svg",n),is("pseudoElements2svg",n),is("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=n;Oe.autoReplaceSvg===!1&&(Oe.autoReplaceSvg=!0),Oe.observeMutations=!0,iU(()=>{AU({autoReplaceSvgRoot:e}),Zs("watch",n)})}},wU={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:Hs(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],t=Zd(n[0]);return{prefix:t,iconName:Hs(t,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(Oe.cssPrefix,"-"))>-1||n.match(Hj))){const e=Jd(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||rs(),iconName:Hs(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){const e=rs();return{prefix:e,iconName:Hs(e,n)||n}}}},cr={noAuto:TU,config:Oe,dom:SU,parse:wU,library:HR,findIconDefinition:Dv,toHtml:Lc},AU=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Mt}=n;(Object.keys(si.styles).length>0||Oe.autoFetchSvg)&&ia&&Oe.autoReplaceSvg&&cr.dom.i2svg({node:e})};function em(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>Lc(t))}}),Object.defineProperty(n,"node",{get:function(){if(!ia)return;const t=Mt.createElement("div");return t.innerHTML=n.html,t.children}}),n}function xU(n){let{children:e,main:t,mask:i,attributes:s,styles:l,transform:c}=n;if(a0(c)&&t.found&&!i.found){const{width:m,height:d}=t,p={x:m/d/2,y:.5};s.style=Wd(pe(pe({},l),{},{"transform-origin":"".concat(p.x+c.x/16,"em ").concat(p.y+c.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function RU(n){let{prefix:e,iconName:t,children:i,attributes:s,symbol:l}=n;const c=l===!0?"".concat(e,"-").concat(Oe.cssPrefix,"-").concat(t):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:pe(pe({},s),{},{id:c}),children:i}]}]}function l0(n){const{icons:{main:e,mask:t},prefix:i,iconName:s,transform:l,symbol:c,title:m,maskId:d,titleId:p,extra:v,watchable:_=!1}=n,{width:A,height:D}=t.found?t:e,k=Rj.includes(i),V=[Oe.replacementClass,s?"".concat(Oe.cssPrefix,"-").concat(s):""].filter(H=>v.classes.indexOf(H)===-1).filter(H=>H!==""||!!H).concat(v.classes).join(" ");let N={children:[],attributes:pe(pe({},v.attributes),{},{"data-prefix":i,"data-icon":s,class:V,role:v.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(A," ").concat(D)})};const F=k&&!~v.classes.indexOf("fa-fw")?{width:"".concat(A/D*16*.0625,"em")}:{};_&&(N.attributes[Ws]=""),m&&(N.children.push({tag:"title",attributes:{id:N.attributes["aria-labelledby"]||"title-".concat(p||Ec())},children:[m]}),delete N.attributes.title);const $=pe(pe({},N),{},{prefix:i,iconName:s,main:e,mask:t,maskId:d,transform:l,symbol:c,styles:pe(pe({},F),v.styles)}),{children:q,attributes:ae}=t.found&&e.found?is("generateAbstractMask",$)||{children:[],attributes:{}}:is("generateAbstractIcon",$)||{children:[],attributes:{}};return $.children=q,$.attributes=ae,c?RU($):xU($)}function pS(n){const{content:e,width:t,height:i,transform:s,title:l,extra:c,watchable:m=!1}=n,d=pe(pe(pe({},c.attributes),l?{title:l}:{}),{},{class:c.classes.join(" ")});m&&(d[Ws]="");const p=pe({},c.styles);a0(s)&&(p.transform=tU({transform:s,startCentered:!0,width:t,height:i}),p["-webkit-transform"]=p.transform);const v=Wd(p);v.length>0&&(d.style=v);const _=[];return _.push({tag:"span",attributes:d,children:[e]}),l&&_.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),_}function CU(n){const{content:e,title:t,extra:i}=n,s=pe(pe(pe({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),l=Wd(i.styles);l.length>0&&(s.style=l);const c=[];return c.push({tag:"span",attributes:s,children:[e]}),t&&c.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),c}const{styles:Og}=si;function Pv(n){const e=n[0],t=n[1],[i]=n.slice(4);let s=null;return Array.isArray(i)?s={tag:"g",attributes:{class:"".concat(Oe.cssPrefix,"-").concat(Rg.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Oe.cssPrefix,"-").concat(Rg.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Oe.cssPrefix,"-").concat(Rg.PRIMARY),fill:"currentColor",d:i[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:t,icon:s}}const IU={found:!1,width:512,height:512};function OU(n,e){!xR&&!Oe.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function Mv(n,e){let t=e;return e==="fa"&&Oe.styleDefault!==null&&(e=rs()),new Promise((i,s)=>{if(t==="fa"){const l=zR(n)||{};n=l.iconName||n,e=l.prefix||e}if(n&&e&&Og[e]&&Og[e][n]){const l=Og[e][n];return i(Pv(l))}OU(n,e),i(pe(pe({},IU),{},{icon:Oe.showMissingIcons&&n?is("missingIconAbstract")||{}:{}}))})}const gS=()=>{},kv=Oe.measurePerformance&&vh&&vh.mark&&vh.measure?vh:{mark:gS,measure:gS},Qu='FA "6.7.2"',NU=n=>(kv.mark("".concat(Qu," ").concat(n," begins")),()=>qR(n)),qR=n=>{kv.mark("".concat(Qu," ").concat(n," ends")),kv.measure("".concat(Qu," ").concat(n),"".concat(Qu," ").concat(n," begins"),"".concat(Qu," ").concat(n," ends"))};var u0={begin:NU,end:qR};const kh=()=>{};function vS(n){return typeof(n.getAttribute?n.getAttribute(Ws):null)=="string"}function DU(n){const e=n.getAttribute?n.getAttribute(t0):null,t=n.getAttribute?n.getAttribute(n0):null;return e&&t}function PU(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Oe.replacementClass)}function MU(){return Oe.autoReplaceSvg===!0?Vh.replace:Vh[Oe.autoReplaceSvg]||Vh.replace}function kU(n){return Mt.createElementNS("http://www.w3.org/2000/svg",n)}function VU(n){return Mt.createElement(n)}function $R(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=n.tag==="svg"?kU:VU}=e;if(typeof n=="string")return Mt.createTextNode(n);const i=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(l){i.setAttribute(l,n.attributes[l])}),(n.children||[]).forEach(function(l){i.appendChild($R(l,{ceFn:t}))}),i}function LU(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Vh={replace:function(n){const e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore($R(t),e)}),e.getAttribute(Ws)===null&&Oe.keepOriginalSource){let t=Mt.createComment(LU(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){const e=n[0],t=n[1];if(~i0(e).indexOf(Oe.replacementClass))return Vh.replace(n);const i=new RegExp("".concat(Oe.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const l=t[0].attributes.class.split(" ").reduce((c,m)=>(m===Oe.replacementClass||m.match(i)?c.toSvg.push(m):c.toNode.push(m),c),{toNode:[],toSvg:[]});t[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",l.toNode.join(" "))}const s=t.map(l=>Lc(l)).join(`
`);e.setAttribute(Ws,""),e.innerHTML=s}};function yS(n){n()}function GR(n,e){const t=typeof e=="function"?e:kh;if(n.length===0)t();else{let i=yS;Oe.mutateApproach===Fj&&(i=ns.requestAnimationFrame||yS),i(()=>{const s=MU(),l=u0.begin("mutate");n.map(s),l(),t()})}}let c0=!1;function YR(){c0=!0}function Vv(){c0=!1}let pd=null;function _S(n){if(!aS||!Oe.observeMutations)return;const{treeCallback:e=kh,nodeCallback:t=kh,pseudoElementsCallback:i=kh,observeMutationsRoot:s=Mt}=n;pd=new aS(l=>{if(c0)return;const c=rs();Ol(l).forEach(m=>{if(m.type==="childList"&&m.addedNodes.length>0&&!vS(m.addedNodes[0])&&(Oe.searchPseudoElements&&i(m.target),e(m.target)),m.type==="attributes"&&m.target.parentNode&&Oe.searchPseudoElements&&i(m.target.parentNode),m.type==="attributes"&&vS(m.target)&&~Gj.indexOf(m.attributeName))if(m.attributeName==="class"&&DU(m.target)){const{prefix:d,iconName:p}=Jd(i0(m.target));m.target.setAttribute(t0,d||c),p&&m.target.setAttribute(n0,p)}else PU(m.target)&&t(m.target)})}),ia&&pd.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function jU(){pd&&pd.disconnect()}function UU(n){const e=n.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((i,s)=>{const l=s.split(":"),c=l[0],m=l.slice(1);return c&&m.length>0&&(i[c]=m.join(":").trim()),i},{})),t}function FU(n){const e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"";let s=Jd(i0(n));return s.prefix||(s.prefix=rs()),e&&t&&(s.prefix=e,s.iconName=t),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=fU(s.prefix,n.innerText)||o0(s.prefix,Iv(n.innerText))),!s.iconName&&Oe.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=n.firstChild.data)),s}function zU(n){const e=Ol(n.attributes).reduce((s,l)=>(s.name!=="class"&&s.name!=="style"&&(s[l.name]=l.value),s),{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return Oe.autoA11y&&(t?e["aria-labelledby"]="".concat(Oe.replacementClass,"-title-").concat(i||Ec()):(e["aria-hidden"]="true",e.focusable="false")),e}function BU(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ai,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function bS(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:i,rest:s}=FU(n),l=zU(n),c=Nv("parseNodeAttributes",{},n);let m=e.styleParser?UU(n):[];return pe({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:ai,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:m,attributes:l}},c)}const{styles:HU}=si;function KR(n){const e=Oe.autoReplaceSvg==="nest"?bS(n,{styleParser:!1}):bS(n);return~e.extra.classes.indexOf(CR)?is("generateLayersText",n,e):is("generateSvgReplacementMutation",n,e)}function qU(){return[...wj,...Sv]}function ES(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ia)return Promise.resolve();const t=Mt.documentElement.classList,i=v=>t.add("".concat(lS,"-").concat(v)),s=v=>t.remove("".concat(lS,"-").concat(v)),l=Oe.autoFetchSvg?qU():ER.concat(Object.keys(HU));l.includes("fa")||l.push("fa");const c=[".".concat(CR,":not([").concat(Ws,"])")].concat(l.map(v=>".".concat(v,":not([").concat(Ws,"])"))).join(", ");if(c.length===0)return Promise.resolve();let m=[];try{m=Ol(n.querySelectorAll(c))}catch{}if(m.length>0)i("pending"),s("complete");else return Promise.resolve();const d=u0.begin("onTree"),p=m.reduce((v,_)=>{try{const A=KR(_);A&&v.push(A)}catch(A){xR||A.name==="MissingIcon"&&console.error(A)}return v},[]);return new Promise((v,_)=>{Promise.all(p).then(A=>{GR(A,()=>{i("active"),i("complete"),s("pending"),typeof e=="function"&&e(),d(),v()})}).catch(A=>{d(),_(A)})})}function $U(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;KR(n).then(t=>{t&&GR([t],e)})}function GU(n){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=(e||{}).icon?e:Dv(e||{});let{mask:s}=t;return s&&(s=(s||{}).icon?s:Dv(s||{})),n(i,pe(pe({},t),{},{mask:s}))}}const YU=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=ai,symbol:i=!1,mask:s=null,maskId:l=null,title:c=null,titleId:m=null,classes:d=[],attributes:p={},styles:v={}}=e;if(!n)return;const{prefix:_,iconName:A,icon:D}=n;return em(pe({type:"icon"},n),()=>(Zs("beforeDOMElementCreation",{iconDefinition:n,params:e}),Oe.autoA11y&&(c?p["aria-labelledby"]="".concat(Oe.replacementClass,"-title-").concat(m||Ec()):(p["aria-hidden"]="true",p.focusable="false")),l0({icons:{main:Pv(D),mask:s?Pv(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:A,transform:pe(pe({},ai),t),symbol:i,title:c,maskId:l,titleId:m,extra:{attributes:p,styles:v,classes:d}})))};var KU={mixout(){return{icon:GU(YU)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=ES,n.nodeCallback=$U,n}}},provides(n){n.i2svg=function(e){const{node:t=Mt,callback:i=()=>{}}=e;return ES(t,i)},n.generateSvgReplacementMutation=function(e,t){const{iconName:i,title:s,titleId:l,prefix:c,transform:m,symbol:d,mask:p,maskId:v,extra:_}=t;return new Promise((A,D)=>{Promise.all([Mv(i,c),p.iconName?Mv(p.iconName,p.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(k=>{let[V,N]=k;A([e,l0({icons:{main:V,mask:N},prefix:c,iconName:i,transform:m,symbol:d,maskId:v,title:s,titleId:l,extra:_,watchable:!0})])}).catch(D)})},n.generateAbstractIcon=function(e){let{children:t,attributes:i,main:s,transform:l,styles:c}=e;const m=Wd(c);m.length>0&&(i.style=m);let d;return a0(l)&&(d=is("generateAbstractTransformGrouping",{main:s,transform:l,containerWidth:s.width,iconWidth:s.width})),t.push(d||s.icon),{children:t,attributes:i}}}},XU={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return em({type:"layer"},()=>{Zs("beforeDOMElementCreation",{assembler:n,params:e});let i=[];return n(s=>{Array.isArray(s)?s.map(l=>{i=i.concat(l.abstract)}):i=i.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Oe.cssPrefix,"-layers"),...t].join(" ")},children:i}]})}}}},QU={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:i=[],attributes:s={},styles:l={}}=e;return em({type:"counter",content:n},()=>(Zs("beforeDOMElementCreation",{content:n,params:e}),CU({content:n.toString(),title:t,extra:{attributes:s,styles:l,classes:["".concat(Oe.cssPrefix,"-layers-counter"),...i]}})))}}}},WU={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=ai,title:i=null,classes:s=[],attributes:l={},styles:c={}}=e;return em({type:"text",content:n},()=>(Zs("beforeDOMElementCreation",{content:n,params:e}),pS({content:n,transform:pe(pe({},ai),t),title:i,extra:{attributes:l,styles:c,classes:["".concat(Oe.cssPrefix,"-layers-text"),...s]}})))}}},provides(n){n.generateLayersText=function(e,t){const{title:i,transform:s,extra:l}=t;let c=null,m=null;if(_R){const d=parseInt(getComputedStyle(e).fontSize,10),p=e.getBoundingClientRect();c=p.width/d,m=p.height/d}return Oe.autoA11y&&!i&&(l.attributes["aria-hidden"]="true"),Promise.resolve([e,pS({content:e.innerHTML,width:c,height:m,transform:s,title:i,extra:l,watchable:!0})])}}};const ZU=new RegExp('"',"ug"),TS=[1105920,1112319],SS=pe(pe(pe(pe({},{FontAwesome:{normal:"fas",400:"fas"}}),Ej),jj),Nj),Lv=Object.keys(SS).reduce((n,e)=>(n[e.toLowerCase()]=SS[e],n),{}),JU=Object.keys(Lv).reduce((n,e)=>{const t=Lv[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function e9(n){const e=n.replace(ZU,""),t=sU(e,0),i=t>=TS[0]&&t<=TS[1],s=e.length===2?e[0]===e[1]:!1;return{value:Iv(s?e[0]:e),isSecondary:i||s}}function t9(n,e){const t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),s=isNaN(i)?"normal":i;return(Lv[t]||{})[s]||JU[t]}function wS(n,e){const t="".concat(Uj).concat(e.replace(":","-"));return new Promise((i,s)=>{if(n.getAttribute(t)!==null)return i();const c=Ol(n.children).filter(A=>A.getAttribute(Av)===e)[0],m=ns.getComputedStyle(n,e),d=m.getPropertyValue("font-family"),p=d.match(qj),v=m.getPropertyValue("font-weight"),_=m.getPropertyValue("content");if(c&&!p)return n.removeChild(c),i();if(p&&_!=="none"&&_!==""){const A=m.getPropertyValue("content");let D=t9(d,v);const{value:k,isSecondary:V}=e9(A),N=p[0].startsWith("FontAwesome");let F=o0(D,k),$=F;if(N){const q=hU(k);q.iconName&&q.prefix&&(F=q.iconName,D=q.prefix)}if(F&&!V&&(!c||c.getAttribute(t0)!==D||c.getAttribute(n0)!==$)){n.setAttribute(t,$),c&&n.removeChild(c);const q=BU(),{extra:ae}=q;ae.attributes[Av]=e,Mv(F,D).then(H=>{const J=l0(pe(pe({},q),{},{icons:{main:H,mask:BR()},prefix:D,iconName:$,extra:ae,watchable:!0})),C=Mt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(C,n.firstChild):n.appendChild(C),C.outerHTML=J.map(E=>Lc(E)).join(`
`),n.removeAttribute(t),i()}).catch(s)}else i()}else i()})}function n9(n){return Promise.all([wS(n,"::before"),wS(n,"::after")])}function r9(n){return n.parentNode!==document.head&&!~zj.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(Av)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function AS(n){if(ia)return new Promise((e,t)=>{const i=Ol(n.querySelectorAll("*")).filter(r9).map(n9),s=u0.begin("searchPseudoElements");YR(),Promise.all(i).then(()=>{s(),Vv(),e()}).catch(()=>{s(),Vv(),t()})})}var i9={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=AS,n}}},provides(n){n.pseudoElements2svg=function(e){const{node:t=Mt}=e;Oe.searchPseudoElements&&AS(t)}}};let xS=!1;var a9={mixout(){return{dom:{unwatch(){YR(),xS=!0}}}},hooks(){return{bootstrap(){_S(Nv("mutationObserverCallbacks",{}))},noAuto(){jU()},watch(n){const{observeMutationsRoot:e}=n;xS?Vv():_S(Nv("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const RS=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((t,i)=>{const s=i.toLowerCase().split("-"),l=s[0];let c=s.slice(1).join("-");if(l&&c==="h")return t.flipX=!0,t;if(l&&c==="v")return t.flipY=!0,t;if(c=parseFloat(c),isNaN(c))return t;switch(l){case"grow":t.size=t.size+c;break;case"shrink":t.size=t.size-c;break;case"left":t.x=t.x-c;break;case"right":t.x=t.x+c;break;case"up":t.y=t.y-c;break;case"down":t.y=t.y+c;break;case"rotate":t.rotate=t.rotate+c;break}return t},e)};var s9={mixout(){return{parse:{transform:n=>RS(n)}}},hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-transform");return t&&(n.transform=RS(t)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:i,containerWidth:s,iconWidth:l}=e;const c={transform:"translate(".concat(s/2," 256)")},m="translate(".concat(i.x*32,", ").concat(i.y*32,") "),d="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),p="rotate(".concat(i.rotate," 0 0)"),v={transform:"".concat(m," ").concat(d," ").concat(p)},_={transform:"translate(".concat(l/2*-1," -256)")},A={outer:c,inner:v,path:_};return{tag:"g",attributes:pe({},A.outer),children:[{tag:"g",attributes:pe({},A.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:pe(pe({},t.icon.attributes),A.path)}]}]}}}};const Ng={x:0,y:0,width:"100%",height:"100%"};function CS(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function o9(n){return n.tag==="g"?n.children:[n]}var l9={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-mask"),i=t?Jd(t.split(" ").map(s=>s.trim())):BR();return i.prefix||(i.prefix=rs()),n.mask=i,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:i,main:s,mask:l,maskId:c,transform:m}=e;const{width:d,icon:p}=s,{width:v,icon:_}=l,A=eU({transform:m,containerWidth:v,iconWidth:d}),D={tag:"rect",attributes:pe(pe({},Ng),{},{fill:"white"})},k=p.children?{children:p.children.map(CS)}:{},V={tag:"g",attributes:pe({},A.inner),children:[CS(pe({tag:p.tag,attributes:pe(pe({},p.attributes),A.path)},k))]},N={tag:"g",attributes:pe({},A.outer),children:[V]},F="mask-".concat(c||Ec()),$="clip-".concat(c||Ec()),q={tag:"mask",attributes:pe(pe({},Ng),{},{id:F,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[D,N]},ae={tag:"defs",children:[{tag:"clipPath",attributes:{id:$},children:o9(_)},q]};return t.push(ae,{tag:"rect",attributes:pe({fill:"currentColor","clip-path":"url(#".concat($,")"),mask:"url(#".concat(F,")")},Ng)}),{children:t,attributes:i}}}},u9={provides(n){let e=!1;ns.matchMedia&&(e=ns.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const t=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:pe(pe({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const l=pe(pe({},s),{},{attributeName:"opacity"}),c={tag:"circle",attributes:pe(pe({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||c.children.push({tag:"animate",attributes:pe(pe({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:pe(pe({},l),{},{values:"1;0;1;1;0;1;"})}),t.push(c),t.push({tag:"path",attributes:pe(pe({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:pe(pe({},l),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:pe(pe({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:pe(pe({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},c9={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-symbol"),i=t===null?!1:t===""?!0:t;return n.symbol=i,n}}}},f9=[rU,KU,XU,QU,WU,i9,a9,s9,l9,u9,c9];EU(f9,{mixoutsTo:cr});cr.noAuto;cr.config;cr.library;cr.dom;const jv=cr.parse;cr.findIconDefinition;cr.toHtml;const h9=cr.icon;cr.layer;cr.text;cr.counter;var Dg={exports:{}},Pg,IS;function d9(){if(IS)return Pg;IS=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Pg=n,Pg}var Mg,OS;function m9(){if(OS)return Mg;OS=1;var n=d9();function e(){}function t(){}return t.resetWarningCache=e,Mg=function(){function i(c,m,d,p,v,_){if(_!==n){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}i.isRequired=i;function s(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Mg}var NS;function p9(){return NS||(NS=1,Dg.exports=m9()()),Dg.exports}var g9=p9();const at=Bv(g9);function DS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function ri(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(t),!0).forEach(function(i){sl(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gd(n){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(n)}function sl(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function v9(n,e){if(n==null)return{};var t={},i=Object.keys(n),s,l;for(l=0;l<i.length;l++)s=i[l],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function y9(n,e){if(n==null)return{};var t=v9(n,e),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(s=0;s<l.length;s++)i=l[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Uv(n){return _9(n)||b9(n)||E9(n)||T9()}function _9(n){if(Array.isArray(n))return Fv(n)}function b9(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function E9(n,e){if(n){if(typeof n=="string")return Fv(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fv(n,e)}}function Fv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function T9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S9(n){var e,t=n.beat,i=n.fade,s=n.beatFade,l=n.bounce,c=n.shake,m=n.flash,d=n.spin,p=n.spinPulse,v=n.spinReverse,_=n.pulse,A=n.fixedWidth,D=n.inverse,k=n.border,V=n.listItem,N=n.flip,F=n.size,$=n.rotation,q=n.pull,ae=(e={"fa-beat":t,"fa-fade":i,"fa-beat-fade":s,"fa-bounce":l,"fa-shake":c,"fa-flash":m,"fa-spin":d,"fa-spin-reverse":v,"fa-spin-pulse":p,"fa-pulse":_,"fa-fw":A,"fa-inverse":D,"fa-border":k,"fa-li":V,"fa-flip":N===!0,"fa-flip-horizontal":N==="horizontal"||N==="both","fa-flip-vertical":N==="vertical"||N==="both"},sl(e,"fa-".concat(F),typeof F<"u"&&F!==null),sl(e,"fa-rotate-".concat($),typeof $<"u"&&$!==null&&$!==0),sl(e,"fa-pull-".concat(q),typeof q<"u"&&q!==null),sl(e,"fa-swap-opacity",n.swapOpacity),e);return Object.keys(ae).map(function(H){return ae[H]?H:null}).filter(function(H){return H})}function w9(n){return n=n-0,n===n}function XR(n){return w9(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var A9=["style"];function x9(n){return n.charAt(0).toUpperCase()+n.slice(1)}function R9(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var i=t.indexOf(":"),s=XR(t.slice(0,i)),l=t.slice(i+1).trim();return s.startsWith("webkit")?e[x9(s)]=l:e[s]=l,e},{})}function QR(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(d){return QR(n,d)}),s=Object.keys(e.attributes||{}).reduce(function(d,p){var v=e.attributes[p];switch(p){case"class":d.attrs.className=v,delete e.attributes.class;break;case"style":d.attrs.style=R9(v);break;default:p.indexOf("aria-")===0||p.indexOf("data-")===0?d.attrs[p.toLowerCase()]=v:d.attrs[XR(p)]=v}return d},{attrs:{}}),l=t.style,c=l===void 0?{}:l,m=y9(t,A9);return s.attrs.style=ri(ri({},s.attrs.style),c),n.apply(void 0,[e.tag,ri(ri({},s.attrs),m)].concat(Uv(i)))}var WR=!1;try{WR=!0}catch{}function C9(){if(!WR&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function PS(n){if(n&&gd(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(jv.icon)return jv.icon(n);if(n===null)return null;if(n&&gd(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function kg(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?sl({},n,e):{}}var MS={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},tm=vd.forwardRef(function(n,e){var t=ri(ri({},MS),n),i=t.icon,s=t.mask,l=t.symbol,c=t.className,m=t.title,d=t.titleId,p=t.maskId,v=PS(i),_=kg("classes",[].concat(Uv(S9(t)),Uv((c||"").split(" ")))),A=kg("transform",typeof t.transform=="string"?jv.transform(t.transform):t.transform),D=kg("mask",PS(s)),k=h9(v,ri(ri(ri(ri({},_),A),D),{},{symbol:l,title:m,titleId:d,maskId:p}));if(!k)return C9("Could not find icon",v),null;var V=k.abstract,N={ref:e};return Object.keys(t).forEach(function(F){MS.hasOwnProperty(F)||(N[F]=t[F])}),I9(V[0],N)});tm.displayName="FontAwesomeIcon";tm.propTypes={beat:at.bool,border:at.bool,beatFade:at.bool,bounce:at.bool,className:at.string,fade:at.bool,flash:at.bool,mask:at.oneOfType([at.object,at.array,at.string]),maskId:at.string,fixedWidth:at.bool,inverse:at.bool,flip:at.oneOf([!0,!1,"horizontal","vertical","both"]),icon:at.oneOfType([at.object,at.array,at.string]),listItem:at.bool,pull:at.oneOf(["right","left"]),pulse:at.bool,rotation:at.oneOf([0,90,180,270]),shake:at.bool,size:at.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:at.bool,spinPulse:at.bool,spinReverse:at.bool,symbol:at.oneOfType([at.bool,at.string]),title:at.string,titleId:at.string,transform:at.oneOfType([at.string,at.object]),swapOpacity:at.bool};var I9=QR.bind(null,vd.createElement);const O9=({isOpen:n,toggle:e})=>b.jsx("div",{className:"flex justify-end",children:b.jsxs("button",{onClick:e,className:"flex flex-col items-center p-2 bg text-white font top-4 left-4 z-50 rounded-2xl hover:text-black-500 cursor-pointer",children:[b.jsx(tm,{icon:cj,className:"mr-2 w-auto"}),n?"Cerrar Menú":"Abrir Menú"]})}),N9=()=>{const{openMenu:n,toogleMenu:e}=vd.useContext(By)||{};return b.jsx(b.Fragment,{children:b.jsxs("div",{className:"bg-gray-900 text-slate-300 w-full h-16 flex items-center justify-between px-4",children:[b.jsx(O9,{isOpen:!!n,toggle:e||(()=>{})}),b.jsx("div",{children:b.jsxs(bd,{to:"/home",className:" text-white p-2 flex flex-col rounded shadow hover:bg-gray-600 transition",children:[b.jsx(tm,{icon:fj,style:{color:"#fcfcfc"}}),b.jsx("small",{children:"Inicio"})]})})]})})},D9=()=>{const{openMenu:n}=U.useContext(By)??{},e="16rem";return b.jsxs("div",{className:"flex min-h-screen relative",children:[b.jsx("div",{className:"fixed top-0 left-0 h-full bg-gray-900 z-30 transition-transform duration-300 ease-in-out",style:{width:e,transform:`translateX(${n?"0":`-${e}`})`},children:b.jsx(uj,{openMenu:n??!1})}),b.jsxs("div",{className:"flex flex-col flex-1 w-full transition-all duration-300",style:{paddingLeft:n?e:"0"},children:[b.jsx("div",{className:"w-full bg-white z-40 shadow-md",children:b.jsx(N9,{})}),b.jsx("main",{className:"p-4",children:b.jsx(Gv,{})})]})]})},P9=[{title:"Crear usuario",slug:"createUser"},{title:"Crear maquina",slug:"createMachine"},{title:"Editar registros",slug:"editingRegister"},{title:"Crear Referencia",slug:"createReferencia"}];function M9({item:n}){return b.jsx(bd,{to:`/configurations/${n.slug}`,children:b.jsx("button",{className:"button",children:n.title})})}const k9=()=>b.jsxs("div",{className:"flex flex-col items-center p-4 space-y-6 md:space-y-8",children:[b.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:P9.map((n,e)=>b.jsx(M9,{item:n},e))}),b.jsx("div",{className:"w-full max-w-full",children:b.jsx(Gv,{})})]}),V9=[{name:"firstName",label:"Nombres",type:"text",required:!0,placeholder:"Ingrese sus nombres"},{name:"lastName",label:"Apellidos",type:"text",required:!0,placeholder:"Ingrese sus apellidos"},{name:"code",label:"Codigo",type:"text",required:!0,placeholder:"Ingrese su codigo"},{name:"section",label:"Seccion",type:"text",required:!0,placeholder:"Ingrese su seccion"}],L9=[{name:"date",label:"Fecha",type:"date",required:!0,placeholder:"Seleccione una fecha"},{name:"abbreviation",label:"Abreviacion de maquina",type:"text",required:!0,placeholder:"e.g., F1315"},{name:"machineName",label:"Nombre de maquina",type:"text",required:!0,placeholder:"e.g., Cutter Alpha"},{name:"efficiency",label:"Eficiencia (%)",type:"number",required:!0,placeholder:"e.g., 92"}],ZR=({type:n="success",title:e,message:t,onClose:i})=>{const l={success:{bg:"bg-green-50",border:"border-green-300",text:"text-green-800",darkBg:"dark:bg-gray-800",darkText:"dark:text-green-400",darkBorder:"dark:border-green-800"},error:{bg:"bg-red-50",border:"border-red-300",text:"text-red-800",darkBg:"dark:bg-gray-800",darkText:"dark:text-red-400",darkBorder:"dark:border-red-800"}}[n];return b.jsxs("div",{className:`p-4 mb-4 border rounded-lg ${l.bg} ${l.border} ${l.text} ${l.darkBg} ${l.darkText} ${l.darkBorder}`,role:"alert",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-lg font-medium",children:e}),b.jsx("button",{onClick:i,className:`text-sm px-2 py-1 rounded ${l.text} border ${l.border} hover:bg-opacity-20`,children:"Cerrar"})]}),b.jsx("p",{className:"mt-2 text-sm",children:t})]})},j9=kr(Xn),U9=()=>{const[n,e]=U.useState({}),[t,i]=U.useState(null),s=c=>{const{name:m,value:d}=c.target;e(p=>({...p,[m]:d.toLocaleUpperCase()}))},l=async c=>{c.preventDefault();try{await bl(kn(j9,"machines"),n),i({type:"success",title:"Maquina creada",message:"Maquina creada correctamente.",onClose:()=>i(null)}),e({})}catch(m){console.error("Error al crear la máquina:",m),i({type:"error",title:"Error al crear maquina",message:"Ha ocurrido un error al crear el usuario. Por favor, inténtalo de nuevo.",onClose:()=>i(null)})}};return b.jsx("div",{className:"roun min-h-screen flex items-center justify-center rounded-2xl backgroundForm",children:b.jsxs("form",{onSubmit:l,className:"bg-opacity-20 backdrop-blur-md p-8 rounded-lg shadow-lg w-full max-w-md text-white space-y-6",children:[b.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Crear máquina"}),L9.map(c=>b.jsxs("div",{children:[b.jsx("label",{htmlFor:c.name,className:"block text-sm font-medium mb-1",children:c.label}),b.jsx("input",{type:c.type,id:c.name,name:c.name,required:c.required,placeholder:c.placeholder,value:n[c.name]||"",onChange:s,className:"w-full px-4 py-2 rounded border bg-gray-200 text-blue-950 focus:outline-none focus:ring-2 focus:ring-blue-400"})]},c.name)),b.jsx("button",{type:"submit",className:"cursor-pointer w-full py-2 rounded bg-blue-600 hover:bg-blue-800 transition-colors duration-300 text-white font-semibold",children:"Crear máquina"}),t&&b.jsx(ZR,{type:t.type,title:t.title,message:t.message,onClose:t.onClose})]})})},F9=kr(Xn),z9=()=>{const[n,e]=U.useState({}),[t,i]=U.useState(null),s=c=>{const{name:m,value:d}=c.target;e(p=>({...p,[m]:d.toLocaleUpperCase()}))},l=async c=>{c.preventDefault();try{await bl(kn(F9,"operators"),n),i({type:"success",title:"Usuario creado",message:"El usuario se ha creado correctamente.",onClose:()=>i(null)}),e({})}catch(m){console.error("Error al crear el usuario:",m),i({type:"error",title:"Error al crear usuario",message:"Ha ocurrido un error al crear el usuario. Por favor, inténtalo de nuevo.",onClose:()=>i(null)})}};return b.jsx(b.Fragment,{children:b.jsx("div",{className:"min-h-screen flex items-center justify-center rounded-2xl backgroundForm",children:b.jsxs("form",{onSubmit:l,className:"p-8 rounded-lg shadow-md w-full max-w-md text-white space-y-4",children:[b.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Crear usurio"}),V9.map(c=>b.jsxs("div",{children:[b.jsx("label",{htmlFor:c.name,className:"block text-sm font-medium mb-1",children:c.label}),b.jsx("input",{type:c.type,id:c.name,name:c.name,placeholder:c.placeholder,value:n[c.name]||"",onChange:s,className:"w-full p-2 rounded border border-gray-600 bg-gray-200 text-blue-950 focus:outline-none focus:ring-2 focus:ring-blue-500",required:c.required})]},c.name)),b.jsx("button",{type:"submit",className:"cursor-pointer w-full bg-blue-600 hover:bg-blue-800 text-white font-semibold py-2 px-4 rounded transition-colors",children:"Crear usuario"}),t&&b.jsx(ZR,{type:t.type,title:t.title,message:t.message,onClose:t.onClose})]})})})},B9=kr(Xn),H9=()=>{const[n,e]=U.useState([]);return U.useEffect(()=>{(async()=>{try{const s=(await ii(kn(B9,"registro_horometros"))).docs.map(l=>{const c=l.data();return{id:l.id,...c}});e(s)}catch(i){console.error("Error fetching registros:",i)}})()},[]),b.jsxs("div",{className:"overflow-x-auto p-4",children:[b.jsx("h2",{className:"text-xl font-bold mb-4",children:"Listado de Registros"}),b.jsxs("table",{className:"min-w-full border border-gray-300",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-gray-200",children:[b.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"ID"}),b.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"Operador"}),b.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"Fecha"}),b.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"Paradas Mayores"}),b.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"Máquinas"})]})}),b.jsx("tbody",{children:n.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:5,className:"text-center p-4",children:"No hay registros."})}):n.map(t=>b.jsxs("tr",{className:"border-b border-gray-200",children:[b.jsx("td",{className:"border border-gray-300 px-2 py-1",children:t.id}),b.jsx("td",{className:"border border-gray-300 px-2 py-1",children:t.operatorCode}),b.jsx("td",{className:"border border-gray-300 px-2 py-1",children:t.fecha}),b.jsx("td",{className:"border border-gray-300 px-2 py-1",children:t.paradasMayores}),b.jsx("td",{className:"border border-gray-300 px-2 py-1",children:t.machines&&t.machines.length>0?t.machines.map((i,s)=>b.jsxs("div",{className:"mb-2 border p-2 rounded bg-gray-50",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"Abreviatura:"})," ",i.machine]}),i.standard&&b.jsxs("div",{className:"text-sm mb-1",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"Nombre máquina:"})," ",i.standard.machineName]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Fecha:"})," ",i.standard.date]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Eficiencia:"})," ",i.standard.efficiency]})]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Horas asignadas:"})," ",i.horasAsignadas]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Horómetro inicial:"})," ",i.horometroInicial]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Horómetro final:"})," ",i.horometroFinal]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Observaciones:"})," ",i.observaciones]})]},s)):b.jsx("em",{children:"No hay máquinas"})})]},t.id))})]})]})},q9=kr(Xn),$9=()=>{const[n,e]=U.useState([]),[t,i]=U.useState(""),[s,l]=U.useState(""),[c,m]=U.useState(""),[d,p]=U.useState("");U.useEffect(()=>{(async()=>{try{const k=(await ii(kn(q9,"registro_horometros"))).docs.map(V=>{const N=V.data();return{id:V.id,fecha:N.fecha,machines:N.machines,operatorCode:N.operatorCode,reference:N.reference,majorStops:N.majorStops,totalHours:N.totalHours,editadoPor:N.editadoPor,camposModificados:N.camposModificados,fechaUltimaEdicion:N.fechaUltimaEdicion,originalMachines:N.originalMachines}});e(k)}catch(D){console.log(D)}})()},[]);const v=()=>n.filter(A=>{const D=new Date(A.fecha),k=t?new Date(t):null,V=s?new Date(s):null,N=(!k||D>=k)&&(!V||D<=V),F=c?A.operatorCode.toLowerCase().includes(c.toLowerCase()):!0,$=d?A.machines.some(q=>q.machine.toLowerCase().includes(d.toLowerCase())):!0;return N&&F&&$}),_=()=>{const A=v(),D=["ID","Fecha","Máquina","Operador","Horómetro Inicial","Horómetro Final","Paradas mayores","Observaciones","Horas Asignadas","editadoPor"],k=A.flatMap(q=>q.machines.map(ae=>[q.id,q.fecha,q.operatorCode,ae.machine,ae.horometroInicial,ae.horometroFinal,q.majorStops||"",ae.observaciones,q.machines.reduce((H,J)=>H+Number(J.horasAsignadas||0),0),q.editadoPor??""])),V=[D.join(","),...k.map(q=>q.join(","))].join(`
`),N=new Blob([V],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(N),$=document.createElement("a");$.href=F,$.setAttribute("download",`registros_${t||"todos"}_${s||"hoy"}.csv`),document.body.appendChild($),$.click(),document.body.removeChild($)};return b.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg max-w-4xl mx-auto backgroundForm text-white",children:[b.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"Exportar registros por rango de fechas"}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"block mb-1 font-medium text-white",children:"Fecha inicial"}),b.jsx("input",{type:"date",className:"w-full border border-gray-200 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",value:t,onChange:A=>i(A.target.value)})]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"block mb-1 font-medium text-white",children:"Fecha final"}),b.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",value:s,onChange:A=>l(A.target.value)})]})]}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"block mb-1 font-medium text-white",children:"Operario"}),b.jsx("input",{type:"text",placeholder:"Operario",value:c,onChange:A=>m(A.target.value),className:"w-full border rounded px-3 py-2"})]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"block mb-1 font-medium text-white",children:"Máquina"}),b.jsx("input",{type:"text",placeholder:"Máquina",value:d,onChange:A=>p(A.target.value),className:"w-full border rounded px-3 py-2"})]})]}),b.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded shadow",onClick:_,children:"Exportar CSV"}),b.jsxs("div",{className:"mt-6 max-h-64 overflow-y-auto border border-gray-200 rounded p-4",children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Registros filtrados:"}),v().length===0?b.jsx("p",{className:"text-gray-500",children:"No hay registros en ese rango de fechas."}):b.jsx("ul",{className:"list-disc list-inside space-y-1 text-white",children:v().map(A=>b.jsxs("li",{className:"text-sm",children:[b.jsx("strong",{children:A.fecha})," - ",A.operatorCode]},A.id))})]})]})};function G9(){return b.jsxs(b.Fragment,{children:[b.jsx("div",{children:b.jsx($9,{})}),b.jsx(H9,{})]})}const il=kr(Xn);console.log("Firestore DB:",il);const Y9=()=>{const[n,e]=U.useState([]),[t,i]=U.useState(""),[,s]=U.useState([]),[l,c]=U.useState([]),[m,d]=U.useState(""),[p,v]=U.useState({});U.useEffect(()=>{(async()=>{try{const C=await ii(kn(il,"registro_horometros")),E={};C.forEach(R=>{const M=R.data();M.machines.forEach(P=>{const I=P.machine,we=E[I];(!we||new Date(M.fecha)>new Date(we.fecha))&&(E[I]={fecha:M.fecha,horometroFinal:P.horometroFinal})})});const S={};for(const R in E)S[R]=E[R].horometroFinal;v(S)}catch(C){console.error("Error al traer últimos horómetros:",C)}})()},[]);const[_,A]=U.useState({}),[D,k]=U.useState([]),[V,N]=U.useState([]);U.useEffect(()=>{(async()=>{try{const E=(await ii(kn(il,"referencias"))).docs.map(S=>S.data());N(E)}catch(C){console.error("Error al cargar referencias:",C)}})()},[]),U.useEffect(()=>{(async()=>{try{const E=(await ii(kn(il,"assignments"))).docs.map(S=>({id:S.id,...S.data()}));e(E)}catch(C){console.error(C)}})()},[]);const F=async()=>{try{const J=await ii(kn(il,"machines")),C={};J.forEach(E=>{const S=E.data();C[S.abbreviation]=S}),A(C)}catch(J){console.error("Error fetching standards:",J)}};U.useEffect(()=>{F()},[]);const $=J=>{i(J);const C=n.find(E=>E.operator===J);C?(s(C.machines),c(C.machines.map(E=>{const R=p[E]||"";return{machine:E,horometroInicial:R,horometroFinal:"",horasAsignadas:"",observaciones:"",paradasMayores:"",reference:""}}))):(s([]),c([]))},q=()=>{if(!m||!t||l.length===0){alert("Por favor completa todos los campos antes de agregar.");return}const J={id:Date.now().toString(),fecha:m,operatorCode:t,machines:[...l],paradasMayores:""};k([...D,J]),d(""),i(""),s([]),c([])},ae=async J=>{var S,R,M,P;const C=D.find(I=>I.id===J);if(!C)return;if(!((S=C.operatorCode)!=null&&S.toString().trim())||!((R=C.fecha)!=null&&R.toString().trim())){alert("Por favor completa el código de operador y la fecha.");return}if(C.machines.length===0){alert("Debe haber al menos una máquina en el registro.");return}for(const I of C.machines){if(!((M=I.machine)!=null&&M.toString().trim())){alert("Falta el nombre de la máquina.");return}if(I.horometroInicial===""||isNaN(Number(I.horometroInicial))||I.horometroFinal===""||isNaN(Number(I.horometroFinal))||I.horasAsignadas===""||isNaN(Number(I.horasAsignadas))||I.paradasMayores===""||isNaN(Number(I.paradasMayores))){alert(`Todos los campos numéricos son obligatorios para la máquina: ${I.machine}`);return}if(Number(I.horometroFinal)<Number(I.horometroInicial)){alert(`El horómetro final no puede ser menor que el inicial en la máquina: ${I.machine}`);return}if(!((P=I.reference)!=null&&P.toString().trim())){alert(`Debe seleccionar una referencia para la máquina: ${I.machine}`);return}}const E={operatorCode:C.operatorCode,fecha:H(),machines:C.machines,timestamp:new Date().toISOString()};try{await bl(kn(il,"registro_horometros"),E),alert("Registro enviado correctamente ✅"),k(D.filter(I=>I.id!==J))}catch(I){console.error("Error al guardar en Firestore:",I),alert("Error al guardar los datos ❌")}},H=()=>{const J=new Date,C=-5,E=J.getTime()+J.getTimezoneOffset()*6e4,S=new Date(E+C*36e5),R=S.getFullYear(),M=String(S.getMonth()+1).padStart(2,"0"),P=String(S.getDate()).padStart(2,"0"),I=String(S.getHours()).padStart(2,"0"),we=String(S.getMinutes()).padStart(2,"0"),Ce=String(S.getSeconds()).padStart(2,"0");return`${R}-${M}-${P}T${I}:${we}:${Ce}`};return b.jsxs("div",{className:"flex flex-col items-center p-5 w-full bg-gray-200 rounded-2xl backgroundForm",children:[b.jsxs("div",{className:"mb-4 w-full max-w-2xl",children:[b.jsx("label",{className:"block text-white text-xs font-bold mb-2 uppercase tracking-wide",children:"Buscar código de operario"}),b.jsx("input",{type:"number",value:t,onChange:J=>$(J.target.value),placeholder:"Código de operario",className:"block w-full bg-gray-200 text-blue-950 border border-blue-950 rounded py-3 px-4 mb-2 no-spinner"}),b.jsx("div",{className:"flex flex-wrap -mx-3 mb-6",children:b.jsxs("div",{className:"w-full md:w-1/2 px-3",children:[b.jsx("label",{className:"block text-white text-xs font-bold mb-2 uppercase tracking-wide",children:"Fecha de registro"}),b.jsx("input",{type:"date",value:m,onChange:J=>d(J.target.value),className:"block w-full bg-gray-200 text-blue-950 border border-blue-950 rounded py-3 px-4 mb-2 no-spinner"})]})}),b.jsx("button",{onClick:q,className:"w-full py-2 bg-green-600 text-white font-semibold rounded hover:bg-green-700 transition",children:"Ver mis maquinas"})]}),b.jsx("form",{onSubmit:J=>{J.preventDefault(),q()},className:"w-full max-w-2xl",children:D.map(J=>b.jsxs("div",{className:"border border-amber-400 p-3 mb-4 bg-white rounded",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsxs("div",{children:[b.jsxs("p",{className:"font-semibold",children:["Fecha: ",J.fecha]}),b.jsxs("p",{className:"font-semibold",children:["Código: ",J.operatorCode]})]}),b.jsx("button",{onClick:()=>ae(J.id),className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700",children:"Enviar"})]}),J.machines.map((C,E)=>b.jsxs("div",{className:"border p-2 mb-2 rounded bg-gray-50",children:[b.jsx("h4",{className:"font-semibold mb-1",children:C.machine}),_[C.machine]&&b.jsxs("div",{className:"mb-2 text-sm border p-2 rounded bg-gray-100",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"Abreviatura:"})," ",_[C.machine].abbreviation]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Nombre máquina:"})," ",_[C.machine].machineName]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Fecha estándar:"})," ",_[C.machine].date]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Estándar:"})," ",_[C.machine].efficiency]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Horas asignadas"}),b.jsx("input",{type:"number",min:0,required:!0,value:C.horasAsignadas,onChange:S=>{const R=S.target.value;k(M=>M.map(P=>P.id===J.id?{...P,machines:P.machines.map((I,we)=>we===E?{...I,horasAsignadas:R}:I)}:P))},className:"w-full border border-gray-300 rounded px-2 py-1"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Horómetro inicial"}),b.jsx("input",{type:"number",required:!0,min:3,value:C.horometroInicial,onChange:S=>{const R=S.target.value;k(M=>M.map(P=>P.id===J.id?{...P,machines:P.machines.map((I,we)=>we===E?{...I,horometroInicial:R}:I)}:P))},className:"w-full border border-gray-300 rounded px-2 py-1"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Horómetro final"}),b.jsx("input",{type:"number",required:!0,min:3,value:C.horometroFinal,onChange:S=>{const R=S.target.value;k(M=>M.map(P=>P.id===J.id?{...P,machines:P.machines.map((I,we)=>we===E?{...I,horometroFinal:R}:I)}:P))},className:"w-full border border-gray-300 rounded px-2 py-1"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Paradas mayores en minutos"}),b.jsx("input",{type:"number",required:!0,value:C.paradasMayores,onChange:S=>{const R=S.target.value;k(M=>M.map(P=>P.id===J.id?{...P,machines:P.machines.map((I,we)=>we===E?{...I,paradasMayores:R}:I)}:P))},className:"w-full border border-gray-300 rounded px-2 py-1"})]}),b.jsxs("select",{value:C.reference,required:!0,onChange:S=>{const R=S.target.value;k(M=>M.map(P=>P.id===J.id?{...P,machines:P.machines.map((I,we)=>we===E?{...I,reference:R}:I)}:P))},className:"w-full border border-gray-300 rounded px-2 py-1",children:[b.jsx("option",{value:"",children:"Selecciona una referencia"}),V.slice().sort((S,R)=>S.nombre.localeCompare(R.nombre)).map((S,R)=>b.jsx("option",{value:S.nombre,children:S.nombre},R))]}),b.jsxs("div",{className:"col-span-2",children:[b.jsx("label",{className:"block mb-1",children:"Observaciones"}),b.jsx("textarea",{value:C.observaciones,onChange:S=>{const R=S.target.value;k(M=>M.map(P=>P.id===J.id?{...P,machines:P.machines.map((I,we)=>we===E?{...I,observaciones:R}:I)}:P))},className:"w-full border border-gray-300 rounded px-2 py-1"})]})]})]},E))]},J.id))})]})},K9=()=>b.jsx(b.Fragment,{children:b.jsx(Y9,{})}),X9=kr(Xn);function Q9(){const[n,e]=U.useState(null),[t,i]=U.useState(!0);return U.useEffect(()=>{(async()=>{const c=Ic().currentUser;if(c){const m=await ad(hi(X9,"users",c.uid));m.exists()?e(m.data().role||null):e(null)}else e(null);i(!1)})()},[]),{role:n,loading:t}}const qi=({allowedRoles:n,children:e})=>{const{role:t,loading:i}=Q9(),s=wc();return i?b.jsx("div",{children:"Cargando..."}):t?n.includes(t)?b.jsx(b.Fragment,{children:e}):b.jsxs("div",{className:"max-w-lg mx-auto mt-10 text-center text-red-600",children:["No tienes permiso para acceder a esta opción.",b.jsx("br",{}),"Solicita autorización al administrador.",b.jsx("hr",{}),b.jsxs("p",{className:"mt-4",children:["Tu rol actual es: ",b.jsx("strong",{children:t})]})]}):b.jsxs("div",{className:"max-w-lg mx-auto mt-10 text-center text-red-600",children:["No tienes permiso para acceder a esta opción.",b.jsx("br",{}),"Solicita autorización al administrador.",b.jsx("hr",{}),b.jsx("button",{onClick:()=>s("/"),className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded",children:"Volver al inicio"})]})},W9=()=>{const n=wc(),e=()=>{n(-1)};return b.jsxs("div",{children:[b.jsx("button",{onClick:e,type:"button",className:"cursor-pointer text-white bg-blue-900 hover:bg-blue-900 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center me-2 dark:bg-blue-900 dark:hover:bg-blue-900 dark:focus:ring-blue-900",children:b.jsx("svg",{className:"w-4 h-4 rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:b.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})}),b.jsx("small",{children:"Ir atras"})]})},Z9=()=>b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex flex-col justify-center ",children:[b.jsx("div",{className:"p-9",children:b.jsx(W9,{})}),b.jsx("h1",{children:"Administración de la plataforma"})]})});var Lh={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var J9=Lh.exports,kS;function e5(){return kS||(kS=1,function(n,e){((t,i)=>{n.exports=i()})(J9,function t(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},s,l=!i.document&&!!i.postMessage,c=i.IS_PAPA_WORKER||!1,m={},d=0,p={};function v(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var R=H(S);R.chunkSize=parseInt(R.chunkSize),S.step||S.chunk||(R.chunkSize=null),this._handle=new V(R),(this._handle.streamer=this)._config=R}).call(this,E),this.parseChunk=function(S,R){var M=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<M){let I=this._config.newline;I||(P=this._config.quoteChar||'"',I=this._handle.guessLineEndings(S,P)),S=[...S.split(I).slice(M)].join(I)}this.isFirstChunk&&C(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(S))!==void 0&&(S=P),this.isFirstChunk=!1,this._halted=!1;var M=this._partialLine+S,P=(this._partialLine="",this._handle.parse(M,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=P.meta.cursor,M=(this._finished||(this._partialLine=M.substring(S-this._baseIndex),this._baseIndex=S),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)i.postMessage({results:P,workerId:p.WORKER_ID,finished:M});else if(C(this._config.chunk)&&!R){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!M||!C(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(S){C(this._config.error)?this._config.error(S):c&&this._config.error&&i.postMessage({workerId:p.WORKER_ID,error:S,finished:!1})}}function _(E){var S;(E=E||{}).chunkSize||(E.chunkSize=p.RemoteChunkSize),v.call(this,E),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(R){this._input=R,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),l||(S.onload=J(this._chunkLoaded,this),S.onerror=J(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var R,M=this._config.downloadRequestHeaders;for(R in M)S.setRequestHeader(R,M[R])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+P));try{S.send(this._config.downloadRequestBody)}catch(I){this._chunkError(I.message)}l&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(R=>(R=R.getResponseHeader("Content-Range"))!==null?parseInt(R.substring(R.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(R){R=S.statusText||R,this._sendError(new Error(R))}}function A(E){(E=E||{}).chunkSize||(E.chunkSize=p.LocalChunkSize),v.call(this,E);var S,R,M=typeof FileReader<"u";this.stream=function(P){this._input=P,R=P.slice||P.webkitSlice||P.mozSlice,M?((S=new FileReader).onload=J(this._chunkLoaded,this),S.onerror=J(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,I=(this._config.chunkSize&&(I=Math.min(this._start+this._config.chunkSize,this._input.size),P=R.call(P,this._start,I)),S.readAsText(P,this._config.encoding));M||this._chunkLoaded({target:{result:I}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(S.error)}}function D(E){var S;v.call(this,E=E||{}),this.stream=function(R){return S=R,this._nextChunk()},this._nextChunk=function(){var R,M;if(!this._finished)return R=this._config.chunkSize,S=R?(M=S.substring(0,R),S.substring(R)):(M=S,""),this._finished=!S,this.parseChunk(M)}}function k(E){v.call(this,E=E||{});var S=[],R=!0,M=!1;this.pause=function(){v.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){v.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):R=!0},this._streamData=J(function(P){try{S.push(typeof P=="string"?P:P.toString(this._config.encoding)),R&&(R=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(I){this._streamError(I)}},this),this._streamError=J(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=J(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=J(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function V(E){var S,R,M,P,I=Math.pow(2,53),we=-I,Ce=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ne=this,ue=0,de=0,L=!1,X=!1,re=[],Q={data:[],errors:[],meta:{}};function ge(be){return E.skipEmptyLines==="greedy"?be.join("").trim()==="":be.length===1&&be[0].length===0}function Te(){if(Q&&M&&(Ge("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),M=!1),E.skipEmptyLines&&(Q.data=Q.data.filter(function(Ie){return!ge(Ie)})),_e()){let Ie=function(lt,ut){C(E.transformHeader)&&(lt=E.transformHeader(lt,ut)),re.push(lt)};if(Q)if(Array.isArray(Q.data[0])){for(var be=0;_e()&&be<Q.data.length;be++)Q.data[be].forEach(Ie);Q.data.splice(0,1)}else Q.data.forEach(Ie)}function Fe(Ie,lt){for(var ut=E.header?{}:[],Ke=0;Ke<Ie.length;Ke++){var te=Ke,se=Ie[Ke],se=((ve,me)=>(Re=>(E.dynamicTypingFunction&&E.dynamicTyping[Re]===void 0&&(E.dynamicTyping[Re]=E.dynamicTypingFunction(Re)),(E.dynamicTyping[Re]||E.dynamicTyping)===!0))(ve)?me==="true"||me==="TRUE"||me!=="false"&&me!=="FALSE"&&((Re=>{if(Ce.test(Re)&&(Re=parseFloat(Re),we<Re&&Re<I))return 1})(me)?parseFloat(me):z.test(me)?new Date(me):me===""?null:me):me)(te=E.header?Ke>=re.length?"__parsed_extra":re[Ke]:te,se=E.transform?E.transform(se,te):se);te==="__parsed_extra"?(ut[te]=ut[te]||[],ut[te].push(se)):ut[te]=se}return E.header&&(Ke>re.length?Ge("FieldMismatch","TooManyFields","Too many fields: expected "+re.length+" fields but parsed "+Ke,de+lt):Ke<re.length&&Ge("FieldMismatch","TooFewFields","Too few fields: expected "+re.length+" fields but parsed "+Ke,de+lt)),ut}var Qe;Q&&(E.header||E.dynamicTyping||E.transform)&&(Qe=1,!Q.data.length||Array.isArray(Q.data[0])?(Q.data=Q.data.map(Fe),Qe=Q.data.length):Q.data=Fe(Q.data,0),E.header&&Q.meta&&(Q.meta.fields=re),de+=Qe)}function _e(){return E.header&&re.length===0}function Ge(be,Fe,Qe,Ie){be={type:be,code:Fe,message:Qe},Ie!==void 0&&(be.row=Ie),Q.errors.push(be)}C(E.step)&&(P=E.step,E.step=function(be){Q=be,_e()?Te():(Te(),Q.data.length!==0&&(ue+=be.data.length,E.preview&&ue>E.preview?R.abort():(Q.data=Q.data[0],P(Q,ne))))}),this.parse=function(be,Fe,Qe){var Ie=E.quoteChar||'"',Ie=(E.newline||(E.newline=this.guessLineEndings(be,Ie)),M=!1,E.delimiter?C(E.delimiter)&&(E.delimiter=E.delimiter(be),Q.meta.delimiter=E.delimiter):((Ie=((lt,ut,Ke,te,se)=>{var ve,me,Re,ct;se=se||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var He=0;He<se.length;He++){for(var et,It=se[He],We=0,Dt=0,Pe=0,Ee=(Re=void 0,new F({comments:te,delimiter:It,newline:ut,preview:10}).parse(lt)),Ye=0;Ye<Ee.data.length;Ye++)Ke&&ge(Ee.data[Ye])?Pe++:(et=Ee.data[Ye].length,Dt+=et,Re===void 0?Re=et:0<et&&(We+=Math.abs(et-Re),Re=et));0<Ee.data.length&&(Dt/=Ee.data.length-Pe),(me===void 0||We<=me)&&(ct===void 0||ct<Dt)&&1.99<Dt&&(me=We,ve=It,ct=Dt)}return{successful:!!(E.delimiter=ve),bestDelimiter:ve}})(be,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=Ie.bestDelimiter:(M=!0,E.delimiter=p.DefaultDelimiter),Q.meta.delimiter=E.delimiter),H(E));return E.preview&&E.header&&Ie.preview++,S=be,R=new F(Ie),Q=R.parse(S,Fe,Qe),Te(),L?{meta:{paused:!0}}:Q||{meta:{paused:!1}}},this.paused=function(){return L},this.pause=function(){L=!0,R.abort(),S=C(E.chunk)?"":S.substring(R.getCharIndex())},this.resume=function(){ne.streamer._halted?(L=!1,ne.streamer.parseChunk(S,!0)):setTimeout(ne.resume,3)},this.aborted=function(){return X},this.abort=function(){X=!0,R.abort(),Q.meta.aborted=!0,C(E.complete)&&E.complete(Q),S=""},this.guessLineEndings=function(lt,Ie){lt=lt.substring(0,1048576);var Ie=new RegExp(N(Ie)+"([^]*?)"+N(Ie),"gm"),Qe=(lt=lt.replace(Ie,"")).split("\r"),Ie=lt.split(`
`),lt=1<Ie.length&&Ie[0].length<Qe[0].length;if(Qe.length===1||lt)return`
`;for(var ut=0,Ke=0;Ke<Qe.length;Ke++)Qe[Ke][0]===`
`&&ut++;return ut>=Qe.length/2?`\r
`:"\r"}}function N(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function F(E){var S=(E=E||{}).delimiter,R=E.newline,M=E.comments,P=E.step,I=E.preview,we=E.fastMode,Ce=null,z=!1,ne=E.quoteChar==null?'"':E.quoteChar,ue=ne;if(E.escapeChar!==void 0&&(ue=E.escapeChar),(typeof S!="string"||-1<p.BAD_DELIMITERS.indexOf(S))&&(S=","),M===S)throw new Error("Comment character same as delimiter");M===!0?M="#":(typeof M!="string"||-1<p.BAD_DELIMITERS.indexOf(M))&&(M=!1),R!==`
`&&R!=="\r"&&R!==`\r
`&&(R=`
`);var de=0,L=!1;this.parse=function(X,re,Q){if(typeof X!="string")throw new Error("Input must be a string");var ge=X.length,Te=S.length,_e=R.length,Ge=M.length,be=C(P),Fe=[],Qe=[],Ie=[],lt=de=0;if(!X)return We();if(we||we!==!1&&X.indexOf(ne)===-1){for(var ut=X.split(R),Ke=0;Ke<ut.length;Ke++){if(Ie=ut[Ke],de+=Ie.length,Ke!==ut.length-1)de+=R.length;else if(Q)return We();if(!M||Ie.substring(0,Ge)!==M){if(be){if(Fe=[],ct(Ie.split(S)),Dt(),L)return We()}else ct(Ie.split(S));if(I&&I<=Ke)return Fe=Fe.slice(0,I),We(!0)}}return We()}for(var te=X.indexOf(S,de),se=X.indexOf(R,de),ve=new RegExp(N(ue)+N(ne),"g"),me=X.indexOf(ne,de);;)if(X[de]===ne)for(me=de,de++;;){if((me=X.indexOf(ne,me+1))===-1)return Q||Qe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Fe.length,index:de}),et();if(me===ge-1)return et(X.substring(de,me).replace(ve,ne));if(ne===ue&&X[me+1]===ue)me++;else if(ne===ue||me===0||X[me-1]!==ue){te!==-1&&te<me+1&&(te=X.indexOf(S,me+1));var Re=He((se=se!==-1&&se<me+1?X.indexOf(R,me+1):se)===-1?te:Math.min(te,se));if(X.substr(me+1+Re,Te)===S){Ie.push(X.substring(de,me).replace(ve,ne)),X[de=me+1+Re+Te]!==ne&&(me=X.indexOf(ne,de)),te=X.indexOf(S,de),se=X.indexOf(R,de);break}if(Re=He(se),X.substring(me+1+Re,me+1+Re+_e)===R){if(Ie.push(X.substring(de,me).replace(ve,ne)),It(me+1+Re+_e),te=X.indexOf(S,de),me=X.indexOf(ne,de),be&&(Dt(),L))return We();if(I&&Fe.length>=I)return We(!0);break}Qe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Fe.length,index:de}),me++}}else if(M&&Ie.length===0&&X.substring(de,de+Ge)===M){if(se===-1)return We();de=se+_e,se=X.indexOf(R,de),te=X.indexOf(S,de)}else if(te!==-1&&(te<se||se===-1))Ie.push(X.substring(de,te)),de=te+Te,te=X.indexOf(S,de);else{if(se===-1)break;if(Ie.push(X.substring(de,se)),It(se+_e),be&&(Dt(),L))return We();if(I&&Fe.length>=I)return We(!0)}return et();function ct(Pe){Fe.push(Pe),lt=de}function He(Pe){var Ee=0;return Ee=Pe!==-1&&(Pe=X.substring(me+1,Pe))&&Pe.trim()===""?Pe.length:Ee}function et(Pe){return Q||(Pe===void 0&&(Pe=X.substring(de)),Ie.push(Pe),de=ge,ct(Ie),be&&Dt()),We()}function It(Pe){de=Pe,ct(Ie),Ie=[],se=X.indexOf(R,de)}function We(Pe){if(E.header&&!re&&Fe.length&&!z){var Ee=Fe[0],Ye=Object.create(null),nt=new Set(Ee);let Qn=!1;for(let Vr=0;Vr<Ee.length;Vr++){let hn=Ee[Vr];if(Ye[hn=C(E.transformHeader)?E.transformHeader(hn,Vr):hn]){let Wn,Lr=Ye[hn];for(;Wn=hn+"_"+Lr,Lr++,nt.has(Wn););nt.add(Wn),Ee[Vr]=Wn,Ye[hn]++,Qn=!0,(Ce=Ce===null?{}:Ce)[Wn]=hn}else Ye[hn]=1,Ee[Vr]=hn;nt.add(hn)}Qn&&console.warn("Duplicate headers found and renamed."),z=!0}return{data:Fe,errors:Qe,meta:{delimiter:S,linebreak:R,aborted:L,truncated:!!Pe,cursor:lt+(re||0),renamedHeaders:Ce}}}function Dt(){P(We()),Fe=[],Qe=[]}},this.abort=function(){L=!0},this.getCharIndex=function(){return de}}function $(E){var S=E.data,R=m[S.workerId],M=!1;if(S.error)R.userError(S.error,S.file);else if(S.results&&S.results.data){var P={abort:function(){M=!0,q(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ae,resume:ae};if(C(R.userStep)){for(var I=0;I<S.results.data.length&&(R.userStep({data:S.results.data[I],errors:S.results.errors,meta:S.results.meta},P),!M);I++);delete S.results}else C(R.userChunk)&&(R.userChunk(S.results,P,S.file),delete S.results)}S.finished&&!M&&q(S.workerId,S.results)}function q(E,S){var R=m[E];C(R.userComplete)&&R.userComplete(S),R.terminate(),delete m[E]}function ae(){throw new Error("Not implemented.")}function H(E){if(typeof E!="object"||E===null)return E;var S,R=Array.isArray(E)?[]:{};for(S in E)R[S]=H(E[S]);return R}function J(E,S){return function(){E.apply(S,arguments)}}function C(E){return typeof E=="function"}return p.parse=function(E,S){var R=(S=S||{}).dynamicTyping||!1;if(C(R)&&(S.dynamicTypingFunction=R,R={}),S.dynamicTyping=R,S.transform=!!C(S.transform)&&S.transform,!S.worker||!p.WORKERS_SUPPORTED)return R=null,p.NODE_STREAM_INPUT,typeof E=="string"?(E=(M=>M.charCodeAt(0)!==65279?M:M.slice(1))(E),R=new(S.download?_:D)(S)):E.readable===!0&&C(E.read)&&C(E.on)?R=new k(S):(i.File&&E instanceof File||E instanceof Object)&&(R=new A(S)),R.stream(E);(R=(()=>{var M;return!!p.WORKERS_SUPPORTED&&(M=(()=>{var P=i.URL||i.webkitURL||null,I=t.toString();return p.BLOB_URL||(p.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",I,")();"],{type:"text/javascript"})))})(),(M=new i.Worker(M)).onmessage=$,M.id=d++,m[M.id]=M)})()).userStep=S.step,R.userChunk=S.chunk,R.userComplete=S.complete,R.userError=S.error,S.step=C(S.step),S.chunk=C(S.chunk),S.complete=C(S.complete),S.error=C(S.error),delete S.worker,R.postMessage({input:E,config:S,workerId:R.id})},p.unparse=function(E,S){var R=!1,M=!0,P=",",I=`\r
`,we='"',Ce=we+we,z=!1,ne=null,ue=!1,de=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||p.BAD_DELIMITERS.filter(function(re){return S.delimiter.indexOf(re)!==-1}).length||(P=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(R=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(z=S.skipEmptyLines),typeof S.newline=="string"&&(I=S.newline),typeof S.quoteChar=="string"&&(we=S.quoteChar),typeof S.header=="boolean"&&(M=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");ne=S.columns}S.escapeChar!==void 0&&(Ce=S.escapeChar+we),S.escapeFormulae instanceof RegExp?ue=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(ue=/^[=+\-@\t\r].*$/)}})(),new RegExp(N(we),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return L(null,E,z);if(typeof E[0]=="object")return L(ne||Object.keys(E[0]),E,z)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||ne),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),L(E.fields||[],E.data||[],z);throw new Error("Unable to serialize unrecognized input");function L(re,Q,ge){var Te="",_e=(typeof re=="string"&&(re=JSON.parse(re)),typeof Q=="string"&&(Q=JSON.parse(Q)),Array.isArray(re)&&0<re.length),Ge=!Array.isArray(Q[0]);if(_e&&M){for(var be=0;be<re.length;be++)0<be&&(Te+=P),Te+=X(re[be],be);0<Q.length&&(Te+=I)}for(var Fe=0;Fe<Q.length;Fe++){var Qe=(_e?re:Q[Fe]).length,Ie=!1,lt=_e?Object.keys(Q[Fe]).length===0:Q[Fe].length===0;if(ge&&!_e&&(Ie=ge==="greedy"?Q[Fe].join("").trim()==="":Q[Fe].length===1&&Q[Fe][0].length===0),ge==="greedy"&&_e){for(var ut=[],Ke=0;Ke<Qe;Ke++){var te=Ge?re[Ke]:Ke;ut.push(Q[Fe][te])}Ie=ut.join("").trim()===""}if(!Ie){for(var se=0;se<Qe;se++){0<se&&!lt&&(Te+=P);var ve=_e&&Ge?re[se]:se;Te+=X(Q[Fe][ve],se)}Fe<Q.length-1&&(!ge||0<Qe&&!lt)&&(Te+=I)}}return Te}function X(re,Q){var ge,Te;return re==null?"":re.constructor===Date?JSON.stringify(re).slice(1,25):(Te=!1,ue&&typeof re=="string"&&ue.test(re)&&(re="'"+re,Te=!0),ge=re.toString().replace(de,Ce),(Te=Te||R===!0||typeof R=="function"&&R(re,Q)||Array.isArray(R)&&R[Q]||((_e,Ge)=>{for(var be=0;be<Ge.length;be++)if(-1<_e.indexOf(Ge[be]))return!0;return!1})(ge,p.BAD_DELIMITERS)||-1<ge.indexOf(P)||ge.charAt(0)===" "||ge.charAt(ge.length-1)===" ")?we+ge+we:ge)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!l&&!!i.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=F,p.ParserHandle=V,p.NetworkStreamer=_,p.FileStreamer=A,p.StringStreamer=D,p.ReadableStreamStreamer=k,i.jQuery&&((s=i.jQuery).fn.parse=function(E){var S=E.config||{},R=[];return this.each(function(I){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var we=0;we<this.files.length;we++)R.push({file:this.files[we],inputElem:this,instanceConfig:s.extend({},S)})}),M(),this;function M(){if(R.length===0)C(E.complete)&&E.complete();else{var I,we,Ce,z,ne=R[0];if(C(E.before)){var ue=E.before(ne.file,ne.inputElem);if(typeof ue=="object"){if(ue.action==="abort")return I="AbortError",we=ne.file,Ce=ne.inputElem,z=ue.reason,void(C(E.error)&&E.error({name:I},we,Ce,z));if(ue.action==="skip")return void P();typeof ue.config=="object"&&(ne.instanceConfig=s.extend(ne.instanceConfig,ue.config))}else if(ue==="skip")return void P()}var de=ne.instanceConfig.complete;ne.instanceConfig.complete=function(L){C(de)&&de(L,ne.file,ne.inputElem),P()},p.parse(ne.file,ne.instanceConfig)}}function P(){R.splice(0,1),M()}}),c&&(i.onmessage=function(E){E=E.data,p.WORKER_ID===void 0&&E&&(p.WORKER_ID=E.workerId),typeof E.input=="string"?i.postMessage({workerId:p.WORKER_ID,results:p.parse(E.input,E.config),finished:!0}):(i.File&&E.input instanceof File||E.input instanceof Object)&&(E=p.parse(E.input,E.config))&&i.postMessage({workerId:p.WORKER_ID,results:E,finished:!0})}),(_.prototype=Object.create(v.prototype)).constructor=_,(A.prototype=Object.create(v.prototype)).constructor=A,(D.prototype=Object.create(D.prototype)).constructor=D,(k.prototype=Object.create(v.prototype)).constructor=k,p})}(Lh)),Lh.exports}var t5=e5();const n5=Bv(t5);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebasestorage.googleapis.com",eC="storageBucket",r5=2*60*1e3,i5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends yi{constructor(e,t,i=0){super(Vg(e),`Firebase Storage: ${t} (${Vg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ht;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ht||(Ht={}));function Vg(n){return"storage/"+n}function f0(){const n="An unknown error occurred, please check the error payload for server response.";return new qt(Ht.UNKNOWN,n)}function a5(n){return new qt(Ht.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function s5(n){return new qt(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function o5(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qt(Ht.UNAUTHENTICATED,n)}function l5(){return new qt(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function u5(n){return new qt(Ht.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function c5(){return new qt(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f5(){return new qt(Ht.CANCELED,"User canceled the upload/download.")}function h5(n){return new qt(Ht.INVALID_URL,"Invalid URL '"+n+"'.")}function d5(n){return new qt(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function m5(){return new qt(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+eC+"' property when initializing the app?")}function p5(){return new qt(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function g5(){return new qt(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function v5(n){return new qt(Ht.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zv(n){return new qt(Ht.INVALID_ARGUMENT,n)}function tC(){return new qt(Ht.APP_DELETED,"The Firebase app was deleted.")}function y5(n){return new qt(Ht.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sc(n,e){return new qt(Ht.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Bu(n){throw new qt(Ht.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=lr.makeFromUrl(e,t)}catch{return new lr(e,"")}if(i.path==="")return i;throw d5(e)}static makeFromUrl(e,t){let i=null;const s="([A-Za-z0-9.\\-_]+)";function l(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+s+c,"i"),d={bucket:1,path:3};function p(ae){ae.path_=decodeURIComponent(ae.path)}const v="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",D=new RegExp(`^https?://${_}/${v}/b/${s}/o${A}`,"i"),k={bucket:1,path:3},V=t===JR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",F=new RegExp(`^https?://${V}/${s}/${N}`,"i"),q=[{regex:m,indices:d,postModify:l},{regex:D,indices:k,postModify:p},{regex:F,indices:{bucket:1,path:2},postModify:p}];for(let ae=0;ae<q.length;ae++){const H=q[ae],J=H.regex.exec(e);if(J){const C=J[H.indices.bucket];let E=J[H.indices.path];E||(E=""),i=new lr(C,E),H.postModify(i);break}}if(i==null)throw h5(e);return i}}class _5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(n,e,t){let i=1,s=null,l=null,c=!1,m=0;function d(){return m===2}let p=!1;function v(...N){p||(p=!0,e.apply(null,N))}function _(N){s=setTimeout(()=>{s=null,n(D,d())},N)}function A(){l&&clearTimeout(l)}function D(N,...F){if(p){A();return}if(N){A(),v.call(null,N,...F);return}if(d()||c){A(),v.call(null,N,...F);return}i<64&&(i*=2);let q;m===1?(m=2,q=0):q=(i+Math.random())*1e3,_(q)}let k=!1;function V(N){k||(k=!0,A(),!p&&(s!==null?(N||(m=2),clearTimeout(s),_(0)):N||(m=1)))}return _(0),l=setTimeout(()=>{c=!0,V(!0)},t),V}function E5(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(n){return n!==void 0}function S5(n){return typeof n=="object"&&!Array.isArray(n)}function h0(n){return typeof n=="string"||n instanceof String}function VS(n){return d0()&&n instanceof Blob}function d0(){return typeof Blob<"u"}function LS(n,e,t,i){if(i<e)throw zv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw zv(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function nC(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const s=e(i)+"="+e(n[i]);t=t+s+"&"}return t=t.slice(0,-1),t}var $s;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})($s||($s={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||s||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,t,i,s,l,c,m,d,p,v,_,A=!0,D=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=_,this.retry=A,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,V)=>{this.resolve_=k,this.reject_=V,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new _h(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=m=>{const d=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const m=l.getErrorCode()===$s.NO_ERROR,d=l.getStatus();if(!m||w5(d,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===$s.ABORT;i(!1,new _h(!1,null,v));return}const p=this.successCodes_.indexOf(d)!==-1;i(!0,new _h(p,l))})},t=(i,s)=>{const l=this.resolve_,c=this.reject_,m=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(m,m.getResponse());T5(d)?l(d):l()}catch(d){c(d)}else if(m!==null){const d=f0();d.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,d)):c(d)}else if(s.canceled){const d=this.appDelete_?tC():f5();c(d)}else{const d=c5();c(d)}};this.canceled_?t(!1,new _h(!1,null,!0)):this.backoffId_=b5(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&E5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _h{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function x5(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function R5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function C5(n,e){e&&(n["X-Firebase-GMPID"]=e)}function I5(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function O5(n,e,t,i,s,l,c=!0,m=!1){const d=nC(n.urlParams),p=n.url+d,v=Object.assign({},n.headers);return C5(v,e),x5(v,t),R5(v,l),I5(v,i),new A5(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,c,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function D5(...n){const e=N5();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(d0())return new Blob(n);throw new qt(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function P5(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(n){if(typeof atob>"u")throw v5("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lg{constructor(e,t){this.data=e,this.contentType=t||null}}function k5(n,e){switch(n){case oi.RAW:return new Lg(rC(e));case oi.BASE64:case oi.BASE64URL:return new Lg(iC(n,e));case oi.DATA_URL:return new Lg(L5(e),j5(e))}throw f0()}function rC(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function V5(n){let e;try{e=decodeURIComponent(n)}catch{throw sc(oi.DATA_URL,"Malformed data URL.")}return rC(e)}function iC(n,e){switch(n){case oi.BASE64:{const s=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(s||l)throw sc(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case oi.BASE64URL:{const s=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(s||l)throw sc(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=M5(e)}catch(s){throw s.message.includes("polyfill")?s:sc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}class aC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw sc(oi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=U5(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function L5(n){const e=new aC(n);return e.base64?iC(oi.BASE64,e.rest):V5(e.rest)}function j5(n){return new aC(n).contentType}function U5(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,t){let i=0,s="";VS(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(VS(this.data_)){const i=this.data_,s=P5(i,e,t);return s===null?null:new Ua(s)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ua(i,!0)}}static getBlob(...e){if(d0()){const t=e.map(i=>i instanceof Ua?i.data_:i);return new Ua(D5.apply(null,t))}else{const t=e.map(c=>h0(c)?k5(oi.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const s=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let m=0;m<c.length;m++)s[l++]=c[m]}),new Ua(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(n){let e;try{e=JSON.parse(n)}catch{return null}return S5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function z5(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function oC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(n,e){return e}class Bn{constructor(e,t,i,s){this.server=e,this.local=t||e,this.writable=!!i,this.xform=s||B5}}let bh=null;function H5(n){return!h0(n)||n.length<2?n:oC(n)}function lC(){if(bh)return bh;const n=[];n.push(new Bn("bucket")),n.push(new Bn("generation")),n.push(new Bn("metageneration")),n.push(new Bn("name","fullPath",!0));function e(l,c){return H5(c)}const t=new Bn("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const s=new Bn("size");return s.xform=i,n.push(s),n.push(new Bn("timeCreated")),n.push(new Bn("updated")),n.push(new Bn("md5Hash",null,!0)),n.push(new Bn("cacheControl",null,!0)),n.push(new Bn("contentDisposition",null,!0)),n.push(new Bn("contentEncoding",null,!0)),n.push(new Bn("contentLanguage",null,!0)),n.push(new Bn("contentType",null,!0)),n.push(new Bn("metadata","customMetadata",!0)),bh=n,bh}function q5(n,e){function t(){const i=n.bucket,s=n.fullPath,l=new lr(i,s);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function $5(n,e,t){const i={};i.type="file";const s=t.length;for(let l=0;l<s;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return q5(i,n),i}function uC(n,e,t){const i=sC(e);return i===null?null:$5(n,i,t)}function G5(n,e,t,i){const s=sC(e);if(s===null||!h0(s.downloadTokens))return null;const l=s.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const v=n.bucket,_=n.fullPath,A="/b/"+c(v)+"/o/"+c(_),D=m0(A,t,i),k=nC({alt:"media",token:p});return D+k})[0]}function Y5(n,e){const t={},i=e.length;for(let s=0;s<i;s++){const l=e[s];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class cC{constructor(e,t,i,s){this.url=e,this.method=t,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n){if(!n)throw f0()}function K5(n,e){function t(i,s){const l=uC(n,s,e);return fC(l!==null),l}return t}function X5(n,e){function t(i,s){const l=uC(n,s,e);return fC(l!==null),G5(l,s,n.host,n._protocol)}return t}function hC(n){function e(t,i){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=l5():s=o5():t.getStatus()===402?s=s5(n.bucket):t.getStatus()===403?s=u5(n.path):s=i,s.status=t.getStatus(),s.serverResponse=i.serverResponse,s}return e}function Q5(n){const e=hC(n);function t(i,s){let l=e(i,s);return i.getStatus()===404&&(l=a5(n.path)),l.serverResponse=s.serverResponse,l}return t}function W5(n,e,t){const i=e.fullServerUrl(),s=m0(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,m=new cC(s,l,X5(n,t),c);return m.errorHandler=Q5(e),m}function Z5(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function J5(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=Z5(null,e)),i}function eF(n,e,t,i,s){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function m(){let q="";for(let ae=0;ae<2;ae++)q=q+Math.random().toString().slice(2);return q}const d=m();c["Content-Type"]="multipart/related; boundary="+d;const p=J5(e,i,s),v=Y5(p,t),_="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,A=`\r
--`+d+"--",D=Ua.getBlob(_,i,A);if(D===null)throw p5();const k={name:p.fullPath},V=m0(l,n.host,n._protocol),N="POST",F=n.maxUploadRetryTime,$=new cC(V,N,K5(n,t),F);return $.urlParams=k,$.headers=c,$.body=D.uploadData(),$.errorHandler=hC(e),$}class tF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$s.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$s.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$s.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,s,l){if(this.sent_)throw Bu("cannot .send() more than once");if(ss(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class nF extends tF{initXhr(){this.xhr_.responseType="text"}}function dC(){return new nF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t){this._service=e,t instanceof lr?this._location=t:this._location=lr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Js(e,t)}get root(){const e=new lr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oC(this._location.path)}get storage(){return this._service}get parent(){const e=F5(this._location.path);if(e===null)return null;const t=new lr(this._location.bucket,e);return new Js(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw y5(e)}}function rF(n,e,t){n._throwIfRoot("uploadBytes");const i=eF(n.storage,n._location,lC(),new Ua(e,!0),t);return n.storage.makeRequestWithTokens(i,dC).then(s=>({metadata:s,ref:n}))}function iF(n){n._throwIfRoot("getDownloadURL");const e=W5(n.storage,n._location,lC());return n.storage.makeRequestWithTokens(e,dC).then(t=>{if(t===null)throw g5();return t})}function aF(n,e){const t=z5(n._location.path,e),i=new lr(n._location.bucket,t);return new Js(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(n){return/^[A-Za-z]+:\/\//.test(n)}function oF(n,e){return new Js(n,e)}function mC(n,e){if(n instanceof p0){const t=n;if(t._bucket==null)throw m5();const i=new Js(t,t._bucket);return e!=null?mC(i,e):i}else return e!==void 0?aF(n,e):n}function lF(n,e){if(e&&sF(e)){if(n instanceof p0)return oF(n,e);throw zv("To use ref(service, url), the first argument must be a Storage instance.")}else return mC(n,e)}function jS(n,e){const t=e==null?void 0:e[eC];return t==null?null:lr.makeFromBucketSpec(t,n)}function uF(n,e,t,i={}){n.host=`${e}:${t}`;const s=ss(e);s&&(Yv(`https://${n.host}/b`),Kv("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:lw(l,n.app.options.projectId))}class p0{constructor(e,t,i,s,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=s,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=JR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=r5,this._maxUploadRetryTime=i5,this._requests=new Set,s!=null?this._bucket=lr.makeFromBucketSpec(s,this._host):this._bucket=jS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=lr.makeFromBucketSpec(this._url,e):this._bucket=jS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Js(this,e)}_makeRequest(e,t,i,s,l=!0){if(this._deleted)return new _5(tC());{const c=O5(e,this._appId,i,s,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,s).getPromise()}}const US="@firebase/storage",FS="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="storage";function cF(n,e,t){return n=Bt(n),rF(n,e,t)}function fF(n){return n=Bt(n),iF(n)}function hF(n,e){return n=Bt(n),lF(n,e)}function dF(n=Wv(),e){n=Bt(n);const i=Td(n,pC).getImmediate({identifier:e}),s=aw("storage");return s&&mF(i,...s),i}function mF(n,e,t,i={}){uF(n,e,t,i)}function pF(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new p0(t,i,s,e,to)}function gF(){Ys(new Ka(pC,pF,"PUBLIC").setMultipleInstances(!0)),li(US,FS,""),li(US,FS,"esm2017")}gF();const zS=kr(Xn),vF=dF(Xn),yF=()=>{const[n,e]=U.useState(""),[t,i]=U.useState(""),[s,l]=U.useState(""),c=async d=>{d.preventDefault();try{await bl(kn(zS,"referencias"),{nombre:n,codigo:t}),l("Referencia guardada correctamente"),e(""),i("")}catch(p){console.error("Error al guardar referencia:",p),l("Error al guardar")}},m=async d=>{var v;const p=(v=d.target.files)==null?void 0:v[0];if(p)try{const _=hF(vF,`csv-referencias/${p.name}`);await cF(_,p);const A=await fF(_);console.log("Archivo subido. URL:",A),n5.parse(p,{header:!0,skipEmptyLines:!0,complete:async D=>{const k=D.data;for(const V of k)if(V.nombre&&V.codigo)try{await bl(kn(zS,"referencias"),V)}catch(N){console.error("Error al importar:",N)}l("Importación completada. Archivo guardado en Firebase Storage")}})}catch(_){console.error("Error al subir CSV:",_),l("Error al subir archivo")}};return b.jsxs("div",{className:"max-w-md mx-auto p-4 bg-white shadow-md rounded-lg space-y-4",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Crear Referencia"}),s&&b.jsx("div",{className:"text-green-600",children:s}),b.jsxs("form",{onSubmit:c,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Nombre"}),b.jsx("input",{type:"text",value:n,onChange:d=>e(d.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-400",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Código"}),b.jsx("input",{type:"text",value:t,onChange:d=>i(d.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-400",required:!0})]}),b.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:"Guardar"})]}),b.jsxs("div",{className:"mt-6",children:[b.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-600",children:"Importar CSV"}),b.jsx("input",{type:"file",accept:".csv",onChange:m,className:"w-full text-sm bg-amber-100 px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-400"})]})]})};function _F(){return b.jsx(lV,{children:b.jsx(QI,{children:b.jsxs(HI,{children:[b.jsx(yn,{path:"/",element:b.jsx(oV,{})}),b.jsxs(yn,{path:"/",element:b.jsx(qi,{allowedRoles:["admin","supervisor","operator","superadmin"],children:b.jsx(D9,{})}),children:[b.jsx(yn,{path:"home",element:b.jsx(ET,{})}),b.jsx(yn,{path:"supervisor",element:b.jsx(qi,{allowedRoles:["admin","operator","superadmin"],children:b.jsx(JT,{})})}),b.jsx(yn,{path:"eficencia",element:b.jsx(xg,{})}),b.jsxs(yn,{path:"picado",element:b.jsx(nj,{}),children:[b.jsx(yn,{path:"f1315",element:b.jsx(K9,{})}),b.jsx(yn,{path:"eficence",element:b.jsx(xg,{})})]}),b.jsx(yn,{path:"/supervisor",element:b.jsx(qi,{allowedRoles:["admin","superadmin"],children:b.jsx(JT,{})})}),b.jsxs(yn,{path:"/configurations",element:b.jsx(qi,{allowedRoles:["superadmin"],children:b.jsx(k9,{})}),children:[b.jsx(yn,{path:"createMachine",element:b.jsx(qi,{allowedRoles:["superadmin"],children:b.jsx(U9,{})})}),b.jsx(yn,{path:"createUser",element:b.jsx(qi,{allowedRoles:["superadmin"],children:b.jsx(z9,{name:"username",label:"Username",type:"text",required:!0,placeholder:"Enter username"})})}),b.jsx(yn,{path:"createReferencia",element:b.jsx(qi,{allowedRoles:["superadmin"],children:b.jsx(yF,{})})}),b.jsx(yn,{path:"editingRegister",element:b.jsx(xg,{editable:!0})})]}),b.jsx(yn,{path:"data",element:b.jsx(qi,{allowedRoles:["admin","superadmin"],children:b.jsx(G9,{})})}),b.jsx(yn,{path:"*",element:b.jsx(ET,{})})]}),b.jsx(yn,{path:"/adminapplication",element:b.jsx(qi,{allowedRoles:["superadmin"],children:b.jsx(Z9,{})})})]})})})}X2.createRoot(document.getElementById("root")).render(b.jsx(U.StrictMode,{children:b.jsx(_F,{})}));
