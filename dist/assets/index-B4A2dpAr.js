import"https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js";function W2(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Kv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ig={exports:{}},Lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function Z2(){if(VE)return Lu;VE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var m in s)m!=="key"&&(l[m]=s[m])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return Lu.Fragment=e,Lu.jsx=t,Lu.jsxs=t,Lu}var LE;function J2(){return LE||(LE=1,ig.exports=Z2()),ig.exports}var _=J2(),ag={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function eI(){if(jE)return He;jE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function C(x,B,Z){this.props=x,this.context=B,this.refs=j,this.updater=Z||N}C.prototype.isReactComponent={},C.prototype.setState=function(x,B){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,B,"setState")},C.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function G(){}G.prototype=C.prototype;function X(x,B,Z){this.props=x,this.context=B,this.refs=j,this.updater=Z||N}var H=X.prototype=new G;H.constructor=X,k(H,C.prototype),H.isPureReactComponent=!0;var te=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function D(x,B,Z,$,ne,de){return Z=de.ref,{$$typeof:n,type:x,key:B,ref:Z!==void 0?Z:null,props:de}}function T(x,B){return D(x.type,B,void 0,void 0,void 0,x.props)}function A(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function I(x){var B={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(Z){return B[Z]})}var V=/\/+/g;function L(x,B){return typeof x=="object"&&x!==null&&x.key!=null?I(""+x.key):B.toString(36)}function M(){}function Se(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(M,M):(x.status="pending",x.then(function(B){x.status==="pending"&&(x.status="fulfilled",x.value=B)},function(B){x.status==="pending"&&(x.status="rejected",x.reason=B)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function be(x,B,Z,$,ne){var de=typeof x;(de==="undefined"||de==="boolean")&&(x=null);var ge=!1;if(x===null)ge=!0;else switch(de){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(x.$$typeof){case n:case e:ge=!0;break;case v:return ge=x._init,be(ge(x._payload),B,Z,$,ne)}}if(ge)return ne=ne(x),ge=$===""?"."+L(x,0):$,te(ne)?(Z="",ge!=null&&(Z=ge.replace(V,"$&/")+"/"),be(ne,B,Z,"",function(xe){return xe})):ne!=null&&(A(ne)&&(ne=T(ne,Z+(ne.key==null||x&&x.key===ne.key?"":(""+ne.key).replace(V,"$&/")+"/")+ge)),B.push(ne)),1;ge=0;var Le=$===""?".":$+":";if(te(x))for(var pe=0;pe<x.length;pe++)$=x[pe],de=Le+L($,pe),ge+=be($,B,Z,de,ne);else if(pe=S(x),typeof pe=="function")for(x=pe.call(x),pe=0;!($=x.next()).done;)$=$.value,de=Le+L($,pe++),ge+=be($,B,Z,de,ne);else if(de==="object"){if(typeof x.then=="function")return be(Se(x),B,Z,$,ne);throw B=String(x),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ge}function q(x,B,Z){if(x==null)return x;var $=[],ne=0;return be(x,$,"","",function(de){return B.call(Z,de,ne++)}),$}function P(x){if(x._status===-1){var B=x._result;B=B(),B.then(function(Z){(x._status===0||x._status===-1)&&(x._status=1,x._result=Z)},function(Z){(x._status===0||x._status===-1)&&(x._status=2,x._result=Z)}),x._status===-1&&(x._status=0,x._result=B)}if(x._status===1)return x._result.default;throw x._result}var U=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Q(){}return He.Children={map:q,forEach:function(x,B,Z){q(x,function(){B.apply(this,arguments)},Z)},count:function(x){var B=0;return q(x,function(){B++}),B},toArray:function(x){return q(x,function(B){return B})||[]},only:function(x){if(!A(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},He.Component=C,He.Fragment=t,He.Profiler=s,He.PureComponent=X,He.StrictMode=i,He.Suspense=h,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,He.__COMPILER_RUNTIME={__proto__:null,c:function(x){return K.H.useMemoCache(x)}},He.cache=function(x){return function(){return x.apply(null,arguments)}},He.cloneElement=function(x,B,Z){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var $=k({},x.props),ne=x.key,de=void 0;if(B!=null)for(ge in B.ref!==void 0&&(de=void 0),B.key!==void 0&&(ne=""+B.key),B)!oe.call(B,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&B.ref===void 0||($[ge]=B[ge]);var ge=arguments.length-2;if(ge===1)$.children=Z;else if(1<ge){for(var Le=Array(ge),pe=0;pe<ge;pe++)Le[pe]=arguments[pe+2];$.children=Le}return D(x.type,ne,void 0,void 0,de,$)},He.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},He.createElement=function(x,B,Z){var $,ne={},de=null;if(B!=null)for($ in B.key!==void 0&&(de=""+B.key),B)oe.call(B,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ne[$]=B[$]);var ge=arguments.length-2;if(ge===1)ne.children=Z;else if(1<ge){for(var Le=Array(ge),pe=0;pe<ge;pe++)Le[pe]=arguments[pe+2];ne.children=Le}if(x&&x.defaultProps)for($ in ge=x.defaultProps,ge)ne[$]===void 0&&(ne[$]=ge[$]);return D(x,de,void 0,void 0,null,ne)},He.createRef=function(){return{current:null}},He.forwardRef=function(x){return{$$typeof:m,render:x}},He.isValidElement=A,He.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:P}},He.memo=function(x,B){return{$$typeof:p,type:x,compare:B===void 0?null:B}},He.startTransition=function(x){var B=K.T,Z={};K.T=Z;try{var $=x(),ne=K.S;ne!==null&&ne(Z,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Q,U)}catch(de){U(de)}finally{K.T=B}},He.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},He.use=function(x){return K.H.use(x)},He.useActionState=function(x,B,Z){return K.H.useActionState(x,B,Z)},He.useCallback=function(x,B){return K.H.useCallback(x,B)},He.useContext=function(x){return K.H.useContext(x)},He.useDebugValue=function(){},He.useDeferredValue=function(x,B){return K.H.useDeferredValue(x,B)},He.useEffect=function(x,B,Z){var $=K.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(x,B)},He.useId=function(){return K.H.useId()},He.useImperativeHandle=function(x,B,Z){return K.H.useImperativeHandle(x,B,Z)},He.useInsertionEffect=function(x,B){return K.H.useInsertionEffect(x,B)},He.useLayoutEffect=function(x,B){return K.H.useLayoutEffect(x,B)},He.useMemo=function(x,B){return K.H.useMemo(x,B)},He.useOptimistic=function(x,B){return K.H.useOptimistic(x,B)},He.useReducer=function(x,B,Z){return K.H.useReducer(x,B,Z)},He.useRef=function(x){return K.H.useRef(x)},He.useState=function(x){return K.H.useState(x)},He.useSyncExternalStore=function(x,B,Z){return K.H.useSyncExternalStore(x,B,Z)},He.useTransition=function(){return K.H.useTransition()},He.version="19.1.1",He}var UE;function Qv(){return UE||(UE=1,ag.exports=eI()),ag.exports}var z=Qv();const _d=Kv(z),qg=W2({__proto__:null,default:_d},[z]);var sg={exports:{}},ju={},og={exports:{}},lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function tI(){return FE||(FE=1,function(n){function e(q,P){var U=q.length;q.push(P);e:for(;0<U;){var Q=U-1>>>1,x=q[Q];if(0<s(x,P))q[Q]=P,q[U]=x,U=Q;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var P=q[0],U=q.pop();if(U!==P){q[0]=U;e:for(var Q=0,x=q.length,B=x>>>1;Q<B;){var Z=2*(Q+1)-1,$=q[Z],ne=Z+1,de=q[ne];if(0>s($,U))ne<x&&0>s(de,$)?(q[Q]=de,q[ne]=U,Q=ne):(q[Q]=$,q[Z]=U,Q=Z);else if(ne<x&&0>s(de,U))q[Q]=de,q[ne]=U,Q=ne;else break e}}return P}function s(q,P){var U=q.sortIndex-P.sortIndex;return U!==0?U:q.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var h=[],p=[],v=1,b=null,S=3,N=!1,k=!1,j=!1,C=!1,G=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function te(q){for(var P=t(p);P!==null;){if(P.callback===null)i(p);else if(P.startTime<=q)i(p),P.sortIndex=P.expirationTime,e(h,P);else break;P=t(p)}}function K(q){if(j=!1,te(q),!k)if(t(h)!==null)k=!0,oe||(oe=!0,L());else{var P=t(p);P!==null&&be(K,P.startTime-q)}}var oe=!1,D=-1,T=5,A=-1;function I(){return C?!0:!(n.unstable_now()-A<T)}function V(){if(C=!1,oe){var q=n.unstable_now();A=q;var P=!0;try{e:{k=!1,j&&(j=!1,X(D),D=-1),N=!0;var U=S;try{t:{for(te(q),b=t(h);b!==null&&!(b.expirationTime>q&&I());){var Q=b.callback;if(typeof Q=="function"){b.callback=null,S=b.priorityLevel;var x=Q(b.expirationTime<=q);if(q=n.unstable_now(),typeof x=="function"){b.callback=x,te(q),P=!0;break t}b===t(h)&&i(h),te(q)}else i(h);b=t(h)}if(b!==null)P=!0;else{var B=t(p);B!==null&&be(K,B.startTime-q),P=!1}}break e}finally{b=null,S=U,N=!1}P=void 0}}finally{P?L():oe=!1}}}var L;if(typeof H=="function")L=function(){H(V)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Se=M.port2;M.port1.onmessage=V,L=function(){Se.postMessage(null)}}else L=function(){G(V,0)};function be(q,P){D=G(function(){q(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(q){switch(S){case 1:case 2:case 3:var P=3;break;default:P=S}var U=S;S=P;try{return q()}finally{S=U}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(q,P){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var U=S;S=q;try{return P()}finally{S=U}},n.unstable_scheduleCallback=function(q,P,U){var Q=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Q+U:Q):U=Q,q){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=U+x,q={id:v++,callback:P,priorityLevel:q,startTime:U,expirationTime:x,sortIndex:-1},U>Q?(q.sortIndex=U,e(p,q),t(h)===null&&q===t(p)&&(j?(X(D),D=-1):j=!0,be(K,U-Q))):(q.sortIndex=x,e(h,q),k||N||(k=!0,oe||(oe=!0,L()))),q},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(q){var P=S;return function(){var U=S;S=P;try{return q.apply(this,arguments)}finally{S=U}}}}(lg)),lg}var zE;function nI(){return zE||(zE=1,og.exports=tI()),og.exports}var ug={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function rI(){if(BE)return xn;BE=1;var n=Qv();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(h,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:h,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,xn.createPortal=function(h,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(h,p,null,v)},xn.flushSync=function(h){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=p,i.p=v,i.d.f()}},xn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},xn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},xn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:N}):v==="script"&&i.d.X(h,{crossOrigin:b,integrity:S,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},xn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},xn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin);i.d.L(h,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},xn.preloadModule=function(h,p){if(typeof h=="string")if(p){var v=m(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},xn.requestFormReset=function(h){i.d.r(h)},xn.unstable_batchedUpdates=function(h,p){return h(p)},xn.useFormState=function(h,p,v){return c.H.useFormState(h,p,v)},xn.useFormStatus=function(){return c.H.useHostTransitionStatus()},xn.version="19.1.1",xn}var HE;function rw(){if(HE)return ug.exports;HE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ug.exports=rI(),ug.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function iI(){if(qE)return ju;qE=1;var n=nI(),e=Qv(),t=rw();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(i(188))}function h(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),r;if(g===u)return m(d),a;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var w=!1,R=d.child;R;){if(R===o){w=!0,o=d,u=g;break}if(R===u){w=!0,u=d,o=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===o){w=!0,o=g,u=d;break}if(R===u){w=!0,u=g,o=d;break}R=R.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function p(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=p(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),H=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function Se(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case C:return"Profiler";case j:return"StrictMode";case K:return"Suspense";case oe:return"SuspenseList";case A:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case H:return(r.displayName||"Context")+".Provider";case X:return(r._context.displayName||"Context")+".Consumer";case te:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return a=r.displayName||null,a!==null?a:Se(r.type)||"Memo";case T:a=r._payload,r=r._init;try{return Se(r(a))}catch{}}return null}var be=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},Q=[],x=-1;function B(r){return{current:r}}function Z(r){0>x||(r.current=Q[x],Q[x]=null,x--)}function $(r,a){x++,Q[x]=r.current,r.current=a}var ne=B(null),de=B(null),ge=B(null),Le=B(null);function pe(r,a){switch($(ge,a),$(de,r),$(ne,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?cE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=cE(a),r=fE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Z(ne),$(ne,r)}function xe(){Z(ne),Z(de),Z(ge)}function Ve(r){r.memoizedState!==null&&$(Le,r);var a=ne.current,o=fE(a,r.type);a!==o&&($(de,r),$(ne,o))}function we(r){de.current===r&&(Z(ne),Z(de)),Le.current===r&&(Z(Le),Du._currentValue=U)}var at=Object.prototype.hasOwnProperty,dt=n.unstable_scheduleCallback,Ye=n.unstable_cancelCallback,et=n.unstable_shouldYield,qe=n.unstable_requestPaint,xt=n.unstable_now,Ue=n.unstable_getCurrentPriorityLevel,mt=n.unstable_ImmediatePriority,Pn=n.unstable_UserBlockingPriority,zn=n.unstable_NormalPriority,Bn=n.unstable_LowPriority,cr=n.unstable_IdlePriority,Pt=n.log,Mn=n.unstable_setDisableYieldValue,Be=null,Fe=null;function It(r){if(typeof Pt=="function"&&Mn(r),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Be,r)}catch{}}var qt=Math.clz32?Math.clz32:un,cs=Math.log,Lr=Math.LN2;function un(r){return r>>>=0,r===0?32:31-(cs(r)/Lr|0)|0}var Xn=256,jr=4194304;function Cr(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function uo(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,g=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var R=u&134217727;return R!==0?(u=R&~g,u!==0?d=Cr(u):(w&=R,w!==0?d=Cr(w):o||(o=R&~r,o!==0&&(d=Cr(o))))):(R=u&~g,R!==0?d=Cr(R):w!==0?d=Cr(w):o||(o=u&~r,o!==0&&(d=Cr(o)))),d===0?0:a!==0&&a!==d&&(a&g)===0&&(g=d&-d,o=a&-a,g>=o||g===32&&(o&4194048)!==0)?a:d}function fs(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Dl(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pl(){var r=Xn;return Xn<<=1,(Xn&4194048)===0&&(Xn=256),r}function Ml(){var r=jr;return jr<<=1,(jr&62914560)===0&&(jr=4194304),r}function yi(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function _i(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function kl(r,a,o,u,d,g){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var R=r.entanglements,F=r.expirationTimes,re=r.hiddenUpdates;for(o=w&~o;0<o;){var le=31-qt(o),fe=1<<le;R[le]=0,F[le]=-1;var ie=re[le];if(ie!==null)for(re[le]=null,le=0;le<ie.length;le++){var ae=ie[le];ae!==null&&(ae.lane&=-536870913)}o&=~fe}u!==0&&Ur(r,u,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(w&~a))}function Ur(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-qt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Vl(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-qt(o),d=1<<u;d&a|r[u]&a&&(r[u]|=a),o&=~d}}function ia(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function co(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function aa(){var r=P.p;return r!==0?r:(r=window.event,r===void 0?32:OE(r.type))}function Uc(r,a){var o=P.p;try{return P.p=r,a()}finally{P.p=o}}var Rt=Math.random().toString(36).slice(2),en="__reactFiber$"+Rt,$t="__reactProps$"+Rt,fr="__reactContainer$"+Rt,Ll="__reactEvents$"+Rt,om="__reactListeners$"+Rt,sa="__reactHandles$"+Rt,Fc="__reactResources$"+Rt,hs="__reactMarker$"+Rt;function oa(r){delete r[en],delete r[$t],delete r[Ll],delete r[om],delete r[sa]}function bi(r){var a=r[en];if(a)return a;for(var o=r.parentNode;o;){if(a=o[fr]||o[en]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=pE(r);r!==null;){if(o=r[en])return o;r=pE(r)}return a}r=o,o=r.parentNode}return null}function Fr(r){if(r=r[en]||r[fr]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function zr(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function kn(r){var a=r[Fc];return a||(a=r[Fc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ft(r){r[hs]=!0}var jl=new Set,fo={};function Ir(r,a){Ei(r,a),Ei(r+"Capture",a)}function Ei(r,a){for(fo[r]=a,r=0;r<a.length;r++)jl.add(a[r])}var zc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bc={},ds={};function Hc(r){return at.call(ds,r)?!0:at.call(Bc,r)?!1:zc.test(r)?ds[r]=!0:(Bc[r]=!0,!1)}function la(r,a,o){if(Hc(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function Br(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function gn(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}var ms,qc;function Ti(r){if(ms===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);ms=a&&a[1]||"",qc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ms+r+qc}var ho=!1;function mo(r,a){if(!r||ho)return"";ho=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ae){var ie=ae}Reflect.construct(r,[],fe)}else{try{fe.call()}catch(ae){ie=ae}r.call(fe.prototype)}}else{try{throw Error()}catch(ae){ie=ae}(fe=r())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ae){if(ae&&ie&&typeof ae.stack=="string")return[ae.stack,ie.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],R=g[1];if(w&&R){var F=w.split(`
`),re=R.split(`
`);for(d=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;d<re.length&&!re[d].includes("DetermineComponentFrameRoot");)d++;if(u===F.length||d===re.length)for(u=F.length-1,d=re.length-1;1<=u&&0<=d&&F[u]!==re[d];)d--;for(;1<=u&&0<=d;u--,d--)if(F[u]!==re[d]){if(u!==1||d!==1)do if(u--,d--,0>d||F[u]!==re[d]){var le=`
`+F[u].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=u&&0<=d);break}}}finally{ho=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ti(o):""}function Ul(r){switch(r.tag){case 26:case 27:case 5:return Ti(r.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return mo(r.type,!1);case 11:return mo(r.type.render,!1);case 1:return mo(r.type,!0);case 31:return Ti("Activity");default:return""}}function po(r){try{var a="";do a+=Ul(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Vn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Fl(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function lm(r){var a=Fl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return d.call(this)},set:function(w){u=""+w,g.call(this,w)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function go(r){r._valueTracker||(r._valueTracker=lm(r))}function zl(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=Fl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function ps(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var um=/[\n"\\]/g;function Gt(r){return r.replace(um,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Wn(r,a,o,u,d,g,w,R){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),a!=null?w==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Vn(a)):r.value!==""+Vn(a)&&(r.value=""+Vn(a)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),a!=null?ua(r,w,Vn(a)):o!=null?ua(r,w,Vn(o)):u!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+Vn(R):r.removeAttribute("name")}function gs(r,a,o,u,d,g,w,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;o=o!=null?""+Vn(o):"",a=a!=null?""+Vn(a):o,R||a===r.value||(r.value=a),r.defaultValue=a}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=R?r.checked:!!u,r.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function ua(r,a,o){a==="number"&&ps(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Si(r,a,o,u){if(r=r.options,a){a={};for(var d=0;d<o.length;d++)a["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=a.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Vn(o),a=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}a!==null||r[d].disabled||(a=r[d])}a!==null&&(a.selected=!0)}}function vt(r,a,o){if(a!=null&&(a=""+Vn(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+Vn(o):""}function vs(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(be(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=Vn(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function hr(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $c(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||ys.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function Bl(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in a)u=a[d],a.hasOwnProperty(d)&&o[d]!==u&&$c(r,d,u)}else for(var g in a)a.hasOwnProperty(g)&&$c(r,g,a[g])}function Hl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(r){return fm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var wi=null;function dr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ai=null,xi=null;function ql(r){var a=Fr(r);if(a&&(r=a.stateNode)){var o=r[$t]||null;e:switch(r=a.stateNode,a.type){case"input":if(Wn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Gt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var d=u[$t]||null;if(!d)throw Error(i(90));Wn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&zl(u)}break e;case"textarea":vt(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Si(r,!!o.multiple,a,!1)}}}var Hr=!1;function Gc(r,a,o){if(Hr)return r(a,o);Hr=!0;try{var u=r(a);return u}finally{if(Hr=!1,(Ai!==null||xi!==null)&&(Ff(),Ai&&(a=Ai,r=xi,xi=Ai=null,ql(a),r)))for(a=0;a<r.length;a++)ql(r[a])}}function _s(r,a){var o=r.stateNode;if(o===null)return null;var u=o[$t]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(Or)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){mr=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{mr=!1}var qr=null,ca=null,Ri=null;function $l(){if(Ri)return Ri;var r,a=ca,o=a.length,u,d="value"in qr?qr.value:qr.textContent,g=d.length;for(r=0;r<o&&a[r]===d[r];r++);var w=o-r;for(u=1;u<=w&&a[o-u]===d[g-u];u++);return Ri=d.slice(r,1<u?1-u:void 0)}function $r(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Gr(){return!0}function Gl(){return!1}function cn(r){function a(o,u,d,g,w){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(o=r[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Gr:Gl,this.isPropagationStopped=Gl,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),a}var ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=cn(ct),Es=v({},ct,{view:0,detail:0}),Yc=cn(Es),_o,bo,Yr,Ts=v({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yr&&(Yr&&r.type==="mousemove"?(_o=r.screenX-Yr.screenX,bo=r.screenY-Yr.screenY):bo=_o=0,Yr=r),_o)},movementY:function(r){return"movementY"in r?r.movementY:bo}}),pr=cn(Ts),Kc=v({},Ts,{dataTransfer:0}),hm=cn(Kc),Ss=v({},Es,{relatedTarget:0}),Eo=cn(Ss),Yl=v({},ct,{animationName:0,elapsedTime:0,pseudoElement:0}),To=cn(Yl),Qc=v({},ct,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),So=cn(Qc),dm=v({},ct,{data:0}),Kl=cn(dm),ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ql(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Wc[r])?!!a[r]:!1}function As(){return Ql}var Zc=v({},Es,{key:function(r){if(r.key){var a=ws[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=$r(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Xc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(r){return r.type==="keypress"?$r(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$r(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),wo=cn(Zc),Jc=v({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xl=cn(Jc),Ci=v({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),ef=cn(Ci),tf=v({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),nf=cn(tf),rf=v({},Ts,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ao=cn(rf),Ln=v({},ct,{newState:0,oldState:0}),af=cn(Ln),sf=[9,13,27,32],Kr=Or&&"CompositionEvent"in window,f=null;Or&&"documentMode"in document&&(f=document.documentMode);var y=Or&&"TextEvent"in window&&!f,E=Or&&(!Kr||f&&8<f&&11>=f),O=" ",J=!1;function se(r,a){switch(r){case"keyup":return sf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var tt=!1;function tn(r,a){switch(r){case"compositionend":return ve(a);case"keypress":return a.which!==32?null:(J=!0,O);case"textInput":return r=a.data,r===O&&J?null:r;default:return null}}function nt(r,a){if(tt)return r==="compositionend"||!Kr&&se(r,a)?(r=$l(),Ri=ca=qr=null,tt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nn(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!fn[r.type]:a==="textarea"}function Ii(r,a,o,u){Ai?xi?xi.push(u):xi=[u]:Ai=u,a=Gf(a,"onChange"),0<a.length&&(o=new yo("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var vn=null,Qr=null;function Wl(r){aE(r,0)}function of(r){var a=zr(r);if(zl(a))return r}function x0(r,a){if(r==="change")return a}var R0=!1;if(Or){var mm;if(Or){var pm="oninput"in document;if(!pm){var C0=document.createElement("div");C0.setAttribute("oninput","return;"),pm=typeof C0.oninput=="function"}mm=pm}else mm=!1;R0=mm&&(!document.documentMode||9<document.documentMode)}function I0(){vn&&(vn.detachEvent("onpropertychange",O0),Qr=vn=null)}function O0(r){if(r.propertyName==="value"&&of(Qr)){var a=[];Ii(a,Qr,r,dr(r)),Gc(Wl,a)}}function RC(r,a,o){r==="focusin"?(I0(),vn=a,Qr=o,vn.attachEvent("onpropertychange",O0)):r==="focusout"&&I0()}function CC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return of(Qr)}function IC(r,a){if(r==="click")return of(a)}function OC(r,a){if(r==="input"||r==="change")return of(a)}function NC(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Zn=typeof Object.is=="function"?Object.is:NC;function Zl(r,a){if(Zn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!at.call(a,d)||!Zn(r[d],a[d]))return!1}return!0}function N0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function D0(r,a){var o=N0(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=N0(o)}}function P0(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?P0(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function M0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=ps(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=ps(r.document)}return a}function gm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var DC=Or&&"documentMode"in document&&11>=document.documentMode,xo=null,vm=null,Jl=null,ym=!1;function k0(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ym||xo==null||xo!==ps(u)||(u=xo,"selectionStart"in u&&gm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Jl&&Zl(Jl,u)||(Jl=u,u=Gf(vm,"onSelect"),0<u.length&&(a=new yo("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=xo)))}function xs(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var Ro={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},_m={},V0={};Or&&(V0=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Rs(r){if(_m[r])return _m[r];if(!Ro[r])return r;var a=Ro[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in V0)return _m[r]=a[o];return r}var L0=Rs("animationend"),j0=Rs("animationiteration"),U0=Rs("animationstart"),PC=Rs("transitionrun"),MC=Rs("transitionstart"),kC=Rs("transitioncancel"),F0=Rs("transitionend"),z0=new Map,bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bm.push("scrollEnd");function Nr(r,a){z0.set(r,a),Ir(a,[r])}var B0=new WeakMap;function gr(r,a){if(typeof r=="object"&&r!==null){var o=B0.get(r);return o!==void 0?o:(a={value:r,source:a,stack:po(a)},B0.set(r,a),a)}return{value:r,source:a,stack:po(a)}}var vr=[],Co=0,Em=0;function lf(){for(var r=Co,a=Em=Co=0;a<r;){var o=vr[a];vr[a++]=null;var u=vr[a];vr[a++]=null;var d=vr[a];vr[a++]=null;var g=vr[a];if(vr[a++]=null,u!==null&&d!==null){var w=u.pending;w===null?d.next=d:(d.next=w.next,w.next=d),u.pending=d}g!==0&&H0(o,d,g)}}function uf(r,a,o,u){vr[Co++]=r,vr[Co++]=a,vr[Co++]=o,vr[Co++]=u,Em|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Tm(r,a,o,u){return uf(r,a,o,u),cf(r)}function Io(r,a){return uf(r,null,null,a),cf(r)}function H0(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,d&&a!==null&&(d=31-qt(o),r=g.hiddenUpdates,u=r[d],u===null?r[d]=[a]:u.push(a),a.lane=o|536870912),g):null}function cf(r){if(50<wu)throw wu=0,Cp=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Oo={};function VC(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(r,a,o,u){return new VC(r,a,o,u)}function Sm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Oi(r,a){var o=r.alternate;return o===null?(o=Jn(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function q0(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function ff(r,a,o,u,d,g){var w=0;if(u=r,typeof r=="function")Sm(r)&&(w=1);else if(typeof r=="string")w=j2(r,o,ne.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case A:return r=Jn(31,o,a,d),r.elementType=A,r.lanes=g,r;case k:return Cs(o.children,d,g,a);case j:w=8,d|=24;break;case C:return r=Jn(12,o,a,d|2),r.elementType=C,r.lanes=g,r;case K:return r=Jn(13,o,a,d),r.elementType=K,r.lanes=g,r;case oe:return r=Jn(19,o,a,d),r.elementType=oe,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case G:case H:w=10;break e;case X:w=9;break e;case te:w=11;break e;case D:w=14;break e;case T:w=16,u=null;break e}w=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=Jn(w,o,a,d),a.elementType=r,a.type=u,a.lanes=g,a}function Cs(r,a,o,u){return r=Jn(7,r,u,a),r.lanes=o,r}function wm(r,a,o){return r=Jn(6,r,null,a),r.lanes=o,r}function Am(r,a,o){return a=Jn(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var No=[],Do=0,hf=null,df=0,yr=[],_r=0,Is=null,Ni=1,Di="";function Os(r,a){No[Do++]=df,No[Do++]=hf,hf=r,df=a}function $0(r,a,o){yr[_r++]=Ni,yr[_r++]=Di,yr[_r++]=Is,Is=r;var u=Ni;r=Di;var d=32-qt(u)-1;u&=~(1<<d),o+=1;var g=32-qt(a)+d;if(30<g){var w=d-d%5;g=(u&(1<<w)-1).toString(32),u>>=w,d-=w,Ni=1<<32-qt(a)+d|o<<d|u,Di=g+r}else Ni=1<<g|o<<d|u,Di=r}function xm(r){r.return!==null&&(Os(r,1),$0(r,1,0))}function Rm(r){for(;r===hf;)hf=No[--Do],No[Do]=null,df=No[--Do],No[Do]=null;for(;r===Is;)Is=yr[--_r],yr[_r]=null,Di=yr[--_r],yr[_r]=null,Ni=yr[--_r],yr[_r]=null}var jn=null,Mt=null,ot=!1,Ns=null,Xr=!1,Cm=Error(i(519));function Ds(r){var a=Error(i(418,""));throw nu(gr(a,r)),Cm}function G0(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[en]=r,a[$t]=u,o){case"dialog":Xe("cancel",a),Xe("close",a);break;case"iframe":case"object":case"embed":Xe("load",a);break;case"video":case"audio":for(o=0;o<xu.length;o++)Xe(xu[o],a);break;case"source":Xe("error",a);break;case"img":case"image":case"link":Xe("error",a),Xe("load",a);break;case"details":Xe("toggle",a);break;case"input":Xe("invalid",a),gs(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),go(a);break;case"select":Xe("invalid",a);break;case"textarea":Xe("invalid",a),vs(a,u.value,u.defaultValue,u.children),go(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||uE(a.textContent,o)?(u.popover!=null&&(Xe("beforetoggle",a),Xe("toggle",a)),u.onScroll!=null&&Xe("scroll",a),u.onScrollEnd!=null&&Xe("scrollend",a),u.onClick!=null&&(a.onclick=Yf),a=!0):a=!1,a||Ds(r)}function Y0(r){for(jn=r.return;jn;)switch(jn.tag){case 5:case 13:Xr=!1;return;case 27:case 3:Xr=!0;return;default:jn=jn.return}}function eu(r){if(r!==jn)return!1;if(!ot)return Y0(r),ot=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||qp(r.type,r.memoizedProps)),o=!o),o&&Mt&&Ds(r),Y0(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){Mt=Pr(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}Mt=null}}else a===27?(a=Mt,xa(r.type)?(r=Kp,Kp=null,Mt=r):Mt=a):Mt=jn?Pr(r.stateNode.nextSibling):null;return!0}function tu(){Mt=jn=null,ot=!1}function K0(){var r=Ns;return r!==null&&($n===null?$n=r:$n.push.apply($n,r),Ns=null),r}function nu(r){Ns===null?Ns=[r]:Ns.push(r)}var Im=B(null),Ps=null,Pi=null;function fa(r,a,o){$(Im,a._currentValue),a._currentValue=o}function Mi(r){r._currentValue=Im.current,Z(Im)}function Om(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function Nm(r,a,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var w=d.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=d;for(var F=0;F<a.length;F++)if(R.context===a[F]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),Om(g.return,o,r),u||(w=null);break e}g=R.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(i(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),Om(w,o,r),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===r){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function ru(r,a,o,u){r=null;for(var d=a,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var R=d.type;Zn(d.pendingProps.value,w.value)||(r!==null?r.push(R):r=[R])}}else if(d===Le.current){if(w=d.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Du):r=[Du])}d=d.return}r!==null&&Nm(a,r,o,u),a.flags|=262144}function mf(r){for(r=r.firstContext;r!==null;){if(!Zn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ms(r){Ps=r,Pi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function An(r){return Q0(Ps,r)}function pf(r,a){return Ps===null&&Ms(r),Q0(r,a)}function Q0(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Pi===null){if(r===null)throw Error(i(308));Pi=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Pi=Pi.next=a;return o}var LC=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},jC=n.unstable_scheduleCallback,UC=n.unstable_NormalPriority,rn={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dm(){return{controller:new LC,data:new Map,refCount:0}}function iu(r){r.refCount--,r.refCount===0&&jC(UC,function(){r.controller.abort()})}var au=null,Pm=0,Po=0,Mo=null;function FC(r,a){if(au===null){var o=au=[];Pm=0,Po=kp(),Mo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Pm++,a.then(X0,X0),a}function X0(){if(--Pm===0&&au!==null){Mo!==null&&(Mo.status="fulfilled");var r=au;au=null,Po=0,Mo=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function zC(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var d=0;d<o.length;d++)(0,o[d])(a)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var W0=q.S;q.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&FC(r,a),W0!==null&&W0(r,a)};var ks=B(null);function Mm(){var r=ks.current;return r!==null?r:Tt.pooledCache}function gf(r,a){a===null?$(ks,ks.current):$(ks,a.pool)}function Z0(){var r=Mm();return r===null?null:{parent:rn._currentValue,pool:r}}var su=Error(i(460)),J0=Error(i(474)),vf=Error(i(542)),km={then:function(){}};function e_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function yf(){}function t_(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(yf,yf),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r_(r),r;default:if(typeof a.status=="string")a.then(yf,yf);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=u}},function(u){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r_(r),r}throw ou=a,su}}var ou=null;function n_(){if(ou===null)throw Error(i(459));var r=ou;return ou=null,r}function r_(r){if(r===su||r===vf)throw Error(i(483))}var ha=!1;function Vm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function da(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ma(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(pt&2)!==0){var d=u.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a,a=cf(r),H0(r,null,o),a}return uf(r,u,a,o),cf(r)}function lu(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,Vl(r,o)}}function jm(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?d=g=a:g=g.next=a}else d=g=a;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var Um=!1;function uu(){if(Um){var r=Mo;if(r!==null)throw r}}function cu(r,a,o,u){Um=!1;var d=r.updateQueue;ha=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var F=R,re=F.next;F.next=null,w===null?g=re:w.next=re,w=F;var le=r.alternate;le!==null&&(le=le.updateQueue,R=le.lastBaseUpdate,R!==w&&(R===null?le.firstBaseUpdate=re:R.next=re,le.lastBaseUpdate=F))}if(g!==null){var fe=d.baseState;w=0,le=re=F=null,R=g;do{var ie=R.lane&-536870913,ae=ie!==R.lane;if(ae?(rt&ie)===ie:(u&ie)===ie){ie!==0&&ie===Po&&(Um=!0),le!==null&&(le=le.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var ke=r,Oe=R;ie=a;var bt=o;switch(Oe.tag){case 1:if(ke=Oe.payload,typeof ke=="function"){fe=ke.call(bt,fe,ie);break e}fe=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Oe.payload,ie=typeof ke=="function"?ke.call(bt,fe,ie):ke,ie==null)break e;fe=v({},fe,ie);break e;case 2:ha=!0}}ie=R.callback,ie!==null&&(r.flags|=64,ae&&(r.flags|=8192),ae=d.callbacks,ae===null?d.callbacks=[ie]:ae.push(ie))}else ae={lane:ie,tag:R.tag,payload:R.payload,callback:R.callback,next:null},le===null?(re=le=ae,F=fe):le=le.next=ae,w|=ie;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;ae=R,R=ae.next,ae.next=null,d.lastBaseUpdate=ae,d.shared.pending=null}}while(!0);le===null&&(F=fe),d.baseState=F,d.firstBaseUpdate=re,d.lastBaseUpdate=le,g===null&&(d.shared.lanes=0),Ta|=w,r.lanes=w,r.memoizedState=fe}}function i_(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function a_(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)i_(o[r],a)}var ko=B(null),_f=B(0);function s_(r,a){r=zi,$(_f,r),$(ko,a),zi=r|a.baseLanes}function Fm(){$(_f,zi),$(ko,ko.current)}function zm(){zi=_f.current,Z(ko),Z(_f)}var pa=0,$e=null,yt=null,Yt=null,bf=!1,Vo=!1,Vs=!1,Ef=0,fu=0,Lo=null,BC=0;function zt(){throw Error(i(321))}function Bm(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!Zn(r[o],a[o]))return!1;return!0}function Hm(r,a,o,u,d,g){return pa=g,$e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,q.H=r===null||r.memoizedState===null?H_:q_,Vs=!1,g=o(u,d),Vs=!1,Vo&&(g=l_(a,o,u,d)),o_(r),g}function o_(r){q.H=Rf;var a=yt!==null&&yt.next!==null;if(pa=0,Yt=yt=$e=null,bf=!1,fu=0,Lo=null,a)throw Error(i(300));r===null||hn||(r=r.dependencies,r!==null&&mf(r)&&(hn=!0))}function l_(r,a,o,u){$e=r;var d=0;do{if(Vo&&(Lo=null),fu=0,Vo=!1,25<=d)throw Error(i(301));if(d+=1,Yt=yt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=QC,g=a(o,u)}while(Vo);return g}function HC(){var r=q.H,a=r.useState()[0];return a=typeof a.then=="function"?hu(a):a,r=r.useState()[0],(yt!==null?yt.memoizedState:null)!==r&&($e.flags|=1024),a}function qm(){var r=Ef!==0;return Ef=0,r}function $m(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function Gm(r){if(bf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}bf=!1}pa=0,Yt=yt=$e=null,Vo=!1,fu=Ef=0,Lo=null}function Hn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?$e.memoizedState=Yt=r:Yt=Yt.next=r,Yt}function Kt(){if(yt===null){var r=$e.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var a=Yt===null?$e.memoizedState:Yt.next;if(a!==null)Yt=a,yt=r;else{if(r===null)throw $e.alternate===null?Error(i(467)):Error(i(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Yt===null?$e.memoizedState=Yt=r:Yt=Yt.next=r}return Yt}function Ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(r){var a=fu;return fu+=1,Lo===null&&(Lo=[]),r=t_(Lo,r,a),a=$e,(Yt===null?a.memoizedState:Yt.next)===null&&(a=a.alternate,q.H=a===null||a.memoizedState===null?H_:q_),r}function Tf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return hu(r);if(r.$$typeof===H)return An(r)}throw Error(i(438,String(r)))}function Km(r){var a=null,o=$e.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Ym(),$e.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=I;return a.index++,o}function ki(r,a){return typeof a=="function"?a(r):a}function Sf(r){var a=Kt();return Qm(a,yt,r)}function Qm(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,g=u.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}a.baseQueue=d=g,u.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{a=d.next;var R=w=null,F=null,re=a,le=!1;do{var fe=re.lane&-536870913;if(fe!==re.lane?(rt&fe)===fe:(pa&fe)===fe){var ie=re.revertLane;if(ie===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),fe===Po&&(le=!0);else if((pa&ie)===ie){re=re.next,ie===Po&&(le=!0);continue}else fe={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},F===null?(R=F=fe,w=g):F=F.next=fe,$e.lanes|=ie,Ta|=ie;fe=re.action,Vs&&o(g,fe),g=re.hasEagerState?re.eagerState:o(g,fe)}else ie={lane:fe,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},F===null?(R=F=ie,w=g):F=F.next=ie,$e.lanes|=fe,Ta|=fe;re=re.next}while(re!==null&&re!==a);if(F===null?w=g:F.next=R,!Zn(g,r.memoizedState)&&(hn=!0,le&&(o=Mo,o!==null)))throw o;r.memoizedState=g,r.baseState=w,r.baseQueue=F,u.lastRenderedState=g}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Xm(r){var a=Kt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,g=a.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do g=r(g,w.action),w=w.next;while(w!==d);Zn(g,a.memoizedState)||(hn=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,u]}function u_(r,a,o){var u=$e,d=Kt(),g=ot;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=a();var w=!Zn((yt||d).memoizedState,o);w&&(d.memoizedState=o,hn=!0),d=d.queue;var R=h_.bind(null,u,d,r);if(du(2048,8,R,[r]),d.getSnapshot!==a||w||Yt!==null&&Yt.memoizedState.tag&1){if(u.flags|=2048,jo(9,wf(),f_.bind(null,u,d,o,a),null),Tt===null)throw Error(i(349));g||(pa&124)!==0||c_(u,a,o)}return o}function c_(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=$e.updateQueue,a===null?(a=Ym(),$e.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function f_(r,a,o,u){a.value=o,a.getSnapshot=u,d_(a)&&m_(r)}function h_(r,a,o){return o(function(){d_(a)&&m_(r)})}function d_(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!Zn(r,o)}catch{return!0}}function m_(r){var a=Io(r,2);a!==null&&ir(a,r,2)}function Wm(r){var a=Hn();if(typeof r=="function"){var o=r;if(r=o(),Vs){It(!0);try{o()}finally{It(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:r},a}function p_(r,a,o,u){return r.baseState=o,Qm(r,yt,typeof u=="function"?u:ki)}function qC(r,a,o,u,d){if(xf(r))throw Error(i(485));if(r=a.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};q.T!==null?o(!0):g.isTransition=!1,u(g),o=a.pending,o===null?(g.next=a.pending=g,g_(a,g)):(g.next=o.next,a.pending=o.next=g)}}function g_(r,a){var o=a.action,u=a.payload,d=r.state;if(a.isTransition){var g=q.T,w={};q.T=w;try{var R=o(d,u),F=q.S;F!==null&&F(w,R),v_(r,a,R)}catch(re){Zm(r,a,re)}finally{q.T=g}}else try{g=o(d,u),v_(r,a,g)}catch(re){Zm(r,a,re)}}function v_(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){y_(r,a,u)},function(u){return Zm(r,a,u)}):y_(r,a,o)}function y_(r,a,o){a.status="fulfilled",a.value=o,__(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,g_(r,o)))}function Zm(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,__(a),a=a.next;while(a!==u)}r.action=null}function __(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function b_(r,a){return a}function E_(r,a){if(ot){var o=Tt.formState;if(o!==null){e:{var u=$e;if(ot){if(Mt){t:{for(var d=Mt,g=Xr;d.nodeType!==8;){if(!g){d=null;break t}if(d=Pr(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Mt=Pr(d.nextSibling),u=d.data==="F!";break e}}Ds(u)}u=!1}u&&(a=o[0])}}return o=Hn(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b_,lastRenderedState:a},o.queue=u,o=F_.bind(null,$e,u),u.dispatch=o,u=Wm(!1),g=rp.bind(null,$e,!1,u.queue),u=Hn(),d={state:a,dispatch:null,action:r,pending:null},u.queue=d,o=qC.bind(null,$e,d,g,o),d.dispatch=o,u.memoizedState=r,[a,o,!1]}function T_(r){var a=Kt();return S_(a,yt,r)}function S_(r,a,o){if(a=Qm(r,a,b_)[0],r=Sf(ki)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=hu(a)}catch(w){throw w===su?vf:w}else u=a;a=Kt();var d=a.queue,g=d.dispatch;return o!==a.memoizedState&&($e.flags|=2048,jo(9,wf(),$C.bind(null,d,o),null)),[u,g,r]}function $C(r,a){r.action=a}function w_(r){var a=Kt(),o=yt;if(o!==null)return S_(a,o,r);Kt(),a=a.memoizedState,o=Kt();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function jo(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=$e.updateQueue,a===null&&(a=Ym(),$e.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function wf(){return{destroy:void 0,resource:void 0}}function A_(){return Kt().memoizedState}function Af(r,a,o,u){var d=Hn();u=u===void 0?null:u,$e.flags|=r,d.memoizedState=jo(1|a,wf(),o,u)}function du(r,a,o,u){var d=Kt();u=u===void 0?null:u;var g=d.memoizedState.inst;yt!==null&&u!==null&&Bm(u,yt.memoizedState.deps)?d.memoizedState=jo(a,g,o,u):($e.flags|=r,d.memoizedState=jo(1|a,g,o,u))}function x_(r,a){Af(8390656,8,r,a)}function R_(r,a){du(2048,8,r,a)}function C_(r,a){return du(4,2,r,a)}function I_(r,a){return du(4,4,r,a)}function O_(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function N_(r,a,o){o=o!=null?o.concat([r]):null,du(4,4,O_.bind(null,a,r),o)}function Jm(){}function D_(r,a){var o=Kt();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Bm(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function P_(r,a){var o=Kt();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Bm(a,u[1]))return u[0];if(u=r(),Vs){It(!0);try{r()}finally{It(!1)}}return o.memoizedState=[u,a],u}function ep(r,a,o){return o===void 0||(pa&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=Vb(),$e.lanes|=r,Ta|=r,o)}function M_(r,a,o,u){return Zn(o,a)?o:ko.current!==null?(r=ep(r,o,u),Zn(r,a)||(hn=!0),r):(pa&42)===0?(hn=!0,r.memoizedState=o):(r=Vb(),$e.lanes|=r,Ta|=r,a)}function k_(r,a,o,u,d){var g=P.p;P.p=g!==0&&8>g?g:8;var w=q.T,R={};q.T=R,rp(r,!1,a,o);try{var F=d(),re=q.S;if(re!==null&&re(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var le=zC(F,u);mu(r,a,le,rr(r))}else mu(r,a,u,rr(r))}catch(fe){mu(r,a,{then:function(){},status:"rejected",reason:fe},rr())}finally{P.p=g,q.T=w}}function GC(){}function tp(r,a,o,u){if(r.tag!==5)throw Error(i(476));var d=V_(r).queue;k_(r,d,a,U,o===null?GC:function(){return L_(r),o(u)})}function V_(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:U},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function L_(r){var a=V_(r).next.queue;mu(r,a,{},rr())}function np(){return An(Du)}function j_(){return Kt().memoizedState}function U_(){return Kt().memoizedState}function YC(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=rr();r=da(o);var u=ma(a,r,o);u!==null&&(ir(u,a,o),lu(u,a,o)),a={cache:Dm()},r.payload=a;return}a=a.return}}function KC(r,a,o){var u=rr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},xf(r)?z_(a,o):(o=Tm(r,a,o,u),o!==null&&(ir(o,r,u),B_(o,a,u)))}function F_(r,a,o){var u=rr();mu(r,a,o,u)}function mu(r,a,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(xf(r))z_(a,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var w=a.lastRenderedState,R=g(w,o);if(d.hasEagerState=!0,d.eagerState=R,Zn(R,w))return uf(r,a,d,0),Tt===null&&lf(),!1}catch{}finally{}if(o=Tm(r,a,d,u),o!==null)return ir(o,r,u),B_(o,a,u),!0}return!1}function rp(r,a,o,u){if(u={lane:2,revertLane:kp(),action:u,hasEagerState:!1,eagerState:null,next:null},xf(r)){if(a)throw Error(i(479))}else a=Tm(r,o,u,2),a!==null&&ir(a,r,2)}function xf(r){var a=r.alternate;return r===$e||a!==null&&a===$e}function z_(r,a){Vo=bf=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function B_(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,Vl(r,o)}}var Rf={readContext:An,use:Tf,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},H_={readContext:An,use:Tf,useCallback:function(r,a){return Hn().memoizedState=[r,a===void 0?null:a],r},useContext:An,useEffect:x_,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,Af(4194308,4,O_.bind(null,a,r),o)},useLayoutEffect:function(r,a){return Af(4194308,4,r,a)},useInsertionEffect:function(r,a){Af(4,2,r,a)},useMemo:function(r,a){var o=Hn();a=a===void 0?null:a;var u=r();if(Vs){It(!0);try{r()}finally{It(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=Hn();if(o!==void 0){var d=o(a);if(Vs){It(!0);try{o(a)}finally{It(!1)}}}else d=a;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=KC.bind(null,$e,r),[u.memoizedState,r]},useRef:function(r){var a=Hn();return r={current:r},a.memoizedState=r},useState:function(r){r=Wm(r);var a=r.queue,o=F_.bind(null,$e,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:Jm,useDeferredValue:function(r,a){var o=Hn();return ep(o,r,a)},useTransition:function(){var r=Wm(!1);return r=k_.bind(null,$e,r.queue,!0,!1),Hn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=$e,d=Hn();if(ot){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Tt===null)throw Error(i(349));(rt&124)!==0||c_(u,a,o)}d.memoizedState=o;var g={value:o,getSnapshot:a};return d.queue=g,x_(h_.bind(null,u,g,r),[r]),u.flags|=2048,jo(9,wf(),f_.bind(null,u,g,o,a),null),o},useId:function(){var r=Hn(),a=Tt.identifierPrefix;if(ot){var o=Di,u=Ni;o=(u&~(1<<32-qt(u)-1)).toString(32)+o,a="«"+a+"R"+o,o=Ef++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=BC++,a="«"+a+"r"+o.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:np,useFormState:E_,useActionState:E_,useOptimistic:function(r){var a=Hn();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=rp.bind(null,$e,!0,o),o.dispatch=a,[r,a]},useMemoCache:Km,useCacheRefresh:function(){return Hn().memoizedState=YC.bind(null,$e)}},q_={readContext:An,use:Tf,useCallback:D_,useContext:An,useEffect:R_,useImperativeHandle:N_,useInsertionEffect:C_,useLayoutEffect:I_,useMemo:P_,useReducer:Sf,useRef:A_,useState:function(){return Sf(ki)},useDebugValue:Jm,useDeferredValue:function(r,a){var o=Kt();return M_(o,yt.memoizedState,r,a)},useTransition:function(){var r=Sf(ki)[0],a=Kt().memoizedState;return[typeof r=="boolean"?r:hu(r),a]},useSyncExternalStore:u_,useId:j_,useHostTransitionStatus:np,useFormState:T_,useActionState:T_,useOptimistic:function(r,a){var o=Kt();return p_(o,yt,r,a)},useMemoCache:Km,useCacheRefresh:U_},QC={readContext:An,use:Tf,useCallback:D_,useContext:An,useEffect:R_,useImperativeHandle:N_,useInsertionEffect:C_,useLayoutEffect:I_,useMemo:P_,useReducer:Xm,useRef:A_,useState:function(){return Xm(ki)},useDebugValue:Jm,useDeferredValue:function(r,a){var o=Kt();return yt===null?ep(o,r,a):M_(o,yt.memoizedState,r,a)},useTransition:function(){var r=Xm(ki)[0],a=Kt().memoizedState;return[typeof r=="boolean"?r:hu(r),a]},useSyncExternalStore:u_,useId:j_,useHostTransitionStatus:np,useFormState:w_,useActionState:w_,useOptimistic:function(r,a){var o=Kt();return yt!==null?p_(o,yt,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Km,useCacheRefresh:U_},Uo=null,pu=0;function Cf(r){var a=pu;return pu+=1,Uo===null&&(Uo=[]),t_(Uo,r,a)}function gu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function If(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function $_(r){var a=r._init;return a(r._payload)}function G_(r){function a(W,Y){if(r){var ee=W.deletions;ee===null?(W.deletions=[Y],W.flags|=16):ee.push(Y)}}function o(W,Y){if(!r)return null;for(;Y!==null;)a(W,Y),Y=Y.sibling;return null}function u(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function d(W,Y){return W=Oi(W,Y),W.index=0,W.sibling=null,W}function g(W,Y,ee){return W.index=ee,r?(ee=W.alternate,ee!==null?(ee=ee.index,ee<Y?(W.flags|=67108866,Y):ee):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function w(W){return r&&W.alternate===null&&(W.flags|=67108866),W}function R(W,Y,ee,ue){return Y===null||Y.tag!==6?(Y=wm(ee,W.mode,ue),Y.return=W,Y):(Y=d(Y,ee),Y.return=W,Y)}function F(W,Y,ee,ue){var Ee=ee.type;return Ee===k?le(W,Y,ee.props.children,ue,ee.key):Y!==null&&(Y.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===T&&$_(Ee)===Y.type)?(Y=d(Y,ee.props),gu(Y,ee),Y.return=W,Y):(Y=ff(ee.type,ee.key,ee.props,null,W.mode,ue),gu(Y,ee),Y.return=W,Y)}function re(W,Y,ee,ue){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=Am(ee,W.mode,ue),Y.return=W,Y):(Y=d(Y,ee.children||[]),Y.return=W,Y)}function le(W,Y,ee,ue,Ee){return Y===null||Y.tag!==7?(Y=Cs(ee,W.mode,ue,Ee),Y.return=W,Y):(Y=d(Y,ee),Y.return=W,Y)}function fe(W,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=wm(""+Y,W.mode,ee),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return ee=ff(Y.type,Y.key,Y.props,null,W.mode,ee),gu(ee,Y),ee.return=W,ee;case N:return Y=Am(Y,W.mode,ee),Y.return=W,Y;case T:var ue=Y._init;return Y=ue(Y._payload),fe(W,Y,ee)}if(be(Y)||L(Y))return Y=Cs(Y,W.mode,ee,null),Y.return=W,Y;if(typeof Y.then=="function")return fe(W,Cf(Y),ee);if(Y.$$typeof===H)return fe(W,pf(W,Y),ee);If(W,Y)}return null}function ie(W,Y,ee,ue){var Ee=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ee!==null?null:R(W,Y,""+ee,ue);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return ee.key===Ee?F(W,Y,ee,ue):null;case N:return ee.key===Ee?re(W,Y,ee,ue):null;case T:return Ee=ee._init,ee=Ee(ee._payload),ie(W,Y,ee,ue)}if(be(ee)||L(ee))return Ee!==null?null:le(W,Y,ee,ue,null);if(typeof ee.then=="function")return ie(W,Y,Cf(ee),ue);if(ee.$$typeof===H)return ie(W,Y,pf(W,ee),ue);If(W,ee)}return null}function ae(W,Y,ee,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return W=W.get(ee)||null,R(Y,W,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case S:return W=W.get(ue.key===null?ee:ue.key)||null,F(Y,W,ue,Ee);case N:return W=W.get(ue.key===null?ee:ue.key)||null,re(Y,W,ue,Ee);case T:var Ke=ue._init;return ue=Ke(ue._payload),ae(W,Y,ee,ue,Ee)}if(be(ue)||L(ue))return W=W.get(ee)||null,le(Y,W,ue,Ee,null);if(typeof ue.then=="function")return ae(W,Y,ee,Cf(ue),Ee);if(ue.$$typeof===H)return ae(W,Y,ee,pf(Y,ue),Ee);If(Y,ue)}return null}function ke(W,Y,ee,ue){for(var Ee=null,Ke=null,Ae=Y,De=Y=0,mn=null;Ae!==null&&De<ee.length;De++){Ae.index>De?(mn=Ae,Ae=null):mn=Ae.sibling;var st=ie(W,Ae,ee[De],ue);if(st===null){Ae===null&&(Ae=mn);break}r&&Ae&&st.alternate===null&&a(W,Ae),Y=g(st,Y,De),Ke===null?Ee=st:Ke.sibling=st,Ke=st,Ae=mn}if(De===ee.length)return o(W,Ae),ot&&Os(W,De),Ee;if(Ae===null){for(;De<ee.length;De++)Ae=fe(W,ee[De],ue),Ae!==null&&(Y=g(Ae,Y,De),Ke===null?Ee=Ae:Ke.sibling=Ae,Ke=Ae);return ot&&Os(W,De),Ee}for(Ae=u(Ae);De<ee.length;De++)mn=ae(Ae,W,De,ee[De],ue),mn!==null&&(r&&mn.alternate!==null&&Ae.delete(mn.key===null?De:mn.key),Y=g(mn,Y,De),Ke===null?Ee=mn:Ke.sibling=mn,Ke=mn);return r&&Ae.forEach(function(Na){return a(W,Na)}),ot&&Os(W,De),Ee}function Oe(W,Y,ee,ue){if(ee==null)throw Error(i(151));for(var Ee=null,Ke=null,Ae=Y,De=Y=0,mn=null,st=ee.next();Ae!==null&&!st.done;De++,st=ee.next()){Ae.index>De?(mn=Ae,Ae=null):mn=Ae.sibling;var Na=ie(W,Ae,st.value,ue);if(Na===null){Ae===null&&(Ae=mn);break}r&&Ae&&Na.alternate===null&&a(W,Ae),Y=g(Na,Y,De),Ke===null?Ee=Na:Ke.sibling=Na,Ke=Na,Ae=mn}if(st.done)return o(W,Ae),ot&&Os(W,De),Ee;if(Ae===null){for(;!st.done;De++,st=ee.next())st=fe(W,st.value,ue),st!==null&&(Y=g(st,Y,De),Ke===null?Ee=st:Ke.sibling=st,Ke=st);return ot&&Os(W,De),Ee}for(Ae=u(Ae);!st.done;De++,st=ee.next())st=ae(Ae,W,De,st.value,ue),st!==null&&(r&&st.alternate!==null&&Ae.delete(st.key===null?De:st.key),Y=g(st,Y,De),Ke===null?Ee=st:Ke.sibling=st,Ke=st);return r&&Ae.forEach(function(X2){return a(W,X2)}),ot&&Os(W,De),Ee}function bt(W,Y,ee,ue){if(typeof ee=="object"&&ee!==null&&ee.type===k&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:e:{for(var Ee=ee.key;Y!==null;){if(Y.key===Ee){if(Ee=ee.type,Ee===k){if(Y.tag===7){o(W,Y.sibling),ue=d(Y,ee.props.children),ue.return=W,W=ue;break e}}else if(Y.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===T&&$_(Ee)===Y.type){o(W,Y.sibling),ue=d(Y,ee.props),gu(ue,ee),ue.return=W,W=ue;break e}o(W,Y);break}else a(W,Y);Y=Y.sibling}ee.type===k?(ue=Cs(ee.props.children,W.mode,ue,ee.key),ue.return=W,W=ue):(ue=ff(ee.type,ee.key,ee.props,null,W.mode,ue),gu(ue,ee),ue.return=W,W=ue)}return w(W);case N:e:{for(Ee=ee.key;Y!==null;){if(Y.key===Ee)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){o(W,Y.sibling),ue=d(Y,ee.children||[]),ue.return=W,W=ue;break e}else{o(W,Y);break}else a(W,Y);Y=Y.sibling}ue=Am(ee,W.mode,ue),ue.return=W,W=ue}return w(W);case T:return Ee=ee._init,ee=Ee(ee._payload),bt(W,Y,ee,ue)}if(be(ee))return ke(W,Y,ee,ue);if(L(ee)){if(Ee=L(ee),typeof Ee!="function")throw Error(i(150));return ee=Ee.call(ee),Oe(W,Y,ee,ue)}if(typeof ee.then=="function")return bt(W,Y,Cf(ee),ue);if(ee.$$typeof===H)return bt(W,Y,pf(W,ee),ue);If(W,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Y!==null&&Y.tag===6?(o(W,Y.sibling),ue=d(Y,ee),ue.return=W,W=ue):(o(W,Y),ue=wm(ee,W.mode,ue),ue.return=W,W=ue),w(W)):o(W,Y)}return function(W,Y,ee,ue){try{pu=0;var Ee=bt(W,Y,ee,ue);return Uo=null,Ee}catch(Ae){if(Ae===su||Ae===vf)throw Ae;var Ke=Jn(29,Ae,null,W.mode);return Ke.lanes=ue,Ke.return=W,Ke}finally{}}}var Fo=G_(!0),Y_=G_(!1),br=B(null),Wr=null;function ga(r){var a=r.alternate;$(an,an.current&1),$(br,r),Wr===null&&(a===null||ko.current!==null||a.memoizedState!==null)&&(Wr=r)}function K_(r){if(r.tag===22){if($(an,an.current),$(br,r),Wr===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Wr=r)}}else va()}function va(){$(an,an.current),$(br,br.current)}function Vi(r){Z(br),Wr===r&&(Wr=null),Z(an)}var an=B(0);function Of(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Yp(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ip(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:v({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var ap={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=rr(),d=da(u);d.payload=a,o!=null&&(d.callback=o),a=ma(r,d,u),a!==null&&(ir(a,r,u),lu(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=rr(),d=da(u);d.tag=1,d.payload=a,o!=null&&(d.callback=o),a=ma(r,d,u),a!==null&&(ir(a,r,u),lu(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=rr(),u=da(o);u.tag=2,a!=null&&(u.callback=a),a=ma(r,u,o),a!==null&&(ir(a,r,o),lu(a,r,o))}};function Q_(r,a,o,u,d,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,w):a.prototype&&a.prototype.isPureReactComponent?!Zl(o,u)||!Zl(d,g):!0}function X_(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&ap.enqueueReplaceState(a,a.state,null)}function Ls(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=v({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var Nf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function W_(r){Nf(r)}function Z_(r){console.error(r)}function J_(r){Nf(r)}function Df(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function eb(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function sp(r,a,o){return o=da(o),o.tag=3,o.payload={element:null},o.callback=function(){Df(r,a)},o}function tb(r){return r=da(r),r.tag=3,r}function nb(r,a,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;r.payload=function(){return d(g)},r.callback=function(){eb(a,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){eb(a,o,u),typeof d!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function XC(r,a,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&ru(a,o,d,!0),o=br.current,o!==null){switch(o.tag){case 13:return Wr===null?Op():o.alternate===null&&kt===0&&(kt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===km?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Dp(r,u,d)),!1;case 22:return o.flags|=65536,u===km?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Dp(r,u,d)),!1}throw Error(i(435,o.tag))}return Dp(r,u,d),Op(),!1}if(ot)return a=br.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,u!==Cm&&(r=Error(i(422),{cause:u}),nu(gr(r,o)))):(u!==Cm&&(a=Error(i(423),{cause:u}),nu(gr(a,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=gr(u,o),d=sp(r.stateNode,u,d),jm(r,d),kt!==4&&(kt=2)),!1;var g=Error(i(520),{cause:u});if(g=gr(g,o),Su===null?Su=[g]:Su.push(g),kt!==4&&(kt=2),a===null)return!0;u=gr(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=sp(o.stateNode,u,r),jm(o,r),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Sa===null||!Sa.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=tb(d),nb(d,r,o,u),jm(o,d),!1}o=o.return}while(o!==null);return!1}var rb=Error(i(461)),hn=!1;function yn(r,a,o,u){a.child=r===null?Y_(a,null,o,u):Fo(a,r.child,o,u)}function ib(r,a,o,u,d){o=o.render;var g=a.ref;if("ref"in u){var w={};for(var R in u)R!=="ref"&&(w[R]=u[R])}else w=u;return Ms(a),u=Hm(r,a,o,w,g,d),R=qm(),r!==null&&!hn?($m(r,a,d),Li(r,a,d)):(ot&&R&&xm(a),a.flags|=1,yn(r,a,u,d),a.child)}function ab(r,a,o,u,d){if(r===null){var g=o.type;return typeof g=="function"&&!Sm(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,sb(r,a,g,u,d)):(r=ff(o.type,null,u,a,a.mode,d),r.ref=a.ref,r.return=a,a.child=r)}if(g=r.child,!mp(r,d)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:Zl,o(w,u)&&r.ref===a.ref)return Li(r,a,d)}return a.flags|=1,r=Oi(g,u),r.ref=a.ref,r.return=a,a.child=r}function sb(r,a,o,u,d){if(r!==null){var g=r.memoizedProps;if(Zl(g,u)&&r.ref===a.ref)if(hn=!1,a.pendingProps=u=g,mp(r,d))(r.flags&131072)!==0&&(hn=!0);else return a.lanes=r.lanes,Li(r,a,d)}return op(r,a,o,u,d)}function ob(r,a,o){var u=a.pendingProps,d=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(d=a.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;a.childLanes=g&~u}else a.childLanes=0,a.child=null;return lb(r,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&gf(a,g!==null?g.cachePool:null),g!==null?s_(a,g):Fm(),K_(a);else return a.lanes=a.childLanes=536870912,lb(r,a,g!==null?g.baseLanes|o:o,o)}else g!==null?(gf(a,g.cachePool),s_(a,g),va(),a.memoizedState=null):(r!==null&&gf(a,null),Fm(),va());return yn(r,a,d,o),a.child}function lb(r,a,o,u){var d=Mm();return d=d===null?null:{parent:rn._currentValue,pool:d},a.memoizedState={baseLanes:o,cachePool:d},r!==null&&gf(a,null),Fm(),K_(a),r!==null&&ru(r,a,u,!0),null}function Pf(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function op(r,a,o,u,d){return Ms(a),o=Hm(r,a,o,u,void 0,d),u=qm(),r!==null&&!hn?($m(r,a,d),Li(r,a,d)):(ot&&u&&xm(a),a.flags|=1,yn(r,a,o,d),a.child)}function ub(r,a,o,u,d,g){return Ms(a),a.updateQueue=null,o=l_(a,u,o,d),o_(r),u=qm(),r!==null&&!hn?($m(r,a,g),Li(r,a,g)):(ot&&u&&xm(a),a.flags|=1,yn(r,a,o,g),a.child)}function cb(r,a,o,u,d){if(Ms(a),a.stateNode===null){var g=Oo,w=o.contextType;typeof w=="object"&&w!==null&&(g=An(w)),g=new o(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ap,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},Vm(a),w=o.contextType,g.context=typeof w=="object"&&w!==null?An(w):Oo,g.state=a.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(ip(a,o,w,u),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&ap.enqueueReplaceState(g,g.state,null),cu(a,u,g,d),uu(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){g=a.stateNode;var R=a.memoizedProps,F=Ls(o,R);g.props=F;var re=g.context,le=o.contextType;w=Oo,typeof le=="object"&&le!==null&&(w=An(le));var fe=o.getDerivedStateFromProps;le=typeof fe=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,le||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||re!==w)&&X_(a,g,u,w),ha=!1;var ie=a.memoizedState;g.state=ie,cu(a,u,g,d),uu(),re=a.memoizedState,R||ie!==re||ha?(typeof fe=="function"&&(ip(a,o,fe,u),re=a.memoizedState),(F=ha||Q_(a,o,F,u,ie,re,w))?(le||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=re),g.props=u,g.state=re,g.context=w,u=F):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,Lm(r,a),w=a.memoizedProps,le=Ls(o,w),g.props=le,fe=a.pendingProps,ie=g.context,re=o.contextType,F=Oo,typeof re=="object"&&re!==null&&(F=An(re)),R=o.getDerivedStateFromProps,(re=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==fe||ie!==F)&&X_(a,g,u,F),ha=!1,ie=a.memoizedState,g.state=ie,cu(a,u,g,d),uu();var ae=a.memoizedState;w!==fe||ie!==ae||ha||r!==null&&r.dependencies!==null&&mf(r.dependencies)?(typeof R=="function"&&(ip(a,o,R,u),ae=a.memoizedState),(le=ha||Q_(a,o,le,u,ie,ae,F)||r!==null&&r.dependencies!==null&&mf(r.dependencies))?(re||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ae,F),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ae,F)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&ie===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&ie===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=ae),g.props=u,g.state=ae,g.context=F,u=le):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&ie===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&ie===r.memoizedState||(a.flags|=1024),u=!1)}return g=u,Pf(r,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,r!==null&&u?(a.child=Fo(a,r.child,null,d),a.child=Fo(a,null,o,d)):yn(r,a,o,d),a.memoizedState=g.state,r=a.child):r=Li(r,a,d),r}function fb(r,a,o,u){return tu(),a.flags|=256,yn(r,a,o,u),a.child}var lp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function up(r){return{baseLanes:r,cachePool:Z0()}}function cp(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=Er),r}function hb(r,a,o){var u=a.pendingProps,d=!1,g=(a.flags&128)!==0,w;if((w=g)||(w=r!==null&&r.memoizedState===null?!1:(an.current&2)!==0),w&&(d=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,r===null){if(ot){if(d?ga(a):va(),ot){var R=Mt,F;if(F=R){e:{for(F=R,R=Xr;F.nodeType!==8;){if(!R){R=null;break e}if(F=Pr(F.nextSibling),F===null){R=null;break e}}R=F}R!==null?(a.memoizedState={dehydrated:R,treeContext:Is!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},F=Jn(18,null,null,0),F.stateNode=R,F.return=a,a.child=F,jn=a,Mt=null,F=!0):F=!1}F||Ds(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Yp(R)?a.lanes=32:a.lanes=536870912,null;Vi(a)}return R=u.children,u=u.fallback,d?(va(),d=a.mode,R=Mf({mode:"hidden",children:R},d),u=Cs(u,d,o,null),R.return=a,u.return=a,R.sibling=u,a.child=R,d=a.child,d.memoizedState=up(o),d.childLanes=cp(r,w,o),a.memoizedState=lp,u):(ga(a),fp(a,R))}if(F=r.memoizedState,F!==null&&(R=F.dehydrated,R!==null)){if(g)a.flags&256?(ga(a),a.flags&=-257,a=hp(r,a,o)):a.memoizedState!==null?(va(),a.child=r.child,a.flags|=128,a=null):(va(),d=u.fallback,R=a.mode,u=Mf({mode:"visible",children:u.children},R),d=Cs(d,R,o,null),d.flags|=2,u.return=a,d.return=a,u.sibling=d,a.child=u,Fo(a,r.child,null,o),u=a.child,u.memoizedState=up(o),u.childLanes=cp(r,w,o),a.memoizedState=lp,a=d);else if(ga(a),Yp(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var re=w.dgst;w=re,u=Error(i(419)),u.stack="",u.digest=w,nu({value:u,source:null,stack:null}),a=hp(r,a,o)}else if(hn||ru(r,a,o,!1),w=(o&r.childLanes)!==0,hn||w){if(w=Tt,w!==null&&(u=o&-o,u=(u&42)!==0?1:ia(u),u=(u&(w.suspendedLanes|o))!==0?0:u,u!==0&&u!==F.retryLane))throw F.retryLane=u,Io(r,u),ir(w,r,u),rb;R.data==="$?"||Op(),a=hp(r,a,o)}else R.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=F.treeContext,Mt=Pr(R.nextSibling),jn=a,ot=!0,Ns=null,Xr=!1,r!==null&&(yr[_r++]=Ni,yr[_r++]=Di,yr[_r++]=Is,Ni=r.id,Di=r.overflow,Is=a),a=fp(a,u.children),a.flags|=4096);return a}return d?(va(),d=u.fallback,R=a.mode,F=r.child,re=F.sibling,u=Oi(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,re!==null?d=Oi(re,d):(d=Cs(d,R,o,null),d.flags|=2),d.return=a,u.return=a,u.sibling=d,a.child=u,u=d,d=a.child,R=r.child.memoizedState,R===null?R=up(o):(F=R.cachePool,F!==null?(re=rn._currentValue,F=F.parent!==re?{parent:re,pool:re}:F):F=Z0(),R={baseLanes:R.baseLanes|o,cachePool:F}),d.memoizedState=R,d.childLanes=cp(r,w,o),a.memoizedState=lp,u):(ga(a),o=r.child,r=o.sibling,o=Oi(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(w=a.deletions,w===null?(a.deletions=[r],a.flags|=16):w.push(r)),a.child=o,a.memoizedState=null,o)}function fp(r,a){return a=Mf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Mf(r,a){return r=Jn(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function hp(r,a,o){return Fo(a,r.child,null,o),r=fp(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function db(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Om(r.return,a,o)}function dp(r,a,o,u,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function mb(r,a,o){var u=a.pendingProps,d=u.revealOrder,g=u.tail;if(yn(r,a,u.children,o),u=an.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&db(r,o,a);else if(r.tag===19)db(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch($(an,u),d){case"forwards":for(o=a.child,d=null;o!==null;)r=o.alternate,r!==null&&Of(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=a.child,a.child=null):(d=o.sibling,o.sibling=null),dp(a,!1,d,o,g);break;case"backwards":for(o=null,d=a.child,a.child=null;d!==null;){if(r=d.alternate,r!==null&&Of(r)===null){a.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}dp(a,!0,o,null,g);break;case"together":dp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Li(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),Ta|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(ru(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=Oi(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=Oi(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function mp(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&mf(r)))}function WC(r,a,o){switch(a.tag){case 3:pe(a,a.stateNode.containerInfo),fa(a,rn,r.memoizedState.cache),tu();break;case 27:case 5:Ve(a);break;case 4:pe(a,a.stateNode.containerInfo);break;case 10:fa(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ga(a),a.flags|=128,null):(o&a.child.childLanes)!==0?hb(r,a,o):(ga(a),r=Li(r,a,o),r!==null?r.sibling:null);ga(a);break;case 19:var d=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(ru(r,a,o,!1),u=(o&a.childLanes)!==0),d){if(u)return mb(r,a,o);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$(an,an.current),u)break;return null;case 22:case 23:return a.lanes=0,ob(r,a,o);case 24:fa(a,rn,r.memoizedState.cache)}return Li(r,a,o)}function pb(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)hn=!0;else{if(!mp(r,o)&&(a.flags&128)===0)return hn=!1,WC(r,a,o);hn=(r.flags&131072)!==0}else hn=!1,ot&&(a.flags&1048576)!==0&&$0(a,df,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,d=u._init;if(u=d(u._payload),a.type=u,typeof u=="function")Sm(u)?(r=Ls(u,r),a.tag=1,a=cb(null,a,u,r,o)):(a.tag=0,a=op(null,a,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===te){a.tag=11,a=ib(null,a,u,r,o);break e}else if(d===D){a.tag=14,a=ab(null,a,u,r,o);break e}}throw a=Se(u)||u,Error(i(306,a,""))}}return a;case 0:return op(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,d=Ls(u,a.pendingProps),cb(r,a,u,d,o);case 3:e:{if(pe(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var g=a.memoizedState;d=g.element,Lm(r,a),cu(a,u,null,o);var w=a.memoizedState;if(u=w.cache,fa(a,rn,u),u!==g.cache&&Nm(a,[rn],o,!0),uu(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=fb(r,a,u,o);break e}else if(u!==d){d=gr(Error(i(424)),a),nu(d),a=fb(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Mt=Pr(r.firstChild),jn=a,ot=!0,Ns=null,Xr=!0,o=Y_(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(tu(),u===d){a=Li(r,a,o);break e}yn(r,a,u,o)}a=a.child}return a;case 26:return Pf(r,a),r===null?(o=_E(a.type,null,a.pendingProps,null))?a.memoizedState=o:ot||(o=a.type,r=a.pendingProps,u=Kf(ge.current).createElement(o),u[en]=a,u[$t]=r,bn(u,o,r),Ft(u),a.stateNode=u):a.memoizedState=_E(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Ve(a),r===null&&ot&&(u=a.stateNode=gE(a.type,a.pendingProps,ge.current),jn=a,Xr=!0,d=Mt,xa(a.type)?(Kp=d,Mt=Pr(u.firstChild)):Mt=d),yn(r,a,a.pendingProps.children,o),Pf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&ot&&((d=u=Mt)&&(u=A2(u,a.type,a.pendingProps,Xr),u!==null?(a.stateNode=u,jn=a,Mt=Pr(u.firstChild),Xr=!1,d=!0):d=!1),d||Ds(a)),Ve(a),d=a.type,g=a.pendingProps,w=r!==null?r.memoizedProps:null,u=g.children,qp(d,g)?u=null:w!==null&&qp(d,w)&&(a.flags|=32),a.memoizedState!==null&&(d=Hm(r,a,HC,null,null,o),Du._currentValue=d),Pf(r,a),yn(r,a,u,o),a.child;case 6:return r===null&&ot&&((r=o=Mt)&&(o=x2(o,a.pendingProps,Xr),o!==null?(a.stateNode=o,jn=a,Mt=null,r=!0):r=!1),r||Ds(a)),null;case 13:return hb(r,a,o);case 4:return pe(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=Fo(a,null,u,o):yn(r,a,u,o),a.child;case 11:return ib(r,a,a.type,a.pendingProps,o);case 7:return yn(r,a,a.pendingProps,o),a.child;case 8:return yn(r,a,a.pendingProps.children,o),a.child;case 12:return yn(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,fa(a,a.type,u.value),yn(r,a,u.children,o),a.child;case 9:return d=a.type._context,u=a.pendingProps.children,Ms(a),d=An(d),u=u(d),a.flags|=1,yn(r,a,u,o),a.child;case 14:return ab(r,a,a.type,a.pendingProps,o);case 15:return sb(r,a,a.type,a.pendingProps,o);case 19:return mb(r,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},r===null?(o=Mf(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=Oi(r.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return ob(r,a,o);case 24:return Ms(a),u=An(rn),r===null?(d=Mm(),d===null&&(d=Tt,g=Dm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),a.memoizedState={parent:u,cache:d},Vm(a),fa(a,rn,d)):((r.lanes&o)!==0&&(Lm(r,a),cu(a,null,null,o),uu()),d=r.memoizedState,g=a.memoizedState,d.parent!==u?(d={parent:u,cache:u},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),fa(a,rn,u)):(u=g.cache,fa(a,rn,u),u!==d.cache&&Nm(a,[rn],o,!0))),yn(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ji(r){r.flags|=4}function gb(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!wE(a)){if(a=br.current,a!==null&&((rt&4194048)===rt?Wr!==null:(rt&62914560)!==rt&&(rt&536870912)===0||a!==Wr))throw ou=km,J0;r.flags|=8192}}function kf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Ml():536870912,r.lanes|=a,qo|=a)}function vu(r,a){if(!ot)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Ot(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function ZC(r,a,o){var u=a.pendingProps;switch(Rm(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(a),null;case 1:return Ot(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Mi(rn),xe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(eu(a)?ji(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,K0())),Ot(a),null;case 26:return o=a.memoizedState,r===null?(ji(a),o!==null?(Ot(a),gb(a,o)):(Ot(a),a.flags&=-16777217)):o?o!==r.memoizedState?(ji(a),Ot(a),gb(a,o)):(Ot(a),a.flags&=-16777217):(r.memoizedProps!==u&&ji(a),Ot(a),a.flags&=-16777217),null;case 27:we(a),o=ge.current;var d=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&ji(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Ot(a),null}r=ne.current,eu(a)?G0(a):(r=gE(d,u,o),a.stateNode=r,ji(a))}return Ot(a),null;case 5:if(we(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&ji(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Ot(a),null}if(r=ne.current,eu(a))G0(a);else{switch(d=Kf(ge.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[en]=a,r[$t]=u;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=r;e:switch(bn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ji(a)}}return Ot(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&ji(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=ge.current,eu(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,d=jn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[en]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||uE(r.nodeValue,o)),r||Ds(a)}else r=Kf(r).createTextNode(u),r[en]=a,a.stateNode=r}return Ot(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=eu(a),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[en]=a}else tu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ot(a),d=!1}else d=K0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Vi(a),a):(Vi(a),null)}if(Vi(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=a.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),kf(a,a.updateQueue),Ot(a),null;case 4:return xe(),r===null&&Up(a.stateNode.containerInfo),Ot(a),null;case 10:return Mi(a.type),Ot(a),null;case 19:if(Z(an),d=a.memoizedState,d===null)return Ot(a),null;if(u=(a.flags&128)!==0,g=d.rendering,g===null)if(u)vu(d,!1);else{if(kt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(g=Of(r),g!==null){for(a.flags|=128,vu(d,!1),r=g.updateQueue,a.updateQueue=r,kf(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)q0(o,r),o=o.sibling;return $(an,an.current&1|2),a.child}r=r.sibling}d.tail!==null&&xt()>jf&&(a.flags|=128,u=!0,vu(d,!1),a.lanes=4194304)}else{if(!u)if(r=Of(g),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,kf(a,r),vu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!ot)return Ot(a),null}else 2*xt()-d.renderingStartTime>jf&&o!==536870912&&(a.flags|=128,u=!0,vu(d,!1),a.lanes=4194304);d.isBackwards?(g.sibling=a.child,a.child=g):(r=d.last,r!==null?r.sibling=g:a.child=g,d.last=g)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=xt(),a.sibling=null,r=an.current,$(an,u?r&1|2:r&1),a):(Ot(a),null);case 22:case 23:return Vi(a),zm(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(Ot(a),a.subtreeFlags&6&&(a.flags|=8192)):Ot(a),o=a.updateQueue,o!==null&&kf(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&Z(ks),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Mi(rn),Ot(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function JC(r,a){switch(Rm(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Mi(rn),xe(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return we(a),null;case 13:if(Vi(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));tu()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Z(an),null;case 4:return xe(),null;case 10:return Mi(a.type),null;case 22:case 23:return Vi(a),zm(),r!==null&&Z(ks),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Mi(rn),null;case 25:return null;default:return null}}function vb(r,a){switch(Rm(a),a.tag){case 3:Mi(rn),xe();break;case 26:case 27:case 5:we(a);break;case 4:xe();break;case 13:Vi(a);break;case 19:Z(an);break;case 10:Mi(a.type);break;case 22:case 23:Vi(a),zm(),r!==null&&Z(ks);break;case 24:Mi(rn)}}function yu(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var g=o.create,w=o.inst;u=g(),w.destroy=u}o=o.next}while(o!==d)}}catch(R){Et(a,a.return,R)}}function ya(r,a,o){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){var w=u.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,d=a;var F=o,re=R;try{re()}catch(le){Et(d,F,le)}}}u=u.next}while(u!==g)}}catch(le){Et(a,a.return,le)}}function yb(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{a_(a,o)}catch(u){Et(r,r.return,u)}}}function _b(r,a,o){o.props=Ls(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Et(r,a,u)}}function _u(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(d){Et(r,a,d)}}function Zr(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Et(r,a,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Et(r,a,d)}else o.current=null}function bb(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Et(r,r.return,d)}}function pp(r,a,o){try{var u=r.stateNode;b2(u,r.type,o,a),u[$t]=a}catch(d){Et(r,r.return,d)}}function Eb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&xa(r.type)||r.tag===4}function gp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Eb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&xa(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function vp(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Yf));else if(u!==4&&(u===27&&xa(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(vp(r,a,o),r=r.sibling;r!==null;)vp(r,a,o),r=r.sibling}function Vf(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&xa(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Vf(r,a,o),r=r.sibling;r!==null;)Vf(r,a,o),r=r.sibling}function Tb(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);bn(a,u,o),a[en]=r,a[$t]=o}catch(g){Et(r,r.return,g)}}var Ui=!1,Bt=!1,yp=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,dn=null;function e2(r,a){if(r=r.containerInfo,Bp=eh,r=M0(r),gm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,R=-1,F=-1,re=0,le=0,fe=r,ie=null;t:for(;;){for(var ae;fe!==o||d!==0&&fe.nodeType!==3||(R=w+d),fe!==g||u!==0&&fe.nodeType!==3||(F=w+u),fe.nodeType===3&&(w+=fe.nodeValue.length),(ae=fe.firstChild)!==null;)ie=fe,fe=ae;for(;;){if(fe===r)break t;if(ie===o&&++re===d&&(R=w),ie===g&&++le===u&&(F=w),(ae=fe.nextSibling)!==null)break;fe=ie,ie=fe.parentNode}fe=ae}o=R===-1||F===-1?null:{start:R,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(Hp={focusedElem:r,selectionRange:o},eh=!1,dn=a;dn!==null;)if(a=dn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,dn=r;else for(;dn!==null;){switch(a=dn,g=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=a,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ke=Ls(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(ke,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){Et(o,o.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)Gp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Gp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,dn=r;break}dn=a.return}}function wb(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:_a(r,o),u&4&&yu(5,o);break;case 1:if(_a(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(w){Et(o,o.return,w)}else{var d=Ls(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(d,a,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Et(o,o.return,w)}}u&64&&yb(o),u&512&&_u(o,o.return);break;case 3:if(_a(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{a_(r,a)}catch(w){Et(o,o.return,w)}}break;case 27:a===null&&u&4&&Tb(o);case 26:case 5:_a(r,o),a===null&&u&4&&bb(o),u&512&&_u(o,o.return);break;case 12:_a(r,o);break;case 13:_a(r,o),u&4&&Rb(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=u2.bind(null,o),R2(r,o))));break;case 22:if(u=o.memoizedState!==null||Ui,!u){a=a!==null&&a.memoizedState!==null||Bt,d=Ui;var g=Bt;Ui=u,(Bt=a)&&!g?ba(r,o,(o.subtreeFlags&8772)!==0):_a(r,o),Ui=d,Bt=g}break;case 30:break;default:_a(r,o)}}function Ab(r){var a=r.alternate;a!==null&&(r.alternate=null,Ab(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&oa(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ct=null,qn=!1;function Fi(r,a,o){for(o=o.child;o!==null;)xb(r,a,o),o=o.sibling}function xb(r,a,o){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Be,o)}catch{}switch(o.tag){case 26:Bt||Zr(o,a),Fi(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Bt||Zr(o,a);var u=Ct,d=qn;xa(o.type)&&(Ct=o.stateNode,qn=!1),Fi(r,a,o),Cu(o.stateNode),Ct=u,qn=d;break;case 5:Bt||Zr(o,a);case 6:if(u=Ct,d=qn,Ct=null,Fi(r,a,o),Ct=u,qn=d,Ct!==null)if(qn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(o.stateNode)}catch(g){Et(o,a,g)}else try{Ct.removeChild(o.stateNode)}catch(g){Et(o,a,g)}break;case 18:Ct!==null&&(qn?(r=Ct,mE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Vu(r)):mE(Ct,o.stateNode));break;case 4:u=Ct,d=qn,Ct=o.stateNode.containerInfo,qn=!0,Fi(r,a,o),Ct=u,qn=d;break;case 0:case 11:case 14:case 15:Bt||ya(2,o,a),Bt||ya(4,o,a),Fi(r,a,o);break;case 1:Bt||(Zr(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&_b(o,a,u)),Fi(r,a,o);break;case 21:Fi(r,a,o);break;case 22:Bt=(u=Bt)||o.memoizedState!==null,Fi(r,a,o),Bt=u;break;default:Fi(r,a,o)}}function Rb(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Vu(r)}catch(o){Et(a,a.return,o)}}function t2(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Sb),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Sb),a;default:throw Error(i(435,r.tag))}}function _p(r,a){var o=t2(r);a.forEach(function(u){var d=c2.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function er(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=r,w=a,R=w;e:for(;R!==null;){switch(R.tag){case 27:if(xa(R.type)){Ct=R.stateNode,qn=!1;break e}break;case 5:Ct=R.stateNode,qn=!1;break e;case 3:case 4:Ct=R.stateNode.containerInfo,qn=!0;break e}R=R.return}if(Ct===null)throw Error(i(160));xb(g,w,d),Ct=null,qn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Cb(a,r),a=a.sibling}var Dr=null;function Cb(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:er(a,r),tr(r),u&4&&(ya(3,r,r.return),yu(3,r),ya(5,r,r.return));break;case 1:er(a,r),tr(r),u&512&&(Bt||o===null||Zr(o,o.return)),u&64&&Ui&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Dr;if(er(a,r),tr(r),u&512&&(Bt||o===null||Zr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[hs]||g[en]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),bn(g,u,o),g[en]=r,Ft(g),u=g;break e;case"link":var w=TE("link","href",d).get(u+(o.href||""));if(w){for(var R=0;R<w.length;R++)if(g=w[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(R,1);break t}}g=d.createElement(u),bn(g,u,o),d.head.appendChild(g);break;case"meta":if(w=TE("meta","content",d).get(u+(o.content||""))){for(R=0;R<w.length;R++)if(g=w[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(R,1);break t}}g=d.createElement(u),bn(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[en]=r,Ft(g),u=g}r.stateNode=u}else SE(d,r.type,r.stateNode);else r.stateNode=EE(d,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?SE(d,r.type,r.stateNode):EE(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&pp(r,r.memoizedProps,o.memoizedProps)}break;case 27:er(a,r),tr(r),u&512&&(Bt||o===null||Zr(o,o.return)),o!==null&&u&4&&pp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(er(a,r),tr(r),u&512&&(Bt||o===null||Zr(o,o.return)),r.flags&32){d=r.stateNode;try{hr(d,"")}catch(ae){Et(r,r.return,ae)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,pp(r,d,o!==null?o.memoizedProps:d)),u&1024&&(yp=!0);break;case 6:if(er(a,r),tr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(ae){Et(r,r.return,ae)}}break;case 3:if(Wf=null,d=Dr,Dr=Qf(a.containerInfo),er(a,r),Dr=d,tr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Vu(a.containerInfo)}catch(ae){Et(r,r.return,ae)}yp&&(yp=!1,Ib(r));break;case 4:u=Dr,Dr=Qf(r.stateNode.containerInfo),er(a,r),tr(r),Dr=u;break;case 12:er(a,r),tr(r);break;case 13:er(a,r),tr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ap=xt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,_p(r,u)));break;case 22:d=r.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,re=Ui,le=Bt;if(Ui=re||d,Bt=le||F,er(a,r),Bt=le,Ui=re,tr(r),u&8192)e:for(a=r.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(o===null||F||Ui||Bt||js(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){F=o=a;try{if(g=F.stateNode,d)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=F.stateNode;var fe=F.memoizedProps.style,ie=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;R.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(ae){Et(F,F.return,ae)}}}else if(a.tag===6){if(o===null){F=a;try{F.stateNode.nodeValue=d?"":F.memoizedProps}catch(ae){Et(F,F.return,ae)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,_p(r,o))));break;case 19:er(a,r),tr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,_p(r,u)));break;case 30:break;case 21:break;default:er(a,r),tr(r)}}function tr(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(Eb(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=gp(r);Vf(r,g,d);break;case 5:var w=o.stateNode;o.flags&32&&(hr(w,""),o.flags&=-33);var R=gp(r);Vf(r,R,w);break;case 3:case 4:var F=o.stateNode.containerInfo,re=gp(r);vp(r,re,F);break;default:throw Error(i(161))}}catch(le){Et(r,r.return,le)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Ib(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Ib(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function _a(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)wb(r,a.alternate,a),a=a.sibling}function js(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ya(4,a,a.return),js(a);break;case 1:Zr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&_b(a,a.return,o),js(a);break;case 27:Cu(a.stateNode);case 26:case 5:Zr(a,a.return),js(a);break;case 22:a.memoizedState===null&&js(a);break;case 30:js(a);break;default:js(a)}r=r.sibling}}function ba(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,d=r,g=a,w=g.flags;switch(g.tag){case 0:case 11:case 15:ba(d,g,o),yu(4,g);break;case 1:if(ba(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(re){Et(u,u.return,re)}if(u=g,d=u.updateQueue,d!==null){var R=u.stateNode;try{var F=d.shared.hiddenCallbacks;if(F!==null)for(d.shared.hiddenCallbacks=null,d=0;d<F.length;d++)i_(F[d],R)}catch(re){Et(u,u.return,re)}}o&&w&64&&yb(g),_u(g,g.return);break;case 27:Tb(g);case 26:case 5:ba(d,g,o),o&&u===null&&w&4&&bb(g),_u(g,g.return);break;case 12:ba(d,g,o);break;case 13:ba(d,g,o),o&&w&4&&Rb(d,g);break;case 22:g.memoizedState===null&&ba(d,g,o),_u(g,g.return);break;case 30:break;default:ba(d,g,o)}a=a.sibling}}function bp(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&iu(o))}function Ep(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&iu(r))}function Jr(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ob(r,a,o,u),a=a.sibling}function Ob(r,a,o,u){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Jr(r,a,o,u),d&2048&&yu(9,a);break;case 1:Jr(r,a,o,u);break;case 3:Jr(r,a,o,u),d&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&iu(r)));break;case 12:if(d&2048){Jr(r,a,o,u),r=a.stateNode;try{var g=a.memoizedProps,w=g.id,R=g.onPostCommit;typeof R=="function"&&R(w,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){Et(a,a.return,F)}}else Jr(r,a,o,u);break;case 13:Jr(r,a,o,u);break;case 23:break;case 22:g=a.stateNode,w=a.alternate,a.memoizedState!==null?g._visibility&2?Jr(r,a,o,u):bu(r,a):g._visibility&2?Jr(r,a,o,u):(g._visibility|=2,zo(r,a,o,u,(a.subtreeFlags&10256)!==0)),d&2048&&bp(w,a);break;case 24:Jr(r,a,o,u),d&2048&&Ep(a.alternate,a);break;default:Jr(r,a,o,u)}}function zo(r,a,o,u,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=r,w=a,R=o,F=u,re=w.flags;switch(w.tag){case 0:case 11:case 15:zo(g,w,R,F,d),yu(8,w);break;case 23:break;case 22:var le=w.stateNode;w.memoizedState!==null?le._visibility&2?zo(g,w,R,F,d):bu(g,w):(le._visibility|=2,zo(g,w,R,F,d)),d&&re&2048&&bp(w.alternate,w);break;case 24:zo(g,w,R,F,d),d&&re&2048&&Ep(w.alternate,w);break;default:zo(g,w,R,F,d)}a=a.sibling}}function bu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,d=u.flags;switch(u.tag){case 22:bu(o,u),d&2048&&bp(u.alternate,u);break;case 24:bu(o,u),d&2048&&Ep(u.alternate,u);break;default:bu(o,u)}a=a.sibling}}var Eu=8192;function Bo(r){if(r.subtreeFlags&Eu)for(r=r.child;r!==null;)Nb(r),r=r.sibling}function Nb(r){switch(r.tag){case 26:Bo(r),r.flags&Eu&&r.memoizedState!==null&&F2(Dr,r.memoizedState,r.memoizedProps);break;case 5:Bo(r);break;case 3:case 4:var a=Dr;Dr=Qf(r.stateNode.containerInfo),Bo(r),Dr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Eu,Eu=16777216,Bo(r),Eu=a):Bo(r));break;default:Bo(r)}}function Db(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Tu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];dn=u,Mb(u,r)}Db(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Pb(r),r=r.sibling}function Pb(r){switch(r.tag){case 0:case 11:case 15:Tu(r),r.flags&2048&&ya(9,r,r.return);break;case 3:Tu(r);break;case 12:Tu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Lf(r)):Tu(r);break;default:Tu(r)}}function Lf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];dn=u,Mb(u,r)}Db(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ya(8,a,a.return),Lf(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Lf(a));break;default:Lf(a)}r=r.sibling}}function Mb(r,a){for(;dn!==null;){var o=dn;switch(o.tag){case 0:case 11:case 15:ya(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:iu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,dn=u;else e:for(o=r;dn!==null;){u=dn;var d=u.sibling,g=u.return;if(Ab(u),u===o){dn=null;break e}if(d!==null){d.return=g,dn=d;break e}dn=g}}}var n2={getCacheForType:function(r){var a=An(rn),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},r2=typeof WeakMap=="function"?WeakMap:Map,pt=0,Tt=null,Qe=null,rt=0,gt=0,nr=null,Ea=!1,Ho=!1,Tp=!1,zi=0,kt=0,Ta=0,Us=0,Sp=0,Er=0,qo=0,Su=null,$n=null,wp=!1,Ap=0,jf=1/0,Uf=null,Sa=null,_n=0,wa=null,$o=null,Go=0,xp=0,Rp=null,kb=null,wu=0,Cp=null;function rr(){if((pt&2)!==0&&rt!==0)return rt&-rt;if(q.T!==null){var r=Po;return r!==0?r:kp()}return aa()}function Vb(){Er===0&&(Er=(rt&536870912)===0||ot?Pl():536870912);var r=br.current;return r!==null&&(r.flags|=32),Er}function ir(r,a,o){(r===Tt&&(gt===2||gt===9)||r.cancelPendingCommit!==null)&&(Yo(r,0),Aa(r,rt,Er,!1)),_i(r,o),((pt&2)===0||r!==Tt)&&(r===Tt&&((pt&2)===0&&(Us|=o),kt===4&&Aa(r,rt,Er,!1)),ei(r))}function Lb(r,a,o){if((pt&6)!==0)throw Error(i(327));var u=!o&&(a&124)===0&&(a&r.expiredLanes)===0||fs(r,a),d=u?s2(r,a):Np(r,a,!0),g=u;do{if(d===0){Ho&&!u&&Aa(r,a,0,!1);break}else{if(o=r.current.alternate,g&&!i2(o)){d=Np(r,a,!1),g=!1;continue}if(d===2){if(g=a,r.errorRecoveryDisabledLanes&g)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var R=r;d=Su;var F=R.current.memoizedState.isDehydrated;if(F&&(Yo(R,w).flags|=256),w=Np(R,w,!1),w!==2){if(Tp&&!F){R.errorRecoveryDisabledLanes|=g,Us|=g,d=4;break e}g=$n,$n=d,g!==null&&($n===null?$n=g:$n.push.apply($n,g))}d=w}if(g=!1,d!==2)continue}}if(d===1){Yo(r,0),Aa(r,a,0,!0);break}e:{switch(u=r,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Aa(u,a,Er,!Ea);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=Ap+300-xt(),10<d)){if(Aa(u,a,Er,!Ea),uo(u,0,!0)!==0)break e;u.timeoutHandle=hE(jb.bind(null,u,o,$n,Uf,wp,a,Er,Us,qo,Ea,g,2,-0,0),d);break e}jb(u,o,$n,Uf,wp,a,Er,Us,qo,Ea,g,0,-0,0)}}break}while(!0);ei(r)}function jb(r,a,o,u,d,g,w,R,F,re,le,fe,ie,ae){if(r.timeoutHandle=-1,fe=a.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Nu={stylesheets:null,count:0,unsuspend:U2},Nb(a),fe=z2(),fe!==null)){r.cancelPendingCommit=fe($b.bind(null,r,a,g,o,u,d,w,R,F,le,1,ie,ae)),Aa(r,g,w,!re);return}$b(r,a,g,o,u,d,w,R,F)}function i2(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Zn(g(),d))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Aa(r,a,o,u){a&=~Sp,a&=~Us,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var d=a;0<d;){var g=31-qt(d),w=1<<g;u[g]=-1,d&=~w}o!==0&&Ur(r,o,a)}function Ff(){return(pt&6)===0?(Au(0),!1):!0}function Ip(){if(Qe!==null){if(gt===0)var r=Qe.return;else r=Qe,Pi=Ps=null,Gm(r),Uo=null,pu=0,r=Qe;for(;r!==null;)vb(r.alternate,r),r=r.return;Qe=null}}function Yo(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,T2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Ip(),Tt=r,Qe=o=Oi(r.current,null),rt=a,gt=0,nr=null,Ea=!1,Ho=fs(r,a),Tp=!1,qo=Er=Sp=Us=Ta=kt=0,$n=Su=null,wp=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var d=31-qt(u),g=1<<d;a|=r[d],u&=~g}return zi=a,lf(),o}function Ub(r,a){$e=null,q.H=Rf,a===su||a===vf?(a=n_(),gt=3):a===J0?(a=n_(),gt=4):gt=a===rb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,nr=a,Qe===null&&(kt=1,Df(r,gr(a,r.current)))}function Fb(){var r=q.H;return q.H=Rf,r===null?Rf:r}function zb(){var r=q.A;return q.A=n2,r}function Op(){kt=4,Ea||(rt&4194048)!==rt&&br.current!==null||(Ho=!0),(Ta&134217727)===0&&(Us&134217727)===0||Tt===null||Aa(Tt,rt,Er,!1)}function Np(r,a,o){var u=pt;pt|=2;var d=Fb(),g=zb();(Tt!==r||rt!==a)&&(Uf=null,Yo(r,a)),a=!1;var w=kt;e:do try{if(gt!==0&&Qe!==null){var R=Qe,F=nr;switch(gt){case 8:Ip(),w=6;break e;case 3:case 2:case 9:case 6:br.current===null&&(a=!0);var re=gt;if(gt=0,nr=null,Ko(r,R,F,re),o&&Ho){w=0;break e}break;default:re=gt,gt=0,nr=null,Ko(r,R,F,re)}}a2(),w=kt;break}catch(le){Ub(r,le)}while(!0);return a&&r.shellSuspendCounter++,Pi=Ps=null,pt=u,q.H=d,q.A=g,Qe===null&&(Tt=null,rt=0,lf()),w}function a2(){for(;Qe!==null;)Bb(Qe)}function s2(r,a){var o=pt;pt|=2;var u=Fb(),d=zb();Tt!==r||rt!==a?(Uf=null,jf=xt()+500,Yo(r,a)):Ho=fs(r,a);e:do try{if(gt!==0&&Qe!==null){a=Qe;var g=nr;t:switch(gt){case 1:gt=0,nr=null,Ko(r,a,g,1);break;case 2:case 9:if(e_(g)){gt=0,nr=null,Hb(a);break}a=function(){gt!==2&&gt!==9||Tt!==r||(gt=7),ei(r)},g.then(a,a);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:e_(g)?(gt=0,nr=null,Hb(a)):(gt=0,nr=null,Ko(r,a,g,7));break;case 5:var w=null;switch(Qe.tag){case 26:w=Qe.memoizedState;case 5:case 27:var R=Qe;if(!w||wE(w)){gt=0,nr=null;var F=R.sibling;if(F!==null)Qe=F;else{var re=R.return;re!==null?(Qe=re,zf(re)):Qe=null}break t}}gt=0,nr=null,Ko(r,a,g,5);break;case 6:gt=0,nr=null,Ko(r,a,g,6);break;case 8:Ip(),kt=6;break e;default:throw Error(i(462))}}o2();break}catch(le){Ub(r,le)}while(!0);return Pi=Ps=null,q.H=u,q.A=d,pt=o,Qe!==null?0:(Tt=null,rt=0,lf(),kt)}function o2(){for(;Qe!==null&&!et();)Bb(Qe)}function Bb(r){var a=pb(r.alternate,r,zi);r.memoizedProps=r.pendingProps,a===null?zf(r):Qe=a}function Hb(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=ub(o,a,a.pendingProps,a.type,void 0,rt);break;case 11:a=ub(o,a,a.pendingProps,a.type.render,a.ref,rt);break;case 5:Gm(a);default:vb(o,a),a=Qe=q0(a,zi),a=pb(o,a,zi)}r.memoizedProps=r.pendingProps,a===null?zf(r):Qe=a}function Ko(r,a,o,u){Pi=Ps=null,Gm(a),Uo=null,pu=0;var d=a.return;try{if(XC(r,d,a,o,rt)){kt=1,Df(r,gr(o,r.current)),Qe=null;return}}catch(g){if(d!==null)throw Qe=d,g;kt=1,Df(r,gr(o,r.current)),Qe=null;return}a.flags&32768?(ot||u===1?r=!0:Ho||(rt&536870912)!==0?r=!1:(Ea=r=!0,(u===2||u===9||u===3||u===6)&&(u=br.current,u!==null&&u.tag===13&&(u.flags|=16384))),qb(a,r)):zf(a)}function zf(r){var a=r;do{if((a.flags&32768)!==0){qb(a,Ea);return}r=a.return;var o=ZC(a.alternate,a,zi);if(o!==null){Qe=o;return}if(a=a.sibling,a!==null){Qe=a;return}Qe=a=r}while(a!==null);kt===0&&(kt=5)}function qb(r,a){do{var o=JC(r.alternate,r);if(o!==null){o.flags&=32767,Qe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){Qe=r;return}Qe=r=o}while(r!==null);kt=6,Qe=null}function $b(r,a,o,u,d,g,w,R,F){r.cancelPendingCommit=null;do Bf();while(_n!==0);if((pt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=Em,kl(r,o,g,w,R,F),r===Tt&&(Qe=Tt=null,rt=0),$o=a,wa=r,Go=o,xp=g,Rp=d,kb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,f2(zn,function(){return Xb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,d=P.p,P.p=2,w=pt,pt|=4;try{e2(r,a,o)}finally{pt=w,P.p=d,q.T=u}}_n=1,Gb(),Yb(),Kb()}}function Gb(){if(_n===1){_n=0;var r=wa,a=$o,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var u=P.p;P.p=2;var d=pt;pt|=4;try{Cb(a,r);var g=Hp,w=M0(r.containerInfo),R=g.focusedElem,F=g.selectionRange;if(w!==R&&R&&R.ownerDocument&&P0(R.ownerDocument.documentElement,R)){if(F!==null&&gm(R)){var re=F.start,le=F.end;if(le===void 0&&(le=re),"selectionStart"in R)R.selectionStart=re,R.selectionEnd=Math.min(le,R.value.length);else{var fe=R.ownerDocument||document,ie=fe&&fe.defaultView||window;if(ie.getSelection){var ae=ie.getSelection(),ke=R.textContent.length,Oe=Math.min(F.start,ke),bt=F.end===void 0?Oe:Math.min(F.end,ke);!ae.extend&&Oe>bt&&(w=bt,bt=Oe,Oe=w);var W=D0(R,Oe),Y=D0(R,bt);if(W&&Y&&(ae.rangeCount!==1||ae.anchorNode!==W.node||ae.anchorOffset!==W.offset||ae.focusNode!==Y.node||ae.focusOffset!==Y.offset)){var ee=fe.createRange();ee.setStart(W.node,W.offset),ae.removeAllRanges(),Oe>bt?(ae.addRange(ee),ae.extend(Y.node,Y.offset)):(ee.setEnd(Y.node,Y.offset),ae.addRange(ee))}}}}for(fe=[],ae=R;ae=ae.parentNode;)ae.nodeType===1&&fe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<fe.length;R++){var ue=fe[R];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}eh=!!Bp,Hp=Bp=null}finally{pt=d,P.p=u,q.T=o}}r.current=a,_n=2}}function Yb(){if(_n===2){_n=0;var r=wa,a=$o,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var u=P.p;P.p=2;var d=pt;pt|=4;try{wb(r,a.alternate,a)}finally{pt=d,P.p=u,q.T=o}}_n=3}}function Kb(){if(_n===4||_n===3){_n=0,qe();var r=wa,a=$o,o=Go,u=kb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?_n=5:(_n=0,$o=wa=null,Qb(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(Sa=null),co(o),a=a.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Be,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=q.T,d=P.p,P.p=2,q.T=null;try{for(var g=r.onRecoverableError,w=0;w<u.length;w++){var R=u[w];g(R.value,{componentStack:R.stack})}}finally{q.T=a,P.p=d}}(Go&3)!==0&&Bf(),ei(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===Cp?wu++:(wu=0,Cp=r):wu=0,Au(0)}}function Qb(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,iu(a)))}function Bf(r){return Gb(),Yb(),Kb(),Xb()}function Xb(){if(_n!==5)return!1;var r=wa,a=xp;xp=0;var o=co(Go),u=q.T,d=P.p;try{P.p=32>o?32:o,q.T=null,o=Rp,Rp=null;var g=wa,w=Go;if(_n=0,$o=wa=null,Go=0,(pt&6)!==0)throw Error(i(331));var R=pt;if(pt|=4,Pb(g.current),Ob(g,g.current,w,o),pt=R,Au(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Be,g)}catch{}return!0}finally{P.p=d,q.T=u,Qb(r,a)}}function Wb(r,a,o){a=gr(o,a),a=sp(r.stateNode,a,2),r=ma(r,a,2),r!==null&&(_i(r,2),ei(r))}function Et(r,a,o){if(r.tag===3)Wb(r,r,o);else for(;a!==null;){if(a.tag===3){Wb(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Sa===null||!Sa.has(u))){r=gr(o,r),o=tb(2),u=ma(a,o,2),u!==null&&(nb(o,u,a,r),_i(u,2),ei(u));break}}a=a.return}}function Dp(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new r2;var d=new Set;u.set(a,d)}else d=u.get(a),d===void 0&&(d=new Set,u.set(a,d));d.has(o)||(Tp=!0,d.add(o),r=l2.bind(null,r,a,o),a.then(r,r))}function l2(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Tt===r&&(rt&o)===o&&(kt===4||kt===3&&(rt&62914560)===rt&&300>xt()-Ap?(pt&2)===0&&Yo(r,0):Sp|=o,qo===rt&&(qo=0)),ei(r)}function Zb(r,a){a===0&&(a=Ml()),r=Io(r,a),r!==null&&(_i(r,a),ei(r))}function u2(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),Zb(r,o)}function c2(r,a){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Zb(r,o)}function f2(r,a){return dt(r,a)}var Hf=null,Qo=null,Pp=!1,qf=!1,Mp=!1,Fs=0;function ei(r){r!==Qo&&r.next===null&&(Qo===null?Hf=Qo=r:Qo=Qo.next=r),qf=!0,Pp||(Pp=!0,d2())}function Au(r,a){if(!Mp&&qf){Mp=!0;do for(var o=!1,u=Hf;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var w=u.suspendedLanes,R=u.pingedLanes;g=(1<<31-qt(42|r)+1)-1,g&=d&~(w&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,nE(u,g))}else g=rt,g=uo(u,u===Tt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||fs(u,g)||(o=!0,nE(u,g));u=u.next}while(o);Mp=!1}}function h2(){Jb()}function Jb(){qf=Pp=!1;var r=0;Fs!==0&&(E2()&&(r=Fs),Fs=0);for(var a=xt(),o=null,u=Hf;u!==null;){var d=u.next,g=eE(u,a);g===0?(u.next=null,o===null?Hf=d:o.next=d,d===null&&(Qo=o)):(o=u,(r!==0||(g&3)!==0)&&(qf=!0)),u=d}Au(r)}function eE(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var w=31-qt(g),R=1<<w,F=d[w];F===-1?((R&o)===0||(R&u)!==0)&&(d[w]=Dl(R,a)):F<=a&&(r.expiredLanes|=R),g&=~R}if(a=Tt,o=rt,o=uo(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(gt===2||gt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ye(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||fs(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&Ye(u),co(o)){case 2:case 8:o=Pn;break;case 32:o=zn;break;case 268435456:o=cr;break;default:o=zn}return u=tE.bind(null,r),o=dt(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&Ye(u),r.callbackPriority=2,r.callbackNode=null,2}function tE(r,a){if(_n!==0&&_n!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Bf()&&r.callbackNode!==o)return null;var u=rt;return u=uo(r,r===Tt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Lb(r,u,a),eE(r,xt()),r.callbackNode!=null&&r.callbackNode===o?tE.bind(null,r):null)}function nE(r,a){if(Bf())return null;Lb(r,a,!0)}function d2(){S2(function(){(pt&6)!==0?dt(mt,h2):Jb()})}function kp(){return Fs===0&&(Fs=Pl()),Fs}function rE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:vo(""+r)}function iE(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function m2(r,a,o,u,d){if(a==="submit"&&o&&o.stateNode===d){var g=rE((d[$t]||null).action),w=u.submitter;w&&(a=(a=w[$t]||null)?rE(a.formAction):w.getAttribute("formAction"),a!==null&&(g=a,w=null));var R=new yo("action","action",null,u,d);r.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Fs!==0){var F=w?iE(d,w):new FormData(d);tp(o,{pending:!0,data:F,method:d.method,action:g},null,F)}}else typeof g=="function"&&(R.preventDefault(),F=w?iE(d,w):new FormData(d),tp(o,{pending:!0,data:F,method:d.method,action:g},g,F))},currentTarget:d}]})}}for(var Vp=0;Vp<bm.length;Vp++){var Lp=bm[Vp],p2=Lp.toLowerCase(),g2=Lp[0].toUpperCase()+Lp.slice(1);Nr(p2,"on"+g2)}Nr(L0,"onAnimationEnd"),Nr(j0,"onAnimationIteration"),Nr(U0,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(PC,"onTransitionRun"),Nr(MC,"onTransitionStart"),Nr(kC,"onTransitionCancel"),Nr(F0,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function aE(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var w=u.length-1;0<=w;w--){var R=u[w],F=R.instance,re=R.currentTarget;if(R=R.listener,F!==g&&d.isPropagationStopped())break e;g=R,d.currentTarget=re;try{g(d)}catch(le){Nf(le)}d.currentTarget=null,g=F}else for(w=0;w<u.length;w++){if(R=u[w],F=R.instance,re=R.currentTarget,R=R.listener,F!==g&&d.isPropagationStopped())break e;g=R,d.currentTarget=re;try{g(d)}catch(le){Nf(le)}d.currentTarget=null,g=F}}}}function Xe(r,a){var o=a[Ll];o===void 0&&(o=a[Ll]=new Set);var u=r+"__bubble";o.has(u)||(sE(a,r,2,!1),o.add(u))}function jp(r,a,o){var u=0;a&&(u|=4),sE(o,r,u,a)}var $f="_reactListening"+Math.random().toString(36).slice(2);function Up(r){if(!r[$f]){r[$f]=!0,jl.forEach(function(o){o!=="selectionchange"&&(v2.has(o)||jp(o,!1,r),jp(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[$f]||(a[$f]=!0,jp("selectionchange",!1,a))}}function sE(r,a,o,u){switch(OE(a)){case 2:var d=q2;break;case 8:d=$2;break;default:d=Jp}o=d.bind(null,a,o,r),d=void 0,!mr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(a,o,{capture:!0,passive:d}):r.addEventListener(a,o,!0):d!==void 0?r.addEventListener(a,o,{passive:d}):r.addEventListener(a,o,!1)}function Fp(r,a,o,u,d){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var R=u.stateNode.containerInfo;if(R===d)break;if(w===4)for(w=u.return;w!==null;){var F=w.tag;if((F===3||F===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;R!==null;){if(w=bi(R),w===null)return;if(F=w.tag,F===5||F===6||F===26||F===27){u=g=w;continue e}R=R.parentNode}}u=u.return}Gc(function(){var re=g,le=dr(o),fe=[];e:{var ie=z0.get(r);if(ie!==void 0){var ae=yo,ke=r;switch(r){case"keypress":if($r(o)===0)break e;case"keydown":case"keyup":ae=wo;break;case"focusin":ke="focus",ae=Eo;break;case"focusout":ke="blur",ae=Eo;break;case"beforeblur":case"afterblur":ae=Eo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=ef;break;case L0:case j0:case U0:ae=To;break;case F0:ae=nf;break;case"scroll":case"scrollend":ae=Yc;break;case"wheel":ae=Ao;break;case"copy":case"cut":case"paste":ae=So;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Xl;break;case"toggle":case"beforetoggle":ae=af}var Oe=(a&4)!==0,bt=!Oe&&(r==="scroll"||r==="scrollend"),W=Oe?ie!==null?ie+"Capture":null:ie;Oe=[];for(var Y=re,ee;Y!==null;){var ue=Y;if(ee=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||ee===null||W===null||(ue=_s(Y,W),ue!=null&&Oe.push(Ru(Y,ue,ee))),bt)break;Y=Y.return}0<Oe.length&&(ie=new ae(ie,ke,null,o,le),fe.push({event:ie,listeners:Oe}))}}if((a&7)===0){e:{if(ie=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",ie&&o!==wi&&(ke=o.relatedTarget||o.fromElement)&&(bi(ke)||ke[fr]))break e;if((ae||ie)&&(ie=le.window===le?le:(ie=le.ownerDocument)?ie.defaultView||ie.parentWindow:window,ae?(ke=o.relatedTarget||o.toElement,ae=re,ke=ke?bi(ke):null,ke!==null&&(bt=l(ke),Oe=ke.tag,ke!==bt||Oe!==5&&Oe!==27&&Oe!==6)&&(ke=null)):(ae=null,ke=re),ae!==ke)){if(Oe=pr,ue="onMouseLeave",W="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=Xl,ue="onPointerLeave",W="onPointerEnter",Y="pointer"),bt=ae==null?ie:zr(ae),ee=ke==null?ie:zr(ke),ie=new Oe(ue,Y+"leave",ae,o,le),ie.target=bt,ie.relatedTarget=ee,ue=null,bi(le)===re&&(Oe=new Oe(W,Y+"enter",ke,o,le),Oe.target=ee,Oe.relatedTarget=bt,ue=Oe),bt=ue,ae&&ke)t:{for(Oe=ae,W=ke,Y=0,ee=Oe;ee;ee=Xo(ee))Y++;for(ee=0,ue=W;ue;ue=Xo(ue))ee++;for(;0<Y-ee;)Oe=Xo(Oe),Y--;for(;0<ee-Y;)W=Xo(W),ee--;for(;Y--;){if(Oe===W||W!==null&&Oe===W.alternate)break t;Oe=Xo(Oe),W=Xo(W)}Oe=null}else Oe=null;ae!==null&&oE(fe,ie,ae,Oe,!1),ke!==null&&bt!==null&&oE(fe,bt,ke,Oe,!0)}}e:{if(ie=re?zr(re):window,ae=ie.nodeName&&ie.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ie.type==="file")var Ee=x0;else if(nn(ie))if(R0)Ee=OC;else{Ee=CC;var Ke=RC}else ae=ie.nodeName,!ae||ae.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?re&&Hl(re.elementType)&&(Ee=x0):Ee=IC;if(Ee&&(Ee=Ee(r,re))){Ii(fe,Ee,o,le);break e}Ke&&Ke(r,ie,re),r==="focusout"&&re&&ie.type==="number"&&re.memoizedProps.value!=null&&ua(ie,"number",ie.value)}switch(Ke=re?zr(re):window,r){case"focusin":(nn(Ke)||Ke.contentEditable==="true")&&(xo=Ke,vm=re,Jl=null);break;case"focusout":Jl=vm=xo=null;break;case"mousedown":ym=!0;break;case"contextmenu":case"mouseup":case"dragend":ym=!1,k0(fe,o,le);break;case"selectionchange":if(DC)break;case"keydown":case"keyup":k0(fe,o,le)}var Ae;if(Kr)e:{switch(r){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else tt?se(r,o)&&(De="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(De="onCompositionStart");De&&(E&&o.locale!=="ko"&&(tt||De!=="onCompositionStart"?De==="onCompositionEnd"&&tt&&(Ae=$l()):(qr=le,ca="value"in qr?qr.value:qr.textContent,tt=!0)),Ke=Gf(re,De),0<Ke.length&&(De=new Kl(De,r,null,o,le),fe.push({event:De,listeners:Ke}),Ae?De.data=Ae:(Ae=ve(o),Ae!==null&&(De.data=Ae)))),(Ae=y?tn(r,o):nt(r,o))&&(De=Gf(re,"onBeforeInput"),0<De.length&&(Ke=new Kl("onBeforeInput","beforeinput",null,o,le),fe.push({event:Ke,listeners:De}),Ke.data=Ae)),m2(fe,r,re,o,le)}aE(fe,a)})}function Ru(r,a,o){return{instance:r,listener:a,currentTarget:o}}function Gf(r,a){for(var o=a+"Capture",u=[];r!==null;){var d=r,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=_s(r,o),d!=null&&u.unshift(Ru(r,d,g)),d=_s(r,a),d!=null&&u.push(Ru(r,d,g))),r.tag===3)return u;r=r.return}return[]}function Xo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function oE(r,a,o,u,d){for(var g=a._reactName,w=[];o!==null&&o!==u;){var R=o,F=R.alternate,re=R.stateNode;if(R=R.tag,F!==null&&F===u)break;R!==5&&R!==26&&R!==27||re===null||(F=re,d?(re=_s(o,g),re!=null&&w.unshift(Ru(o,re,F))):d||(re=_s(o,g),re!=null&&w.push(Ru(o,re,F)))),o=o.return}w.length!==0&&r.push({event:a,listeners:w})}var y2=/\r\n?/g,_2=/\u0000|\uFFFD/g;function lE(r){return(typeof r=="string"?r:""+r).replace(y2,`
`).replace(_2,"")}function uE(r,a){return a=lE(a),lE(r)===a}function Yf(){}function _t(r,a,o,u,d,g){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||hr(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&hr(r,""+u);break;case"className":Br(r,"class",u);break;case"tabIndex":Br(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Br(r,o,u);break;case"style":Bl(r,u,g);break;case"data":if(a!=="object"){Br(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=vo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&_t(r,a,"name",d.name,d,null),_t(r,a,"formEncType",d.formEncType,d,null),_t(r,a,"formMethod",d.formMethod,d,null),_t(r,a,"formTarget",d.formTarget,d,null)):(_t(r,a,"encType",d.encType,d,null),_t(r,a,"method",d.method,d,null),_t(r,a,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=vo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Yf);break;case"onScroll":u!=null&&Xe("scroll",r);break;case"onScrollEnd":u!=null&&Xe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=vo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Xe("beforetoggle",r),Xe("toggle",r),la(r,"popover",u);break;case"xlinkActuate":gn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":gn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":gn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":gn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":gn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":gn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":gn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":gn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":gn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":la(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=cm.get(o)||o,la(r,o,u))}}function zp(r,a,o,u,d,g){switch(o){case"style":Bl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?hr(r,u):(typeof u=="number"||typeof u=="bigint")&&hr(r,""+u);break;case"onScroll":u!=null&&Xe("scroll",r);break;case"onScrollEnd":u!=null&&Xe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Yf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),a=o.slice(2,d?o.length-7:void 0),g=r[$t]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(a,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):la(r,o,u)}}}function bn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",r),Xe("load",r);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:_t(r,a,g,w,o,null)}}d&&_t(r,a,"srcSet",o.srcSet,o,null),u&&_t(r,a,"src",o.src,o,null);return;case"input":Xe("invalid",r);var R=g=w=d=null,F=null,re=null;for(u in o)if(o.hasOwnProperty(u)){var le=o[u];if(le!=null)switch(u){case"name":d=le;break;case"type":w=le;break;case"checked":F=le;break;case"defaultChecked":re=le;break;case"value":g=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,a));break;default:_t(r,a,u,le,o,null)}}gs(r,g,R,F,re,w,d,!1),go(r);return;case"select":Xe("invalid",r),u=w=g=null;for(d in o)if(o.hasOwnProperty(d)&&(R=o[d],R!=null))switch(d){case"value":g=R;break;case"defaultValue":w=R;break;case"multiple":u=R;default:_t(r,a,d,R,o,null)}a=g,o=w,r.multiple=!!u,a!=null?Si(r,!!u,a,!1):o!=null&&Si(r,!!u,o,!0);return;case"textarea":Xe("invalid",r),g=d=u=null;for(w in o)if(o.hasOwnProperty(w)&&(R=o[w],R!=null))switch(w){case"value":u=R;break;case"defaultValue":d=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:_t(r,a,w,R,o,null)}vs(r,u,d,g),go(r);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:_t(r,a,F,u,o,null)}return;case"dialog":Xe("beforetoggle",r),Xe("toggle",r),Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":Xe("load",r);break;case"video":case"audio":for(u=0;u<xu.length;u++)Xe(xu[u],r);break;case"image":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"embed":case"source":case"link":Xe("error",r),Xe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in o)if(o.hasOwnProperty(re)&&(u=o[re],u!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:_t(r,a,re,u,o,null)}return;default:if(Hl(a)){for(le in o)o.hasOwnProperty(le)&&(u=o[le],u!==void 0&&zp(r,a,le,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&_t(r,a,R,u,o,null))}function b2(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,w=null,R=null,F=null,re=null,le=null;for(ae in o){var fe=o[ae];if(o.hasOwnProperty(ae)&&fe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":F=fe;default:u.hasOwnProperty(ae)||_t(r,a,ae,null,u,fe)}}for(var ie in u){var ae=u[ie];if(fe=o[ie],u.hasOwnProperty(ie)&&(ae!=null||fe!=null))switch(ie){case"type":g=ae;break;case"name":d=ae;break;case"checked":re=ae;break;case"defaultChecked":le=ae;break;case"value":w=ae;break;case"defaultValue":R=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,a));break;default:ae!==fe&&_t(r,a,ie,ae,u,fe)}}Wn(r,w,R,F,re,le,g,d);return;case"select":ae=w=R=ie=null;for(g in o)if(F=o[g],o.hasOwnProperty(g)&&F!=null)switch(g){case"value":break;case"multiple":ae=F;default:u.hasOwnProperty(g)||_t(r,a,g,null,u,F)}for(d in u)if(g=u[d],F=o[d],u.hasOwnProperty(d)&&(g!=null||F!=null))switch(d){case"value":ie=g;break;case"defaultValue":R=g;break;case"multiple":w=g;default:g!==F&&_t(r,a,d,g,u,F)}a=R,o=w,u=ae,ie!=null?Si(r,!!o,ie,!1):!!u!=!!o&&(a!=null?Si(r,!!o,a,!0):Si(r,!!o,o?[]:"",!1));return;case"textarea":ae=ie=null;for(R in o)if(d=o[R],o.hasOwnProperty(R)&&d!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:_t(r,a,R,null,u,d)}for(w in u)if(d=u[w],g=o[w],u.hasOwnProperty(w)&&(d!=null||g!=null))switch(w){case"value":ie=d;break;case"defaultValue":ae=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&_t(r,a,w,d,u,g)}vt(r,ie,ae);return;case"option":for(var ke in o)if(ie=o[ke],o.hasOwnProperty(ke)&&ie!=null&&!u.hasOwnProperty(ke))switch(ke){case"selected":r.selected=!1;break;default:_t(r,a,ke,null,u,ie)}for(F in u)if(ie=u[F],ae=o[F],u.hasOwnProperty(F)&&ie!==ae&&(ie!=null||ae!=null))switch(F){case"selected":r.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:_t(r,a,F,ie,u,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in o)ie=o[Oe],o.hasOwnProperty(Oe)&&ie!=null&&!u.hasOwnProperty(Oe)&&_t(r,a,Oe,null,u,ie);for(re in u)if(ie=u[re],ae=o[re],u.hasOwnProperty(re)&&ie!==ae&&(ie!=null||ae!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,a));break;default:_t(r,a,re,ie,u,ae)}return;default:if(Hl(a)){for(var bt in o)ie=o[bt],o.hasOwnProperty(bt)&&ie!==void 0&&!u.hasOwnProperty(bt)&&zp(r,a,bt,void 0,u,ie);for(le in u)ie=u[le],ae=o[le],!u.hasOwnProperty(le)||ie===ae||ie===void 0&&ae===void 0||zp(r,a,le,ie,u,ae);return}}for(var W in o)ie=o[W],o.hasOwnProperty(W)&&ie!=null&&!u.hasOwnProperty(W)&&_t(r,a,W,null,u,ie);for(fe in u)ie=u[fe],ae=o[fe],!u.hasOwnProperty(fe)||ie===ae||ie==null&&ae==null||_t(r,a,fe,ie,u,ae)}var Bp=null,Hp=null;function Kf(r){return r.nodeType===9?r:r.ownerDocument}function cE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function qp(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var $p=null;function E2(){var r=window.event;return r&&r.type==="popstate"?r===$p?!1:($p=r,!0):($p=null,!1)}var hE=typeof setTimeout=="function"?setTimeout:void 0,T2=typeof clearTimeout=="function"?clearTimeout:void 0,dE=typeof Promise=="function"?Promise:void 0,S2=typeof queueMicrotask=="function"?queueMicrotask:typeof dE<"u"?function(r){return dE.resolve(null).then(r).catch(w2)}:hE;function w2(r){setTimeout(function(){throw r})}function xa(r){return r==="head"}function mE(r,a){var o=a,u=0,d=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var w=r.ownerDocument;if(o&1&&Cu(w.documentElement),o&2&&Cu(w.body),o&4)for(o=w.head,Cu(o),w=o.firstChild;w;){var R=w.nextSibling,F=w.nodeName;w[hs]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=R}}if(d===0){r.removeChild(g),Vu(a);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Vu(a)}function Gp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Gp(o),oa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function A2(r,a,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[hs])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Pr(r.nextSibling),r===null)break}return null}function x2(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Pr(r.nextSibling),r===null))return null;return r}function Yp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function R2(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Pr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Kp=null;function pE(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function gE(r,a,o){switch(a=Kf(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Cu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);oa(r)}var Tr=new Map,vE=new Set;function Qf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Bi=P.d;P.d={f:C2,r:I2,D:O2,C:N2,L:D2,m:P2,X:k2,S:M2,M:V2};function C2(){var r=Bi.f(),a=Ff();return r||a}function I2(r){var a=Fr(r);a!==null&&a.tag===5&&a.type==="form"?L_(a):Bi.r(r)}var Wo=typeof document>"u"?null:document;function yE(r,a,o){var u=Wo;if(u&&typeof a=="string"&&a){var d=Gt(a);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),vE.has(d)||(vE.add(d),r={rel:r,crossOrigin:o,href:a},u.querySelector(d)===null&&(a=u.createElement("link"),bn(a,"link",r),Ft(a),u.head.appendChild(a)))}}function O2(r){Bi.D(r),yE("dns-prefetch",r,null)}function N2(r,a){Bi.C(r,a),yE("preconnect",r,a)}function D2(r,a,o){Bi.L(r,a,o);var u=Wo;if(u&&r&&a){var d='link[rel="preload"][as="'+Gt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Gt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Gt(o.imageSizes)+'"]')):d+='[href="'+Gt(r)+'"]';var g=d;switch(a){case"style":g=Zo(r);break;case"script":g=Jo(r)}Tr.has(g)||(r=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),Tr.set(g,r),u.querySelector(d)!==null||a==="style"&&u.querySelector(Iu(g))||a==="script"&&u.querySelector(Ou(g))||(a=u.createElement("link"),bn(a,"link",r),Ft(a),u.head.appendChild(a)))}}function P2(r,a){Bi.m(r,a);var o=Wo;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+Gt(u)+'"][href="'+Gt(r)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Jo(r)}if(!Tr.has(g)&&(r=v({rel:"modulepreload",href:r},a),Tr.set(g,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ou(g)))return}u=o.createElement("link"),bn(u,"link",r),Ft(u),o.head.appendChild(u)}}}function M2(r,a,o){Bi.S(r,a,o);var u=Wo;if(u&&r){var d=kn(u).hoistableStyles,g=Zo(r);a=a||"default";var w=d.get(g);if(!w){var R={loading:0,preload:null};if(w=u.querySelector(Iu(g)))R.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},o),(o=Tr.get(g))&&Qp(r,o);var F=w=u.createElement("link");Ft(F),bn(F,"link",r),F._p=new Promise(function(re,le){F.onload=re,F.onerror=le}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Xf(w,a,u)}w={type:"stylesheet",instance:w,count:1,state:R},d.set(g,w)}}}function k2(r,a){Bi.X(r,a);var o=Wo;if(o&&r){var u=kn(o).hoistableScripts,d=Jo(r),g=u.get(d);g||(g=o.querySelector(Ou(d)),g||(r=v({src:r,async:!0},a),(a=Tr.get(d))&&Xp(r,a),g=o.createElement("script"),Ft(g),bn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function V2(r,a){Bi.M(r,a);var o=Wo;if(o&&r){var u=kn(o).hoistableScripts,d=Jo(r),g=u.get(d);g||(g=o.querySelector(Ou(d)),g||(r=v({src:r,async:!0,type:"module"},a),(a=Tr.get(d))&&Xp(r,a),g=o.createElement("script"),Ft(g),bn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function _E(r,a,o,u){var d=(d=ge.current)?Qf(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Zo(o.href),o=kn(d).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Zo(o.href);var g=kn(d).hoistableStyles,w=g.get(r);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,w),(g=d.querySelector(Iu(r)))&&!g._p&&(w.instance=g,w.state.loading=5),Tr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Tr.set(r,o),g||L2(d,r,o,w.state))),a&&u===null)throw Error(i(528,""));return w}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Jo(o),o=kn(d).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Zo(r){return'href="'+Gt(r)+'"'}function Iu(r){return'link[rel="stylesheet"]['+r+"]"}function bE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function L2(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),bn(a,"link",o),Ft(a),r.head.appendChild(a))}function Jo(r){return'[src="'+Gt(r)+'"]'}function Ou(r){return"script[async]"+r}function EE(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+Gt(o.href)+'"]');if(u)return a.instance=u,Ft(u),u;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Ft(u),bn(u,"style",d),Xf(u,o.precedence,r),a.instance=u;case"stylesheet":d=Zo(o.href);var g=r.querySelector(Iu(d));if(g)return a.state.loading|=4,a.instance=g,Ft(g),g;u=bE(o),(d=Tr.get(d))&&Qp(u,d),g=(r.ownerDocument||r).createElement("link"),Ft(g);var w=g;return w._p=new Promise(function(R,F){w.onload=R,w.onerror=F}),bn(g,"link",u),a.state.loading|=4,Xf(g,o.precedence,r),a.instance=g;case"script":return g=Jo(o.src),(d=r.querySelector(Ou(g)))?(a.instance=d,Ft(d),d):(u=o,(d=Tr.get(g))&&(u=v({},o),Xp(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),Ft(d),bn(d,"link",u),r.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Xf(u,o.precedence,r));return a.instance}function Xf(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,w=0;w<u.length;w++){var R=u[w];if(R.dataset.precedence===a)g=R;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function Qp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Xp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Wf=null;function TE(r,a,o){if(Wf===null){var u=new Map,d=Wf=new Map;d.set(o,u)}else d=Wf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[hs]||g[en]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(a)||"";w=r+w;var R=u.get(w);R?R.push(g):u.set(w,[g])}}return u}function SE(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function j2(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function wE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Nu=null;function U2(){}function F2(r,a,o){if(Nu===null)throw Error(i(475));var u=Nu;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Zo(o.href),g=r.querySelector(Iu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Zf.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=g,Ft(g);return}g=r.ownerDocument||r,o=bE(o),(d=Tr.get(d))&&Qp(o,d),g=g.createElement("link"),Ft(g);var w=g;w._p=new Promise(function(R,F){w.onload=R,w.onerror=F}),bn(g,"link",o),a.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Zf.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function z2(){if(Nu===null)throw Error(i(475));var r=Nu;return r.stylesheets&&r.count===0&&Wp(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&Wp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Zf(){if(this.count--,this.count===0){if(this.stylesheets)Wp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Jf=null;function Wp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Jf=new Map,a.forEach(B2,r),Jf=null,Zf.call(r))}function B2(r,a){if(!(a.state.loading&4)){var o=Jf.get(r);if(o)var u=o.get(null);else{o=new Map,Jf.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var w=d[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}d=a.instance,w=d.getAttribute("data-precedence"),g=o.get(w)||u,g===u&&o.set(null,d),o.set(w,d),this.count++,u=Zf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),a.state.loading|=4}}var Du={$$typeof:H,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function H2(r,a,o,u,d,g,w,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function AE(r,a,o,u,d,g,w,R,F,re,le,fe){return r=new H2(r,a,o,w,R,F,re,fe),a=1,g===!0&&(a|=24),g=Jn(3,null,null,a),r.current=g,g.stateNode=r,a=Dm(),a.refCount++,r.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:a},Vm(g),r}function xE(r){return r?(r=Oo,r):Oo}function RE(r,a,o,u,d,g){d=xE(d),u.context===null?u.context=d:u.pendingContext=d,u=da(a),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ma(r,u,a),o!==null&&(ir(o,r,a),lu(o,r,a))}function CE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function Zp(r,a){CE(r,a),(r=r.alternate)&&CE(r,a)}function IE(r){if(r.tag===13){var a=Io(r,67108864);a!==null&&ir(a,r,67108864),Zp(r,67108864)}}var eh=!0;function q2(r,a,o,u){var d=q.T;q.T=null;var g=P.p;try{P.p=2,Jp(r,a,o,u)}finally{P.p=g,q.T=d}}function $2(r,a,o,u){var d=q.T;q.T=null;var g=P.p;try{P.p=8,Jp(r,a,o,u)}finally{P.p=g,q.T=d}}function Jp(r,a,o,u){if(eh){var d=eg(u);if(d===null)Fp(r,a,u,th,o),NE(r,u);else if(Y2(d,r,a,o,u))u.stopPropagation();else if(NE(r,u),a&4&&-1<G2.indexOf(r)){for(;d!==null;){var g=Fr(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Cr(g.pendingLanes);if(w!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var F=1<<31-qt(w);R.entanglements[1]|=F,w&=~F}ei(g),(pt&6)===0&&(jf=xt()+500,Au(0))}}break;case 13:R=Io(g,2),R!==null&&ir(R,g,2),Ff(),Zp(g,2)}if(g=eg(u),g===null&&Fp(r,a,u,th,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Fp(r,a,u,null,o)}}function eg(r){return r=dr(r),tg(r)}var th=null;function tg(r){if(th=null,r=bi(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return th=r,null}function OE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case mt:return 2;case Pn:return 8;case zn:case Bn:return 32;case cr:return 268435456;default:return 32}default:return 32}}var ng=!1,Ra=null,Ca=null,Ia=null,Pu=new Map,Mu=new Map,Oa=[],G2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function NE(r,a){switch(r){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":Pu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(a.pointerId)}}function ku(r,a,o,u,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},a!==null&&(a=Fr(a),a!==null&&IE(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),r)}function Y2(r,a,o,u,d){switch(a){case"focusin":return Ra=ku(Ra,r,a,o,u,d),!0;case"dragenter":return Ca=ku(Ca,r,a,o,u,d),!0;case"mouseover":return Ia=ku(Ia,r,a,o,u,d),!0;case"pointerover":var g=d.pointerId;return Pu.set(g,ku(Pu.get(g)||null,r,a,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Mu.set(g,ku(Mu.get(g)||null,r,a,o,u,d)),!0}return!1}function DE(r){var a=bi(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,Uc(r.priority,function(){if(o.tag===13){var u=rr();u=ia(u);var d=Io(o,u);d!==null&&ir(d,o,u),Zp(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function nh(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=eg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);wi=u,o.target.dispatchEvent(u),wi=null}else return a=Fr(o),a!==null&&IE(a),r.blockedOn=o,!1;a.shift()}return!0}function PE(r,a,o){nh(r)&&o.delete(a)}function K2(){ng=!1,Ra!==null&&nh(Ra)&&(Ra=null),Ca!==null&&nh(Ca)&&(Ca=null),Ia!==null&&nh(Ia)&&(Ia=null),Pu.forEach(PE),Mu.forEach(PE)}function rh(r,a){r.blockedOn===a&&(r.blockedOn=null,ng||(ng=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,K2)))}var ih=null;function ME(r){ih!==r&&(ih=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ih===r&&(ih=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],d=r[a+2];if(typeof u!="function"){if(tg(u||o)===null)continue;break}var g=Fr(o);g!==null&&(r.splice(a,3),a-=3,tp(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Vu(r){function a(F){return rh(F,r)}Ra!==null&&rh(Ra,r),Ca!==null&&rh(Ca,r),Ia!==null&&rh(Ia,r),Pu.forEach(a),Mu.forEach(a);for(var o=0;o<Oa.length;o++){var u=Oa[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Oa.length&&(o=Oa[0],o.blockedOn===null);)DE(o),o.blockedOn===null&&Oa.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],w=d[$t]||null;if(typeof g=="function")w||ME(o);else if(w){var R=null;if(g&&g.hasAttribute("formAction")){if(d=g,w=g[$t]||null)R=w.formAction;else if(tg(d)!==null)continue}else R=w.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),ME(o)}}}function rg(r){this._internalRoot=r}ah.prototype.render=rg.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=rr();RE(o,u,r,a,null,null)},ah.prototype.unmount=rg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;RE(r.current,2,null,r,null,null),Ff(),a[fr]=null}};function ah(r){this._internalRoot=r}ah.prototype.unstable_scheduleHydration=function(r){if(r){var a=aa();r={blockedOn:null,target:r,priority:a};for(var o=0;o<Oa.length&&a!==0&&a<Oa[o].priority;o++);Oa.splice(o,0,r),o===0&&DE(r)}};var kE=e.version;if(kE!=="19.1.1")throw Error(i(527,kE,"19.1.1"));P.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(a),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var Q2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{Be=sh.inject(Q2),Fe=sh}catch{}}return ju.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",d=W_,g=Z_,w=J_,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=AE(r,1,!1,null,null,o,u,d,g,w,R,null),r[fr]=a.current,Up(r),new rg(a)},ju.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,d="",g=W_,w=Z_,R=J_,F=null,re=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks),o.formState!==void 0&&(re=o.formState)),a=AE(r,1,!0,a,o??null,u,d,g,w,R,F,re),a.context=xE(null),o=a.current,u=rr(),u=ia(u),d=da(u),d.callback=null,ma(o,d,u),o=u,a.current.lanes=o,_i(a,o),ei(a),r[fr]=a.current,Up(r),new ah(a)},ju.version="19.1.1",ju}var $E;function aI(){if($E)return sg.exports;$E=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sg.exports=iI(),sg.exports}var sI=aI(),oI=rw();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},oc.apply(this,arguments)}var Ua;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ua||(Ua={}));const GE="popstate";function lI(n){n===void 0&&(n={});function e(i,s){let{pathname:l,search:c,hash:m}=i.location;return $g("",{pathname:l,search:c,hash:m},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Uh(s)}return cI(e,t,null,n)}function Jt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function iw(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uI(){return Math.random().toString(36).substr(2,8)}function YE(n,e){return{usr:n.state,key:n.key,idx:e}}function $g(n,e,t,i){return t===void 0&&(t=null),oc({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Sl(e):e,{state:t,key:e&&e.key||i||uI()})}function Uh(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Sl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function cI(n,e,t,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,m=Ua.Pop,h=null,p=v();p==null&&(p=0,c.replaceState(oc({},c.state,{idx:p}),""));function v(){return(c.state||{idx:null}).idx}function b(){m=Ua.Pop;let C=v(),G=C==null?null:C-p;p=C,h&&h({action:m,location:j.location,delta:G})}function S(C,G){m=Ua.Push;let X=$g(j.location,C,G);p=v()+1;let H=YE(X,p),te=j.createHref(X);try{c.pushState(H,"",te)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;s.location.assign(te)}l&&h&&h({action:m,location:j.location,delta:1})}function N(C,G){m=Ua.Replace;let X=$g(j.location,C,G);p=v();let H=YE(X,p),te=j.createHref(X);c.replaceState(H,"",te),l&&h&&h({action:m,location:j.location,delta:0})}function k(C){let G=s.location.origin!=="null"?s.location.origin:s.location.href,X=typeof C=="string"?C:Uh(C);return X=X.replace(/ $/,"%20"),Jt(G,"No window.location.(origin|href) available to create URL for href: "+X),new URL(X,G)}let j={get action(){return m},get location(){return n(s,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(GE,b),h=C,()=>{s.removeEventListener(GE,b),h=null}},createHref(C){return e(s,C)},createURL:k,encodeLocation(C){let G=k(C);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:S,replace:N,go(C){return c.go(C)}};return j}var KE;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(KE||(KE={}));function fI(n,e,t){return t===void 0&&(t="/"),hI(n,e,t)}function hI(n,e,t,i){let s=typeof e=="string"?Sl(e):e,l=Xv(s.pathname||"/",t);if(l==null)return null;let c=aw(n);dI(c);let m=null;for(let h=0;m==null&&h<c.length;++h){let p=AI(l);m=TI(c[h],p)}return m}function aw(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let s=(l,c,m)=>{let h={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(Jt(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let p=za([i,h.relativePath]),v=t.concat(h);l.children&&l.children.length>0&&(Jt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),aw(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:bI(p,l.index),routesMeta:v})};return n.forEach((l,c)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))s(l,c);else for(let h of sw(l.path))s(l,c,h)}),e}function sw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=sw(i.join("/")),m=[];return m.push(...c.map(h=>h===""?l:[l,h].join("/"))),s&&m.push(...c),m.map(h=>n.startsWith("/")&&h===""?"/":h)}function dI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:EI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const mI=/^:[\w-]+$/,pI=3,gI=2,vI=1,yI=10,_I=-2,QE=n=>n==="*";function bI(n,e){let t=n.split("/"),i=t.length;return t.some(QE)&&(i+=_I),e&&(i+=gI),t.filter(s=>!QE(s)).reduce((s,l)=>s+(mI.test(l)?pI:l===""?vI:yI),i)}function EI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function TI(n,e,t){let{routesMeta:i}=n,s={},l="/",c=[];for(let m=0;m<i.length;++m){let h=i[m],p=m===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=SI({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),S=h.route;if(!b)return null;Object.assign(s,b.params),c.push({params:s,pathname:za([l,b.pathname]),pathnameBase:II(za([l,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(l=za([l,b.pathnameBase]))}return c}function SI(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=wI(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:i.reduce((p,v,b)=>{let{paramName:S,isOptional:N}=v;if(S==="*"){let j=m[b]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const k=m[b];return N&&!k?p[S]=void 0:p[S]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function wI(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),iw(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,h)=>(i.push({paramName:m,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function AI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return iw(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Xv(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function xI(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Sl(n):n;return{pathname:t?t.startsWith("/")?t:RI(t,e):e,search:OI(i),hash:NI(s)}}function RI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function cg(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ow(n,e){let t=CI(n);return e?t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function lw(n,e,t,i){i===void 0&&(i=!1);let s;typeof n=="string"?s=Sl(n):(s=oc({},n),Jt(!s.pathname||!s.pathname.includes("?"),cg("?","pathname","search",s)),Jt(!s.pathname||!s.pathname.includes("#"),cg("#","pathname","hash",s)),Jt(!s.search||!s.search.includes("#"),cg("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,m;if(c==null)m=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),b-=1;s.pathname=S.join("/")}m=b>=0?e[b]:"/"}let h=xI(s,m),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}const za=n=>n.join("/").replace(/\/\/+/g,"/"),II=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),OI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,NI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function DI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const uw=["post","put","patch","delete"];new Set(uw);const PI=["get",...uw];new Set(PI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lc.apply(this,arguments)}const Wv=z.createContext(null),MI=z.createContext(null),no=z.createContext(null),bd=z.createContext(null),as=z.createContext({outlet:null,matches:[],isDataRoute:!1}),cw=z.createContext(null);function kI(n,e){let{relative:t}=e===void 0?{}:e;Sc()||Jt(!1);let{basename:i,navigator:s}=z.useContext(no),{hash:l,pathname:c,search:m}=hw(n,{relative:t}),h=c;return i!=="/"&&(h=c==="/"?i:za([i,c])),s.createHref({pathname:h,search:m,hash:l})}function Sc(){return z.useContext(bd)!=null}function Ed(){return Sc()||Jt(!1),z.useContext(bd).location}function fw(n){z.useContext(no).static||z.useLayoutEffect(n)}function wc(){let{isDataRoute:n}=z.useContext(as);return n?XI():VI()}function VI(){Sc()||Jt(!1);let n=z.useContext(Wv),{basename:e,future:t,navigator:i}=z.useContext(no),{matches:s}=z.useContext(as),{pathname:l}=Ed(),c=JSON.stringify(ow(s,t.v7_relativeSplatPath)),m=z.useRef(!1);return fw(()=>{m.current=!0}),z.useCallback(function(p,v){if(v===void 0&&(v={}),!m.current)return;if(typeof p=="number"){i.go(p);return}let b=lw(p,JSON.parse(c),l,v.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:za([e,b.pathname])),(v.replace?i.replace:i.push)(b,v.state,v)},[e,i,c,l,n])}const LI=z.createContext(null);function jI(n){let e=z.useContext(as).outlet;return e&&z.createElement(LI.Provider,{value:n},e)}function hw(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=z.useContext(no),{matches:s}=z.useContext(as),{pathname:l}=Ed(),c=JSON.stringify(ow(s,i.v7_relativeSplatPath));return z.useMemo(()=>lw(n,JSON.parse(c),l,t==="path"),[n,c,l,t])}function UI(n,e){return FI(n,e)}function FI(n,e,t,i){Sc()||Jt(!1);let{navigator:s}=z.useContext(no),{matches:l}=z.useContext(as),c=l[l.length-1],m=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let p=Ed(),v;if(e){var b;let C=typeof e=="string"?Sl(e):e;h==="/"||(b=C.pathname)!=null&&b.startsWith(h)||Jt(!1),v=C}else v=p;let S=v.pathname||"/",N=S;if(h!=="/"){let C=h.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let k=fI(n,{pathname:N}),j=$I(k&&k.map(C=>Object.assign({},C,{params:Object.assign({},m,C.params),pathname:za([h,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:za([h,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,t,i);return e&&j?z.createElement(bd.Provider,{value:{location:lc({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Ua.Pop}},j):j}function zI(){let n=QI(),e=DI(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:s},t):null,null)}const BI=z.createElement(zI,null);class HI extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?z.createElement(as.Provider,{value:this.props.routeContext},z.createElement(cw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qI(n){let{routeContext:e,match:t,children:i}=n,s=z.useContext(Wv);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(as.Provider,{value:e},i)}function $I(n,e,t,i){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,m=(s=t)==null?void 0:s.errors;if(m!=null){let v=c.findIndex(b=>b.route.id&&(m==null?void 0:m[b.route.id])!==void 0);v>=0||Jt(!1),c=c.slice(0,Math.min(c.length,v+1))}let h=!1,p=-1;if(t&&i&&i.v7_partialHydration)for(let v=0;v<c.length;v++){let b=c[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:S,errors:N}=t,k=b.route.loader&&S[b.route.id]===void 0&&(!N||N[b.route.id]===void 0);if(b.route.lazy||k){h=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((v,b,S)=>{let N,k=!1,j=null,C=null;t&&(N=m&&b.route.id?m[b.route.id]:void 0,j=b.route.errorElement||BI,h&&(p<0&&S===0?(WI("route-fallback"),k=!0,C=null):p===S&&(k=!0,C=b.route.hydrateFallbackElement||null)));let G=e.concat(c.slice(0,S+1)),X=()=>{let H;return N?H=j:k?H=C:b.route.Component?H=z.createElement(b.route.Component,null):b.route.element?H=b.route.element:H=v,z.createElement(qI,{match:b,routeContext:{outlet:v,matches:G,isDataRoute:t!=null},children:H})};return t&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?z.createElement(HI,{location:t.location,revalidation:t.revalidation,component:j,error:N,children:X(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):X()},null)}var dw=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(dw||{}),mw=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(mw||{});function GI(n){let e=z.useContext(Wv);return e||Jt(!1),e}function YI(n){let e=z.useContext(MI);return e||Jt(!1),e}function KI(n){let e=z.useContext(as);return e||Jt(!1),e}function pw(n){let e=KI(),t=e.matches[e.matches.length-1];return t.route.id||Jt(!1),t.route.id}function QI(){var n;let e=z.useContext(cw),t=YI(),i=pw();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function XI(){let{router:n}=GI(dw.UseNavigateStable),e=pw(mw.UseNavigateStable),t=z.useRef(!1);return fw(()=>{t.current=!0}),z.useCallback(function(s,l){l===void 0&&(l={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,lc({fromRouteId:e},l)))},[n,e])}const XE={};function WI(n,e,t){XE[n]||(XE[n]=!0)}function ZI(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Zv(n){return jI(n.context)}function sn(n){Jt(!1)}function JI(n){let{basename:e="/",children:t=null,location:i,navigationType:s=Ua.Pop,navigator:l,static:c=!1,future:m}=n;Sc()&&Jt(!1);let h=e.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:h,navigator:l,static:c,future:lc({v7_relativeSplatPath:!1},m)}),[h,m,l,c]);typeof i=="string"&&(i=Sl(i));let{pathname:v="/",search:b="",hash:S="",state:N=null,key:k="default"}=i,j=z.useMemo(()=>{let C=Xv(v,h);return C==null?null:{location:{pathname:C,search:b,hash:S,state:N,key:k},navigationType:s}},[h,v,b,S,N,k,s]);return j==null?null:z.createElement(no.Provider,{value:p},z.createElement(bd.Provider,{children:t,value:j}))}function eO(n){let{children:e,location:t}=n;return UI(Gg(e),t)}new Promise(()=>{});function Gg(n,e){e===void 0&&(e=[]);let t=[];return z.Children.forEach(n,(i,s)=>{if(!z.isValidElement(i))return;let l=[...e,s];if(i.type===z.Fragment){t.push.apply(t,Gg(i.props.children,l));return}i.type!==sn&&Jt(!1),!i.props.index||!i.props.children||Jt(!1);let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Gg(i.props.children,l)),t.push(c)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yg(){return Yg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Yg.apply(this,arguments)}function tO(n,e){if(n==null)return{};var t={},i=Object.keys(n),s,l;for(l=0;l<i.length;l++)s=i[l],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function nO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rO(n,e){return n.button===0&&(!e||e==="_self")&&!nO(n)}const iO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aO="6";try{window.__reactRouterVersion=aO}catch{}const sO="startTransition",WE=qg[sO];function oO(n){let{basename:e,children:t,future:i,window:s}=n,l=z.useRef();l.current==null&&(l.current=lI({window:s,v5Compat:!0}));let c=l.current,[m,h]=z.useState({action:c.action,location:c.location}),{v7_startTransition:p}=i||{},v=z.useCallback(b=>{p&&WE?WE(()=>h(b)):h(b)},[h,p]);return z.useLayoutEffect(()=>c.listen(v),[c,v]),z.useEffect(()=>ZI(i),[i]),z.createElement(JI,{basename:e,children:t,location:m.location,navigationType:m.action,navigator:c,future:i})}const lO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Td=z.forwardRef(function(e,t){let{onClick:i,relative:s,reloadDocument:l,replace:c,state:m,target:h,to:p,preventScrollReset:v,viewTransition:b}=e,S=tO(e,iO),{basename:N}=z.useContext(no),k,j=!1;if(typeof p=="string"&&uO.test(p)&&(k=p,lO))try{let H=new URL(window.location.href),te=p.startsWith("//")?new URL(H.protocol+p):new URL(p),K=Xv(te.pathname,N);te.origin===H.origin&&K!=null?p=K+te.search+te.hash:j=!0}catch{}let C=kI(p,{relative:s}),G=cO(p,{replace:c,state:m,target:h,preventScrollReset:v,relative:s,viewTransition:b});function X(H){i&&i(H),H.defaultPrevented||G(H)}return z.createElement("a",Yg({},S,{href:k||C,onClick:j||l?i:X,ref:t,target:h}))});var ZE;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(ZE||(ZE={}));var JE;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(JE||(JE={}));function cO(n,e){let{target:t,replace:i,state:s,preventScrollReset:l,relative:c,viewTransition:m}=e===void 0?{}:e,h=wc(),p=Ed(),v=hw(n,{relative:c});return z.useCallback(b=>{if(rO(b,t)){b.preventDefault();let S=i!==void 0?i:Uh(p)===Uh(v);h(n,{replace:S,state:s,preventScrollReset:l,relative:c,viewTransition:m})}},[p,h,v,i,s,t,n,l,c,m])}const fO=()=>{};var e1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},hO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],m=n[t++],h=((s&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,m=c?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,v=l>>2,b=(l&3)<<4|m>>4;let S=(m&15)<<2|p>>6,N=p&63;h||(N=64,c||(S=64)),i.push(t[v],t[b],t[S],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(gw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],m=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const b=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||m==null||p==null||b==null)throw new dO;const S=l<<2|m>>4;if(i.push(S),p!==64){const N=m<<4&240|p>>2;if(i.push(N),b!==64){const k=p<<6&192|b;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mO=function(n){const e=gw(n);return vw.encodeByteArray(e,!0)},Fh=function(n){return mO(n).replace(/\./g,"")},yw=function(n){try{return vw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=()=>pO().__FIREBASE_DEFAULTS__,vO=()=>{if(typeof process>"u"||typeof e1>"u")return;const n=e1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&yw(n[1]);return e&&JSON.parse(e)},Sd=()=>{try{return fO()||gO()||vO()||yO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_w=n=>{var e,t;return(t=(e=Sd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},bw=n=>{const e=_w(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Ew=()=>{var n;return(n=Sd())===null||n===void 0?void 0:n.config},Tw=n=>{var e;return(e=Sd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jv(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Fh(JSON.stringify(t)),Fh(JSON.stringify(c)),""].join(".")}const Wu={};function bO(){const n={prod:[],emulator:[]};for(const e of Object.keys(Wu))Wu[e]?n.emulator.push(e):n.prod.push(e);return n}function EO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let t1=!1;function ey(n,e){if(typeof window>"u"||typeof document>"u"||!ss(window.location.host)||Wu[n]===e||Wu[n]||t1)return;Wu[n]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=bO().prod.length>0;function c(){const S=document.getElementById(i);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function h(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{t1=!0,c()},S}function v(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=EO(i),N=t("text"),k=document.getElementById(N)||document.createElement("span"),j=t("learnmore"),C=document.getElementById(j)||document.createElement("a"),G=t("preprendIcon"),X=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const H=S.element;m(H),v(C,j);const te=p();h(X,G),H.append(X,k,C,te),document.body.appendChild(H)}l?(k.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function SO(){var n;const e=(n=Sd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RO(){const n=Nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function CO(){return!SO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IO(){try{return typeof indexedDB=="object"}catch{return!1}}function OO(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="FirebaseError";class vi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=NO,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?DO(l,i):"Error",m=`${this.serviceName}: ${c} (${s}).`;return new vi(s,m,i)}}function DO(n,e){return n.replace(PO,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const PO=/\{\$([^}]+)}/g;function MO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ks(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(n1(l)&&n1(c)){if(!Ks(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function n1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Hu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function qu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function kO(n,e){const t=new VO(n,e);return t.subscribe.bind(t)}class VO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");LO(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=fg),s.error===void 0&&(s.error=fg),s.complete===void 0&&(s.complete=fg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function fg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n){return n&&n._delegate?n._delegate:n}class Ya{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new _O;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FO(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);i===m&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:UO(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UO(n){return n===zs?void 0:n}function FO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ze||(Ze={}));const BO={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},HO=Ze.INFO,qO={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},$O=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=qO[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ty{constructor(e){this.name=e,this._logLevel=HO,this._logHandler=$O,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const GO=(n,e)=>e.some(t=>n instanceof t);let r1,i1;function YO(){return r1||(r1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KO(){return i1||(i1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ww=new WeakMap,Kg=new WeakMap,Aw=new WeakMap,hg=new WeakMap,ny=new WeakMap;function QO(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ba(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&ww.set(t,n)}).catch(()=>{}),ny.set(e,n),e}function XO(n){if(Kg.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Kg.set(n,e)}let Qg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Aw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ba(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function WO(n){Qg=n(Qg)}function ZO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(dg(this),e,...t);return Aw.set(i,e.sort?e.sort():[e]),Ba(i)}:KO().includes(n)?function(...e){return n.apply(dg(this),e),Ba(ww.get(this))}:function(...e){return Ba(n.apply(dg(this),e))}}function JO(n){return typeof n=="function"?ZO(n):(n instanceof IDBTransaction&&XO(n),GO(n,YO())?new Proxy(n,Qg):n)}function Ba(n){if(n instanceof IDBRequest)return QO(n);if(hg.has(n))return hg.get(n);const e=JO(n);return e!==n&&(hg.set(n,e),ny.set(e,n)),e}const dg=n=>ny.get(n);function eN(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),m=Ba(c);return i&&c.addEventListener("upgradeneeded",h=>{i(Ba(c.result),h.oldVersion,h.newVersion,Ba(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),m.then(h=>{l&&h.addEventListener("close",()=>l()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const tN=["get","getKey","getAll","getAllKeys","count"],nN=["put","add","delete","clear"],mg=new Map;function a1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(mg.get(e))return mg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=nN.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||tN.includes(t)))return;const l=async function(c,...m){const h=this.transaction(c,s?"readwrite":"readonly");let p=h.store;return i&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),s&&h.done]))[0]};return mg.set(e,l),l}WO(n=>({...n,get:(e,t,i)=>a1(e,t)||n.get(e,t,i),has:(e,t)=>!!a1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(iN(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function iN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xg="@firebase/app",s1="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new ty("@firebase/app"),aN="@firebase/app-compat",sN="@firebase/analytics-compat",oN="@firebase/analytics",lN="@firebase/app-check-compat",uN="@firebase/app-check",cN="@firebase/auth",fN="@firebase/auth-compat",hN="@firebase/database",dN="@firebase/data-connect",mN="@firebase/database-compat",pN="@firebase/functions",gN="@firebase/functions-compat",vN="@firebase/installations",yN="@firebase/installations-compat",_N="@firebase/messaging",bN="@firebase/messaging-compat",EN="@firebase/performance",TN="@firebase/performance-compat",SN="@firebase/remote-config",wN="@firebase/remote-config-compat",AN="@firebase/storage",xN="@firebase/storage-compat",RN="@firebase/firestore",CN="@firebase/ai",IN="@firebase/firestore-compat",ON="firebase",NN="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="[DEFAULT]",DN={[Xg]:"fire-core",[aN]:"fire-core-compat",[oN]:"fire-analytics",[sN]:"fire-analytics-compat",[uN]:"fire-app-check",[lN]:"fire-app-check-compat",[cN]:"fire-auth",[fN]:"fire-auth-compat",[hN]:"fire-rtdb",[dN]:"fire-data-connect",[mN]:"fire-rtdb-compat",[pN]:"fire-fn",[gN]:"fire-fn-compat",[vN]:"fire-iid",[yN]:"fire-iid-compat",[_N]:"fire-fcm",[bN]:"fire-fcm-compat",[EN]:"fire-perf",[TN]:"fire-perf-compat",[SN]:"fire-rc",[wN]:"fire-rc-compat",[AN]:"fire-gcs",[xN]:"fire-gcs-compat",[RN]:"fire-fst",[IN]:"fire-fst-compat",[CN]:"fire-vertex","fire-js":"fire-js",[ON]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Map,PN=new Map,Zg=new Map;function o1(n,e){try{n.container.addComponent(e)}catch(t){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qs(n){const e=n.name;if(Zg.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;Zg.set(e,n);for(const t of zh.values())o1(t,n);for(const t of PN.values())o1(t,n);return!0}function wd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ar(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new Ac("app","Firebase",MN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=NN;function xw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Wg,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Ha.create("bad-app-name",{appName:String(s)});if(t||(t=Ew()),!t)throw Ha.create("no-options");const l=zh.get(s);if(l){if(Ks(t,l.options)&&Ks(i,l.config))return l;throw Ha.create("duplicate-app",{appName:s})}const c=new zO(s);for(const h of Zg.values())c.addComponent(h);const m=new kN(t,i,c);return zh.set(s,m),m}function ry(n=Wg){const e=zh.get(n);if(!e&&n===Wg&&Ew())return xw();if(!e)throw Ha.create("no-app",{appName:n});return e}function ui(n,e,t){var i;let s=(i=DN[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const m=[`Unable to register library "${s}" with version "${e}":`];l&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(m.join(" "));return}Qs(new Ya(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="firebase-heartbeat-database",LN=1,uc="firebase-heartbeat-store";let pg=null;function Rw(){return pg||(pg=eN(VN,LN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ha.create("idb-open",{originalErrorMessage:n.message})})),pg}async function jN(n){try{const t=(await Rw()).transaction(uc),i=await t.objectStore(uc).get(Cw(n));return await t.done,i}catch(e){if(e instanceof vi)Yi.warn(e.message);else{const t=Ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yi.warn(t.message)}}}async function l1(n,e){try{const i=(await Rw()).transaction(uc,"readwrite");await i.objectStore(uc).put(e,Cw(n)),await i.done}catch(t){if(t instanceof vi)Yi.warn(t.message);else{const i=Ha.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Yi.warn(i.message)}}}function Cw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=1024,FN=30;class zN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=u1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>FN){const c=qN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Yi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=u1(),{heartbeatsToSend:i,unsentEntries:s}=BN(this._heartbeatsCache.heartbeats),l=Fh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Yi.warn(t),""}}}function u1(){return new Date().toISOString().substring(0,10)}function BN(n,e=UN){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),c1(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),c1(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class HN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IO()?OO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return l1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return l1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function c1(n){return Fh(JSON.stringify({version:2,heartbeats:n})).length}function qN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(n){Qs(new Ya("platform-logger",e=>new rN(e),"PRIVATE")),Qs(new Ya("heartbeat",e=>new zN(e),"PRIVATE")),ui(Xg,s1,n),ui(Xg,s1,"esm2017"),ui("fire-js","")}$N("");function iy(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function Iw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GN=Iw,Ow=new Ac("auth","Firebase",Iw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new ty("@firebase/auth");function YN(n,...e){Bh.logLevel<=Ze.WARN&&Bh.warn(`Auth (${ro}): ${n}`,...e)}function Th(n,...e){Bh.logLevel<=Ze.ERROR&&Bh.error(`Auth (${ro}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(n,...e){throw sy(n,...e)}function kr(n,...e){return sy(n,...e)}function ay(n,e,t){const i=Object.assign(Object.assign({},GN()),{[e]:t});return new Ac("auth","Firebase",i).create(e,{appName:n.name})}function qa(n){return ay(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KN(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&xr(n,"argument-error"),ay(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Ow.create(n,...e)}function Ne(n,e,...t){if(!n)throw sy(e,...t)}function Hi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Th(e),new Error(e)}function Ki(n,e){n||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function QN(){return f1()==="http:"||f1()==="https:"}function f1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QN()||AO()||"connection"in navigator)?navigator.onLine:!0}function WN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ki(t>e,"Short delay should be less than long delay!"),this.isMobile=TO()||xO()}get(){return XN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(n,e){Ki(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eD=new Rc(3e4,6e4);function io(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function os(n,e,t,i,s={}){return Dw(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const m=xc(Object.assign({key:n.config.apiKey},c)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},l);return wO()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&ss(n.emulatorConfig.host)&&(p.credentials="include"),Nw.fetch()(await Pw(n,n.config.apiHost,t,m),p)})}async function Dw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},ZN),e);try{const s=new nD(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw oh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[h,p]=m.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw oh(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw oh(n,"user-disabled",c);const v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ay(n,v,p);xr(n,v)}}catch(s){if(s instanceof vi)throw s;xr(n,"network-request-failed",{message:String(s)})}}async function Ad(n,e,t,i,s={}){const l=await os(n,e,t,i,s);return"mfaPendingCredential"in l&&xr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Pw(n,e,t,i){const s=`${e}${t}?${i}`,l=n,c=l.config.emulator?oy(n.config,s):`${n.config.apiScheme}://${s}`;return JN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function tD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(kr(this.auth,"network-request-failed")),eD.get())})}}function oh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=kr(n,e,i);return s.customData._tokenResponse=t,s}function h1(n){return n!==void 0&&n.enterprise!==void 0}class rD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iD(n,e){return os(n,"GET","/v2/recaptchaConfig",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(n,e){return os(n,"POST","/v1/accounts:delete",e)}async function Hh(n,e){return os(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sD(n,e=!1){const t=Nt(n),i=await t.getIdToken(e),s=ly(i);Ne(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:i,authTime:Zu(gg(s.auth_time)),issuedAtTime:Zu(gg(s.iat)),expirationTime:Zu(gg(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function gg(n){return Number(n)*1e3}function ly(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const s=yw(t);return s?JSON.parse(s):(Th("Failed to decode base64 JWT payload"),null)}catch(s){return Th("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function d1(n){const e=ly(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof vi&&oD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function oD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(n){var e;const t=n.auth,i=await n.getIdToken(),s=await cc(n,Hh(t,{idToken:i}));Ne(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Mw(l.providerUserInfo):[],m=cD(n.providerData,c),h=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(m!=null&&m.length),v=h?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new ev(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function uD(n){const e=Nt(n);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cD(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Mw(n){return n.map(e=>{var{providerId:t}=e,i=iy(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(n,e){const t=await Dw(n,{},async()=>{const i=xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await Pw(n,s,"/v1/token",`key=${l}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:m,body:i};return n.emulatorConfig&&ss(n.emulatorConfig.host)&&(h.credentials="include"),Nw.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function hD(n,e){return os(n,"POST","/v2/accounts:revokeToken",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=d1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await fD(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new ll;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Ne(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Ne(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Mr{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,l=iy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ev(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await cc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sD(this,e)}reload(){return uD(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await qh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(qa(this.auth));const e=await this.getIdToken();return await cc(this,aD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,l,c,m,h,p,v;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(s=t.email)!==null&&s!==void 0?s:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,k=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(m=t.tenantId)!==null&&m!==void 0?m:void 0,C=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,G=(p=t.createdAt)!==null&&p!==void 0?p:void 0,X=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:H,emailVerified:te,isAnonymous:K,providerData:oe,stsTokenManager:D}=t;Ne(H&&D,e,"internal-error");const T=ll.fromJSON(this.name,D);Ne(typeof H=="string",e,"internal-error"),Da(b,e.name),Da(S,e.name),Ne(typeof te=="boolean",e,"internal-error"),Ne(typeof K=="boolean",e,"internal-error"),Da(N,e.name),Da(k,e.name),Da(j,e.name),Da(C,e.name),Da(G,e.name),Da(X,e.name);const A=new Mr({uid:H,auth:e,email:S,emailVerified:te,displayName:b,isAnonymous:K,photoURL:k,phoneNumber:N,tenantId:j,stsTokenManager:T,createdAt:G,lastLoginAt:X});return oe&&Array.isArray(oe)&&(A.providerData=oe.map(I=>Object.assign({},I))),C&&(A._redirectEventId=C),A}static async _fromIdTokenResponse(e,t,i=!1){const s=new ll;s.updateFromServerResponse(t);const l=new Mr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await qh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ne(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?Mw(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),m=new ll;m.updateFromIdToken(i);const h=new Mr({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new ev(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Map;function qi(n){Ki(n instanceof Function,"Expected a class definition");let e=m1.get(n);return e?(Ki(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,m1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}kw.type="NONE";const p1=kw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(n,e,t){return`firebase:${n}:${e}:${t}`}class ul{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=Sh(this.userKey,s.apiKey,l),this.fullPersistenceKey=Sh("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hh(this.auth,{idToken:e}).catch(()=>{});return t?Mr._fromGetAccountInfoResponse(this.auth,t,e):null}return Mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ul(qi(p1),e,i);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=s[0]||qi(p1);const c=Sh(i,e.config.apiKey,e.name);let m=null;for(const p of t)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const S=await Hh(e,{idToken:v}).catch(()=>{});if(!S)break;b=await Mr._fromGetAccountInfoResponse(e,S,v)}else b=Mr._fromJSON(e,v);p!==l&&(m=b),l=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new ul(l,e,i):(l=h[0],m&&await l._set(c,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new ul(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zw(e))return"Blackberry";if(Bw(e))return"Webos";if(Lw(e))return"Safari";if((e.includes("chrome/")||jw(e))&&!e.includes("edge/"))return"Chrome";if(Fw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Vw(n=Nn()){return/firefox\//i.test(n)}function Lw(n=Nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jw(n=Nn()){return/crios\//i.test(n)}function Uw(n=Nn()){return/iemobile/i.test(n)}function Fw(n=Nn()){return/android/i.test(n)}function zw(n=Nn()){return/blackberry/i.test(n)}function Bw(n=Nn()){return/webos/i.test(n)}function uy(n=Nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function dD(n=Nn()){var e;return uy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mD(){return RO()&&document.documentMode===10}function Hw(n=Nn()){return uy(n)||Fw(n)||Bw(n)||zw(n)||/windows phone/i.test(n)||Uw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n,e=[]){let t;switch(n){case"Browser":t=g1(Nn());break;case"Worker":t=`${g1(Nn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ro}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,m)=>{try{const h=e(l);c(h)}catch(h){m(h)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(n,e={}){return os(n,"GET","/v2/passwordPolicy",io(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=6;class yD{constructor(e){var t,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:vD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,l,c,m;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(l=h.containsUppercaseLetter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(m=h.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v1(this),this.idTokenSubscription=new v1(this),this.beforeStateQueue=new pD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ow,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qi(t)),this._initializationPromise=this.queue(async()=>{var i,s,l;if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hh(this,{idToken:e}),i=await Mr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ar(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===m)&&(h!=null&&h.user)&&(s=h.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(qa(this));const t=e?Nt(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gD(this),t=new yD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ac("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await hD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qi(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[qi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,s);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&YN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ao(n){return Nt(n)}class v1{constructor(e){this.auth=e,this.observer=null,this.addObserver=kO(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bD(n){xd=n}function $w(n){return xd.loadJS(n)}function ED(){return xd.recaptchaEnterpriseScript}function TD(){return xd.gapiScript}function SD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class wD{constructor(){this.enterprise=new AD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class AD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xD="recaptcha-enterprise",Gw="NO_RECAPTCHA";class RD{constructor(e){this.type=xD,this.auth=ao(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{iD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new rD(h);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(h=>{m(h)})})}function s(l,c,m){const h=window.grecaptcha;h1(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Gw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(m=>{if(!t&&h1(window.grecaptcha))s(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=ED();h.length!==0&&(h+=m),$w(h).then(()=>{s(m,l,c)}).catch(p=>{c(p)})}}).catch(m=>{c(m)})})}}async function y1(n,e,t,i=!1,s=!1){const l=new RD(n);let c;if(s)c=Gw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const h=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const h=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function _1(n,e,t,i,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await y1(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await y1(n,e,t,t==="getOobCode");return i(n,m)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(n,e){const t=wd(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(Ks(l,e??{}))return s;xr(s,"already-initialized")}return t.initialize({options:e})}function ID(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(qi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function OD(n,e,t){const i=ao(n);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=Yw(e),{host:c,port:m}=ND(e),h=m===null?"":`:${m}`,p={url:`${l}//${c}${h}/`},v=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(Ks(p,i.config.emulator)&&Ks(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,ss(c)?(Jv(`${l}//${c}${h}`),ey("Auth",!0)):DD()}function Yw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ND(n){const e=Yw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:b1(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:b1(c)}}}function b1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,t){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function PD(n,e){return os(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(n,e){return Ad(n,"POST","/v1/accounts:signInWithPassword",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(n,e){return Ad(n,"POST","/v1/accounts:signInWithEmailLink",io(n,e))}async function VD(n,e){return Ad(n,"POST","/v1/accounts:signInWithEmailLink",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends cy{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new fc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new fc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _1(e,t,"signInWithPassword",MD);case"emailLink":return kD(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _1(e,i,"signUpPassword",PD);case"emailLink":return VD(e,{idToken:t,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(n,e){return Ad(n,"POST","/v1/accounts:signInWithIdp",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="http://localhost";class Qi extends cy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,l=iy(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new Qi(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return cl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,cl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cl(e,t)}buildRequest(){const e={requestUri:LD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UD(n){const e=Hu(qu(n)).link,t=e?Hu(qu(e)).deep_link_id:null,i=Hu(qu(n)).deep_link_id;return(i?Hu(qu(i)).link:null)||i||t||e||n}class fy{constructor(e){var t,i,s,l,c,m;const h=Hu(qu(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,v=(i=h.oobCode)!==null&&i!==void 0?i:null,b=jD((s=h.mode)!==null&&s!==void 0?s:null);Ne(p&&v&&b,"argument-error"),this.apiKey=p,this.operation=b,this.code=v,this.continueUrl=(l=h.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=h.lang)!==null&&c!==void 0?c:null,this.tenantId=(m=h.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=UD(e);try{return new fy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.providerId=wl.PROVIDER_ID}static credential(e,t){return fc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=fy.parseLink(t);return Ne(i,"argument-error"),fc._fromEmailAndCode(e,i.code,i.tenantId)}}wl.PROVIDER_ID="password";wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends hy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ju extends Al{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Ne("providerId"in t&&"signInMethod"in t,"argument-error"),Qi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Ne(e.idToken||e.accessToken,"argument-error"),Qi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ju.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ju.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:l,nonce:c,providerId:m}=e;if(!i&&!s&&!t&&!l||!m)return null;try{return new Ju(m)._credential({idToken:t,accessToken:i,nonce:c,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Al{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ma.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qi._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ka.credential(t,i)}catch{return null}}}ka.GOOGLE_SIGN_IN_METHOD="google.com";ka.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Al{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Va.credential(e.oauthAccessToken)}catch{return null}}}Va.GITHUB_SIGN_IN_METHOD="github.com";Va.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Al{constructor(){super("twitter.com")}static credential(e,t){return Qi._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return La.credential(t,i)}catch{return null}}}La.TWITTER_SIGN_IN_METHOD="twitter.com";La.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await Mr._fromIdTokenResponse(e,i,s),c=E1(i);return new ml({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=E1(i);return new ml({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function E1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends vi{constructor(e,t,i,s){var l;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new $h(e,t,i,s)}}function Kw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(n,l,e,i):l})}async function FD(n,e,t=!1){const i=await cc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ml._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(n,e,t=!1){const{auth:i}=n;if(ar(i.app))return Promise.reject(qa(i));const s="reauthenticate";try{const l=await cc(n,Kw(i,s,e,n),t);Ne(l.idToken,i,"internal-error");const c=ly(l.idToken);Ne(c,i,"internal-error");const{sub:m}=c;return Ne(n.uid===m,i,"user-mismatch"),ml._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&xr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(n,e,t=!1){if(ar(n.app))return Promise.reject(qa(n));const i="signIn",s=await Kw(n,i,e),l=await ml._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function BD(n,e){return Qw(ao(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(n){const e=ao(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function qD(n,e,t){return ar(n.app)?Promise.reject(qa(n)):BD(Nt(n),wl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&HD(n),i})}function $D(n,e,t,i){return Nt(n).onIdTokenChanged(e,t,i)}function GD(n,e,t){return Nt(n).beforeAuthStateChanged(e,t)}function Xw(n,e,t,i){return Nt(n).onAuthStateChanged(e,t,i)}function YD(n){return Nt(n).signOut()}const Gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=1e3,QD=10;class Zw extends Ww{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,h)=>{this.notifyListeners(c,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);mD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,QD):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},KD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zw.type="LOCAL";const XD=Zw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw extends Ww{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jw.type="SESSION";const eA=Jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Rd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const m=Array.from(c).map(async p=>p(t.origin,l)),h=await WD(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((m,h)=>{const p=dy("",20);s.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(b){const S=b;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(S.data.response);break;default:clearTimeout(v),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function JD(n){ci().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function eP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nP(){return tA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebaseLocalStorageDb",rP=1,Yh="firebaseLocalStorage",rA="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cd(n,e){return n.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function iP(){const n=indexedDB.deleteDatabase(nA);return new Cc(n).toPromise()}function tv(){const n=indexedDB.open(nA,rP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Yh,{keyPath:rA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Yh)?e(i):(i.close(),await iP(),e(await tv()))})})}async function T1(n,e,t){const i=Cd(n,!0).put({[rA]:e,value:t});return new Cc(i).toPromise()}async function aP(n,e){const t=Cd(n,!1).get(e),i=await new Cc(t).toPromise();return i===void 0?null:i.value}function S1(n,e){const t=Cd(n,!0).delete(e);return new Cc(t).toPromise()}const sP=800,oP=3;class iA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>oP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(nP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await eP(),!this.activeServiceWorker)return;this.sender=new ZD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tv();return await T1(e,Gh,"1"),await S1(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>T1(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>aP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>S1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Cd(s,!1).getAll();return new Cc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iA.type="LOCAL";const lP=iA;new Rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(n,e){return e?qi(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends cy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uP(n){return Qw(n.auth,new my(n),n.bypassAuthState)}function cP(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),zD(t,new my(n),n.bypassAuthState)}async function fP(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),FD(t,new my(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uP;case"linkViaPopup":case"linkViaRedirect":return fP;case"reauthViaPopup":case"reauthViaRedirect":return cP;default:xr(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new Rc(2e3,1e4);async function dP(n,e,t){if(ar(n.app))return Promise.reject(kr(n,"operation-not-supported-in-this-environment"));const i=ao(n);KN(n,e,hy);const s=aA(i,t);return new Bs(i,"signInViaPopup",e,s).executeNotNull()}class Bs extends sA{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hP.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="pendingRedirect",wh=new Map;class pP extends sA{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const i=await gP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gP(n,e){const t=_P(e),i=yP(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function vP(n,e){wh.set(n._key(),e)}function yP(n){return qi(n._redirectPersistence)}function _P(n){return Sh(mP,n.config.apiKey,n.name)}async function bP(n,e,t=!1){if(ar(n.app))return Promise.reject(qa(n));const i=ao(n),s=aA(i,e),c=await new pP(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=10*60*1e3;class TP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!oA(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(kr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EP&&this.cachedEventUids.clear(),this.cachedEventUids.has(w1(e))}saveEventToCache(e){this.cachedEventUids.add(w1(e)),this.lastProcessedEventTime=Date.now()}}function w1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(n,e={}){return os(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xP=/^https?/;async function RP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wP(n);for(const t of e)try{if(CP(t))return}catch{}xr(n,"unauthorized-domain")}function CP(n){const e=Jg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!xP.test(t))return!1;if(AP.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=new Rc(3e4,6e4);function A1(){const n=ci().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function OP(n){return new Promise((e,t)=>{var i,s,l;function c(){A1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A1(),t(kr(n,"network-request-failed"))},timeout:IP.get()})}if(!((s=(i=ci().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=ci().gapi)===null||l===void 0)&&l.load)c();else{const m=SD("iframefcb");return ci()[m]=()=>{gapi.load?c():t(kr(n,"network-request-failed"))},$w(`${TD()}?onload=${m}`).catch(h=>t(h))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function NP(n){return Ah=Ah||OP(n),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new Rc(5e3,15e3),PP="__/auth/iframe",MP="emulator/auth/iframe",kP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LP(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?oy(e,MP):`https://${n.config.authDomain}/${PP}`,i={apiKey:e.apiKey,appName:n.name,v:ro},s=VP.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${xc(i).slice(1)}`}async function jP(n){const e=await NP(n),t=ci().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:LP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kP,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=kr(n,"network-request-failed"),m=ci().setTimeout(()=>{l(c)},DP.get());function h(){ci().clearTimeout(m),s(i)}i.ping(h).then(h,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FP=500,zP=600,BP="_blank",HP="http://localhost";class x1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qP(n,e,t,i=FP,s=zP){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const h=Object.assign(Object.assign({},UP),{width:i.toString(),height:s.toString(),top:l,left:c}),p=Nn().toLowerCase();t&&(m=jw(p)?BP:t),Vw(p)&&(e=e||HP,h.scrollbars="yes");const v=Object.entries(h).reduce((S,[N,k])=>`${S}${N}=${k},`,"");if(dD(p)&&m!=="_self")return $P(e||"",m),new x1(null);const b=window.open(e||"",m,v);Ne(b,n,"popup-blocked");try{b.focus()}catch{}return new x1(b)}function $P(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="__/auth/handler",YP="emulator/auth/handler",KP=encodeURIComponent("fac");async function R1(n,e,t,i,s,l){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ro,eventId:s};if(e instanceof hy){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",MO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Al){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const h=await n._getAppCheckToken(),p=h?`#${KP}=${encodeURIComponent(h)}`:"";return`${QP(n)}?${xc(m).slice(1)}${p}`}function QP({config:n}){return n.emulator?oy(n,YP):`https://${n.authDomain}/${GP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="webStorageSupport";class XP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eA,this._completeRedirectFn=bP,this._overrideRedirectResult=vP}async _openPopup(e,t,i,s){var l;Ki((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await R1(e,t,i,Jg(),s);return qP(e,c,dy())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await R1(e,t,i,Jg(),s);return JD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Ki(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await jP(e),i=new TP(e);return t.register("authEvent",s=>(Ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vg,{type:vg},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[vg];c!==void 0&&t(!!c),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Hw()||Lw()||uy()}}const WP=XP;var C1="@firebase/auth",I1="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eM(n){Qs(new Ya("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=i.options;Ne(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:c,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qw(n)},p=new _D(i,s,l,h);return ID(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Qs(new Ya("auth-internal",e=>{const t=ao(e.getProvider("auth").getImmediate());return(i=>new ZP(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(C1,I1,JP(n)),ui(C1,I1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=5*60,nM=Tw("authIdTokenMaxAge")||tM;let O1=null;const rM=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>nM)return;const s=t==null?void 0:t.token;O1!==s&&(O1=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Id(n=ry()){const e=wd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=CD(n,{popupRedirectResolver:WP,persistence:[lP,XD,eA]}),i=Tw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=rM(l.toString());GD(t,c,()=>c(t.currentUser)),$D(t,m=>c(m))}}const s=_w("auth");return s&&OD(t,`http://${s}`),t}function iM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}bD({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=kr("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",iM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eM("Browser");var aM="firebase",sM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(aM,sM,"app");const oM={apiKey:"AIzaSyBFNS35GuRSRIlEdupw1wxcv-qj4Ym9_PY",authDomain:"proyectouno-d09e0.firebaseapp.com",databaseURL:"https://proyectouno-d09e0-default-rtdb.firebaseio.com",projectId:"proyectouno-d09e0",storageBucket:"proyectouno-d09e0.firebasestorage.app",messagingSenderId:"567007730982",appId:"1:567007730982:web:9077c9fdf525daca01f5e7",measurementId:"G-FP9HKZQMX6"},Fn=xw(oM);var N1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $a,lA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,T){function A(){}A.prototype=T.prototype,D.D=T.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(I,V,L){for(var M=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)M[Se-2]=arguments[Se];return T.prototype[V].apply(I,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,T,A){A||(A=0);var I=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)I[V]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(V=0;16>V;++V)I[V]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=D.g[0],A=D.g[1],V=D.g[2];var L=D.g[3],M=T+(L^A&(V^L))+I[0]+3614090360&4294967295;T=A+(M<<7&4294967295|M>>>25),M=L+(V^T&(A^V))+I[1]+3905402710&4294967295,L=T+(M<<12&4294967295|M>>>20),M=V+(A^L&(T^A))+I[2]+606105819&4294967295,V=L+(M<<17&4294967295|M>>>15),M=A+(T^V&(L^T))+I[3]+3250441966&4294967295,A=V+(M<<22&4294967295|M>>>10),M=T+(L^A&(V^L))+I[4]+4118548399&4294967295,T=A+(M<<7&4294967295|M>>>25),M=L+(V^T&(A^V))+I[5]+1200080426&4294967295,L=T+(M<<12&4294967295|M>>>20),M=V+(A^L&(T^A))+I[6]+2821735955&4294967295,V=L+(M<<17&4294967295|M>>>15),M=A+(T^V&(L^T))+I[7]+4249261313&4294967295,A=V+(M<<22&4294967295|M>>>10),M=T+(L^A&(V^L))+I[8]+1770035416&4294967295,T=A+(M<<7&4294967295|M>>>25),M=L+(V^T&(A^V))+I[9]+2336552879&4294967295,L=T+(M<<12&4294967295|M>>>20),M=V+(A^L&(T^A))+I[10]+4294925233&4294967295,V=L+(M<<17&4294967295|M>>>15),M=A+(T^V&(L^T))+I[11]+2304563134&4294967295,A=V+(M<<22&4294967295|M>>>10),M=T+(L^A&(V^L))+I[12]+1804603682&4294967295,T=A+(M<<7&4294967295|M>>>25),M=L+(V^T&(A^V))+I[13]+4254626195&4294967295,L=T+(M<<12&4294967295|M>>>20),M=V+(A^L&(T^A))+I[14]+2792965006&4294967295,V=L+(M<<17&4294967295|M>>>15),M=A+(T^V&(L^T))+I[15]+1236535329&4294967295,A=V+(M<<22&4294967295|M>>>10),M=T+(V^L&(A^V))+I[1]+4129170786&4294967295,T=A+(M<<5&4294967295|M>>>27),M=L+(A^V&(T^A))+I[6]+3225465664&4294967295,L=T+(M<<9&4294967295|M>>>23),M=V+(T^A&(L^T))+I[11]+643717713&4294967295,V=L+(M<<14&4294967295|M>>>18),M=A+(L^T&(V^L))+I[0]+3921069994&4294967295,A=V+(M<<20&4294967295|M>>>12),M=T+(V^L&(A^V))+I[5]+3593408605&4294967295,T=A+(M<<5&4294967295|M>>>27),M=L+(A^V&(T^A))+I[10]+38016083&4294967295,L=T+(M<<9&4294967295|M>>>23),M=V+(T^A&(L^T))+I[15]+3634488961&4294967295,V=L+(M<<14&4294967295|M>>>18),M=A+(L^T&(V^L))+I[4]+3889429448&4294967295,A=V+(M<<20&4294967295|M>>>12),M=T+(V^L&(A^V))+I[9]+568446438&4294967295,T=A+(M<<5&4294967295|M>>>27),M=L+(A^V&(T^A))+I[14]+3275163606&4294967295,L=T+(M<<9&4294967295|M>>>23),M=V+(T^A&(L^T))+I[3]+4107603335&4294967295,V=L+(M<<14&4294967295|M>>>18),M=A+(L^T&(V^L))+I[8]+1163531501&4294967295,A=V+(M<<20&4294967295|M>>>12),M=T+(V^L&(A^V))+I[13]+2850285829&4294967295,T=A+(M<<5&4294967295|M>>>27),M=L+(A^V&(T^A))+I[2]+4243563512&4294967295,L=T+(M<<9&4294967295|M>>>23),M=V+(T^A&(L^T))+I[7]+1735328473&4294967295,V=L+(M<<14&4294967295|M>>>18),M=A+(L^T&(V^L))+I[12]+2368359562&4294967295,A=V+(M<<20&4294967295|M>>>12),M=T+(A^V^L)+I[5]+4294588738&4294967295,T=A+(M<<4&4294967295|M>>>28),M=L+(T^A^V)+I[8]+2272392833&4294967295,L=T+(M<<11&4294967295|M>>>21),M=V+(L^T^A)+I[11]+1839030562&4294967295,V=L+(M<<16&4294967295|M>>>16),M=A+(V^L^T)+I[14]+4259657740&4294967295,A=V+(M<<23&4294967295|M>>>9),M=T+(A^V^L)+I[1]+2763975236&4294967295,T=A+(M<<4&4294967295|M>>>28),M=L+(T^A^V)+I[4]+1272893353&4294967295,L=T+(M<<11&4294967295|M>>>21),M=V+(L^T^A)+I[7]+4139469664&4294967295,V=L+(M<<16&4294967295|M>>>16),M=A+(V^L^T)+I[10]+3200236656&4294967295,A=V+(M<<23&4294967295|M>>>9),M=T+(A^V^L)+I[13]+681279174&4294967295,T=A+(M<<4&4294967295|M>>>28),M=L+(T^A^V)+I[0]+3936430074&4294967295,L=T+(M<<11&4294967295|M>>>21),M=V+(L^T^A)+I[3]+3572445317&4294967295,V=L+(M<<16&4294967295|M>>>16),M=A+(V^L^T)+I[6]+76029189&4294967295,A=V+(M<<23&4294967295|M>>>9),M=T+(A^V^L)+I[9]+3654602809&4294967295,T=A+(M<<4&4294967295|M>>>28),M=L+(T^A^V)+I[12]+3873151461&4294967295,L=T+(M<<11&4294967295|M>>>21),M=V+(L^T^A)+I[15]+530742520&4294967295,V=L+(M<<16&4294967295|M>>>16),M=A+(V^L^T)+I[2]+3299628645&4294967295,A=V+(M<<23&4294967295|M>>>9),M=T+(V^(A|~L))+I[0]+4096336452&4294967295,T=A+(M<<6&4294967295|M>>>26),M=L+(A^(T|~V))+I[7]+1126891415&4294967295,L=T+(M<<10&4294967295|M>>>22),M=V+(T^(L|~A))+I[14]+2878612391&4294967295,V=L+(M<<15&4294967295|M>>>17),M=A+(L^(V|~T))+I[5]+4237533241&4294967295,A=V+(M<<21&4294967295|M>>>11),M=T+(V^(A|~L))+I[12]+1700485571&4294967295,T=A+(M<<6&4294967295|M>>>26),M=L+(A^(T|~V))+I[3]+2399980690&4294967295,L=T+(M<<10&4294967295|M>>>22),M=V+(T^(L|~A))+I[10]+4293915773&4294967295,V=L+(M<<15&4294967295|M>>>17),M=A+(L^(V|~T))+I[1]+2240044497&4294967295,A=V+(M<<21&4294967295|M>>>11),M=T+(V^(A|~L))+I[8]+1873313359&4294967295,T=A+(M<<6&4294967295|M>>>26),M=L+(A^(T|~V))+I[15]+4264355552&4294967295,L=T+(M<<10&4294967295|M>>>22),M=V+(T^(L|~A))+I[6]+2734768916&4294967295,V=L+(M<<15&4294967295|M>>>17),M=A+(L^(V|~T))+I[13]+1309151649&4294967295,A=V+(M<<21&4294967295|M>>>11),M=T+(V^(A|~L))+I[4]+4149444226&4294967295,T=A+(M<<6&4294967295|M>>>26),M=L+(A^(T|~V))+I[11]+3174756917&4294967295,L=T+(M<<10&4294967295|M>>>22),M=V+(T^(L|~A))+I[2]+718787259&4294967295,V=L+(M<<15&4294967295|M>>>17),M=A+(L^(V|~T))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+T&4294967295,D.g[1]=D.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+L&4294967295}i.prototype.u=function(D,T){T===void 0&&(T=D.length);for(var A=T-this.blockSize,I=this.B,V=this.h,L=0;L<T;){if(V==0)for(;L<=A;)s(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<T;)if(I[V++]=D.charCodeAt(L++),V==this.blockSize){s(this,I),V=0;break}}else for(;L<T;)if(I[V++]=D[L++],V==this.blockSize){s(this,I),V=0;break}}this.h=V,this.o+=T},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var T=1;T<D.length-8;++T)D[T]=0;var A=8*this.o;for(T=D.length-8;T<D.length;++T)D[T]=A&255,A/=256;for(this.u(D),D=Array(16),T=A=0;4>T;++T)for(var I=0;32>I;I+=8)D[A++]=this.g[T]>>>I&255;return D};function l(D,T){var A=m;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=T(D)}function c(D,T){this.h=T;for(var A=[],I=!0,V=D.length-1;0<=V;V--){var L=D[V]|0;I&&L==T||(A[V]=L,I=!1)}this.g=A}var m={};function h(D){return-128<=D&&128>D?l(D,function(T){return new c([T|0],0>T?-1:0)}):new c([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return b;if(0>D)return C(p(-D));for(var T=[],A=1,I=0;D>=A;I++)T[I]=D/A|0,A*=4294967296;return new c(T,0)}function v(D,T){if(D.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(D.charAt(0)=="-")return C(v(D.substring(1),T));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(T,8)),I=b,V=0;V<D.length;V+=8){var L=Math.min(8,D.length-V),M=parseInt(D.substring(V,V+L),T);8>L?(L=p(Math.pow(T,L)),I=I.j(L).add(p(M))):(I=I.j(A),I=I.add(p(M)))}return I}var b=h(0),S=h(1),N=h(16777216);n=c.prototype,n.m=function(){if(j(this))return-C(this).m();for(var D=0,T=1,A=0;A<this.g.length;A++){var I=this.i(A);D+=(0<=I?I:4294967296+I)*T,T*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(k(this))return"0";if(j(this))return"-"+C(this).toString(D);for(var T=p(Math.pow(D,6)),A=this,I="";;){var V=te(A,T).g;A=G(A,V.j(T));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=V,k(A))return L+I;for(;6>L.length;)L="0"+L;I=L+I}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function k(D){if(D.h!=0)return!1;for(var T=0;T<D.g.length;T++)if(D.g[T]!=0)return!1;return!0}function j(D){return D.h==-1}n.l=function(D){return D=G(this,D),j(D)?-1:k(D)?0:1};function C(D){for(var T=D.g.length,A=[],I=0;I<T;I++)A[I]=~D.g[I];return new c(A,~D.h).add(S)}n.abs=function(){return j(this)?C(this):this},n.add=function(D){for(var T=Math.max(this.g.length,D.g.length),A=[],I=0,V=0;V<=T;V++){var L=I+(this.i(V)&65535)+(D.i(V)&65535),M=(L>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);I=M>>>16,L&=65535,M&=65535,A[V]=M<<16|L}return new c(A,A[A.length-1]&-2147483648?-1:0)};function G(D,T){return D.add(C(T))}n.j=function(D){if(k(this)||k(D))return b;if(j(this))return j(D)?C(this).j(C(D)):C(C(this).j(D));if(j(D))return C(this.j(C(D)));if(0>this.l(N)&&0>D.l(N))return p(this.m()*D.m());for(var T=this.g.length+D.g.length,A=[],I=0;I<2*T;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<D.g.length;V++){var L=this.i(I)>>>16,M=this.i(I)&65535,Se=D.i(V)>>>16,be=D.i(V)&65535;A[2*I+2*V]+=M*be,X(A,2*I+2*V),A[2*I+2*V+1]+=L*be,X(A,2*I+2*V+1),A[2*I+2*V+1]+=M*Se,X(A,2*I+2*V+1),A[2*I+2*V+2]+=L*Se,X(A,2*I+2*V+2)}for(I=0;I<T;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=T;I<2*T;I++)A[I]=0;return new c(A,0)};function X(D,T){for(;(D[T]&65535)!=D[T];)D[T+1]+=D[T]>>>16,D[T]&=65535,T++}function H(D,T){this.g=D,this.h=T}function te(D,T){if(k(T))throw Error("division by zero");if(k(D))return new H(b,b);if(j(D))return T=te(C(D),T),new H(C(T.g),C(T.h));if(j(T))return T=te(D,C(T)),new H(C(T.g),T.h);if(30<D.g.length){if(j(D)||j(T))throw Error("slowDivide_ only works with positive integers.");for(var A=S,I=T;0>=I.l(D);)A=K(A),I=K(I);var V=oe(A,1),L=oe(I,1);for(I=oe(I,2),A=oe(A,2);!k(I);){var M=L.add(I);0>=M.l(D)&&(V=V.add(A),L=M),I=oe(I,1),A=oe(A,1)}return T=G(D,V.j(T)),new H(V,T)}for(V=b;0<=D.l(T);){for(A=Math.max(1,Math.floor(D.m()/T.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),L=p(A),M=L.j(T);j(M)||0<M.l(D);)A-=I,L=p(A),M=L.j(T);k(L)&&(L=S),V=V.add(L),D=G(D,M)}return new H(V,D)}n.A=function(D){return te(this,D).h},n.and=function(D){for(var T=Math.max(this.g.length,D.g.length),A=[],I=0;I<T;I++)A[I]=this.i(I)&D.i(I);return new c(A,this.h&D.h)},n.or=function(D){for(var T=Math.max(this.g.length,D.g.length),A=[],I=0;I<T;I++)A[I]=this.i(I)|D.i(I);return new c(A,this.h|D.h)},n.xor=function(D){for(var T=Math.max(this.g.length,D.g.length),A=[],I=0;I<T;I++)A[I]=this.i(I)^D.i(I);return new c(A,this.h^D.h)};function K(D){for(var T=D.g.length+1,A=[],I=0;I<T;I++)A[I]=D.i(I)<<1|D.i(I-1)>>>31;return new c(A,D.h)}function oe(D,T){var A=T>>5;T%=32;for(var I=D.g.length-A,V=[],L=0;L<I;L++)V[L]=0<T?D.i(L+A)>>>T|D.i(L+A+1)<<32-T:D.i(L+A);return new c(V,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,lA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,$a=c}).apply(typeof N1<"u"?N1:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uA,$u,cA,xh,nv,fA,hA,dA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function s(f,y){if(y)e:{var E=i;f=f.split(".");for(var O=0;O<f.length-1;O++){var J=f[O];if(!(J in E))break e;E=E[J]}f=f[f.length-1],O=E[f],y=y(O),y!=O&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var E=0,O=!1,J={next:function(){if(!O&&E<f.length){var se=E++;return{value:y(se,f[se]),done:!1}}return O=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}s("Array.prototype.values",function(f){return f||function(){return l(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},m=this||self;function h(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,E){return f.call.apply(f.bind,arguments)}function b(f,y,E){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,O),f.apply(y,J)}}return function(){return f.apply(y,arguments)}}function S(f,y,E){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,S.apply(null,arguments)}function N(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var O=E.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function k(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(O,J,se){for(var ve=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ve[tt-2]=arguments[tt];return y.prototype[J].apply(O,ve)}}function j(f){const y=f.length;if(0<y){const E=Array(y);for(let O=0;O<y;O++)E[O]=f[O];return E}return[]}function C(f,y){for(let E=1;E<arguments.length;E++){const O=arguments[E];if(h(O)){const J=f.length||0,se=O.length||0;f.length=J+se;for(let ve=0;ve<se;ve++)f[J+ve]=O[ve]}else f.push(O)}}class G{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(f){return/^[\s\xa0]*$/.test(f)}function H(){var f=m.navigator;return f&&(f=f.userAgent)?f:""}function te(f){return te[" "](f),f}te[" "]=function(){};var K=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function oe(f,y,E){for(const O in f)y.call(E,f[O],O,f)}function D(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function T(f){const y={};for(const E in f)y[E]=f[E];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(f,y){let E,O;for(let J=1;J<arguments.length;J++){O=arguments[J];for(E in O)f[E]=O[E];for(let se=0;se<A.length;se++)E=A[se],Object.prototype.hasOwnProperty.call(O,E)&&(f[E]=O[E])}}function V(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function L(f){m.setTimeout(()=>{throw f},0)}function M(){var f=Q;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Se{constructor(){this.h=this.g=null}add(y,E){const O=be.get();O.set(y,E),this.h?this.h.next=O:this.g=O,this.h=O}}var be=new G(()=>new q,f=>f.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let P,U=!1,Q=new Se,x=()=>{const f=m.Promise.resolve(void 0);P=()=>{f.then(B)}};var B=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(E){L(E)}var y=be;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}U=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};m.addEventListener("test",E,y),m.removeEventListener("test",E,y)}catch{}return f}();function de(f,y){if($.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(K){e:{try{te(y.nodeName);var J=!0;break e}catch{}J=!1}J||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ge[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&de.aa.h.call(this)}}k(de,$);var ge={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),pe=0;function xe(f,y,E,O,J){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!O,this.ha=J,this.key=++pe,this.da=this.fa=!1}function Ve(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function we(f){this.src=f,this.g={},this.h=0}we.prototype.add=function(f,y,E,O,J){var se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);var ve=dt(f,y,O,J);return-1<ve?(y=f[ve],E||(y.fa=!1)):(y=new xe(y,this.src,se,!!O,J),y.fa=E,f.push(y)),y};function at(f,y){var E=y.type;if(E in f.g){var O=f.g[E],J=Array.prototype.indexOf.call(O,y,void 0),se;(se=0<=J)&&Array.prototype.splice.call(O,J,1),se&&(Ve(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function dt(f,y,E,O){for(var J=0;J<f.length;++J){var se=f[J];if(!se.da&&se.listener==y&&se.capture==!!E&&se.ha==O)return J}return-1}var Ye="closure_lm_"+(1e6*Math.random()|0),et={};function qe(f,y,E,O,J){if(Array.isArray(y)){for(var se=0;se<y.length;se++)qe(f,y[se],E,O,J);return null}return E=Mn(E),f&&f[Le]?f.K(y,E,p(O)?!!O.capture:!1,J):xt(f,y,E,!1,O,J)}function xt(f,y,E,O,J,se){if(!y)throw Error("Invalid event type");var ve=p(J)?!!J.capture:!!J,tt=cr(f);if(tt||(f[Ye]=tt=new we(f)),E=tt.add(y,E,O,ve,se),E.proxy)return E;if(O=Ue(),E.proxy=O,O.src=f,O.listener=E,f.addEventListener)ne||(J=ve),J===void 0&&(J=!1),f.addEventListener(y.toString(),O,J);else if(f.attachEvent)f.attachEvent(zn(y.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ue(){function f(E){return y.call(f.src,f.listener,E)}const y=Bn;return f}function mt(f,y,E,O,J){if(Array.isArray(y))for(var se=0;se<y.length;se++)mt(f,y[se],E,O,J);else O=p(O)?!!O.capture:!!O,E=Mn(E),f&&f[Le]?(f=f.i,y=String(y).toString(),y in f.g&&(se=f.g[y],E=dt(se,E,O,J),-1<E&&(Ve(se[E]),Array.prototype.splice.call(se,E,1),se.length==0&&(delete f.g[y],f.h--)))):f&&(f=cr(f))&&(y=f.g[y.toString()],f=-1,y&&(f=dt(y,E,O,J)),(E=-1<f?y[f]:null)&&Pn(E))}function Pn(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Le])at(y.i,f);else{var E=f.type,O=f.proxy;y.removeEventListener?y.removeEventListener(E,O,f.capture):y.detachEvent?y.detachEvent(zn(E),O):y.addListener&&y.removeListener&&y.removeListener(O),(E=cr(y))?(at(E,f),E.h==0&&(E.src=null,y[Ye]=null)):Ve(f)}}}function zn(f){return f in et?et[f]:et[f]="on"+f}function Bn(f,y){if(f.da)f=!0;else{y=new de(y,this);var E=f.listener,O=f.ha||f.src;f.fa&&Pn(f),f=E.call(O,y)}return f}function cr(f){return f=f[Ye],f instanceof we?f:null}var Pt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mn(f){return typeof f=="function"?f:(f[Pt]||(f[Pt]=function(y){return f.handleEvent(y)}),f[Pt])}function Be(){Z.call(this),this.i=new we(this),this.M=this,this.F=null}k(Be,Z),Be.prototype[Le]=!0,Be.prototype.removeEventListener=function(f,y,E,O){mt(this,f,y,E,O)};function Fe(f,y){var E,O=f.F;if(O)for(E=[];O;O=O.F)E.push(O);if(f=f.M,O=y.type||y,typeof y=="string")y=new $(y,f);else if(y instanceof $)y.target=y.target||f;else{var J=y;y=new $(O,f),I(y,J)}if(J=!0,E)for(var se=E.length-1;0<=se;se--){var ve=y.g=E[se];J=It(ve,O,!0,y)&&J}if(ve=y.g=f,J=It(ve,O,!0,y)&&J,J=It(ve,O,!1,y)&&J,E)for(se=0;se<E.length;se++)ve=y.g=E[se],J=It(ve,O,!1,y)&&J}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],O=0;O<E.length;O++)Ve(E[O]);delete f.g[y],f.h--}}this.F=null},Be.prototype.K=function(f,y,E,O){return this.i.add(String(f),y,!1,E,O)},Be.prototype.L=function(f,y,E,O){return this.i.add(String(f),y,!0,E,O)};function It(f,y,E,O){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var J=!0,se=0;se<y.length;++se){var ve=y[se];if(ve&&!ve.da&&ve.capture==E){var tt=ve.listener,tn=ve.ha||ve.src;ve.fa&&at(f.i,ve),J=tt.call(tn,O)!==!1&&J}}return J&&!O.defaultPrevented}function qt(f,y,E){if(typeof f=="function")E&&(f=S(f,E));else if(f&&typeof f.handleEvent=="function")f=S(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(f,y||0)}function cs(f){f.g=qt(()=>{f.g=null,f.i&&(f.i=!1,cs(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Lr extends Z{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:cs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function un(f){Z.call(this),this.h=f,this.g={}}k(un,Z);var Xn=[];function jr(f){oe(f.g,function(y,E){this.g.hasOwnProperty(E)&&Pn(y)},f),f.g={}}un.prototype.N=function(){un.aa.N.call(this),jr(this)},un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cr=m.JSON.stringify,uo=m.JSON.parse,fs=class{stringify(f){return m.JSON.stringify(f,void 0)}parse(f){return m.JSON.parse(f,void 0)}};function Dl(){}Dl.prototype.h=null;function Pl(f){return f.h||(f.h=f.i())}function Ml(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){$.call(this,"d")}k(_i,$);function kl(){$.call(this,"c")}k(kl,$);var Ur={},Vl=null;function ia(){return Vl=Vl||new Be}Ur.La="serverreachability";function co(f){$.call(this,Ur.La,f)}k(co,$);function aa(f){const y=ia();Fe(y,new co(y))}Ur.STAT_EVENT="statevent";function Uc(f,y){$.call(this,Ur.STAT_EVENT,f),this.stat=y}k(Uc,$);function Rt(f){const y=ia();Fe(y,new Uc(y,f))}Ur.Ma="timingevent";function en(f,y){$.call(this,Ur.Ma,f),this.size=y}k(en,$);function $t(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){f()},y)}function fr(){this.g=!0}fr.prototype.xa=function(){this.g=!1};function Ll(f,y,E,O,J,se){f.info(function(){if(f.g)if(se)for(var ve="",tt=se.split("&"),tn=0;tn<tt.length;tn++){var nt=tt[tn].split("=");if(1<nt.length){var fn=nt[0];nt=nt[1];var nn=fn.split("_");ve=2<=nn.length&&nn[1]=="type"?ve+(fn+"="+nt+"&"):ve+(fn+"=redacted&")}}else ve=null;else ve=se;return"XMLHTTP REQ ("+O+") [attempt "+J+"]: "+y+`
`+E+`
`+ve})}function om(f,y,E,O,J,se,ve){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+J+"]: "+y+`
`+E+`
`+se+" "+ve})}function sa(f,y,E,O){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+hs(f,E)+(O?" "+O:"")})}function Fc(f,y){f.info(function(){return"TIMEOUT: "+y})}fr.prototype.info=function(){};function hs(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var O=E[f];if(!(2>O.length)){var J=O[1];if(Array.isArray(J)&&!(1>J.length)){var se=J[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ve=1;ve<J.length;ve++)J[ve]=""}}}}return Cr(E)}catch{return y}}var oa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fr;function zr(){}k(zr,Dl),zr.prototype.g=function(){return new XMLHttpRequest},zr.prototype.i=function(){return{}},Fr=new zr;function kn(f,y,E,O){this.j=f,this.i=y,this.l=E,this.R=O||1,this.U=new un(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ft}function Ft(){this.i=null,this.g="",this.h=!1}var jl={},fo={};function Ir(f,y,E){f.L=1,f.v=vs(Wn(y)),f.m=E,f.P=!0,Ei(f,null)}function Ei(f,y){f.F=Date.now(),ds(f),f.A=Wn(f.v);var E=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),ql(E.i,"t",O),f.C=0,E=f.j.J,f.h=new Ft,f.g=nf(f.j,E?y:null,!f.m),0<f.O&&(f.M=new Lr(S(f.Y,f,f.g),f.O)),y=f.U,E=f.g,O=f.ca;var J="readystatechange";Array.isArray(J)||(J&&(Xn[0]=J.toString()),J=Xn);for(var se=0;se<J.length;se++){var ve=qe(E,J[se],O||y.handleEvent,!1,y.h||y);if(!ve)break;y.g[ve.key]=ve}y=f.H?T(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),aa(),Ll(f.i,f.u,f.A,f.l,f.R,f.m)}kn.prototype.ca=function(f){f=f.target;const y=this.M;y&&pr(f)==3?y.j():this.Y(f)},kn.prototype.Y=function(f){try{if(f==this.g)e:{const nn=pr(this.g);var y=this.g.Ba();const Ii=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||Kc(this.g)))){this.J||nn!=4||y==7||(y==8||0>=Ii?aa(3):aa(2)),la(this);var E=this.g.Z();this.X=E;t:if(zc(this)){var O=Kc(this.g);f="";var J=O.length,se=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),Br(this);var ve="";break t}this.h.i=new m.TextDecoder}for(y=0;y<J;y++)this.h.h=!0,f+=this.h.i.decode(O[y],{stream:!(se&&y==J-1)});O.length=0,this.h.g+=f,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=E==200,om(this.i,this.u,this.A,this.l,this.R,nn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,tn=this.g;if((tt=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(tt)){var nt=tt;break t}}nt=null}if(E=nt)sa(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ms(this,E);else{this.o=!1,this.s=3,Rt(12),gn(this),Br(this);break e}}if(this.P){E=!0;let vn;for(;!this.J&&this.C<ve.length;)if(vn=Bc(this,ve),vn==fo){nn==4&&(this.s=4,Rt(14),E=!1),sa(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==jl){this.s=4,Rt(15),sa(this.i,this.l,ve,"[Invalid Chunk]"),E=!1;break}else sa(this.i,this.l,vn,null),ms(this,vn);if(zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ve.length!=0||this.h.h||(this.s=1,Rt(16),E=!1),this.o=this.o&&E,!E)sa(this.i,this.l,ve,"[Invalid Chunked Response]"),gn(this),Br(this);else if(0<ve.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),As(fn),fn.M=!0,Rt(11))}}else sa(this.i,this.l,ve,null),ms(this,ve);nn==4&&gn(this),this.o&&!this.J&&(nn==4?Jc(this.j,this):(this.o=!1,ds(this)))}else hm(this.g),E==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),gn(this),Br(this)}}}catch{}finally{}};function zc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Bc(f,y){var E=f.C,O=y.indexOf(`
`,E);return O==-1?fo:(E=Number(y.substring(E,O)),isNaN(E)?jl:(O+=1,O+E>y.length?fo:(y=y.slice(O,O+E),f.C=O+E,y)))}kn.prototype.cancel=function(){this.J=!0,gn(this)};function ds(f){f.S=Date.now()+f.I,Hc(f,f.I)}function Hc(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=$t(S(f.ba,f),y)}function la(f){f.B&&(m.clearTimeout(f.B),f.B=null)}kn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Fc(this.i,this.A),this.L!=2&&(aa(),Rt(17)),gn(this),this.s=2,Br(this)):Hc(this,this.S-f)};function Br(f){f.j.G==0||f.J||Jc(f.j,f)}function gn(f){la(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,jr(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function ms(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||Ul(E.h,f))){if(!f.K&&Ul(E.h,f)&&E.G==3){try{var O=E.Da.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var J=O;if(J[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)wo(E),To(E);else break e;Ql(E),Rt(18)}}else E.za=J[1],0<E.za-E.T&&37500>J[2]&&E.F&&E.v==0&&!E.C&&(E.C=$t(S(E.Za,E),6e3));if(1>=mo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ci(E,11)}else if((f.K||E.g==f)&&wo(E),!X(y))for(J=E.Da.g.parse(y),y=0;y<J.length;y++){let nt=J[y];if(E.T=nt[0],nt=nt[1],E.G==2)if(nt[0]=="c"){E.K=nt[1],E.ia=nt[2];const fn=nt[3];fn!=null&&(E.la=fn,E.j.info("VER="+E.la));const nn=nt[4];nn!=null&&(E.Aa=nn,E.j.info("SVER="+E.Aa));const Ii=nt[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(O=1.5*Ii,E.L=O,E.j.info("backChannelRequestTimeoutMs_="+O)),O=E;const vn=f.g;if(vn){const Qr=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var se=O.h;se.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(po(se,se.h),se.h=null))}if(O.D){const Wl=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wl&&(O.ya=Wl,vt(O.I,O.D,Wl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),O=E;var ve=f;if(O.qa=tf(O,O.J?O.ia:null,O.W),ve.K){Vn(O.h,ve);var tt=ve,tn=O.L;tn&&(tt.I=tn),tt.B&&(la(tt),ds(tt)),O.g=ve}else Wc(O);0<E.i.length&&So(E)}else nt[0]!="stop"&&nt[0]!="close"||Ci(E,7);else E.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Ci(E,7):Yl(E):nt[0]!="noop"&&E.l&&E.l.ta(nt),E.v=0)}}aa(4)}catch{}}var qc=class{constructor(f,y){this.g=f,this.map=y}};function Ti(f){this.l=f||10,m.PerformanceNavigationTiming?(f=m.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ho(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function mo(f){return f.h?1:f.g?f.g.size:0}function Ul(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function po(f,y){f.g?f.g.add(y):f.h=y}function Vn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Ti.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Fl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return j(f.i)}function lm(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var y=[],E=f.length,O=0;O<E;O++)y.push(f[O]);return y}y=[],E=0;for(O in f)y[E++]=f[O];return y}function go(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const O in f)y[E++]=O;return y}}}function zl(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=go(f),O=lm(f),J=O.length,se=0;se<J;se++)y.call(void 0,O[se],E&&E[se],f)}var ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function um(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var O=f[E].indexOf("="),J=null;if(0<=O){var se=f[E].substring(0,O);J=f[E].substring(O+1)}else se=f[E];y(se,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Gt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Gt){this.h=f.h,gs(this,f.j),this.o=f.o,this.g=f.g,ua(this,f.s),this.l=f.l;var y=f.i,E=new wi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Si(this,E),this.m=f.m}else f&&(y=String(f).match(ps))?(this.h=!1,gs(this,y[1]||"",!0),this.o=hr(y[2]||""),this.g=hr(y[3]||"",!0),ua(this,y[4]),this.l=hr(y[5]||"",!0),Si(this,y[6]||"",!0),this.m=hr(y[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}Gt.prototype.toString=function(){var f=[],y=this.j;y&&f.push(ys(y,Bl,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(ys(y,Bl,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(ys(E,E.charAt(0)=="/"?cm:Hl,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",ys(E,vo)),f.join("")};function Wn(f){return new Gt(f)}function gs(f,y,E){f.j=E?hr(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function ua(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Si(f,y,E){y instanceof wi?(f.i=y,Gc(f.i,f.h)):(E||(y=ys(y,fm)),f.i=new wi(y,f.h))}function vt(f,y,E){f.i.set(y,E)}function vs(f){return vt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function hr(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ys(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,$c),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function $c(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Bl=/[#\/\?@]/g,Hl=/[#\?:]/g,cm=/[#\?]/g,fm=/[#\?@]/g,vo=/#/g;function wi(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function dr(f){f.g||(f.g=new Map,f.h=0,f.i&&um(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=wi.prototype,n.add=function(f,y){dr(this),this.i=null,f=Hr(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function Ai(f,y){dr(f),y=Hr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function xi(f,y){return dr(f),y=Hr(f,y),f.g.has(y)}n.forEach=function(f,y){dr(this),this.g.forEach(function(E,O){E.forEach(function(J){f.call(y,J,O,this)},this)},this)},n.na=function(){dr(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let O=0;O<y.length;O++){const J=f[O];for(let se=0;se<J.length;se++)E.push(y[O])}return E},n.V=function(f){dr(this);let y=[];if(typeof f=="string")xi(this,f)&&(y=y.concat(this.g.get(Hr(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},n.set=function(f,y){return dr(this),this.i=null,f=Hr(this,f),xi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function ql(f,y,E){Ai(f,y),0<E.length&&(f.i=null,f.g.set(Hr(f,y),j(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var O=y[E];const se=encodeURIComponent(String(O)),ve=this.V(O);for(O=0;O<ve.length;O++){var J=se;ve[O]!==""&&(J+="="+encodeURIComponent(String(ve[O]))),f.push(J)}}return this.i=f.join("&")};function Hr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Gc(f,y){y&&!f.j&&(dr(f),f.i=null,f.g.forEach(function(E,O){var J=O.toLowerCase();O!=J&&(Ai(this,O),ql(this,J,E))},f)),f.j=y}function _s(f,y){const E=new fr;if(m.Image){const O=new Image;O.onload=N(mr,E,"TestLoadImage: loaded",!0,y,O),O.onerror=N(mr,E,"TestLoadImage: error",!1,y,O),O.onabort=N(mr,E,"TestLoadImage: abort",!1,y,O),O.ontimeout=N(mr,E,"TestLoadImage: timeout",!1,y,O),m.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else y(!1)}function Or(f,y){const E=new fr,O=new AbortController,J=setTimeout(()=>{O.abort(),mr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:O.signal}).then(se=>{clearTimeout(J),se.ok?mr(E,"TestPingServer: ok",!0,y):mr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(J),mr(E,"TestPingServer: error",!1,y)})}function mr(f,y,E,O,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),O(E)}catch{}}function bs(){this.g=new fs}function qr(f,y,E){const O=E||"";try{zl(f,function(J,se){let ve=J;p(J)&&(ve=Cr(J)),y.push(O+se+"="+encodeURIComponent(ve))})}catch(J){throw y.push(O+"type="+encodeURIComponent("_badmap")),J}}function ca(f){this.l=f.Ub||null,this.j=f.eb||!1}k(ca,Dl),ca.prototype.g=function(){return new Ri(this.l,this.j)},ca.prototype.i=function(f){return function(){return f}}({});function Ri(f,y){Be.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ri,Be),n=Ri.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Gr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$l(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function $l(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?$r(this):Gr(this),this.readyState==3&&$l(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,$r(this))},n.Qa=function(f){this.g&&(this.response=f,$r(this))},n.ga=function(){this.g&&$r(this)};function $r(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Gr(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function Gr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Gl(f){let y="";return oe(f,function(E,O){y+=O,y+=":",y+=E,y+=`\r
`}),y}function cn(f,y,E){e:{for(O in E){var O=!1;break e}O=!0}O||(E=Gl(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):vt(f,y,E))}function ct(f){Be.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(ct,Be);var yo=/^https?$/i,Es=["POST","PUT"];n=ct.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,E,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fr.g(),this.v=this.o?Pl(this.o):Pl(Fr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(se){Yc(this,se);return}if(f=E||"",E=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var J in O)E.set(J,O[J]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const se of O.keys())E.set(se,O.get(se));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),J=m.FormData&&f instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Es,y,void 0))||O||J||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ve]of E)this.g.setRequestHeader(se,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ts(this),this.u=!0,this.g.send(f),this.u=!1}catch(se){Yc(this,se)}};function Yc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,_o(f),Yr(f)}function _o(f){f.A||(f.A=!0,Fe(f,"complete"),Fe(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Fe(this,"complete"),Fe(this,"abort"),Yr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yr(this,!0)),ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?bo(this):this.bb())},n.bb=function(){bo(this)};function bo(f){if(f.h&&typeof c<"u"&&(!f.v[1]||pr(f)!=4||f.Z()!=2)){if(f.u&&pr(f)==4)qt(f.Ea,0,f);else if(Fe(f,"readystatechange"),pr(f)==4){f.h=!1;try{const ve=f.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var O;if(O=ve===0){var J=String(f.D).match(ps)[1]||null;!J&&m.self&&m.self.location&&(J=m.self.location.protocol.slice(0,-1)),O=!yo.test(J?J.toLowerCase():"")}E=O}if(E)Fe(f,"complete"),Fe(f,"success");else{f.m=6;try{var se=2<pr(f)?f.g.statusText:""}catch{se=""}f.l=se+" ["+f.Z()+"]",_o(f)}}finally{Yr(f)}}}}function Yr(f,y){if(f.g){Ts(f);const E=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Fe(f,"ready");try{E.onreadystatechange=O}catch{}}}function Ts(f){f.I&&(m.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function pr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),uo(y)}};function Kc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function hm(f){const y={};f=(f.g&&2<=pr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(X(f[O]))continue;var E=V(f[O]);const J=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=y[J]||[];y[J]=se,se.push(E)}D(y,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function Eo(f){this.Aa=0,this.i=[],this.j=new fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,f),this.cb=Ss("retryDelaySeedMs",1e4,f),this.Wa=Ss("forwardChannelMaxRetries",2,f),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(f&&f.concurrentRequestLimit),this.Da=new bs,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Eo.prototype,n.la=8,n.G=1,n.connect=function(f,y,E,O){Rt(0),this.W=f,this.H=y||{},E&&O!==void 0&&(this.H.OSID=E,this.H.OAID=O),this.F=this.X,this.I=tf(this,null,this.W),So(this)};function Yl(f){if(Qc(f),f.G==3){var y=f.U++,E=Wn(f.I);if(vt(E,"SID",f.K),vt(E,"RID",y),vt(E,"TYPE","terminate"),ws(f,E),y=new kn(f,f.j,y),y.L=2,y.v=vs(Wn(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=y.v,E=!0),E||(y.g=nf(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ds(y)}ef(f)}function To(f){f.g&&(As(f),f.g.cancel(),f.g=null)}function Qc(f){To(f),f.u&&(m.clearTimeout(f.u),f.u=null),wo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&m.clearTimeout(f.s),f.s=null)}function So(f){if(!ho(f.h)&&!f.s){f.s=!0;var y=f.Ga;P||x(),U||(P(),U=!0),Q.add(y,f),f.B=0}}function dm(f,y){return mo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=$t(S(f.Ga,f,y),Xl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const J=new kn(this,this.j,f);let se=this.o;if(this.S&&(se?(se=T(se),I(se,this.S)):se=this.S),this.m!==null||this.O||(J.H=se,se=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var O=this.i[E];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Xc(this,J,y),E=Wn(this.I),vt(E,"RID",f),vt(E,"CVER",22),this.D&&vt(E,"X-HTTP-Session-Id",this.D),ws(this,E),se&&(this.O?y="headers="+encodeURIComponent(String(Gl(se)))+"&"+y:this.m&&cn(E,this.m,se)),po(this.h,J),this.Ua&&vt(E,"TYPE","init"),this.P?(vt(E,"$req",y),vt(E,"SID","null"),J.T=!0,Ir(J,E,null)):Ir(J,E,y),this.G=2}}else this.G==3&&(f?Kl(this,f):this.i.length==0||ho(this.h)||Kl(this))};function Kl(f,y){var E;y?E=y.l:E=f.U++;const O=Wn(f.I);vt(O,"SID",f.K),vt(O,"RID",E),vt(O,"AID",f.T),ws(f,O),f.m&&f.o&&cn(O,f.m,f.o),E=new kn(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Xc(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),po(f.h,E),Ir(E,O,y)}function ws(f,y){f.H&&oe(f.H,function(E,O){vt(y,O,E)}),f.l&&zl({},function(E,O){vt(y,O,E)})}function Xc(f,y,E){E=Math.min(f.i.length,E);var O=f.l?S(f.l.Na,f.l,f):null;e:{var J=f.i;let se=-1;for(;;){const ve=["count="+E];se==-1?0<E?(se=J[0].g,ve.push("ofs="+se)):se=0:ve.push("ofs="+se);let tt=!0;for(let tn=0;tn<E;tn++){let nt=J[tn].g;const fn=J[tn].map;if(nt-=se,0>nt)se=Math.max(0,J[tn].g-100),tt=!1;else try{qr(fn,ve,"req"+nt+"_")}catch{O&&O(fn)}}if(tt){O=ve.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,O}function Wc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;P||x(),U||(P(),U=!0),Q.add(y,f),f.v=0}}function Ql(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=$t(S(f.Fa,f),Xl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Zc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=$t(S(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),To(this),Zc(this))};function As(f){f.A!=null&&(m.clearTimeout(f.A),f.A=null)}function Zc(f){f.g=new kn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Wn(f.qa);vt(y,"RID","rpc"),vt(y,"SID",f.K),vt(y,"AID",f.T),vt(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&vt(y,"TO",f.ja),vt(y,"TYPE","xmlhttp"),ws(f,y),f.m&&f.o&&cn(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=vs(Wn(y)),E.m=null,E.P=!0,Ei(E,f)}n.Za=function(){this.C!=null&&(this.C=null,To(this),Ql(this),Rt(19))};function wo(f){f.C!=null&&(m.clearTimeout(f.C),f.C=null)}function Jc(f,y){var E=null;if(f.g==y){wo(f),As(f),f.g=null;var O=2}else if(Ul(f.h,y))E=y.D,Vn(f.h,y),O=1;else return;if(f.G!=0){if(y.o)if(O==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var J=f.B;O=ia(),Fe(O,new en(O,E)),So(f)}else Wc(f);else if(J=y.s,J==3||J==0&&0<y.X||!(O==1&&dm(f,y)||O==2&&Ql(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),J){case 1:Ci(f,5);break;case 4:Ci(f,10);break;case 3:Ci(f,6);break;default:Ci(f,2)}}}function Xl(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function Ci(f,y){if(f.j.info("Error code "+y),y==2){var E=S(f.fb,f),O=f.Xa;const J=!O;O=new Gt(O||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||gs(O,"https"),vs(O),J?_s(O.toString(),E):Or(O.toString(),E)}else Rt(2);f.G=0,f.l&&f.l.sa(y),ef(f),Qc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function ef(f){if(f.G=0,f.ka=[],f.l){const y=Fl(f.h);(y.length!=0||f.i.length!=0)&&(C(f.ka,y),C(f.ka,f.i),f.h.i.length=0,j(f.i),f.i.length=0),f.l.ra()}}function tf(f,y,E){var O=E instanceof Gt?Wn(E):new Gt(E);if(O.g!="")y&&(O.g=y+"."+O.g),ua(O,O.s);else{var J=m.location;O=J.protocol,y=y?y+"."+J.hostname:J.hostname,J=+J.port;var se=new Gt(null);O&&gs(se,O),y&&(se.g=y),J&&ua(se,J),E&&(se.l=E),O=se}return E=f.D,y=f.ya,E&&y&&vt(O,E,y),vt(O,"VER",f.la),ws(f,O),O}function nf(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new ct(new ca({eb:E})):new ct(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rf(){}n=rf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ao(){}Ao.prototype.g=function(f,y){return new Ln(f,y)};function Ln(f,y){Be.call(this),this.g=new Eo(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!X(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Kr(this)}k(Ln,Be),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){Yl(this.g)},Ln.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Cr(f),f=E);y.i.push(new qc(y.Ya++,f)),y.G==3&&So(y)},Ln.prototype.N=function(){this.g.l=null,delete this.j,Yl(this.g),delete this.g,Ln.aa.N.call(this)};function af(f){_i.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}k(af,_i);function sf(){kl.call(this),this.status=1}k(sf,kl);function Kr(f){this.g=f}k(Kr,rf),Kr.prototype.ua=function(){Fe(this.g,"a")},Kr.prototype.ta=function(f){Fe(this.g,new af(f))},Kr.prototype.sa=function(f){Fe(this.g,new sf)},Kr.prototype.ra=function(){Fe(this.g,"b")},Ao.prototype.createWebChannel=Ao.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,dA=function(){return new Ao},hA=function(){return ia()},fA=Ur,nv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oa.NO_ERROR=0,oa.TIMEOUT=8,oa.HTTP_ERROR=6,xh=oa,bi.COMPLETE="complete",cA=bi,Ml.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",Be.prototype.listen=Be.prototype.K,$u=Ml,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,uA=ct}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const D1="@firebase/firestore",P1="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new ty("@firebase/firestore");function nl(){return Xs.logLevel}function _e(n,...e){if(Xs.logLevel<=Ze.DEBUG){const t=e.map(py);Xs.debug(`Firestore (${xl}): ${n}`,...t)}}function Xi(n,...e){if(Xs.logLevel<=Ze.ERROR){const t=e.map(py);Xs.error(`Firestore (${xl}): ${n}`,...t)}}function Ka(n,...e){if(Xs.logLevel<=Ze.WARN){const t=e.map(py);Xs.warn(`Firestore (${xl}): ${n}`,...t)}}function py(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,mA(n,i,t)}function mA(n,e,t){let i=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Xi(i),new Error(i)}function ht(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||mA(e,s,i)}function ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(In.UNAUTHENTICATED))}shutdown(){}}class uM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cM{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ht(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let l=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $i,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const h=l;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},m=h=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>m(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?m(h):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $i)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ht(typeof i.accessToken=="string",31837,{l:i}),new pA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class fM{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hM{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new fM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ht(this.o===void 0,3512);const i=l=>{l.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new M1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ht(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new M1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=mM(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function Ge(n,e){return n<e?-1:n>e?1:0}function rv(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return Ge(i,s);{const l=gA(),c=pM(l.encode(k1(n,t)),l.encode(k1(e,t)));return c!==0?c:Ge(i,s)}}t+=i>65535?2:1}return Ge(n.length,e.length)}function k1(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function pM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ge(n[t],e[t]);return Ge(n.length,e.length)}function pl(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="__name__";class ni{constructor(e,t,i){t===void 0?t=0:t>e.length&&Me(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Me(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=ni.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Ge(e.length,t.length)}static compareSegments(e,t){const i=ni.isNumericId(e),s=ni.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?ni.extractNumericId(e).compare(ni.extractNumericId(t)):rv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $a.fromString(e.substring(4,e.length-2))}}class St extends ni{construct(e,t,i){return new St(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new St(t)}static emptyPath(){return new St([])}}const gM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends ni{construct(e,t,i){return new Sn(e,t,i)}static isValidIdentifier(e){return gM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V1}static keyField(){return new Sn([V1])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new ye(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const m=e[s];if(m==="\\"){if(s+1===e.length)throw new ye(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ye(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else m==="`"?(c=!c,s++):m!=="."||c?(i+=m,s++):(l(),s++)}if(l(),c)throw new ye(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(t)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(St.fromString(e))}static fromName(e){return new Ce(St.fromString(e).popFirst(5))}static empty(){return new Ce(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return St.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n,e,t){if(!t)throw new ye(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vM(n,e,t,i){if(e===!0&&i===!0)throw new ye(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function L1(n){if(!Ce.isDocumentKey(n))throw new ye(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function j1(n){if(Ce.isDocumentKey(n))throw new ye(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Od(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Me(12329,{type:typeof n})}function Kn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Od(n);throw new ye(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Ic(n,e){if(!yA(n))throw new ye(ce.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(s&&typeof c!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ye(ce.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=-62135596800,F1=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*F1);return new wt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<U1)throw new ye(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F1}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ic(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Zt("string",wt._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new wt(0,0))}static max(){return new je(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function yM(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=je.fromTimestamp(i===1e9?new wt(t+1,0):new wt(t,i));return new Qa(s,Ce.empty(),e)}function _M(n){return new Qa(n.readTime,n.key,hc)}class Qa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Qa(je.min(),Ce.empty(),hc)}static max(){return new Qa(je.max(),Ce.empty(),hc)}}function bM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==EM)throw n;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,i)=>{t(e)})}static reject(e){return new he((t,i)=>{i(e)})}static waitFor(e){return new he((t,i)=>{let s=0,l=0,c=!1;e.forEach(m=>{++s,m.next(()=>{++l,c&&l===s&&t()},h=>i(h))}),c=!0,l===s&&t()})}static or(e){let t=he.resolve(!1);for(const i of e)t=t.next(s=>s?he.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new he((i,s)=>{const l=e.length,c=new Array(l);let m=0;for(let h=0;h<l;h++){const p=h;t(e[p]).next(v=>{c[p]=v,++m,m===l&&i(c)},v=>s(v))}})}static doWhile(e,t){return new he((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}function SM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Cl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Nd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=-1;function Dd(n){return n==null}function Kh(n){return n===0&&1/n==-1/0}function wM(n){return typeof n=="number"&&Number.isInteger(n)&&!Kh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="";function AM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=z1(e)),e=xM(n.get(t),e);return z1(e)}function xM(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case _A:t+="";break;default:t+=l}}return t}function z1(n){return n+_A+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ls(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function bA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,t){this.comparator=e,this.root=t||En.EMPTY}insert(e,t){return new Dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uh(this.root,e,this.comparator,!0)}}class uh{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??En.RED,this.left=s??En.EMPTY,this.right=l??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new En(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return En.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,t,i,s,l){return this}insert(e,t,i){return new En(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new H1(this.data.getIterator())}getIteratorFrom(e){return new H1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ln(this.comparator);return t.data=e,t}}class H1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new sr([])}unionWith(e){let t=new ln(Sn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new EA("Invalid base64 string: "+l):l}}(e);return new wn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const RM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xa(n){if(ht(!!n,39018),typeof n=="string"){let e=0;const t=RM.exec(n);if(ht(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ht(n.seconds),nanos:Ht(n.nanos)}}function Ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Wa(n){return typeof n=="string"?wn.fromBase64String(n):wn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="server_timestamp",SA="__type__",wA="__previous_value__",AA="__local_write_time__";function yy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[SA])===null||t===void 0?void 0:t.stringValue)===TA}function Pd(n){const e=n.mapValue.fields[wA];return yy(e)?Pd(e):e}function dc(n){const e=Xa(n.mapValue.fields[AA].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,t,i,s,l,c,m,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=v}}const Qh="(default)";class mc{constructor(e,t){this.projectId=e,this.database=t||Qh}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="__type__",IM="__max__",ch={mapValue:{}},RA="__vector__",Xh="value";function Za(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yy(n)?4:NM(n)?9007199254740991:OM(n)?10:11:Me(28295,{value:n})}function gi(n,e){if(n===e)return!0;const t=Za(n);if(t!==Za(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dc(n).isEqual(dc(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Xa(s.timestampValue),m=Xa(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return Wa(s.bytesValue).isEqual(Wa(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return Ht(s.geoPointValue.latitude)===Ht(l.geoPointValue.latitude)&&Ht(s.geoPointValue.longitude)===Ht(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Ht(s.integerValue)===Ht(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Ht(s.doubleValue),m=Ht(l.doubleValue);return c===m?Kh(c)===Kh(m):isNaN(c)&&isNaN(m)}return!1}(n,e);case 9:return pl(n.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},m=l.mapValue.fields||{};if(B1(c)!==B1(m))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(m[h]===void 0||!gi(c[h],m[h])))return!1;return!0}(n,e);default:return Me(52216,{left:n})}}function pc(n,e){return(n.values||[]).find(t=>gi(t,e))!==void 0}function gl(n,e){if(n===e)return 0;const t=Za(n),i=Za(e);if(t!==i)return Ge(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(l,c){const m=Ht(l.integerValue||l.doubleValue),h=Ht(c.integerValue||c.doubleValue);return m<h?-1:m>h?1:m===h?0:isNaN(m)?isNaN(h)?0:-1:1}(n,e);case 3:return q1(n.timestampValue,e.timestampValue);case 4:return q1(dc(n),dc(e));case 5:return rv(n.stringValue,e.stringValue);case 6:return function(l,c){const m=Wa(l),h=Wa(c);return m.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const m=l.split("/"),h=c.split("/");for(let p=0;p<m.length&&p<h.length;p++){const v=Ge(m[p],h[p]);if(v!==0)return v}return Ge(m.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const m=Ge(Ht(l.latitude),Ht(c.latitude));return m!==0?m:Ge(Ht(l.longitude),Ht(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $1(n.arrayValue,e.arrayValue);case 10:return function(l,c){var m,h,p,v;const b=l.fields||{},S=c.fields||{},N=(m=b[Xh])===null||m===void 0?void 0:m.arrayValue,k=(h=S[Xh])===null||h===void 0?void 0:h.arrayValue,j=Ge(((p=N==null?void 0:N.values)===null||p===void 0?void 0:p.length)||0,((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0);return j!==0?j:$1(N,k)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===ch.mapValue&&c===ch.mapValue)return 0;if(l===ch.mapValue)return 1;if(c===ch.mapValue)return-1;const m=l.fields||{},h=Object.keys(m),p=c.fields||{},v=Object.keys(p);h.sort(),v.sort();for(let b=0;b<h.length&&b<v.length;++b){const S=rv(h[b],v[b]);if(S!==0)return S;const N=gl(m[h[b]],p[v[b]]);if(N!==0)return N}return Ge(h.length,v.length)}(n.mapValue,e.mapValue);default:throw Me(23264,{le:t})}}function q1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=Xa(n),i=Xa(e),s=Ge(t.seconds,i.seconds);return s!==0?s:Ge(t.nanos,i.nanos)}function $1(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=gl(t[s],i[s]);if(l)return l}return Ge(t.length,i.length)}function vl(n){return iv(n)}function iv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Xa(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Wa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ce.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=iv(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${iv(t.fields[c])}`;return s+"}"}(n.mapValue):Me(61005,{value:n})}function Rh(n){switch(Za(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pd(n);return e?16+Rh(e):16;case 5:return 2*n.stringValue.length;case 6:return Wa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+Rh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return ls(i.fields,(l,c)=>{s+=l.length+Rh(c)}),s}(n.mapValue);default:throw Me(13486,{value:n})}}function G1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function av(n){return!!n&&"integerValue"in n}function _y(n){return!!n&&"arrayValue"in n}function Y1(n){return!!n&&"nullValue"in n}function K1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ch(n){return!!n&&"mapValue"in n}function OM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[xA])===null||t===void 0?void 0:t.stringValue)===RA}function ec(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ls(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ec(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ec(n.arrayValue.values[t]);return e}return Object.assign({},n)}function NM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===IM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(t)}setAll(e){let t=Sn.emptyPath(),i={},s=[];e.forEach((c,m)=>{if(!t.isImmediateParentOf(m)){const h=this.getFieldsMap(t);this.applyChanges(h,i,s),i={},s=[],t=m.popLast()}c?i[m.lastSegment()]=ec(c):s.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());Ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Ch(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){ls(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new Yn(ec(this.value))}}function CA(n){const e=[];return ls(n.fields,(t,i)=>{const s=new Sn([t]);if(Ch(i)){const l=CA(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,t,i,s,l,c,m){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new On(e,0,je.min(),je.min(),je.min(),Yn.empty(),0)}static newFoundDocument(e,t,i,s){return new On(e,1,t,je.min(),i,s,0)}static newNoDocument(e,t){return new On(e,2,t,je.min(),je.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new On(e,3,t,je.min(),je.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.position=e,this.inclusive=t}}function Q1(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=Ce.comparator(Ce.fromName(c.referenceValue),t.key):i=gl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function X1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t="asc"){this.field=e,this.dir=t}}function DM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{}class Wt extends IA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new MM(e,t,i):t==="array-contains"?new LM(e,i):t==="in"?new jM(e,i):t==="not-in"?new UM(e,i):t==="array-contains-any"?new FM(e,i):new Wt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new kM(e,i):new VM(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(gl(t,this.value)):t!==null&&Za(this.value)===Za(t)&&this.matchesComparison(gl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends IA{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Vr(e,t)}matches(e){return OA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function OA(n){return n.op==="and"}function NA(n){return PM(n)&&OA(n)}function PM(n){for(const e of n.filters)if(e instanceof Vr)return!1;return!0}function sv(n){if(n instanceof Wt)return n.field.canonicalString()+n.op.toString()+vl(n.value);if(NA(n))return n.filters.map(e=>sv(e)).join(",");{const e=n.filters.map(t=>sv(t)).join(",");return`${n.op}(${e})`}}function DA(n,e){return n instanceof Wt?function(i,s){return s instanceof Wt&&i.op===s.op&&i.field.isEqual(s.field)&&gi(i.value,s.value)}(n,e):n instanceof Vr?function(i,s){return s instanceof Vr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,m)=>l&&DA(c,s.filters[m]),!0):!1}(n,e):void Me(19439)}function PA(n){return n instanceof Wt?function(t){return`${t.field.canonicalString()} ${t.op} ${vl(t.value)}`}(n):n instanceof Vr?function(t){return t.op.toString()+" {"+t.getFilters().map(PA).join(" ,")+"}"}(n):"Filter"}class MM extends Wt{constructor(e,t,i){super(e,t,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class kM extends Wt{constructor(e,t){super(e,"in",t),this.keys=MA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class VM extends Wt{constructor(e,t){super(e,"not-in",t),this.keys=MA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function MA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ce.fromName(i.referenceValue))}class LM extends Wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _y(t)&&pc(t.arrayValue,this.value)}}class jM extends Wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pc(this.value.arrayValue,t)}}class UM extends Wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pc(this.value.arrayValue,t)}}class FM extends Wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_y(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>pc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,t=null,i=[],s=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=m,this.Pe=null}}function W1(n,e=null,t=[],i=[],s=null,l=null,c=null){return new zM(n,e,t,i,s,l,c)}function by(n){const e=ze(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>sv(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Dd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>vl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>vl(i)).join(",")),e.Pe=t}return e.Pe}function Ey(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!DA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!X1(n.startAt,e.startAt)&&X1(n.endAt,e.endAt)}function ov(n){return Ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t=null,i=[],s=[],l=null,c="F",m=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function BM(n,e,t,i,s,l,c,m){return new Oc(n,e,t,i,s,l,c,m)}function Md(n){return new Oc(n)}function Z1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kA(n){return n.collectionGroup!==null}function tc(n){const e=ze(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new ln(Sn.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Zh(l,i))}),t.has(Sn.keyField().canonicalString())||e.Te.push(new Zh(Sn.keyField(),i))}return e.Te}function fi(n){const e=ze(n);return e.Ie||(e.Ie=HM(e,tc(n))),e.Ie}function HM(n,e){if(n.limitType==="F")return W1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Zh(s.field,l)});const t=n.endAt?new Wh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Wh(n.startAt.position,n.startAt.inclusive):null;return W1(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function lv(n,e){const t=n.filters.concat([e]);return new Oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function uv(n,e,t){return new Oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kd(n,e){return Ey(fi(n),fi(e))&&n.limitType===e.limitType}function VA(n){return`${by(fi(n))}|lt:${n.limitType}`}function rl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>PA(s)).join(", ")}]`),Dd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>vl(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>vl(s)).join(",")),`Target(${i})`}(fi(n))}; limitType=${n.limitType})`}function Vd(n,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ce.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,s){for(const l of tc(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,m,h){const p=Q1(c,m,h);return c.inclusive?p<=0:p<0}(i.startAt,tc(i),s)||i.endAt&&!function(c,m,h){const p=Q1(c,m,h);return c.inclusive?p>=0:p>0}(i.endAt,tc(i),s))}(n,e)}function qM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LA(n){return(e,t)=>{let i=!1;for(const s of tc(n)){const l=$M(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function $M(n,e,t){const i=n.field.isKeyField()?Ce.comparator(e.key,t.key):function(l,c,m){const h=c.data.field(l),p=m.data.field(l);return h!==null&&p!==null?gl(h,p):Me(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Me(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return bA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new Dt(Ce.comparator);function Wi(){return GM}const jA=new Dt(Ce.comparator);function Gu(...n){let e=jA;for(const t of n)e=e.insert(t.key,t);return e}function UA(n){let e=jA;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Hs(){return nc()}function FA(){return nc()}function nc(){return new so(n=>n.toString(),(n,e)=>n.isEqual(e))}const YM=new Dt(Ce.comparator),KM=new ln(Ce.comparator);function Je(...n){let e=KM;for(const t of n)e=e.add(t);return e}const QM=new ln(Ge);function XM(){return QM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function zA(n){return{integerValue:""+n}}function WM(n,e){return wM(e)?zA(e):Ty(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this._=void 0}}function ZM(n,e,t){return n instanceof Jh?function(s,l){const c={fields:{[SA]:{stringValue:TA},[AA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&yy(l)&&(l=Pd(l)),l&&(c.fields[wA]=l),{mapValue:c}}(t,e):n instanceof gc?HA(n,e):n instanceof vc?qA(n,e):function(s,l){const c=BA(s,l),m=J1(c)+J1(s.Ee);return av(c)&&av(s.Ee)?zA(m):Ty(s.serializer,m)}(n,e)}function JM(n,e,t){return n instanceof gc?HA(n,e):n instanceof vc?qA(n,e):t}function BA(n,e){return n instanceof ed?function(i){return av(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Jh extends Ld{}class gc extends Ld{constructor(e){super(),this.elements=e}}function HA(n,e){const t=$A(e);for(const i of n.elements)t.some(s=>gi(s,i))||t.push(i);return{arrayValue:{values:t}}}class vc extends Ld{constructor(e){super(),this.elements=e}}function qA(n,e){let t=$A(e);for(const i of n.elements)t=t.filter(s=>!gi(s,i));return{arrayValue:{values:t}}}class ed extends Ld{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function J1(n){return Ht(n.integerValue||n.doubleValue)}function $A(n){return _y(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function e4(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof gc&&s instanceof gc||i instanceof vc&&s instanceof vc?pl(i.elements,s.elements,gi):i instanceof ed&&s instanceof ed?gi(i.Ee,s.Ee):i instanceof Jh&&s instanceof Jh}(n.transform,e.transform)}class t4{constructor(e,t){this.version=e,this.transformResults=t}}class Ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class jd{}function GA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Sy(n.key,Ar.none()):new Nc(n.key,n.data,Ar.none());{const t=n.data,i=Yn.empty();let s=new ln(Sn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new us(n.key,i,new sr(s.toArray()),Ar.none())}}function n4(n,e,t){n instanceof Nc?function(s,l,c){const m=s.value.clone(),h=tT(s.fieldTransforms,l,c.transformResults);m.setAll(h),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):n instanceof us?function(s,l,c){if(!Ih(s.precondition,l))return void l.convertToUnknownDocument(c.version);const m=tT(s.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(YA(s)),h.setAll(m),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function rc(n,e,t,i){return n instanceof Nc?function(l,c,m,h){if(!Ih(l.precondition,c))return m;const p=l.value.clone(),v=nT(l.fieldTransforms,h,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof us?function(l,c,m,h){if(!Ih(l.precondition,c))return m;const p=nT(l.fieldTransforms,h,c),v=c.data;return v.setAll(YA(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(l,c,m){return Ih(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(n,e,t)}function r4(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=BA(i.transform,s||null);l!=null&&(t===null&&(t=Yn.empty()),t.set(i.field,l))}return t||null}function eT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&pl(i,s,(l,c)=>e4(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Nc extends jd{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class us extends jd{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function YA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function tT(n,e,t){const i=new Map;ht(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,m=e.data.field(l.field);i.set(l.field,JM(c,m,t[s]))}return i}function nT(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,ZM(l,c,e))}return i}class Sy extends jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i4 extends jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&n4(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=rc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=rc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=FA();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=t.has(s.key)?null:m;const h=GA(c,m);h!==null&&i.set(s.key,h),c.isValidDocument()||c.convertToNoDocument(je.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Je())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(t,i)=>eT(t,i))&&pl(this.baseMutations,e.baseMutations,(t,i)=>eT(t,i))}}class wy{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){ht(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let s=function(){return YM}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new wy(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,it;function l4(n){switch(n){case ce.OK:return Me(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Me(15467,{code:n})}}function KA(n){if(n===void 0)return Xi("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Qt.OK:return ce.OK;case Qt.CANCELLED:return ce.CANCELLED;case Qt.UNKNOWN:return ce.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return ce.INTERNAL;case Qt.UNAVAILABLE:return ce.UNAVAILABLE;case Qt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Qt.NOT_FOUND:return ce.NOT_FOUND;case Qt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Qt.ABORTED:return ce.ABORTED;case Qt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Qt.DATA_LOSS:return ce.DATA_LOSS;default:return Me(39323,{code:n})}}(it=Qt||(Qt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new $a([4294967295,4294967295],0);function rT(n){const e=gA().encode(n),t=new lA;return t.update(e),new Uint8Array(t.digest())}function iT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new $a([t,i],0),new $a([s,l],0)]}class Ay{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Yu(`Invalid padding: ${t}`);if(i<0)throw new Yu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=$a.fromNumber(this.fe)}pe(e,t,i){let s=e.add(t.multiply($a.fromNumber(i)));return s.compare(u4)===1&&(s=new $a([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=rT(e),[i,s]=iT(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,s,l);if(!this.ye(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ay(l,s,t);return i.forEach(m=>c.insert(m)),c}insert(e){if(this.fe===0)return;const t=rT(e),[i,s]=iT(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,s,l);this.we(c)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ud(je.min(),s,new Dt(Ge),Wi(),Je())}}class Dc{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Dc(i,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,i,s){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=s}}class QA{constructor(e,t){this.targetId=e,this.De=t}}class XA{constructor(e,t,i=wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class aT{constructor(){this.ve=0,this.Ce=sT(),this.Fe=wn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Je(),t=Je(),i=Je();return this.Ce.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Me(38017,{changeType:l})}}),new Dc(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=sT()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class c4{constructor(e){this.We=e,this.Ge=new Map,this.ze=Wi(),this.je=fh(),this.Je=fh(),this.He=new Dt(Ge)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,s)=>{this.nt(s)&&t(s)})}it(e){const t=e.targetId,i=e.De.count,s=this.st(t);if(s){const l=s.target;if(ov(l))if(i===0){const c=new Ce(l.path);this.Xe(t,c,On.newNoDocument(c,je.min()))}else ht(i===1,20013,{expectedCount:i});else{const c=this.ot(t);if(c!==i){const m=this._t(e),h=m?this.ut(m,e,c):1;if(h!==0){this.rt(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,m;try{c=Wa(i).toUint8Array()}catch(h){if(h instanceof EA)return Ka("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{m=new Ay(c,s,l)}catch(h){return Ka(h instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return m.fe===0?null:m}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const c=this.We.lt(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,l,null),s++)}),s}Pt(e){const t=new Map;this.Ge.forEach((l,c)=>{const m=this.st(c);if(m){if(l.current&&ov(m.target)){const h=new Ce(m.target.path);this.Tt(h).has(c)||this.It(c,h)||this.Xe(c,h,On.newNoDocument(h,e))}l.Ne&&(t.set(c,l.Le()),l.ke())}});let i=Je();this.Je.forEach((l,c)=>{let m=!0;c.forEachWhile(h=>{const p=this.st(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(l))}),this.ze.forEach((l,c)=>c.setReadTime(e));const s=new Ud(e,t,this.He,this.ze,i);return this.ze=Wi(),this.je=fh(),this.Je=fh(),this.He=new Dt(Ge),s}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new aT,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ln(Ge),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ln(Ge),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new aT),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function fh(){return new Dt(Ce.comparator)}function sT(){return new Dt(Ce.comparator)}const f4={asc:"ASCENDING",desc:"DESCENDING"},h4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d4={and:"AND",or:"OR"};class m4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cv(n,e){return n.useProto3Json||Dd(e)?e:{value:e}}function td(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function p4(n,e){return td(n,e.toTimestamp())}function hi(n){return ht(!!n,49232),je.fromTimestamp(function(t){const i=Xa(t);return new wt(i.seconds,i.nanos)}(n))}function xy(n,e){return fv(n,e).canonicalString()}function fv(n,e){const t=function(s){return new St(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ZA(n){const e=St.fromString(n);return ht(rx(e),10190,{key:e.toString()}),e}function hv(n,e){return xy(n.databaseId,e.path)}function yg(n,e){const t=ZA(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ce(ex(t))}function JA(n,e){return xy(n.databaseId,e)}function g4(n){const e=ZA(n);return e.length===4?St.emptyPath():ex(e)}function dv(n){return new St(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ex(n){return ht(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function oT(n,e,t){return{name:hv(n,e),fields:t.value.mapValue.fields}}function v4(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Me(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(ht(v===void 0||typeof v=="string",58123),wn.fromBase64String(v||"")):(ht(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),wn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(p){const v=p.code===void 0?ce.UNKNOWN:KA(p.code);return new ye(v,p.message||"")}(c);t=new XA(i,s,l,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=yg(n,i.document.name),l=hi(i.document.updateTime),c=i.document.createTime?hi(i.document.createTime):je.min(),m=new Yn({mapValue:{fields:i.document.fields}}),h=On.newFoundDocument(s,l,c,m),p=i.targetIds||[],v=i.removedTargetIds||[];t=new Oh(p,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=yg(n,i.document),l=i.readTime?hi(i.readTime):je.min(),c=On.newNoDocument(s,l),m=i.removedTargetIds||[];t=new Oh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=yg(n,i.document),l=i.removedTargetIds||[];t=new Oh([],l,s,null)}else{if(!("filter"in e))return Me(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new o4(s,l),m=i.targetId;t=new QA(m,c)}}return t}function y4(n,e){let t;if(e instanceof Nc)t={update:oT(n,e.key,e.value)};else if(e instanceof Sy)t={delete:hv(n,e.key)};else if(e instanceof us)t={update:oT(n,e.key,e.data),updateMask:R4(e.fieldMask)};else{if(!(e instanceof i4))return Me(16599,{Rt:e.type});t={verify:hv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const m=c.transform;if(m instanceof Jh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof gc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ed)return{fieldPath:c.field.canonicalString(),increment:m.Ee};throw Me(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:p4(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me(27497)}(n,e.precondition)),t}function _4(n,e){return n&&n.length>0?(ht(e!==void 0,14353),n.map(t=>function(s,l){let c=s.updateTime?hi(s.updateTime):hi(l);return c.isEqual(je.min())&&(c=hi(l)),new t4(c,s.transformResults||[])}(t,e))):[]}function b4(n,e){return{documents:[JA(n,e.path)]}}function E4(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=JA(n,s);const l=function(p){if(p.length!==0)return nx(Vr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(v=>function(S){return{field:il(S.field),direction:w4(S.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=cv(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:t,parent:s}}function T4(n){let e=g4(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){ht(i===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const S=tx(b);return S instanceof Vr&&NA(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(S=>function(k){return new Zh(al(k.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(t.orderBy));let m=null;t.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,Dd(S)?null:S}(t.limit));let h=null;t.startAt&&(h=function(b){const S=!!b.before,N=b.values||[];return new Wh(N,S)}(t.startAt));let p=null;return t.endAt&&(p=function(b){const S=!b.before,N=b.values||[];return new Wh(N,S)}(t.endAt)),BM(e,s,c,l,m,"F",h,p)}function S4(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=al(t.unaryFilter.field);return Wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=al(t.unaryFilter.field);return Wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=al(t.unaryFilter.field);return Wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=al(t.unaryFilter.field);return Wt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(n):n.fieldFilter!==void 0?function(t){return Wt.create(al(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Vr.create(t.compositeFilter.filters.map(i=>tx(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(t.compositeFilter.op))}(n):Me(30097,{filter:n})}function w4(n){return f4[n]}function A4(n){return h4[n]}function x4(n){return d4[n]}function il(n){return{fieldPath:n.canonicalString()}}function al(n){return Sn.fromServerFormat(n.fieldPath)}function nx(n){return n instanceof Wt?function(t){if(t.op==="=="){if(K1(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NAN"}};if(Y1(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(K1(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NAN"}};if(Y1(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(t.field),op:A4(t.op),value:t.value}}}(n):n instanceof Vr?function(t){const i=t.getFilters().map(s=>nx(s));return i.length===1?i[0]:{compositeFilter:{op:x4(t.op),filters:i}}}(n):Me(54877,{filter:n})}function R4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,t,i,s,l=je.min(),c=je.min(),m=wn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=h}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.gt=e}}function I4(n){const e=T4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?uv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.Dn=new N4}addToCollectionParentIndex(e,t){return this.Dn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Qa.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Qa.min())}updateCollectionGroup(e,t,i){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class N4{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new ln(St.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new ln(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ix=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(ix,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new yl(0)}static ur(){return new yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="LruGarbageCollector",D4=1048576;function cT([n,e],[t,i]){const s=Ge(n,t);return s===0?Ge(e,i):s}class P4{constructor(e){this.Tr=e,this.buffer=new ln(cT),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();cT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class M4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){_e(uT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Cl(t)?_e(uT,"Ignoring IndexedDB error during garbage collection: ",t):await Rl(t)}await this.Rr(3e5)})}}class k4{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Nd.ue);const i=new P4(t);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(lT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lT):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,s,l,c,m,h,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,c=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(i=b,m=Date.now(),this.removeTargets(e,i,t))).next(b=>(l=b,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(p=Date.now(),nl()<=Ze.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(m-c)+`ms
	Removed ${l} targets in `+(h-m)+`ms
	Removed ${b} documents in `+(p-h)+`ms
Total Duration: ${p-v}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:b})))}}function V4(n,e){return new k4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.changes=new so(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?he.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&rc(i.mutation,s,sr.empty(),wt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Je()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Je()){const s=Hs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let c=Gu();return l.forEach((m,h)=>{c=c.insert(m,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Hs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Je()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,m)=>{t.set(c,m)})})}computeViews(e,t,i,s){let l=Wi();const c=nc(),m=function(){return nc()}();return t.forEach((h,p)=>{const v=i.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof us)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),rc(v.mutation,p,v.mutation.getFieldMask(),wt.now())):c.set(p.key,sr.empty())}),this.recalculateAndSaveOverlays(e,l).next(h=>(h.forEach((p,v)=>c.set(p,v)),t.forEach((p,v)=>{var b;return m.set(p,new j4(v,(b=c.get(p))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,t){const i=nc();let s=new Dt((c,m)=>c-m),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const m of c)m.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let v=i.get(h)||sr.empty();v=m.applyToLocalView(p,v),i.set(h,v);const b=(s.get(m.batchId)||Je()).add(h);s=s.insert(m.batchId,b)})}).next(()=>{const c=[],m=s.getReverseIterator();for(;m.hasNext();){const h=m.getNext(),p=h.key,v=h.value,b=FA();v.forEach(S=>{if(!l.has(S)){const N=GA(t.get(S),i.get(S));N!==null&&b.set(S,N),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return he.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return Ce.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):he.resolve(Hs());let m=hc,h=l;return c.next(p=>he.forEach(p,(v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),l.get(v)?he.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{h=h.insert(v,S)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,h,p,Je())).next(v=>({batchId:m,changes:UA(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next(i=>{let s=Gu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=Gu();return this.indexManager.getCollectionParents(e,l).next(m=>he.forEach(m,h=>{const p=function(b,S){return new Oc(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,s).next(v=>{v.forEach((b,S)=>{c=c.insert(b,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(c=>{l.forEach((h,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,On.newInvalidDocument(v)))});let m=Gu();return c.forEach((h,p)=>{const v=l.get(h);v!==void 0&&rc(v.mutation,p,sr.empty(),wt.now()),Vd(t,p)&&(m=m.insert(h,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return he.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(s){return{id:s.id,version:s.version,createTime:hi(s.createTime)}}(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(s){return{name:s.name,query:I4(s.bundledQuery),readTime:hi(s.readTime)}}(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.overlays=new Dt(Ce.comparator),this.kr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Hs();return he.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.wt(e,t,l)}),he.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(i)),he.resolve()}getOverlaysForCollection(e,t,i){const s=Hs(),l=t.length+1,c=new Ce(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const h=m.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&h.largestBatchId>i&&s.set(h.getKey(),h)}return he.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new Dt((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=Hs(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const m=Hs(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,v)=>m.set(p,v)),!(m.size()>=s)););return he.resolve(m)}wt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new s4(t,i));let l=this.kr.get(t);l===void 0&&(l=Je(),this.kr.set(t,l)),this.kr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.qr=new ln(pn.Qr),this.$r=new ln(pn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new pn(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new pn(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){const t=new Ce(new St([])),i=new pn(t,e),s=new pn(t,e+1),l=[];return this.$r.forEachInRange([i,s],c=>{this.Wr(c),l.push(c.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ce(new St([])),i=new pn(t,e),s=new pn(t,e+1);let l=Je();return this.$r.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new pn(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class pn{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ce.comparator(e.key,t.key)||Ge(e.Hr,t.Hr)}static Ur(e,t){return Ge(e.Hr,t.Hr)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ln(pn.Qr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new a4(l,t,i,s);this.mutationQueue.push(c);for(const m of s)this.Yr=this.Yr.add(new pn(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,t){return he.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Xr(i),l=s<0?0:s;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?vy:this.er-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new pn(t,0),s=new pn(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([i,s],c=>{const m=this.Zr(c.Hr);l.push(m)}),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ln(Ge);return t.forEach(s=>{const l=new pn(s,0),c=new pn(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],m=>{i=i.add(m.Hr)})}),he.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;Ce.isDocumentKey(l)||(l=l.child(""));const c=new pn(new Ce(l),0);let m=new ln(Ge);return this.Yr.forEachWhile(h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(m=m.add(h.Hr)),!0)},c),he.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ht(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return he.forEach(t.mutations,s=>{const l=new pn(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){const i=new pn(t,0),s=this.Yr.firstAfterOrEqual(i);return he.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.ni=e,this.docs=function(){return new Dt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return he.resolve(i?i.document.mutableCopy():On.newInvalidDocument(t))}getEntries(e,t){let i=Wi();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():On.newInvalidDocument(s))}),he.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=Wi();const c=t.path,m=new Ce(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(m);for(;h.hasNext();){const{key:p,value:{document:v}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||bM(_M(v),i)<=0||(s.has(v.key)||Vd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,t,i,s){Me(9500)}ri(e,t){return he.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new $4(this)}getSize(e){return he.resolve(this.size)}}class $4 extends L4{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(i)}),he.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.persistence=e,this.ii=new so(t=>by(t),Ey),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.si=0,this.oi=new Ry,this.targetCount=0,this._i=yl.ar()}forEachTarget(e,t){return this.ii.forEach((i,s)=>t(s)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),he.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new yl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.hr(t),he.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.ii.forEach((c,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),he.waitFor(l).next(()=>s)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return he.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),he.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),he.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return he.resolve(i)}containsKey(e,t){return he.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,t){this.ai={},this.overlays={},this.ui=new Nd(0),this.ci=!1,this.ci=!0,this.li=new B4,this.referenceDelegate=e(this),this.hi=new G4(this),this.indexManager=new O4,this.remoteDocumentCache=function(s){return new q4(s)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new C4(t),this.Ti=new F4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new z4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new H4(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){_e("MemoryPersistence","Starting transaction:",e);const s=new Y4(this.ui.next());return this.referenceDelegate.Ii(),i(s).next(l=>this.referenceDelegate.di(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ei(e,t){return he.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}}class Y4 extends TM{constructor(e){super(),this.currentSequenceNumber=e}}class Cy{constructor(e){this.persistence=e,this.Ai=new Ry,this.Ri=null}static Vi(e){return new Cy(e)}get mi(){if(this.Ri)return this.Ri;throw Me(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),he.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(s=>this.mi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.mi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.mi,i=>{const s=Ce.fromPath(i);return this.fi(e,s).next(l=>{l||t.removeEntry(s,je.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return he.or([()=>he.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class nd{constructor(e,t){this.persistence=e,this.gi=new so(i=>AM(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=V4(this,t)}static Vi(e,t){return new nd(e,t)}Ii(){}di(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return he.forEach(this.gi,(i,s)=>this.Sr(e,i,s).next(l=>l?he.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ri(e,c=>this.Sr(e,c,t).next(m=>{m||(i++,l.removeEntry(c,je.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),he.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),he.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rh(e.data.value)),t}Sr(e,t,i){return he.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return he.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=s}static Es(e,t){let i=Je(),s=Je();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Iy(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return CO()?8:SM(Nn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.ps(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ys(e,t,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new K4;return this.ws(e,t,c).next(m=>{if(l.result=m,this.Rs)return this.Ss(e,t,c,m.size)})}).next(()=>l.result)}Ss(e,t,i,s){return i.documentReadCount<this.Vs?(nl()<=Ze.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",rl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),he.resolve()):(nl()<=Ze.DEBUG&&_e("QueryEngine","Query:",rl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(nl()<=Ze.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",rl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(t))):he.resolve())}ps(e,t){if(Z1(t))return he.resolve(null);let i=fi(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=uv(t,null,"F"),i=fi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Je(...l);return this.gs.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,i).next(h=>{const p=this.bs(t,m);return this.Ds(t,p,c,h.readTime)?this.ps(e,uv(t,null,"F")):this.vs(e,p,t,h)}))})))}ys(e,t,i,s){return Z1(t)||s.isEqual(je.min())?he.resolve(null):this.gs.getDocuments(e,i).next(l=>{const c=this.bs(t,l);return this.Ds(t,c,i,s)?he.resolve(null):(nl()<=Ze.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),rl(t)),this.vs(e,c,t,yM(s,hc)).next(m=>m))})}bs(e,t){let i=new ln(LA(e));return t.forEach((s,l)=>{Vd(e,l)&&(i=i.add(l))}),i}Ds(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ws(e,t,i){return nl()<=Ze.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",rl(t)),this.gs.getDocumentsMatchingQuery(e,t,Qa.min(),i)}vs(e,t,i,s){return this.gs.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="LocalStore",X4=3e8;class W4{constructor(e,t,i,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new Dt(Ge),this.Ms=new so(l=>by(l),Ey),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U4(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function Z4(n,e,t,i){return new W4(n,e,t,i)}async function sx(n,e){const t=ze(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],m=[];let h=Je();for(const p of s){c.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}for(const p of l){m.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(i,h).next(p=>({Bs:p,removedBatchIds:c,addedBatchIds:m}))})})}function J4(n,e){const t=ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,h,p,v){const b=p.batch,S=b.keys();let N=he.resolve();return S.forEach(k=>{N=N.next(()=>v.getEntry(h,k)).next(j=>{const C=p.docVersions.get(k);ht(C!==null,48541),j.version.compareTo(C)<0&&(b.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),v.addEntry(j)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(h,b))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let h=Je();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(h=h.add(m.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function ox(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function ek(n,e){const t=ze(n),i=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const m=[];e.targetChanges.forEach((v,b)=>{const S=s.get(b);if(!S)return;m.push(t.hi.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.hi.addMatchingKeys(l,v.addedDocuments,b)));let N=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(wn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,i)),s=s.insert(b,N),function(j,C,G){return j.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=X4?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(S,N,v)&&m.push(t.hi.updateTargetData(l,N))});let h=Wi(),p=Je();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),m.push(tk(l,c,e.documentUpdates).next(v=>{h=v.Ls,p=v.ks})),!i.isEqual(je.min())){const v=t.hi.getLastRemoteSnapshotVersion(l).next(b=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,i));m.push(v)}return he.waitFor(m).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,h,p)).next(()=>h)}).then(l=>(t.Fs=s,l))}function tk(n,e,t){let i=Je(),s=Je();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Wi();return t.forEach((m,h)=>{const p=l.get(m);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(m)),h.isNoDocument()&&h.version.isEqual(je.min())?(e.removeEntry(m,h.readTime),c=c.insert(m,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(m,h)):_e(Oy,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",h.version)}),{Ls:c,ks:s}})}function nk(n,e){const t=ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=vy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function rk(n,e){const t=ze(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.hi.getTargetData(i,e).next(l=>l?(s=l,he.resolve(s)):t.hi.allocateTargetId(i).next(c=>(s=new Fa(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Fs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function mv(n,e,t){const i=ze(n),s=i.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Cl(c))throw c;_e(Oy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(s.target)}function fT(n,e,t){const i=ze(n);let s=je.min(),l=Je();return i.persistence.runTransaction("Execute query","readwrite",c=>function(h,p,v){const b=ze(h),S=b.Ms.get(v);return S!==void 0?he.resolve(b.Fs.get(S)):b.hi.getTargetData(p,v)}(i,c,fi(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,m.targetId).next(h=>{l=h})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,e,t?s:je.min(),t?l:Je())).next(m=>(ik(i,qM(e),m),{documents:m,qs:l})))}function ik(n,e,t){let i=n.xs.get(e)||je.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.xs.set(e,i)}class hT{constructor(){this.activeTargetIds=XM()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ak{constructor(){this.Fo=new hT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new hT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="ConnectivityMonitor";class mT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){_e(dT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){_e(dT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function pv(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="RestConnection",ok={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lk{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===Qh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,t,i,s,l){const c=pv(),m=this.Go(e,t.toUriEncodedString());_e(_g,`Sending RPC '${e}' ${c}:`,m,i);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,s,l);const{host:p}=new URL(m),v=ss(p);return this.jo(e,m,h,i,v).then(b=>(_e(_g,`Received RPC '${e}' ${c}: `,b),b),b=>{throw Ka(_g,`RPC '${e}' ${c} failed with error: `,b,"url: ",m,"request:",i),b})}Jo(e,t,i,s,l,c){return this.Wo(e,t,i,s,l)}zo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}Go(e,t){const i=ok[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class ck extends lk{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,s,l){const c=pv();return new Promise((m,h)=>{const p=new uA;p.setWithCredentials(!0),p.listenOnce(cA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case xh.NO_ERROR:const b=p.getResponseJson();_e(Rn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),m(b);break;case xh.TIMEOUT:_e(Rn,`RPC '${e}' ${c} timed out`),h(new ye(ce.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const S=p.getStatus();if(_e(Rn,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const k=N==null?void 0:N.error;if(k&&k.status&&k.message){const j=function(G){const X=G.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(X)>=0?X:ce.UNKNOWN}(k.status);h(new ye(j,k.message))}else h(new ye(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ye(ce.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{c_:e,streamId:c,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{_e(Rn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(s);_e(Rn,`RPC '${e}' ${c} sending request:`,s),p.send(t,"POST",v,i,15)})}P_(e,t,i){const s=pv(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=dA(),m=hA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const v=l.join("");_e(Rn,`Creating RPC '${e}' stream ${s}: ${v}`,h);const b=c.createWebChannel(v,h);this.T_(b);let S=!1,N=!1;const k=new uk({Ho:C=>{N?_e(Rn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(S||(_e(Rn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),S=!0),_e(Rn,`RPC '${e}' stream ${s} sending:`,C),b.send(C))},Yo:()=>b.close()}),j=(C,G,X)=>{C.listen(G,H=>{try{X(H)}catch(te){setTimeout(()=>{throw te},0)}})};return j(b,$u.EventType.OPEN,()=>{N||(_e(Rn,`RPC '${e}' stream ${s} transport opened.`),k.s_())}),j(b,$u.EventType.CLOSE,()=>{N||(N=!0,_e(Rn,`RPC '${e}' stream ${s} transport closed`),k.__(),this.I_(b))}),j(b,$u.EventType.ERROR,C=>{N||(N=!0,Ka(Rn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),k.__(new ye(ce.UNAVAILABLE,"The operation could not be completed")))}),j(b,$u.EventType.MESSAGE,C=>{var G;if(!N){const X=C.data[0];ht(!!X,16349);const H=X,te=(H==null?void 0:H.error)||((G=H[0])===null||G===void 0?void 0:G.error);if(te){_e(Rn,`RPC '${e}' stream ${s} received error:`,te);const K=te.status;let oe=function(A){const I=Qt[A];if(I!==void 0)return KA(I)}(K),D=te.message;oe===void 0&&(oe=ce.INTERNAL,D="Unknown error status: "+K+" with message "+te.message),N=!0,k.__(new ye(oe,D)),b.close()}else _e(Rn,`RPC '${e}' stream ${s} received:`,X),k.a_(X)}}),j(m,fA.STAT_EVENT,C=>{C.stat===nv.PROXY?_e(Rn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===nv.NOPROXY&&_e(Rn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.o_()},0),k}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function bg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(n){return new m4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t,i=1e3,s=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=s,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-i);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="PersistentStream";class ux{constructor(e,t,i,s,l,c,m,h){this.Fi=e,this.w_=i,this.S_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new lx(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Xi(t.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.b_===t&&this.W_(i,s)},i=>{e(()=>{const s=new ye(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)})})}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{i(()=>this.G_(s))}),this.stream.onMessage(s=>{i(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return _e(pT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(_e(pT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fk extends ux{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=v4(this.serializer,e),i=function(l){if(!("targetChange"in l))return je.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?je.min():c.readTime?hi(c.readTime):je.min()}(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=dv(this.serializer),t.addTarget=function(l,c){let m;const h=c.target;if(m=ov(h)?{documents:b4(l,h)}:{query:E4(l,h).Vt},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=WA(l,c.resumeToken);const p=cv(l,c.expectedCount);p!==null&&(m.expectedCount=p)}else if(c.snapshotVersion.compareTo(je.min())>0){m.readTime=td(l,c.snapshotVersion.toTimestamp());const p=cv(l,c.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const i=S4(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=dv(this.serializer),t.removeTarget=e,this.k_(t)}}class hk extends ux{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=_4(e.writeResults,e.commitTime),i=hi(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=dv(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>y4(this.serializer,i))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{}class mk extends dk{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new ye(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,fv(t,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ce.UNKNOWN,l.toString())})}Jo(e,t,i,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.connection.Jo(e,fv(t,i),s,c,m,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(ce.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class pk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Xi(t),this._a=!1):_e("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class gk{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{oo(this)&&(_e(Ws,"Restarting streams for network reachability change."),await async function(h){const p=ze(h);p.Ia.add(4),await Pc(p),p.Aa.set("Unknown"),p.Ia.delete(4),await zd(p)}(this))})}),this.Aa=new pk(i,s)}}async function zd(n){if(oo(n))for(const e of n.da)await e(!0)}async function Pc(n){for(const e of n.da)await e(!1)}function cx(n,e){const t=ze(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),My(t)?Py(t):Il(t).x_()&&Dy(t,e))}function Ny(n,e){const t=ze(n),i=Il(t);t.Ta.delete(e),i.x_()&&fx(t,e),t.Ta.size===0&&(i.x_()?i.B_():oo(t)&&t.Aa.set("Unknown"))}function Dy(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Il(n).H_(e)}function fx(n,e){n.Ra.$e(e),Il(n).Y_(e)}function Py(n){n.Ra=new c4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Il(n).start(),n.Aa.aa()}function My(n){return oo(n)&&!Il(n).M_()&&n.Ta.size>0}function oo(n){return ze(n).Ia.size===0}function hx(n){n.Ra=void 0}async function vk(n){n.Aa.set("Online")}async function yk(n){n.Ta.forEach((e,t)=>{Dy(n,e)})}async function _k(n,e){hx(n),My(n)?(n.Aa.la(e),Py(n)):n.Aa.set("Unknown")}async function bk(n,e,t){if(n.Aa.set("Online"),e instanceof XA&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const m of l.targetIds)s.Ta.has(m)&&(await s.remoteSyncer.rejectListen(m,c),s.Ta.delete(m),s.Ra.removeTarget(m))}(n,e)}catch(i){_e(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await rd(n,i)}else if(e instanceof Oh?n.Ra.Ye(e):e instanceof QA?n.Ra.it(e):n.Ra.et(e),!t.isEqual(je.min()))try{const i=await ox(n.localStore);t.compareTo(i)>=0&&await function(l,c){const m=l.Ra.Pt(c);return m.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const v=l.Ta.get(p);v&&l.Ta.set(p,v.withResumeToken(h.resumeToken,c))}}),m.targetMismatches.forEach((h,p)=>{const v=l.Ta.get(h);if(!v)return;l.Ta.set(h,v.withResumeToken(wn.EMPTY_BYTE_STRING,v.snapshotVersion)),fx(l,h);const b=new Fa(v.target,h,p,v.sequenceNumber);Dy(l,b)}),l.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(i){_e(Ws,"Failed to raise snapshot:",i),await rd(n,i)}}async function rd(n,e,t){if(!Cl(e))throw e;n.Ia.add(1),await Pc(n),n.Aa.set("Offline"),t||(t=()=>ox(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{_e(Ws,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await zd(n)})}function dx(n,e){return e().catch(t=>rd(n,t,e))}async function Bd(n){const e=ze(n),t=Ja(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:vy;for(;Ek(e);)try{const s=await nk(e.localStore,i);if(s===null){e.Pa.length===0&&t.B_();break}i=s.batchId,Tk(e,s)}catch(s){await rd(e,s)}mx(e)&&px(e)}function Ek(n){return oo(n)&&n.Pa.length<10}function Tk(n,e){n.Pa.push(e);const t=Ja(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function mx(n){return oo(n)&&!Ja(n).M_()&&n.Pa.length>0}function px(n){Ja(n).start()}async function Sk(n){Ja(n).na()}async function wk(n){const e=Ja(n);for(const t of n.Pa)e.X_(t.mutations)}async function Ak(n,e,t){const i=n.Pa.shift(),s=wy.from(i,e,t);await dx(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Bd(n)}async function xk(n,e){e&&Ja(n).Z_&&await async function(i,s){if(function(c){return l4(c)&&c!==ce.ABORTED}(s.code)){const l=i.Pa.shift();Ja(i).N_(),await dx(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Bd(i)}}(n,e),mx(n)&&px(n)}async function gT(n,e){const t=ze(n);t.asyncQueue.verifyOperationInProgress(),_e(Ws,"RemoteStore received new credentials");const i=oo(t);t.Ia.add(3),await Pc(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await zd(t)}async function Rk(n,e){const t=ze(n);e?(t.Ia.delete(2),await zd(t)):e||(t.Ia.add(2),await Pc(t),t.Aa.set("Unknown"))}function Il(n){return n.Va||(n.Va=function(t,i,s){const l=ze(t);return l.ia(),new fk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Zo:vk.bind(null,n),e_:yk.bind(null,n),n_:_k.bind(null,n),J_:bk.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),My(n)?Py(n):n.Aa.set("Unknown")):(await n.Va.stop(),hx(n))})),n.Va}function Ja(n){return n.ma||(n.ma=function(t,i,s){const l=ze(t);return l.ia(),new hk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:Sk.bind(null,n),n_:xk.bind(null,n),ea:wk.bind(null,n),ta:Ak.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Bd(n)):(await n.ma.stop(),n.Pa.length>0&&(_e(Ws,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,m=new ky(e,t,c,s,l);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vy(n,e){if(Xi("AsyncQueue",`${e}: ${n}`),Cl(n))return new ye(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ce.comparator(t.key,i.key):(t,i)=>Ce.comparator(t.key,i.key),this.keyedMap=Gu(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new fl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.fa=new Dt(Ce.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Me(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}}class _l{constructor(e,t,i,s,l,c,m,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach(m=>{c.push({type:0,doc:m})}),new _l(e,t,fl.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Ik{constructor(){this.queries=yT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const s=ze(t),l=s.queries;s.queries=yT(),l.forEach((c,m)=>{for(const h of m.wa)h.onError(i)})})(this,new ye(ce.ABORTED,"Firestore shutting down"))}}function yT(){return new so(n=>VA(n),kd)}async function Ly(n,e){const t=ze(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.Sa()&&e.ba()&&(i=2):(l=new Ck,i=e.ba()?0:1);try{switch(i){case 0:l.ya=await t.onListen(s,!0);break;case 1:l.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const m=Vy(c,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(m)}t.queries.set(s,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&Uy(t)}async function jy(n,e){const t=ze(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.wa.indexOf(e);c>=0&&(l.wa.splice(c,1),l.wa.length===0?s=e.ba()?0:1:!l.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Ok(n,e){const t=ze(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const m of c.wa)m.Ca(s)&&(i=!0);c.ya=s}}i&&Uy(t)}function Nk(n,e,t){const i=ze(n),s=i.queries.get(e);if(s)for(const l of s.wa)l.onError(t);i.queries.delete(e)}function Uy(n){n.Da.forEach(e=>{e.next()})}var gv,_T;(_T=gv||(gv={})).Fa="default",_T.Cache="cache";class Fy{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new _l(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==gv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.key=e}}class vx{constructor(e){this.key=e}}class Dk{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Je(),this.mutatedKeys=Je(),this.Xa=LA(e),this.eu=new fl(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new vT,s=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,m=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,b)=>{const S=s.get(v),N=Vd(this.query,b)?b:null,k=!!S&&this.mutatedKeys.has(S.key),j=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let C=!1;S&&N?S.data.isEqual(N.data)?k!==j&&(i.track({type:3,doc:N}),C=!0):this.iu(S,N)||(i.track({type:2,doc:N}),C=!0,(h&&this.Xa(N,h)>0||p&&this.Xa(N,p)<0)&&(m=!0)):!S&&N?(i.track({type:0,doc:N}),C=!0):S&&!N&&(i.track({type:1,doc:S}),C=!0,(h||p)&&(m=!0)),C&&(N?(c=c.add(N),l=j?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{eu:c,ru:i,Ds:m,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((v,b)=>function(N,k){const j=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{At:C})}};return j(N)-j(k)}(v.type,b.type)||this.Xa(v.doc,b.doc)),this.su(i),s=s!=null&&s;const m=t&&!s?this.ou():[],h=this.Za.size===0&&this.current&&!s?1:0,p=h!==this.Ya;return this.Ya=h,c.length!==0||p?{snapshot:new _l(this.query,e.eu,l,c,e.mutatedKeys,h===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new vT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Je(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new vx(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new gx(i))}),t}uu(e){this.Ha=e.qs,this.Za=Je();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return _l.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const zy="SyncEngine";class Pk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Mk{constructor(e){this.key=e,this.lu=!1}}class kk{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new so(m=>VA(m),kd),this.Tu=new Map,this.Iu=new Set,this.du=new Dt(Ce.comparator),this.Eu=new Map,this.Au=new Ry,this.Ru={},this.Vu=new Map,this.mu=yl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Vk(n,e,t=!0){const i=Sx(n);let s;const l=i.Pu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.cu()):s=await yx(i,e,t,!0),s}async function Lk(n,e){const t=Sx(n);await yx(t,e,!0,!1)}async function yx(n,e,t,i){const s=await rk(n.localStore,fi(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let m;return i&&(m=await jk(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&cx(n.remoteStore,s),m}async function jk(n,e,t,i,s){n.gu=(b,S,N)=>async function(j,C,G,X){let H=C.view.nu(G);H.Ds&&(H=await fT(j.localStore,C.query,!1).then(({documents:D})=>C.view.nu(D,H)));const te=X&&X.targetChanges.get(C.targetId),K=X&&X.targetMismatches.get(C.targetId)!=null,oe=C.view.applyChanges(H,j.isPrimaryClient,te,K);return ET(j,C.targetId,oe._u),oe.snapshot}(n,b,S,N);const l=await fT(n.localStore,e,!0),c=new Dk(e,l.qs),m=c.nu(l.documents),h=Dc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),p=c.applyChanges(m,n.isPrimaryClient,h);ET(n,t,p._u);const v=new Pk(e,t,c);return n.Pu.set(e,v),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),p.snapshot}async function Uk(n,e,t){const i=ze(n),s=i.Pu.get(e),l=i.Tu.get(s.targetId);if(l.length>1)return i.Tu.set(s.targetId,l.filter(c=>!kd(c,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await mv(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Ny(i.remoteStore,s.targetId),vv(i,s.targetId)}).catch(Rl)):(vv(i,s.targetId),await mv(i.localStore,s.targetId,!0))}async function Fk(n,e){const t=ze(n),i=t.Pu.get(e),s=t.Tu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ny(t.remoteStore,i.targetId))}async function zk(n,e,t){const i=Kk(n);try{const s=await function(c,m){const h=ze(c),p=wt.now(),v=m.reduce((N,k)=>N.add(k.key),Je());let b,S;return h.persistence.runTransaction("Locally write mutations","readwrite",N=>{let k=Wi(),j=Je();return h.Os.getEntries(N,v).next(C=>{k=C,k.forEach((G,X)=>{X.isValidDocument()||(j=j.add(G))})}).next(()=>h.localDocuments.getOverlayedDocuments(N,k)).next(C=>{b=C;const G=[];for(const X of m){const H=r4(X,b.get(X.key).overlayedDocument);H!=null&&G.push(new us(X.key,H,CA(H.value.mapValue),Ar.exists(!0)))}return h.mutationQueue.addMutationBatch(N,p,G,m)}).next(C=>{S=C;const G=C.applyToLocalDocumentSet(b,j);return h.documentOverlayCache.saveOverlays(N,C.batchId,G)})}).then(()=>({batchId:S.batchId,changes:UA(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,m,h){let p=c.Ru[c.currentUser.toKey()];p||(p=new Dt(Ge)),p=p.insert(m,h),c.Ru[c.currentUser.toKey()]=p}(i,s.batchId,t),await Mc(i,s.changes),await Bd(i.remoteStore)}catch(s){const l=Vy(s,"Failed to persist write");t.reject(l)}}async function _x(n,e){const t=ze(n);try{const i=await ek(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.Eu.get(l);c&&(ht(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.lu=!0:s.modifiedDocuments.size>0?ht(c.lu,14607):s.removedDocuments.size>0&&(ht(c.lu,42227),c.lu=!1))}),await Mc(t,i,e)}catch(i){await Rl(i)}}function bT(n,e,t){const i=ze(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Pu.forEach((l,c)=>{const m=c.view.va(e);m.snapshot&&s.push(m.snapshot)}),function(c,m){const h=ze(c);h.onlineState=m;let p=!1;h.queries.forEach((v,b)=>{for(const S of b.wa)S.va(m)&&(p=!0)}),p&&Uy(h)}(i.eventManager,e),s.length&&i.hu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Bk(n,e,t){const i=ze(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Eu.get(e),l=s&&s.key;if(l){let c=new Dt(Ce.comparator);c=c.insert(l,On.newNoDocument(l,je.min()));const m=Je().add(l),h=new Ud(je.min(),new Map,new Dt(Ge),c,m);await _x(i,h),i.du=i.du.remove(l),i.Eu.delete(e),By(i)}else await mv(i.localStore,e,!1).then(()=>vv(i,e,t)).catch(Rl)}async function Hk(n,e){const t=ze(n),i=e.batch.batchId;try{const s=await J4(t.localStore,e);Ex(t,i,null),bx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Mc(t,s)}catch(s){await Rl(s)}}async function qk(n,e,t){const i=ze(n);try{const s=await function(c,m){const h=ze(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return h.mutationQueue.lookupMutationBatch(p,m).next(b=>(ht(b!==null,37113),v=b.keys(),h.mutationQueue.removeMutationBatch(p,b))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,v,m)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>h.localDocuments.getDocuments(p,v))})}(i.localStore,e);Ex(i,e,t),bx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Mc(i,s)}catch(s){await Rl(s)}}function bx(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function Ex(n,e,t){const i=ze(n);let s=i.Ru[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Ru[i.currentUser.toKey()]=s}}function vv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||Tx(n,i)})}function Tx(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ny(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),By(n))}function ET(n,e,t){for(const i of t)i instanceof gx?(n.Au.addReference(i.key,e),$k(n,i)):i instanceof vx?(_e(zy,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||Tx(n,i.key)):Me(19791,{yu:i})}function $k(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(_e(zy,"New document in limbo: "+t),n.Iu.add(i),By(n))}function By(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Ce(St.fromString(e)),i=n.mu.next();n.Eu.set(i,new Mk(t)),n.du=n.du.insert(t,i),cx(n.remoteStore,new Fa(fi(Md(t.path)),i,"TargetPurposeLimboResolution",Nd.ue))}}async function Mc(n,e,t){const i=ze(n),s=[],l=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((m,h)=>{c.push(i.gu(h,e,t).then(p=>{var v;if((p||t)&&i.isPrimaryClient){const b=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(h.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(h.targetId,b?"current":"not-current")}if(p){s.push(p);const b=Iy.Es(h.targetId,p);l.push(b)}}))}),await Promise.all(c),i.hu.J_(s),await async function(h,p){const v=ze(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>he.forEach(p,S=>he.forEach(S.Is,N=>v.persistence.referenceDelegate.addReference(b,S.targetId,N)).next(()=>he.forEach(S.ds,N=>v.persistence.referenceDelegate.removeReference(b,S.targetId,N)))))}catch(b){if(!Cl(b))throw b;_e(Oy,"Failed to update sequence numbers: "+b)}for(const b of p){const S=b.targetId;if(!b.fromCache){const N=v.Fs.get(S),k=N.snapshotVersion,j=N.withLastLimboFreeSnapshotVersion(k);v.Fs=v.Fs.insert(S,j)}}}(i.localStore,l))}async function Gk(n,e){const t=ze(n);if(!t.currentUser.isEqual(e)){_e(zy,"User change. New user:",e.toKey());const i=await sx(t.localStore,e);t.currentUser=e,function(l,c){l.Vu.forEach(m=>{m.forEach(h=>{h.reject(new ye(ce.CANCELLED,c))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Mc(t,i.Bs)}}function Yk(n,e){const t=ze(n),i=t.Eu.get(e);if(i&&i.lu)return Je().add(i.key);{let s=Je();const l=t.Tu.get(e);if(!l)return s;for(const c of l){const m=t.Pu.get(c);s=s.unionWith(m.view.tu)}return s}}function Sx(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_x.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bk.bind(null,e),e.hu.J_=Ok.bind(null,e.eventManager),e.hu.pu=Nk.bind(null,e.eventManager),e}function Kk(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qk.bind(null,e),e}class id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Z4(this.persistence,new Q4,e.initialUser,this.serializer)}Du(e){return new ax(Cy.Vi,this.serializer)}bu(e){return new ak}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}id.provider={build:()=>new id};class Qk extends id{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ht(this.persistence.referenceDelegate instanceof nd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new M4(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new ax(i=>nd.Vi(i,t),this.serializer)}}class yv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gk.bind(null,this.syncEngine),await Rk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ik}()}createDatastore(e){const t=Fd(e.databaseInfo.databaseId),i=function(l){return new ck(l)}(e.databaseInfo);return function(l,c,m,h){return new mk(l,c,m,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,l,c,m){return new gk(i,s,l,c,m)}(this.localStore,this.datastore,e.asyncQueue,t=>bT(this.syncEngine,t,0),function(){return mT.C()?new mT:new sk}())}createSyncEngine(e,t){return function(s,l,c,m,h,p,v){const b=new kk(s,l,c,m,h,p);return v&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=ze(s);_e(Ws,"RemoteStore shutting down."),l.Ia.add(5),await Pc(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yv.provider={build:()=>new yv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class Xk{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=In.UNAUTHENTICATED,this.clientId=gy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{_e(es,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(_e(es,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Vy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Eg(n,e){n.asyncQueue.verifyOperationInProgress(),_e(es,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await sx(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>{Ka("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{_e("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Ka("Terminating Firestore due to IndexedDb database deletion failed",s)})}),n._offlineComponents=e}async function TT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Wk(n);_e(es,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>gT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>gT(e.remoteStore,s)),n._onlineComponents=e}async function Wk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e(es,"Using user provided OfflineComponentProvider");try{await Eg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ce.FAILED_PRECONDITION||s.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Ka("Error using user provided cache. Falling back to memory cache: "+t),await Eg(n,new id)}}else _e(es,"Using default OfflineComponentProvider"),await Eg(n,new Qk(void 0));return n._offlineComponents}async function wx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e(es,"Using user provided OnlineComponentProvider"),await TT(n,n._uninitializedComponentsProvider._online)):(_e(es,"Using default OnlineComponentProvider"),await TT(n,new yv))),n._onlineComponents}function Zk(n){return wx(n).then(e=>e.syncEngine)}async function ad(n){const e=await wx(n),t=e.eventManager;return t.onListen=Vk.bind(null,e.syncEngine),t.onUnlisten=Uk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Lk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Fk.bind(null,e.syncEngine),t}function Jk(n,e,t={}){const i=new $i;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,m,h,p){const v=new Hy({next:S=>{v.Ou(),c.enqueueAndForget(()=>jy(l,b));const N=S.docs.has(m);!N&&S.fromCache?p.reject(new ye(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&h&&h.source==="server"?p.reject(new ye(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),b=new Fy(Md(m.path),v,{includeMetadataChanges:!0,ka:!0});return Ly(l,b)}(await ad(n),n.asyncQueue,e,t,i)),i.promise}function eV(n,e,t={}){const i=new $i;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,m,h,p){const v=new Hy({next:S=>{v.Ou(),c.enqueueAndForget(()=>jy(l,b)),S.fromCache&&h.source==="server"?p.reject(new ye(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),b=new Fy(m,v,{includeMetadataChanges:!0,ka:!0});return Ly(l,b)}(await ad(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="firestore.googleapis.com",wT=!0;class AT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xx,this.ssl=wT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:wT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ix;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<D4)throw new ye(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ax((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hd{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new lM;switch(i.type){case"firstParty":return new hM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=ST.get(t);i&&(_e("ComponentProvider","Removing Datastore"),ST.delete(t),i.terminate())}(this),Promise.resolve()}}function tV(n,e,t,i={}){var s;n=Kn(n,Hd);const l=ss(e),c=n._getSettings(),m=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;l&&(Jv(`https://${h}`),ey("Firestore",!0)),c.host!==xx&&c.host!==h&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:h,ssl:l,emulatorOptions:i});if(!Ks(p,m)&&(n._setSettings(p),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=In.MOCK_USER;else{v=Sw(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new ye(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new In(S)}n._authCredentials=new uM(new pA(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class Vt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Ic(t,Vt._jsonSchema))return new Vt(e,i||null,new Ce(St.fromString(t.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Zt("string",Vt._jsonSchemaVersion),referencePath:Zt("string")};class Ga extends lo{constructor(e,t,i){super(e,t,Md(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Ce(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function on(n,e,...t){if(n=Nt(n),vA("collection","path",e),n instanceof Hd){const i=St.fromString(e,...t);return j1(i),new Ga(n,null,i)}{if(!(n instanceof Vt||n instanceof Ga))throw new ye(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(St.fromString(e,...t));return j1(i),new Ga(n.firestore,null,i)}}function ts(n,e,...t){if(n=Nt(n),arguments.length===1&&(e=gy.newId()),vA("doc","path",e),n instanceof Hd){const i=St.fromString(e,...t);return L1(i),new Vt(n,null,new Ce(i))}{if(!(n instanceof Vt||n instanceof Ga))throw new ye(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(St.fromString(e,...t));return L1(i),new Vt(n.firestore,n instanceof Ga?n.converter:null,new Ce(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="AsyncQueue";class RT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new lx(this,"async_queue_retry"),this.oc=()=>{const i=bg();i&&_e(xT,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=bg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=bg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new $i;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Cl(e))throw e;_e(xT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Xi("INTERNAL UNHANDLED ERROR: ",CT(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=ky.createAndSchedule(this,e,t,i,l=>this.lc(l));return this.ec.push(s),s}ac(){this.tc&&Me(47125,{hc:CT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function CT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of i)if(l in s&&typeof s[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Zi extends Hd{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new RT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RT(e),this._firestoreClient=void 0,await e}}}function Rr(n,e){const t=typeof n=="object"?n:ry(),i=typeof n=="string"?n:Qh,s=wd(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=bw("firestore");l&&tV(s,...l)}return s}function qd(n){if(n._terminated)throw new ye(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nV(n),n._firestoreClient}function nV(n){var e,t,i;const s=n._freezeSettings(),l=function(m,h,p,v){return new CM(m,h,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Ax(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new Xk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(m){const h=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sr(wn.fromBase64String(e))}catch(t){throw new ye(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sr(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ic(e,Sr._jsonSchema))return Sr.fromBase64String(e.bytes)}}Sr._jsonSchemaVersion="firestore/bytes/1.0",Sr._jsonSchema={type:Zt("string",Sr._jsonSchemaVersion),bytes:Zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(Ic(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Zt("string",di._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ic(e,mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new mi(e.vectorValues);throw new ye(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Zt("string",mi._jsonSchemaVersion),vectorValues:Zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=/^__.*__$/;class iV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nc(e,this.data,t,this.fieldTransforms)}}class Rx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Cx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ec:n})}}class $y{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new $y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:i,mc:!1});return s.fc(e),s}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return sd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Cx(this.Ec)&&rV.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class aV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Fd(e)}Dc(e,t,i,s=!1){return new $y({Ec:e,methodName:t,bc:i,path:Sn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gd(n){const e=n._freezeSettings(),t=Fd(n._databaseId);return new aV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ix(n,e,t,i,s,l={}){const c=n.Dc(l.merge||l.mergeFields?2:0,e,t,s);Gy("Data must be an object, but it was:",c,i);const m=Ox(i,c);let h,p;if(l.merge)h=new sr(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const S=_v(e,b,t);if(!c.contains(S))throw new ye(ce.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Dx(v,S)||v.push(S)}h=new sr(v),p=c.fieldTransforms.filter(b=>h.covers(b.field))}else h=null,p=c.fieldTransforms;return new iV(new Yn(m),h,p)}class Yd extends qy{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}function sV(n,e,t,i){const s=n.Dc(1,e,t);Gy("Data must be an object, but it was:",s,i);const l=[],c=Yn.empty();ls(i,(h,p)=>{const v=Yy(e,h,t);p=Nt(p);const b=s.gc(v);if(p instanceof Yd)l.push(v);else{const S=kc(p,b);S!=null&&(l.push(v),c.set(v,S))}});const m=new sr(l);return new Rx(c,m,s.fieldTransforms)}function oV(n,e,t,i,s,l){const c=n.Dc(1,e,t),m=[_v(e,i,t)],h=[s];if(l.length%2!=0)throw new ye(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)m.push(_v(e,l[S])),h.push(l[S+1]);const p=[],v=Yn.empty();for(let S=m.length-1;S>=0;--S)if(!Dx(p,m[S])){const N=m[S];let k=h[S];k=Nt(k);const j=c.gc(N);if(k instanceof Yd)p.push(N);else{const C=kc(k,j);C!=null&&(p.push(N),v.set(N,C))}}const b=new sr(p);return new Rx(v,b,c.fieldTransforms)}function lV(n,e,t,i=!1){return kc(t,n.Dc(i?4:3,e))}function kc(n,e){if(Nx(n=Nt(n)))return Gy("Unsupported field value:",e,n),Ox(n,e);if(n instanceof qy)return function(i,s){if(!Cx(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const m of i){let h=kc(m,s.yc(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,s){if((i=Nt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return WM(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=wt.fromDate(i);return{timestampValue:td(s.serializer,l)}}if(i instanceof wt){const l=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:td(s.serializer,l)}}if(i instanceof di)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sr)return{bytesValue:WA(s.serializer,i._byteString)};if(i instanceof Vt){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:xy(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof mi)return function(c,m){return{mapValue:{fields:{[xA]:{stringValue:RA},[Xh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw m.wc("VectorValues must only contain numeric values.");return Ty(m.serializer,p)})}}}}}}(i,s);throw s.wc(`Unsupported field value: ${Od(i)}`)}(n,e)}function Ox(n,e){const t={};return bA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(n,(i,s)=>{const l=kc(s,e.Vc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function Nx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof di||n instanceof Sr||n instanceof Vt||n instanceof qy||n instanceof mi)}function Gy(n,e,t){if(!Nx(t)||!yA(t)){const i=Od(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function _v(n,e,t){if((e=Nt(e))instanceof $d)return e._internalPath;if(typeof e=="string")return Yy(n,e);throw sd("Field path arguments must be of type string or ",n,!1,void 0,t)}const uV=new RegExp("[~\\*/\\[\\]]");function Yy(n,e,t){if(e.search(uV)>=0)throw sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $d(...e.split("."))._internalPath}catch{throw sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sd(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${i}`),c&&(h+=` in document ${s}`),h+=")"),new ye(ce.INVALID_ARGUMENT,m+n+h)}function Dx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ky("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class cV extends Px{data(){return super.data()}}function Ky(n,e){return typeof e=="string"?Yy(n,e):e instanceof $d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qy{}class fV extends Qy{}function hV(n,e,...t){let i=[];e instanceof Qy&&i.push(e),i=i.concat(t),function(l){const c=l.filter(h=>h instanceof Xy).length,m=l.filter(h=>h instanceof Kd).length;if(c>1||c>0&&m>0)throw new ye(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class Kd extends fV{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Kd(e,t,i)}_apply(e){const t=this._parse(e);return kx(e._query,t),new lo(e.firestore,e.converter,lv(e._query,t))}_parse(e){const t=Gd(e.firestore);return function(l,c,m,h,p,v,b){let S;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ye(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){DT(b,v);const k=[];for(const j of b)k.push(NT(h,l,j));S={arrayValue:{values:k}}}else S=NT(h,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||DT(b,v),S=lV(m,c,b,v==="in"||v==="not-in");return Wt.create(p,v,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function OT(n,e,t){const i=e,s=Ky("where",n);return Kd._create(s,i,t)}class Xy extends Qy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Vr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let c=s;const m=l.getFlattenedFilters();for(const h of m)kx(c,h),c=lv(c,h)}(e._query,t),new lo(e.firestore,e.converter,lv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function NT(n,e,t){if(typeof(t=Nt(t))=="string"){if(t==="")throw new ye(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kA(e)&&t.indexOf("/")!==-1)throw new ye(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(St.fromString(t));if(!Ce.isDocumentKey(i))throw new ye(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return G1(n,new Ce(i))}if(t instanceof Vt)return G1(n,t._key);throw new ye(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Od(t)}.`)}function DT(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kx(n,e){const t=function(s,l){for(const c of s)for(const m of c.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class dV{convertValue(e,t="none"){switch(Za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ls(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Xh].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>Ht(c.doubleValue));return new mi(l)}convertGeoPoint(e){return new di(Ht(e.latitude),Ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Pd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const t=Xa(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=St.fromString(e);ht(rx(i),9688,{name:e});const s=new mc(i.get(1),i.get(3)),l=new Ce(i.popFirst(5));return s.isEqual(t)||Xi(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends Px{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ky("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=$s._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:Zt("string",$s._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Nh extends $s{data(e={}){return super.data(e)}}class Gs{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ku(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Nh(this._firestore,this._userDataWriter,i.key,i,new Ku(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(m=>{const h=new Nh(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Ku(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);return m.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const h=new Nh(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Ku(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return m.type!==0&&(p=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:mV(m.type),doc:h,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n){n=Kn(n,Vt);const e=Kn(n.firestore,Zi);return Jk(qd(e),n._key).then(t=>jx(e,n,t))}Gs._jsonSchemaVersion="firestore/querySnapshot/1.0",Gs._jsonSchema={type:Zt("string",Gs._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Wy extends dV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,t)}}function wr(n){n=Kn(n,lo);const e=Kn(n.firestore,Zi),t=qd(e),i=new Wy(e);return Mx(n._query),eV(t,n._query).then(s=>new Gs(e,i,n,s))}function PT(n,e,t){n=Kn(n,Vt);const i=Kn(n.firestore,Zi),s=Vx(n.converter,e);return Qd(i,[Ix(Gd(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Ar.none())])}function Lx(n,e,t,...i){n=Kn(n,Vt);const s=Kn(n.firestore,Zi),l=Gd(s);let c;return c=typeof(e=Nt(e))=="string"||e instanceof $d?oV(l,"updateDoc",n._key,e,t,i):sV(l,"updateDoc",n._key,e),Qd(s,[c.toMutation(n._key,Ar.exists(!0))])}function pV(n){return Qd(Kn(n.firestore,Zi),[new Sy(n._key,Ar.none())])}function bl(n,e){const t=Kn(n.firestore,Zi),i=ts(n),s=Vx(n.converter,e);return Qd(t,[Ix(Gd(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Ar.exists(!1))]).then(()=>i)}function gV(n,...e){var t,i,s;n=Nt(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||IT(e[c])||(l=e[c++]);const m={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(IT(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),e[c+2]=(s=b.complete)===null||s===void 0?void 0:s.bind(b)}let h,p,v;if(n instanceof Vt)p=Kn(n.firestore,Zi),v=Md(n._key.path),h={next:b=>{e[c]&&e[c](jx(p,n,b))},error:e[c+1],complete:e[c+2]};else{const b=Kn(n,lo);p=Kn(b.firestore,Zi),v=b._query;const S=new Wy(p);h={next:N=>{e[c]&&e[c](new Gs(p,S,b,N))},error:e[c+1],complete:e[c+2]},Mx(n._query)}return function(S,N,k,j){const C=new Hy(j),G=new Fy(N,C,k);return S.asyncQueue.enqueueAndForget(async()=>Ly(await ad(S),G)),()=>{C.Ou(),S.asyncQueue.enqueueAndForget(async()=>jy(await ad(S),G))}}(qd(p),v,m,h)}function Qd(n,e){return function(i,s){const l=new $i;return i.asyncQueue.enqueueAndForget(async()=>zk(await Zk(i),s,l)),l.promise}(qd(n),e)}function jx(n,e,t){const i=t.docs.get(e._key),s=new Wy(n);return new $s(n,s,e._key,i,new Ku(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){xl=s})(ro),Qs(new Ya("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),m=new Zi(new cM(i.getProvider("auth-internal")),new dM(c,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(p.options.projectId,v)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),ui(D1,P1,e),ui(D1,P1,"esm2017")})();const vV="/assets/img1-DVwx2mag.svg",yV="/assets/img2-g_SNuGLK.svg",MT=Rr(Fn),kT=Id(Fn),_V=()=>{const n=wc(),[e,t]=z.useState(""),[i,s]=z.useState(""),[l,c]=z.useState(null),m=async()=>{const p=new Ju("microsoft.com");p.setCustomParameters({prompt:"select_account"});try{const b=(await dP(kT,p)).user,S=ts(MT,"users",b.uid);(await od(S)).exists()||await PT(S,{id:b.uid,email:b.email,role:null}),n("/home")}catch(v){console.error("Error en login con Microsoft:",v.message),c("Error al iniciar sesión con Microsoft.")}},h=async p=>{p.preventDefault();try{const b=(await qD(kT,e,i)).user;console.log("Usuario autenticado:",b);const S=ts(MT,"users",b.uid);(await od(S)).exists()||await PT(S,{id:b.uid,email:b.email,role:null}),n("/home")}catch(v){console.error("Error en login:",v),v instanceof Error?c(v.message):c("Error desconocido.")}};return _.jsxs("div",{className:"w-full min-h-screen bg-gray-50 flex flex-col sm:justify-center items-center pt-6 sm:pt-0 relative",children:[_.jsxs("div",{className:"w-full sm:max-w-md p-5 mx-auto",children:[_.jsx("h2",{className:"mb-12 text-center text-5xl font-extrabold",children:"F1315"}),_.jsxs("form",{onSubmit:h,children:[_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block mb-1",htmlFor:"email",children:"Usuario"}),_.jsx("input",{id:"email",type:"email",name:"email",value:e,onChange:p=>t(p.target.value),className:"py-2 px-3 border border-gray-300 rounded-md shadow-sm w-full",required:!0})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block mb-1",htmlFor:"password",children:"Contraseña"}),_.jsx("input",{id:"password",type:"password",name:"password",value:i,onChange:p=>s(p.target.value),className:"py-2 px-3 border border-gray-300 rounded-md shadow-sm w-full",required:!0})]}),l&&_.jsx("div",{className:"text-red-600 text-sm mb-3",children:l}),_.jsx("div",{className:"mt-6",children:_.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-950 text-white rounded-md hover:bg-blue-800",children:"Sign In"})})]}),_.jsx("div",{className:"flex justify-center flex-col items-center mt-4",children:_.jsxs("button",{onClick:m,className:"m-3 flex flex-col items-center justify-center cursor-pointer  p-2 rounded-2xl hover:bg-red-100",children:[_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"3vh",height:"auto",viewBox:"0 0 48 48",children:[_.jsx("path",{fill:"#ff5722",d:"M6 6H22V22H6z"}),_.jsx("path",{fill:"#4caf50",d:"M26 6H42V22H26z"}),_.jsx("path",{fill:"#ffc107",d:"M26 26H42V42H26z"}),_.jsx("path",{fill:"#03a9f4",d:"M6 26H22V42H6z"})]}),"Iniciar con Microsoft"]})})]}),_.jsxs("div",{className:"imgBanner",children:[_.jsx("div",{children:_.jsx("img",{className:"img1",src:vV,alt:"img1"})}),_.jsx("div",{children:_.jsx("img",{className:"img2",src:yV,alt:"img2"})})]}),_.jsx("div",{className:"absolute bottom-5 text-gray-400 text-sm",children:"Versión 1.0.3"})]})};function bV(){return _.jsx(_.Fragment,{children:_.jsx("div",{className:"bg-amber-100",children:_.jsx(_V,{})})})}function VT(){return _.jsx(_.Fragment,{children:_.jsx("div",{className:"transition-transform duration-300 ease-in-out",children:_.jsxs("div",{className:"p-8 bg-gray-100 min-h-screen flex flex-col items-center justify-start",children:[_.jsx("h1",{className:"text-4xl font-bold mb-4",children:"¡Bienvenido!"}),_.jsx("p",{className:"text-lg mb-8 text-center max-w-2xl",children:"Aquí puedes gestionar y visualizar los registros de horómetros y eficiencias de tus máquinas. Usa los enlaces abajo para navegar rápidamente por las funciones principales."}),_.jsx("div",{className:"mt-6 text-center italic text-gray-700 max-w-2xl",children:'"El éxito es la suma de pequeños esfuerzos repetidos día tras día."'}),_.jsx("div",{})]})})})}const Zy=z.createContext(void 0),EV=({children:n})=>{const e=Id(),[t,i]=z.useState(null);z.useEffect(()=>{const m=Xw(e,h=>{i(h)});return()=>m()},[]);const[s,l]=z.useState(!1),c=()=>{l(m=>!m)};return _.jsx(Zy.Provider,{value:{user:t,openMenu:s,toogleMenu:c},children:n})};function Zs(n){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(n)}function TV(n,e){if(Zs(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Zs(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ux(n){var e=TV(n,"string");return Zs(e)=="symbol"?e:e+""}function Qu(n,e,t){return(e=Ux(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Ie(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LT(Object(t),!0).forEach(function(i){Qu(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function SV(n){if(Array.isArray(n))return n}function wV(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,l,c,m=[],h=!0,p=!1;try{if(l=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;h=!1}else for(;!(h=(i=l.call(t)).done)&&(m.push(i.value),m.length!==e);h=!0);}catch(v){p=!0,s=v}finally{try{if(!h&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(p)throw s}}return m}}function bv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function Fx(n,e){if(n){if(typeof n=="string")return bv(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?bv(n,e):void 0}}function AV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gi(n,e){return SV(n)||wV(n,e)||Fx(n,e)||AV()}function xV(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function na(n,e){if(n==null)return{};var t,i,s=xV(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var RV=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function CV(n){var e=n.defaultInputValue,t=e===void 0?"":e,i=n.defaultMenuIsOpen,s=i===void 0?!1:i,l=n.defaultValue,c=l===void 0?null:l,m=n.inputValue,h=n.menuIsOpen,p=n.onChange,v=n.onInputChange,b=n.onMenuClose,S=n.onMenuOpen,N=n.value,k=na(n,RV),j=z.useState(m!==void 0?m:t),C=Gi(j,2),G=C[0],X=C[1],H=z.useState(h!==void 0?h:s),te=Gi(H,2),K=te[0],oe=te[1],D=z.useState(N!==void 0?N:c),T=Gi(D,2),A=T[0],I=T[1],V=z.useCallback(function(U,Q){typeof p=="function"&&p(U,Q),I(U)},[p]),L=z.useCallback(function(U,Q){var x;typeof v=="function"&&(x=v(U,Q)),X(x!==void 0?x:U)},[v]),M=z.useCallback(function(){typeof S=="function"&&S(),oe(!0)},[S]),Se=z.useCallback(function(){typeof b=="function"&&b(),oe(!1)},[b]),be=m!==void 0?m:G,q=h!==void 0?h:K,P=N!==void 0?N:A;return Ie(Ie({},k),{},{inputValue:be,menuIsOpen:q,onChange:V,onInputChange:L,onMenuClose:Se,onMenuOpen:M,value:P})}function Pe(){return Pe=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pe.apply(null,arguments)}function IV(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jT(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Ux(i.key),i)}}function OV(n,e,t){return e&&jT(n.prototype,e),t&&jT(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ev(n,e){return Ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Ev(n,e)}function NV(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Ev(n,e)}function ld(n){return ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ld(n)}function zx(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zx=function(){return!!n})()}function DV(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function PV(n,e){if(e&&(Zs(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DV(n)}function MV(n){var e=zx();return function(){var t,i=ld(n);if(e){var s=ld(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return PV(this,t)}}function kV(n){if(Array.isArray(n))return bv(n)}function VV(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function LV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jy(n){return kV(n)||VV(n)||Fx(n)||LV()}function jV(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function UV(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var FV=function(){function n(t){var i=this;this._insertTag=function(s){var l;i.tags.length===0?i.insertionPoint?l=i.insertionPoint.nextSibling:i.prepend?l=i.container.firstChild:l=i.before:l=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,l),i.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(UV(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var l=jV(s);try{l.insertRule(i,l.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var s;return(s=i.parentNode)==null?void 0:s.removeChild(i)}),this.tags=[],this.ctr=0},n}(),Cn="-ms-",ud="-moz-",lt="-webkit-",Bx="comm",e0="rule",t0="decl",zV="@import",Hx="@keyframes",BV="@layer",HV=Math.abs,Xd=String.fromCharCode,qV=Object.assign;function $V(n,e){return Tn(n,0)^45?(((e<<2^Tn(n,0))<<2^Tn(n,1))<<2^Tn(n,2))<<2^Tn(n,3):0}function qx(n){return n.trim()}function GV(n,e){return(n=e.exec(n))?n[0]:n}function ut(n,e,t){return n.replace(e,t)}function Tv(n,e){return n.indexOf(e)}function Tn(n,e){return n.charCodeAt(e)|0}function yc(n,e,t){return n.slice(e,t)}function ri(n){return n.length}function n0(n){return n.length}function dh(n,e){return e.push(n),n}function YV(n,e){return n.map(e).join("")}var Wd=1,El=1,$x=0,Qn=0,Xt=0,Ol="";function Zd(n,e,t,i,s,l,c){return{value:n,root:e,parent:t,type:i,props:s,children:l,line:Wd,column:El,length:c,return:""}}function Uu(n,e){return qV(Zd("",null,null,"",null,null,0),n,{length:-n.length},e)}function KV(){return Xt}function QV(){return Xt=Qn>0?Tn(Ol,--Qn):0,El--,Xt===10&&(El=1,Wd--),Xt}function lr(){return Xt=Qn<$x?Tn(Ol,Qn++):0,El++,Xt===10&&(El=1,Wd++),Xt}function pi(){return Tn(Ol,Qn)}function Dh(){return Qn}function Vc(n,e){return yc(Ol,n,e)}function _c(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Gx(n){return Wd=El=1,$x=ri(Ol=n),Qn=0,[]}function Yx(n){return Ol="",n}function Ph(n){return qx(Vc(Qn-1,Sv(n===91?n+2:n===40?n+1:n)))}function XV(n){for(;(Xt=pi())&&Xt<33;)lr();return _c(n)>2||_c(Xt)>3?"":" "}function WV(n,e){for(;--e&&lr()&&!(Xt<48||Xt>102||Xt>57&&Xt<65||Xt>70&&Xt<97););return Vc(n,Dh()+(e<6&&pi()==32&&lr()==32))}function Sv(n){for(;lr();)switch(Xt){case n:return Qn;case 34:case 39:n!==34&&n!==39&&Sv(Xt);break;case 40:n===41&&Sv(n);break;case 92:lr();break}return Qn}function ZV(n,e){for(;lr()&&n+Xt!==57;)if(n+Xt===84&&pi()===47)break;return"/*"+Vc(e,Qn-1)+"*"+Xd(n===47?n:lr())}function JV(n){for(;!_c(pi());)lr();return Vc(n,Qn)}function e3(n){return Yx(Mh("",null,null,null,[""],n=Gx(n),0,[0],n))}function Mh(n,e,t,i,s,l,c,m,h){for(var p=0,v=0,b=c,S=0,N=0,k=0,j=1,C=1,G=1,X=0,H="",te=s,K=l,oe=i,D=H;C;)switch(k=X,X=lr()){case 40:if(k!=108&&Tn(D,b-1)==58){Tv(D+=ut(Ph(X),"&","&\f"),"&\f")!=-1&&(G=-1);break}case 34:case 39:case 91:D+=Ph(X);break;case 9:case 10:case 13:case 32:D+=XV(k);break;case 92:D+=WV(Dh()-1,7);continue;case 47:switch(pi()){case 42:case 47:dh(t3(ZV(lr(),Dh()),e,t),h);break;default:D+="/"}break;case 123*j:m[p++]=ri(D)*G;case 125*j:case 59:case 0:switch(X){case 0:case 125:C=0;case 59+v:G==-1&&(D=ut(D,/\f/g,"")),N>0&&ri(D)-b&&dh(N>32?FT(D+";",i,t,b-1):FT(ut(D," ","")+";",i,t,b-2),h);break;case 59:D+=";";default:if(dh(oe=UT(D,e,t,p,v,s,m,H,te=[],K=[],b),l),X===123)if(v===0)Mh(D,e,oe,oe,te,l,b,m,K);else switch(S===99&&Tn(D,3)===110?100:S){case 100:case 108:case 109:case 115:Mh(n,oe,oe,i&&dh(UT(n,oe,oe,0,0,s,m,H,s,te=[],b),K),s,K,b,m,i?te:K);break;default:Mh(D,oe,oe,oe,[""],K,0,m,K)}}p=v=N=0,j=G=1,H=D="",b=c;break;case 58:b=1+ri(D),N=k;default:if(j<1){if(X==123)--j;else if(X==125&&j++==0&&QV()==125)continue}switch(D+=Xd(X),X*j){case 38:G=v>0?1:(D+="\f",-1);break;case 44:m[p++]=(ri(D)-1)*G,G=1;break;case 64:pi()===45&&(D+=Ph(lr())),S=pi(),v=b=ri(H=D+=JV(Dh())),X++;break;case 45:k===45&&ri(D)==2&&(j=0)}}return l}function UT(n,e,t,i,s,l,c,m,h,p,v){for(var b=s-1,S=s===0?l:[""],N=n0(S),k=0,j=0,C=0;k<i;++k)for(var G=0,X=yc(n,b+1,b=HV(j=c[k])),H=n;G<N;++G)(H=qx(j>0?S[G]+" "+X:ut(X,/&\f/g,S[G])))&&(h[C++]=H);return Zd(n,e,t,s===0?e0:m,h,p,v)}function t3(n,e,t){return Zd(n,e,t,Bx,Xd(KV()),yc(n,2,-2),0)}function FT(n,e,t,i){return Zd(n,e,t,t0,yc(n,0,i),yc(n,i+1,-1),i)}function hl(n,e){for(var t="",i=n0(n),s=0;s<i;s++)t+=e(n[s],s,n,e)||"";return t}function n3(n,e,t,i){switch(n.type){case BV:if(n.children.length)break;case zV:case t0:return n.return=n.return||n.value;case Bx:return"";case Hx:return n.return=n.value+"{"+hl(n.children,i)+"}";case e0:n.value=n.props.join(",")}return ri(t=hl(n.children,i))?n.return=n.value+"{"+t+"}":""}function r3(n){var e=n0(n);return function(t,i,s,l){for(var c="",m=0;m<e;m++)c+=n[m](t,i,s,l)||"";return c}}function i3(n){return function(e){e.root||(e=e.return)&&n(e)}}function a3(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var s3=function(e,t,i){for(var s=0,l=0;s=l,l=pi(),s===38&&l===12&&(t[i]=1),!_c(l);)lr();return Vc(e,Qn)},o3=function(e,t){var i=-1,s=44;do switch(_c(s)){case 0:s===38&&pi()===12&&(t[i]=1),e[i]+=s3(Qn-1,t,i);break;case 2:e[i]+=Ph(s);break;case 4:if(s===44){e[++i]=pi()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=Xd(s)}while(s=lr());return e},l3=function(e,t){return Yx(o3(Gx(e),t))},zT=new WeakMap,u3=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,s=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!zT.get(i))&&!s){zT.set(e,!0);for(var l=[],c=l3(t,l),m=i.props,h=0,p=0;h<c.length;h++)for(var v=0;v<m.length;v++,p++)e.props[p]=l[h]?c[h].replace(/&\f/g,m[v]):m[v]+" "+c[h]}}},c3=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Kx(n,e){switch($V(n,e)){case 5103:return lt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return lt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return lt+n+ud+n+Cn+n+n;case 6828:case 4268:return lt+n+Cn+n+n;case 6165:return lt+n+Cn+"flex-"+n+n;case 5187:return lt+n+ut(n,/(\w+).+(:[^]+)/,lt+"box-$1$2"+Cn+"flex-$1$2")+n;case 5443:return lt+n+Cn+"flex-item-"+ut(n,/flex-|-self/,"")+n;case 4675:return lt+n+Cn+"flex-line-pack"+ut(n,/align-content|flex-|-self/,"")+n;case 5548:return lt+n+Cn+ut(n,"shrink","negative")+n;case 5292:return lt+n+Cn+ut(n,"basis","preferred-size")+n;case 6060:return lt+"box-"+ut(n,"-grow","")+lt+n+Cn+ut(n,"grow","positive")+n;case 4554:return lt+ut(n,/([^-])(transform)/g,"$1"+lt+"$2")+n;case 6187:return ut(ut(ut(n,/(zoom-|grab)/,lt+"$1"),/(image-set)/,lt+"$1"),n,"")+n;case 5495:case 3959:return ut(n,/(image-set\([^]*)/,lt+"$1$`$1");case 4968:return ut(ut(n,/(.+:)(flex-)?(.*)/,lt+"box-pack:$3"+Cn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+lt+n+n;case 4095:case 3583:case 4068:case 2532:return ut(n,/(.+)-inline(.+)/,lt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ri(n)-1-e>6)switch(Tn(n,e+1)){case 109:if(Tn(n,e+4)!==45)break;case 102:return ut(n,/(.+:)(.+)-([^]+)/,"$1"+lt+"$2-$3$1"+ud+(Tn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Tv(n,"stretch")?Kx(ut(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Tn(n,e+1)!==115)break;case 6444:switch(Tn(n,ri(n)-3-(~Tv(n,"!important")&&10))){case 107:return ut(n,":",":"+lt)+n;case 101:return ut(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+lt+(Tn(n,14)===45?"inline-":"")+"box$3$1"+lt+"$2$3$1"+Cn+"$2box$3")+n}break;case 5936:switch(Tn(n,e+11)){case 114:return lt+n+Cn+ut(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return lt+n+Cn+ut(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return lt+n+Cn+ut(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return lt+n+Cn+n+n}return n}var f3=function(e,t,i,s){if(e.length>-1&&!e.return)switch(e.type){case t0:e.return=Kx(e.value,e.length);break;case Hx:return hl([Uu(e,{value:ut(e.value,"@","@"+lt)})],s);case e0:if(e.length)return YV(e.props,function(l){switch(GV(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hl([Uu(e,{props:[ut(l,/:(read-\w+)/,":"+ud+"$1")]})],s);case"::placeholder":return hl([Uu(e,{props:[ut(l,/:(plac\w+)/,":"+lt+"input-$1")]}),Uu(e,{props:[ut(l,/:(plac\w+)/,":"+ud+"$1")]}),Uu(e,{props:[ut(l,/:(plac\w+)/,Cn+"input-$1")]})],s)}return""})}},h3=[f3],d3=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(j){var C=j.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(j),j.setAttribute("data-s",""))})}var s=e.stylisPlugins||h3,l={},c,m=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(j){for(var C=j.getAttribute("data-emotion").split(" "),G=1;G<C.length;G++)l[C[G]]=!0;m.push(j)});var h,p=[u3,c3];{var v,b=[n3,i3(function(j){v.insert(j)})],S=r3(p.concat(s,b)),N=function(C){return hl(e3(C),S)};h=function(C,G,X,H){v=X,N(C?C+"{"+G.styles+"}":G.styles),H&&(k.inserted[G.name]=!0)}}var k={key:t,sheet:new FV({key:t,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:h};return k.sheet.hydrate(m),k},Tg={exports:{}},ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function m3(){if(BT)return ft;BT=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,m=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,v=n?Symbol.for("react.forward_ref"):60112,b=n?Symbol.for("react.suspense"):60113,S=n?Symbol.for("react.suspense_list"):60120,N=n?Symbol.for("react.memo"):60115,k=n?Symbol.for("react.lazy"):60116,j=n?Symbol.for("react.block"):60121,C=n?Symbol.for("react.fundamental"):60117,G=n?Symbol.for("react.responder"):60118,X=n?Symbol.for("react.scope"):60119;function H(K){if(typeof K=="object"&&K!==null){var oe=K.$$typeof;switch(oe){case e:switch(K=K.type,K){case h:case p:case i:case l:case s:case b:return K;default:switch(K=K&&K.$$typeof,K){case m:case v:case k:case N:case c:return K;default:return oe}}case t:return oe}}}function te(K){return H(K)===p}return ft.AsyncMode=h,ft.ConcurrentMode=p,ft.ContextConsumer=m,ft.ContextProvider=c,ft.Element=e,ft.ForwardRef=v,ft.Fragment=i,ft.Lazy=k,ft.Memo=N,ft.Portal=t,ft.Profiler=l,ft.StrictMode=s,ft.Suspense=b,ft.isAsyncMode=function(K){return te(K)||H(K)===h},ft.isConcurrentMode=te,ft.isContextConsumer=function(K){return H(K)===m},ft.isContextProvider=function(K){return H(K)===c},ft.isElement=function(K){return typeof K=="object"&&K!==null&&K.$$typeof===e},ft.isForwardRef=function(K){return H(K)===v},ft.isFragment=function(K){return H(K)===i},ft.isLazy=function(K){return H(K)===k},ft.isMemo=function(K){return H(K)===N},ft.isPortal=function(K){return H(K)===t},ft.isProfiler=function(K){return H(K)===l},ft.isStrictMode=function(K){return H(K)===s},ft.isSuspense=function(K){return H(K)===b},ft.isValidElementType=function(K){return typeof K=="string"||typeof K=="function"||K===i||K===p||K===l||K===s||K===b||K===S||typeof K=="object"&&K!==null&&(K.$$typeof===k||K.$$typeof===N||K.$$typeof===c||K.$$typeof===m||K.$$typeof===v||K.$$typeof===C||K.$$typeof===G||K.$$typeof===X||K.$$typeof===j)},ft.typeOf=H,ft}var HT;function p3(){return HT||(HT=1,Tg.exports=m3()),Tg.exports}var Sg,qT;function g3(){if(qT)return Sg;qT=1;var n=p3(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[n.ForwardRef]=i,l[n.Memo]=s;function c(k){return n.isMemo(k)?s:l[k.$$typeof]||e}var m=Object.defineProperty,h=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,v=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,S=Object.prototype;function N(k,j,C){if(typeof j!="string"){if(S){var G=b(j);G&&G!==S&&N(k,G,C)}var X=h(j);p&&(X=X.concat(p(j)));for(var H=c(k),te=c(j),K=0;K<X.length;++K){var oe=X[K];if(!t[oe]&&!(C&&C[oe])&&!(te&&te[oe])&&!(H&&H[oe])){var D=v(j,oe);try{m(k,oe,D)}catch{}}}}return k}return Sg=N,Sg}g3();var v3=!0;function y3(n,e,t){var i="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(i+=s+" ")}),i}var Qx=function(e,t,i){var s=e.key+"-"+t.name;(i===!1||v3===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},_3=function(e,t,i){Qx(e,t,i);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var l=t;do e.insert(t===l?"."+s:"",l,e.sheet,!0),l=l.next;while(l!==void 0)}};function b3(n){for(var e=0,t,i=0,s=n.length;s>=4;++i,s-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var E3={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},T3=/[A-Z]|^ms/g,S3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Xx=function(e){return e.charCodeAt(1)===45},$T=function(e){return e!=null&&typeof e!="boolean"},wg=a3(function(n){return Xx(n)?n:n.replace(T3,"-$&").toLowerCase()}),GT=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(S3,function(i,s,l){return ii={name:s,styles:l,next:ii},s})}return E3[e]!==1&&!Xx(e)&&typeof t=="number"&&t!==0?t+"px":t};function bc(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return ii={name:s.name,styles:s.styles,next:ii},s.name;var l=t;if(l.styles!==void 0){var c=l.next;if(c!==void 0)for(;c!==void 0;)ii={name:c.name,styles:c.styles,next:ii},c=c.next;var m=l.styles+";";return m}return w3(n,e,t)}case"function":{if(n!==void 0){var h=ii,p=t(n);return ii=h,bc(n,e,p)}break}}var v=t;return v}function w3(n,e,t){var i="";if(Array.isArray(t))for(var s=0;s<t.length;s++)i+=bc(n,e,t[s])+";";else for(var l in t){var c=t[l];if(typeof c!="object"){var m=c;$T(m)&&(i+=wg(l)+":"+GT(l,m)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&e==null)for(var h=0;h<c.length;h++)$T(c[h])&&(i+=wg(l)+":"+GT(l,c[h])+";");else{var p=bc(n,e,c);switch(l){case"animation":case"animationName":{i+=wg(l)+":"+p+";";break}default:i+=l+"{"+p+"}"}}}return i}var YT=/label:\s*([^\s;{]+)\s*(;|$)/g,ii;function Wx(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,s="";ii=void 0;var l=n[0];if(l==null||l.raw===void 0)i=!1,s+=bc(t,e,l);else{var c=l;s+=c[0]}for(var m=1;m<n.length;m++)if(s+=bc(t,e,n[m]),i){var h=l;s+=h[m]}YT.lastIndex=0;for(var p="",v;(v=YT.exec(s))!==null;)p+="-"+v[1];var b=b3(s)+p;return{name:b,styles:s,next:ii}}var A3=function(e){return e()},x3=qg.useInsertionEffect?qg.useInsertionEffect:!1,R3=x3||A3,Zx=z.createContext(typeof HTMLElement<"u"?d3({key:"css"}):null);Zx.Provider;var C3=function(e){return z.forwardRef(function(t,i){var s=z.useContext(Zx);return e(t,s,i)})},I3=z.createContext({}),r0={}.hasOwnProperty,wv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",O3=function(e,t){var i={};for(var s in t)r0.call(t,s)&&(i[s]=t[s]);return i[wv]=e,i},N3=function(e){var t=e.cache,i=e.serialized,s=e.isStringTag;return Qx(t,i,s),R3(function(){return _3(t,i,s)}),null},D3=C3(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var s=n[wv],l=[i],c="";typeof n.className=="string"?c=y3(e.registered,l,n.className):n.className!=null&&(c=n.className+" ");var m=Wx(l,void 0,z.useContext(I3));c+=e.key+"-"+m.name;var h={};for(var p in n)r0.call(n,p)&&p!=="css"&&p!==wv&&(h[p]=n[p]);return h.className=c,t&&(h.ref=t),z.createElement(z.Fragment,null,z.createElement(N3,{cache:e,serialized:m,isStringTag:typeof s=="string"}),z.createElement(s,h))}),P3=D3,Re=function(e,t){var i=arguments;if(t==null||!r0.call(t,"css"))return z.createElement.apply(void 0,i);var s=i.length,l=new Array(s);l[0]=P3,l[1]=O3(e,t);for(var c=2;c<s;c++)l[c]=i[c];return z.createElement.apply(null,l)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(Re||(Re={}));function i0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Wx(e)}function M3(){var n=i0.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function k3(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const V3=Math.min,L3=Math.max,cd=Math.round,mh=Math.floor,fd=n=>({x:n,y:n});function j3(n){const{x:e,y:t,width:i,height:s}=n;return{width:i,height:s,top:t,left:e,right:e+i,bottom:t+s,x:e,y:t}}function Jd(){return typeof window<"u"}function Jx(n){return tR(n)?(n.nodeName||"").toLowerCase():"#document"}function Ji(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function eR(n){var e;return(e=(tR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function tR(n){return Jd()?n instanceof Node||n instanceof Ji(n).Node:!1}function U3(n){return Jd()?n instanceof Element||n instanceof Ji(n).Element:!1}function a0(n){return Jd()?n instanceof HTMLElement||n instanceof Ji(n).HTMLElement:!1}function KT(n){return!Jd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ji(n).ShadowRoot}function nR(n){const{overflow:e,overflowX:t,overflowY:i,display:s}=s0(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(s)}function F3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function z3(n){return["html","body","#document"].includes(Jx(n))}function s0(n){return Ji(n).getComputedStyle(n)}function B3(n){if(Jx(n)==="html")return n;const e=n.assignedSlot||n.parentNode||KT(n)&&n.host||eR(n);return KT(e)?e.host:e}function rR(n){const e=B3(n);return z3(e)?n.ownerDocument?n.ownerDocument.body:n.body:a0(e)&&nR(e)?e:rR(e)}function hd(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=rR(n),l=s===((i=n.ownerDocument)==null?void 0:i.body),c=Ji(s);if(l){const m=Av(c);return e.concat(c,c.visualViewport||[],nR(s)?s:[],m&&t?hd(m):[])}return e.concat(s,hd(s,[],t))}function Av(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function H3(n){const e=s0(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=a0(n),l=s?n.offsetWidth:t,c=s?n.offsetHeight:i,m=cd(t)!==l||cd(i)!==c;return m&&(t=l,i=c),{width:t,height:i,$:m}}function o0(n){return U3(n)?n:n.contextElement}function QT(n){const e=o0(n);if(!a0(e))return fd(1);const t=e.getBoundingClientRect(),{width:i,height:s,$:l}=H3(e);let c=(l?cd(t.width):t.width)/i,m=(l?cd(t.height):t.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!m||!Number.isFinite(m))&&(m=1),{x:c,y:m}}const q3=fd(0);function $3(n){const e=Ji(n);return!F3()||!e.visualViewport?q3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function G3(n,e,t){return!1}function XT(n,e,t,i){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),l=o0(n);let c=fd(1);e&&(c=QT(n));const m=G3()?$3(l):fd(0);let h=(s.left+m.x)/c.x,p=(s.top+m.y)/c.y,v=s.width/c.x,b=s.height/c.y;if(l){const S=Ji(l),N=i;let k=S,j=Av(k);for(;j&&i&&N!==k;){const C=QT(j),G=j.getBoundingClientRect(),X=s0(j),H=G.left+(j.clientLeft+parseFloat(X.paddingLeft))*C.x,te=G.top+(j.clientTop+parseFloat(X.paddingTop))*C.y;h*=C.x,p*=C.y,v*=C.x,b*=C.y,h+=H,p+=te,k=Ji(j),j=Av(k)}}return j3({width:v,height:b,x:h,y:p})}function iR(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Y3(n,e){let t=null,i;const s=eR(n);function l(){var m;clearTimeout(i),(m=t)==null||m.disconnect(),t=null}function c(m,h){m===void 0&&(m=!1),h===void 0&&(h=1),l();const p=n.getBoundingClientRect(),{left:v,top:b,width:S,height:N}=p;if(m||e(),!S||!N)return;const k=mh(b),j=mh(s.clientWidth-(v+S)),C=mh(s.clientHeight-(b+N)),G=mh(v),H={rootMargin:-k+"px "+-j+"px "+-C+"px "+-G+"px",threshold:L3(0,V3(1,h))||1};let te=!0;function K(oe){const D=oe[0].intersectionRatio;if(D!==h){if(!te)return c();D?c(!1,D):i=setTimeout(()=>{c(!1,1e-7)},1e3)}D===1&&!iR(p,n.getBoundingClientRect())&&c(),te=!1}try{t=new IntersectionObserver(K,{...H,root:s.ownerDocument})}catch{t=new IntersectionObserver(K,H)}t.observe(n)}return c(!0),l}function K3(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,p=o0(n),v=s||l?[...p?hd(p):[],...hd(e)]:[];v.forEach(G=>{s&&G.addEventListener("scroll",t,{passive:!0}),l&&G.addEventListener("resize",t)});const b=p&&m?Y3(p,t):null;let S=-1,N=null;c&&(N=new ResizeObserver(G=>{let[X]=G;X&&X.target===p&&N&&(N.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var H;(H=N)==null||H.observe(e)})),t()}),p&&!h&&N.observe(p),N.observe(e));let k,j=h?XT(n):null;h&&C();function C(){const G=XT(n);j&&!iR(j,G)&&t(),j=G,k=requestAnimationFrame(C)}return t(),()=>{var G;v.forEach(X=>{s&&X.removeEventListener("scroll",t),l&&X.removeEventListener("resize",t)}),b==null||b(),(G=N)==null||G.disconnect(),N=null,h&&cancelAnimationFrame(k)}}var xv=z.useLayoutEffect,Q3=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],dd=function(){};function X3(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function W3(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];var l=[].concat(i);if(e&&n)for(var c in e)e.hasOwnProperty(c)&&e[c]&&l.push("".concat(X3(n,c)));return l.filter(function(m){return m}).map(function(m){return String(m).trim()}).join(" ")}var WT=function(e){return s6(e)?e.filter(Boolean):Zs(e)==="object"&&e!==null?[e]:[]},aR=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=na(e,Q3);return Ie({},t)},Lt=function(e,t,i){var s=e.cx,l=e.getStyles,c=e.getClassNames,m=e.className;return{css:l(t,e),className:s(i??{},c(t,e),m)}};function em(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function Z3(n){return em(n)?window.innerHeight:n.clientHeight}function sR(n){return em(n)?window.pageYOffset:n.scrollTop}function md(n,e){if(em(n)){window.scrollTo(0,e);return}n.scrollTop=e}function J3(n){var e=getComputedStyle(n),t=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function e6(n,e,t,i){return t*((n=n/i-1)*n*n+1)+e}function ph(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:dd,s=sR(n),l=e-s,c=10,m=0;function h(){m+=c;var p=e6(m,s,l,t);md(n,p),m<t?window.requestAnimationFrame(h):i(n)}h()}function ZT(n,e){var t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),s=e.offsetHeight/3;i.bottom+s>t.bottom?md(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+s,n.scrollHeight)):i.top-s<t.top&&md(n,Math.max(e.offsetTop-s,0))}function t6(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function JT(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function n6(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var oR=!1,r6={get passive(){return oR=!0}},gh=typeof window<"u"?window:{};gh.addEventListener&&gh.removeEventListener&&(gh.addEventListener("p",dd,r6),gh.removeEventListener("p",dd,!1));var i6=oR;function a6(n){return n!=null}function s6(n){return Array.isArray(n)}function vh(n,e,t){return n?e:t}var o6=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var l=Object.entries(e).filter(function(c){var m=Gi(c,1),h=m[0];return!i.includes(h)});return l.reduce(function(c,m){var h=Gi(m,2),p=h[0],v=h[1];return c[p]=v,c},{})},l6=["children","innerProps"],u6=["children","innerProps"];function c6(n){var e=n.maxHeight,t=n.menuEl,i=n.minHeight,s=n.placement,l=n.shouldScroll,c=n.isFixedPosition,m=n.controlHeight,h=J3(t),p={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return p;var v=h.getBoundingClientRect(),b=v.height,S=t.getBoundingClientRect(),N=S.bottom,k=S.height,j=S.top,C=t.offsetParent.getBoundingClientRect(),G=C.top,X=c?window.innerHeight:Z3(h),H=sR(h),te=parseInt(getComputedStyle(t).marginBottom,10),K=parseInt(getComputedStyle(t).marginTop,10),oe=G-K,D=X-j,T=oe+H,A=b-H-j,I=N-X+H+te,V=H+j-K,L=160;switch(s){case"auto":case"bottom":if(D>=k)return{placement:"bottom",maxHeight:e};if(A>=k&&!c)return l&&ph(h,I,L),{placement:"bottom",maxHeight:e};if(!c&&A>=i||c&&D>=i){l&&ph(h,I,L);var M=c?D-te:A-te;return{placement:"bottom",maxHeight:M}}if(s==="auto"||c){var Se=e,be=c?oe:T;return be>=i&&(Se=Math.min(be-te-m,e)),{placement:"top",maxHeight:Se}}if(s==="bottom")return l&&md(h,I),{placement:"bottom",maxHeight:e};break;case"top":if(oe>=k)return{placement:"top",maxHeight:e};if(T>=k&&!c)return l&&ph(h,V,L),{placement:"top",maxHeight:e};if(!c&&T>=i||c&&oe>=i){var q=e;return(!c&&T>=i||c&&oe>=i)&&(q=c?oe-K:T-K),l&&ph(h,V,L),{placement:"top",maxHeight:q}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return p}function f6(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var lR=function(e){return e==="auto"?"bottom":e},h6=function(e,t){var i,s=e.placement,l=e.theme,c=l.borderRadius,m=l.spacing,h=l.colors;return Ie((i={label:"menu"},Qu(i,f6(s),"100%"),Qu(i,"position","absolute"),Qu(i,"width","100%"),Qu(i,"zIndex",1),i),t?{}:{backgroundColor:h.neutral0,borderRadius:c,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:m.menuGutter,marginTop:m.menuGutter})},uR=z.createContext(null),d6=function(e){var t=e.children,i=e.minMenuHeight,s=e.maxMenuHeight,l=e.menuPlacement,c=e.menuPosition,m=e.menuShouldScrollIntoView,h=e.theme,p=z.useContext(uR)||{},v=p.setPortalPlacement,b=z.useRef(null),S=z.useState(s),N=Gi(S,2),k=N[0],j=N[1],C=z.useState(null),G=Gi(C,2),X=G[0],H=G[1],te=h.spacing.controlHeight;return xv(function(){var K=b.current;if(K){var oe=c==="fixed",D=m&&!oe,T=c6({maxHeight:s,menuEl:K,minHeight:i,placement:l,shouldScroll:D,isFixedPosition:oe,controlHeight:te});j(T.maxHeight),H(T.placement),v==null||v(T.placement)}},[s,l,c,m,i,v,te]),t({ref:b,placerProps:Ie(Ie({},e),{},{placement:X||lR(l),maxHeight:k})})},m6=function(e){var t=e.children,i=e.innerRef,s=e.innerProps;return Re("div",Pe({},Lt(e,"menu",{menu:!0}),{ref:i},s),t)},p6=m6,g6=function(e,t){var i=e.maxHeight,s=e.theme.spacing.baseUnit;return Ie({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},v6=function(e){var t=e.children,i=e.innerProps,s=e.innerRef,l=e.isMulti;return Re("div",Pe({},Lt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:s},i),t)},cR=function(e,t){var i=e.theme,s=i.spacing.baseUnit,l=i.colors;return Ie({textAlign:"center"},t?{}:{color:l.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},y6=cR,_6=cR,b6=function(e){var t=e.children,i=t===void 0?"No options":t,s=e.innerProps,l=na(e,l6);return Re("div",Pe({},Lt(Ie(Ie({},l),{},{children:i,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),i)},E6=function(e){var t=e.children,i=t===void 0?"Loading...":t,s=e.innerProps,l=na(e,u6);return Re("div",Pe({},Lt(Ie(Ie({},l),{},{children:i,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),i)},T6=function(e){var t=e.rect,i=e.offset,s=e.position;return{left:t.left,position:s,top:i,width:t.width,zIndex:1}},S6=function(e){var t=e.appendTo,i=e.children,s=e.controlElement,l=e.innerProps,c=e.menuPlacement,m=e.menuPosition,h=z.useRef(null),p=z.useRef(null),v=z.useState(lR(c)),b=Gi(v,2),S=b[0],N=b[1],k=z.useMemo(function(){return{setPortalPlacement:N}},[]),j=z.useState(null),C=Gi(j,2),G=C[0],X=C[1],H=z.useCallback(function(){if(s){var D=t6(s),T=m==="fixed"?0:window.pageYOffset,A=D[S]+T;(A!==(G==null?void 0:G.offset)||D.left!==(G==null?void 0:G.rect.left)||D.width!==(G==null?void 0:G.rect.width))&&X({offset:A,rect:D})}},[s,m,S,G==null?void 0:G.offset,G==null?void 0:G.rect.left,G==null?void 0:G.rect.width]);xv(function(){H()},[H]);var te=z.useCallback(function(){typeof p.current=="function"&&(p.current(),p.current=null),s&&h.current&&(p.current=K3(s,h.current,H,{elementResize:"ResizeObserver"in window}))},[s,H]);xv(function(){te()},[te]);var K=z.useCallback(function(D){h.current=D,te()},[te]);if(!t&&m!=="fixed"||!G)return null;var oe=Re("div",Pe({ref:K},Lt(Ie(Ie({},e),{},{offset:G.offset,position:m,rect:G.rect}),"menuPortal",{"menu-portal":!0}),l),i);return Re(uR.Provider,{value:k},t?oI.createPortal(oe,t):oe)},w6=function(e){var t=e.isDisabled,i=e.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},A6=function(e){var t=e.children,i=e.innerProps,s=e.isDisabled,l=e.isRtl;return Re("div",Pe({},Lt(e,"container",{"--is-disabled":s,"--is-rtl":l}),i),t)},x6=function(e,t){var i=e.theme.spacing,s=e.isMulti,l=e.hasValue,c=e.selectProps.controlShouldRenderValue;return Ie({alignItems:"center",display:s&&l&&c?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},R6=function(e){var t=e.children,i=e.innerProps,s=e.isMulti,l=e.hasValue;return Re("div",Pe({},Lt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":l}),i),t)},C6=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},I6=function(e){var t=e.children,i=e.innerProps;return Re("div",Pe({},Lt(e,"indicatorsContainer",{indicators:!0}),i),t)},eS,O6=["size"],N6=["innerProps","isRtl","size"],D6={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},fR=function(e){var t=e.size,i=na(e,O6);return Re("svg",Pe({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:D6},i))},l0=function(e){return Re(fR,Pe({size:20},e),Re("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},hR=function(e){return Re(fR,Pe({size:20},e),Re("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},dR=function(e,t){var i=e.isFocused,s=e.theme,l=s.spacing.baseUnit,c=s.colors;return Ie({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:i?c.neutral60:c.neutral20,padding:l*2,":hover":{color:i?c.neutral80:c.neutral40}})},P6=dR,M6=function(e){var t=e.children,i=e.innerProps;return Re("div",Pe({},Lt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),t||Re(hR,null))},k6=dR,V6=function(e){var t=e.children,i=e.innerProps;return Re("div",Pe({},Lt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),t||Re(l0,null))},L6=function(e,t){var i=e.isDisabled,s=e.theme,l=s.spacing.baseUnit,c=s.colors;return Ie({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:i?c.neutral10:c.neutral20,marginBottom:l*2,marginTop:l*2})},j6=function(e){var t=e.innerProps;return Re("span",Pe({},t,Lt(e,"indicatorSeparator",{"indicator-separator":!0})))},U6=M3(eS||(eS=k3([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),F6=function(e,t){var i=e.isFocused,s=e.size,l=e.theme,c=l.colors,m=l.spacing.baseUnit;return Ie({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:i?c.neutral60:c.neutral20,padding:m*2})},Ag=function(e){var t=e.delay,i=e.offset;return Re("span",{css:i0({animation:"".concat(U6," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},z6=function(e){var t=e.innerProps,i=e.isRtl,s=e.size,l=s===void 0?4:s,c=na(e,N6);return Re("div",Pe({},Lt(Ie(Ie({},c),{},{innerProps:t,isRtl:i,size:l}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Re(Ag,{delay:0,offset:i}),Re(Ag,{delay:160,offset:!0}),Re(Ag,{delay:320,offset:!i}))},B6=function(e,t){var i=e.isDisabled,s=e.isFocused,l=e.theme,c=l.colors,m=l.borderRadius,h=l.spacing;return Ie({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:h.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:i?c.neutral5:c.neutral0,borderColor:i?c.neutral10:s?c.primary:c.neutral20,borderRadius:m,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(c.primary):void 0,"&:hover":{borderColor:s?c.primary:c.neutral30}})},H6=function(e){var t=e.children,i=e.isDisabled,s=e.isFocused,l=e.innerRef,c=e.innerProps,m=e.menuIsOpen;return Re("div",Pe({ref:l},Lt(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":s,"control--menu-is-open":m}),c,{"aria-disabled":i||void 0}),t)},q6=H6,$6=["data"],G6=function(e,t){var i=e.theme.spacing;return t?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},Y6=function(e){var t=e.children,i=e.cx,s=e.getStyles,l=e.getClassNames,c=e.Heading,m=e.headingProps,h=e.innerProps,p=e.label,v=e.theme,b=e.selectProps;return Re("div",Pe({},Lt(e,"group",{group:!0}),h),Re(c,Pe({},m,{selectProps:b,theme:v,getStyles:s,getClassNames:l,cx:i}),p),Re("div",null,t))},K6=function(e,t){var i=e.theme,s=i.colors,l=i.spacing;return Ie({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:l.baseUnit*3,paddingRight:l.baseUnit*3,textTransform:"uppercase"})},Q6=function(e){var t=aR(e);t.data;var i=na(t,$6);return Re("div",Pe({},Lt(e,"groupHeading",{"group-heading":!0}),i))},X6=Y6,W6=["innerRef","isDisabled","isHidden","inputClassName"],Z6=function(e,t){var i=e.isDisabled,s=e.value,l=e.theme,c=l.spacing,m=l.colors;return Ie(Ie({visibility:i?"hidden":"visible",transform:s?"translateZ(0)":""},J6),t?{}:{margin:c.baseUnit/2,paddingBottom:c.baseUnit/2,paddingTop:c.baseUnit/2,color:m.neutral80})},mR={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},J6={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ie({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},mR)},eL=function(e){return Ie({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},mR)},tL=function(e){var t=e.cx,i=e.value,s=aR(e),l=s.innerRef,c=s.isDisabled,m=s.isHidden,h=s.inputClassName,p=na(s,W6);return Re("div",Pe({},Lt(e,"input",{"input-container":!0}),{"data-value":i||""}),Re("input",Pe({className:t({input:!0},h),ref:l,style:eL(m),disabled:c},p)))},nL=tL,rL=function(e,t){var i=e.theme,s=i.spacing,l=i.borderRadius,c=i.colors;return Ie({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:c.neutral10,borderRadius:l/2,margin:s.baseUnit/2})},iL=function(e,t){var i=e.theme,s=i.borderRadius,l=i.colors,c=e.cropWithEllipsis;return Ie({overflow:"hidden",textOverflow:c||c===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},aL=function(e,t){var i=e.theme,s=i.spacing,l=i.borderRadius,c=i.colors,m=e.isFocused;return Ie({alignItems:"center",display:"flex"},t?{}:{borderRadius:l/2,backgroundColor:m?c.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:c.dangerLight,color:c.danger}})},pR=function(e){var t=e.children,i=e.innerProps;return Re("div",i,t)},sL=pR,oL=pR;function lL(n){var e=n.children,t=n.innerProps;return Re("div",Pe({role:"button"},t),e||Re(l0,{size:14}))}var uL=function(e){var t=e.children,i=e.components,s=e.data,l=e.innerProps,c=e.isDisabled,m=e.removeProps,h=e.selectProps,p=i.Container,v=i.Label,b=i.Remove;return Re(p,{data:s,innerProps:Ie(Ie({},Lt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":c})),l),selectProps:h},Re(v,{data:s,innerProps:Ie({},Lt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:h},t),Re(b,{data:s,innerProps:Ie(Ie({},Lt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},m),selectProps:h}))},cL=uL,fL=function(e,t){var i=e.isDisabled,s=e.isFocused,l=e.isSelected,c=e.theme,m=c.spacing,h=c.colors;return Ie({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:l?h.primary:s?h.primary25:"transparent",color:i?h.neutral20:l?h.neutral0:"inherit",padding:"".concat(m.baseUnit*2,"px ").concat(m.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:l?h.primary:h.primary50}})},hL=function(e){var t=e.children,i=e.isDisabled,s=e.isFocused,l=e.isSelected,c=e.innerRef,m=e.innerProps;return Re("div",Pe({},Lt(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":s,"option--is-selected":l}),{ref:c,"aria-disabled":i},m),t)},dL=hL,mL=function(e,t){var i=e.theme,s=i.spacing,l=i.colors;return Ie({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:l.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},pL=function(e){var t=e.children,i=e.innerProps;return Re("div",Pe({},Lt(e,"placeholder",{placeholder:!0}),i),t)},gL=pL,vL=function(e,t){var i=e.isDisabled,s=e.theme,l=s.spacing,c=s.colors;return Ie({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:i?c.neutral40:c.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},yL=function(e){var t=e.children,i=e.isDisabled,s=e.innerProps;return Re("div",Pe({},Lt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),s),t)},_L=yL,bL={ClearIndicator:V6,Control:q6,DropdownIndicator:M6,DownChevron:hR,CrossIcon:l0,Group:X6,GroupHeading:Q6,IndicatorsContainer:I6,IndicatorSeparator:j6,Input:nL,LoadingIndicator:z6,Menu:p6,MenuList:v6,MenuPortal:S6,LoadingMessage:E6,NoOptionsMessage:b6,MultiValue:cL,MultiValueContainer:sL,MultiValueLabel:oL,MultiValueRemove:lL,Option:dL,Placeholder:gL,SelectContainer:A6,SingleValue:_L,ValueContainer:R6},EL=function(e){return Ie(Ie({},bL),e.components)},tS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function TL(n,e){return!!(n===e||tS(n)&&tS(e))}function SL(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!TL(n[t],e[t]))return!1;return!0}function wL(n,e){e===void 0&&(e=SL);var t=null;function i(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var c=n.apply(this,s);return t={lastResult:c,lastArgs:s,lastThis:this},c}return i.clear=function(){t=null},i}var AL={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},xL=function(e){return Re("span",Pe({css:AL},e))},nS=xL,RL={guidance:function(e){var t=e.isSearchable,i=e.isMulti,s=e.tabSelectsValue,l=e.context,c=e.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return c?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,i=e.label,s=i===void 0?"":i,l=e.labels,c=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return c?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,i=e.focused,s=e.options,l=e.label,c=l===void 0?"":l,m=e.selectValue,h=e.isDisabled,p=e.isSelected,v=e.isAppleDevice,b=function(j,C){return j&&j.length?"".concat(j.indexOf(C)+1," of ").concat(j.length):""};if(t==="value"&&m)return"value ".concat(c," focused, ").concat(b(m,i),".");if(t==="menu"&&v){var S=h?" disabled":"",N="".concat(p?" selected":"").concat(S);return"".concat(c).concat(N,", ").concat(b(s,i),".")}return""},onFilter:function(e){var t=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(t?" for search term "+t:"",".")}},CL=function(e){var t=e.ariaSelection,i=e.focusedOption,s=e.focusedValue,l=e.focusableOptions,c=e.isFocused,m=e.selectValue,h=e.selectProps,p=e.id,v=e.isAppleDevice,b=h.ariaLiveMessages,S=h.getOptionLabel,N=h.inputValue,k=h.isMulti,j=h.isOptionDisabled,C=h.isSearchable,G=h.menuIsOpen,X=h.options,H=h.screenReaderStatus,te=h.tabSelectsValue,K=h.isLoading,oe=h["aria-label"],D=h["aria-live"],T=z.useMemo(function(){return Ie(Ie({},RL),b||{})},[b]),A=z.useMemo(function(){var be="";if(t&&T.onChange){var q=t.option,P=t.options,U=t.removedValue,Q=t.removedValues,x=t.value,B=function(pe){return Array.isArray(pe)?null:pe},Z=U||q||B(x),$=Z?S(Z):"",ne=P||Q||void 0,de=ne?ne.map(S):[],ge=Ie({isDisabled:Z&&j(Z,m),label:$,labels:de},t);be=T.onChange(ge)}return be},[t,T,j,m,S]),I=z.useMemo(function(){var be="",q=i||s,P=!!(i&&m&&m.includes(i));if(q&&T.onFocus){var U={focused:q,label:S(q),isDisabled:j(q,m),isSelected:P,options:l,context:q===i?"menu":"value",selectValue:m,isAppleDevice:v};be=T.onFocus(U)}return be},[i,s,S,j,T,l,m,v]),V=z.useMemo(function(){var be="";if(G&&X.length&&!K&&T.onFilter){var q=H({count:l.length});be=T.onFilter({inputValue:N,resultsMessage:q})}return be},[l,N,G,T,X,H,K]),L=(t==null?void 0:t.action)==="initial-input-focus",M=z.useMemo(function(){var be="";if(T.guidance){var q=s?"value":G?"menu":"input";be=T.guidance({"aria-label":oe,context:q,isDisabled:i&&j(i,m),isMulti:k,isSearchable:C,tabSelectsValue:te,isInitialFocus:L})}return be},[oe,i,s,k,j,C,G,T,m,te,L]),Se=Re(z.Fragment,null,Re("span",{id:"aria-selection"},A),Re("span",{id:"aria-focused"},I),Re("span",{id:"aria-results"},V),Re("span",{id:"aria-guidance"},M));return Re(z.Fragment,null,Re(nS,{id:p},L&&Se),Re(nS,{"aria-live":D,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},c&&!L&&Se))},IL=CL,Rv=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],OL=new RegExp("["+Rv.map(function(n){return n.letters}).join("")+"]","g"),gR={};for(var xg=0;xg<Rv.length;xg++)for(var Rg=Rv[xg],Cg=0;Cg<Rg.letters.length;Cg++)gR[Rg.letters[Cg]]=Rg.base;var vR=function(e){return e.replace(OL,function(t){return gR[t]})},NL=wL(vR),rS=function(e){return e.replace(/^\s+|\s+$/g,"")},DL=function(e){return"".concat(e.label," ").concat(e.value)},PL=function(e){return function(t,i){if(t.data.__isNew__)return!0;var s=Ie({ignoreCase:!0,ignoreAccents:!0,stringify:DL,trim:!0,matchFrom:"any"},e),l=s.ignoreCase,c=s.ignoreAccents,m=s.stringify,h=s.trim,p=s.matchFrom,v=h?rS(i):i,b=h?rS(m(t)):m(t);return l&&(v=v.toLowerCase(),b=b.toLowerCase()),c&&(v=NL(v),b=vR(b)),p==="start"?b.substr(0,v.length)===v:b.indexOf(v)>-1}},ML=["innerRef"];function kL(n){var e=n.innerRef,t=na(n,ML),i=o6(t,"onExited","in","enter","exit","appear");return Re("input",Pe({ref:e},i,{css:i0({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var VL=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function LL(n){var e=n.isEnabled,t=n.onBottomArrive,i=n.onBottomLeave,s=n.onTopArrive,l=n.onTopLeave,c=z.useRef(!1),m=z.useRef(!1),h=z.useRef(0),p=z.useRef(null),v=z.useCallback(function(C,G){if(p.current!==null){var X=p.current,H=X.scrollTop,te=X.scrollHeight,K=X.clientHeight,oe=p.current,D=G>0,T=te-K-H,A=!1;T>G&&c.current&&(i&&i(C),c.current=!1),D&&m.current&&(l&&l(C),m.current=!1),D&&G>T?(t&&!c.current&&t(C),oe.scrollTop=te,A=!0,c.current=!0):!D&&-G>H&&(s&&!m.current&&s(C),oe.scrollTop=0,A=!0,m.current=!0),A&&VL(C)}},[t,i,s,l]),b=z.useCallback(function(C){v(C,C.deltaY)},[v]),S=z.useCallback(function(C){h.current=C.changedTouches[0].clientY},[]),N=z.useCallback(function(C){var G=h.current-C.changedTouches[0].clientY;v(C,G)},[v]),k=z.useCallback(function(C){if(C){var G=i6?{passive:!1}:!1;C.addEventListener("wheel",b,G),C.addEventListener("touchstart",S,G),C.addEventListener("touchmove",N,G)}},[N,S,b]),j=z.useCallback(function(C){C&&(C.removeEventListener("wheel",b,!1),C.removeEventListener("touchstart",S,!1),C.removeEventListener("touchmove",N,!1))},[N,S,b]);return z.useEffect(function(){if(e){var C=p.current;return k(C),function(){j(C)}}},[e,k,j]),function(C){p.current=C}}var iS=["boxSizing","height","overflow","paddingRight","position"],aS={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function sS(n){n.cancelable&&n.preventDefault()}function oS(n){n.stopPropagation()}function lS(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function uS(){return"ontouchstart"in window||navigator.maxTouchPoints}var cS=!!(typeof window<"u"&&window.document&&window.document.createElement),Fu=0,el={capture:!1,passive:!1};function jL(n){var e=n.isEnabled,t=n.accountForScrollbars,i=t===void 0?!0:t,s=z.useRef({}),l=z.useRef(null),c=z.useCallback(function(h){if(cS){var p=document.body,v=p&&p.style;if(i&&iS.forEach(function(k){var j=v&&v[k];s.current[k]=j}),i&&Fu<1){var b=parseInt(s.current.paddingRight,10)||0,S=document.body?document.body.clientWidth:0,N=window.innerWidth-S+b||0;Object.keys(aS).forEach(function(k){var j=aS[k];v&&(v[k]=j)}),v&&(v.paddingRight="".concat(N,"px"))}p&&uS()&&(p.addEventListener("touchmove",sS,el),h&&(h.addEventListener("touchstart",lS,el),h.addEventListener("touchmove",oS,el))),Fu+=1}},[i]),m=z.useCallback(function(h){if(cS){var p=document.body,v=p&&p.style;Fu=Math.max(Fu-1,0),i&&Fu<1&&iS.forEach(function(b){var S=s.current[b];v&&(v[b]=S)}),p&&uS()&&(p.removeEventListener("touchmove",sS,el),h&&(h.removeEventListener("touchstart",lS,el),h.removeEventListener("touchmove",oS,el)))}},[i]);return z.useEffect(function(){if(e){var h=l.current;return c(h),function(){m(h)}}},[e,c,m]),function(h){l.current=h}}var UL=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},FL={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function zL(n){var e=n.children,t=n.lockEnabled,i=n.captureEnabled,s=i===void 0?!0:i,l=n.onBottomArrive,c=n.onBottomLeave,m=n.onTopArrive,h=n.onTopLeave,p=LL({isEnabled:s,onBottomArrive:l,onBottomLeave:c,onTopArrive:m,onTopLeave:h}),v=jL({isEnabled:t}),b=function(N){p(N),v(N)};return Re(z.Fragment,null,t&&Re("div",{onClick:UL,css:FL}),e(b))}var BL={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},HL=function(e){var t=e.name,i=e.onFocus;return Re("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:BL,value:"",onChange:function(){}})},qL=HL;function u0(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function $L(){return u0(/^iPhone/i)}function yR(){return u0(/^Mac/i)}function GL(){return u0(/^iPad/i)||yR()&&navigator.maxTouchPoints>1}function YL(){return $L()||GL()}function KL(){return yR()||YL()}var QL=function(e){return e.label},XL=function(e){return e.label},WL=function(e){return e.value},ZL=function(e){return!!e.isDisabled},JL={clearIndicator:k6,container:w6,control:B6,dropdownIndicator:P6,group:G6,groupHeading:K6,indicatorsContainer:C6,indicatorSeparator:L6,input:Z6,loadingIndicator:F6,loadingMessage:_6,menu:h6,menuList:g6,menuPortal:T6,multiValue:rL,multiValueLabel:iL,multiValueRemove:aL,noOptionsMessage:y6,option:fL,placeholder:mL,singleValue:vL,valueContainer:x6},ej={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},tj=4,_R=4,nj=38,rj=_R*2,ij={baseUnit:_R,controlHeight:nj,menuGutter:rj},Ig={borderRadius:tj,colors:ej,spacing:ij},aj={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:JT(),captureMenuScroll:!JT(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:PL(),formatGroupLabel:QL,getOptionLabel:XL,getOptionValue:WL,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:ZL,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!n6(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function fS(n,e,t,i){var s=TR(n,e,t),l=SR(n,e,t),c=ER(n,e),m=pd(n,e);return{type:"option",data:e,isDisabled:s,isSelected:l,label:c,value:m,index:i}}function kh(n,e){return n.options.map(function(t,i){if("options"in t){var s=t.options.map(function(c,m){return fS(n,c,e,m)}).filter(function(c){return dS(n,c)});return s.length>0?{type:"group",data:t,options:s,index:i}:void 0}var l=fS(n,t,e,i);return dS(n,l)?l:void 0}).filter(a6)}function bR(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,Jy(t.options.map(function(i){return i.data}))):e.push(t.data),e},[])}function hS(n,e){return n.reduce(function(t,i){return i.type==="group"?t.push.apply(t,Jy(i.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(i.index,"-").concat(s.index)}}))):t.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),t},[])}function sj(n,e){return bR(kh(n,e))}function dS(n,e){var t=n.inputValue,i=t===void 0?"":t,s=e.data,l=e.isSelected,c=e.label,m=e.value;return(!AR(n)||!l)&&wR(n,{label:c,value:m,data:s},i)}function oj(n,e){var t=n.focusedValue,i=n.selectValue,s=i.indexOf(t);if(s>-1){var l=e.indexOf(t);if(l>-1)return t;if(s<e.length)return e[s]}return null}function lj(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var Og=function(e,t){var i,s=(i=e.find(function(l){return l.data===t}))===null||i===void 0?void 0:i.id;return s||null},ER=function(e,t){return e.getOptionLabel(t)},pd=function(e,t){return e.getOptionValue(t)};function TR(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function SR(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var i=pd(n,e);return t.some(function(s){return pd(n,s)===i})}function wR(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var AR=function(e){var t=e.hideSelectedOptions,i=e.isMulti;return t===void 0?i:t},uj=1,xR=function(n){NV(t,n);var e=MV(t);function t(i){var s;if(IV(this,t),s=e.call(this,i),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=KL(),s.controlRef=null,s.getControlRef=function(h){s.controlRef=h},s.focusedOptionRef=null,s.getFocusedOptionRef=function(h){s.focusedOptionRef=h},s.menuListRef=null,s.getMenuListRef=function(h){s.menuListRef=h},s.inputRef=null,s.getInputRef=function(h){s.inputRef=h},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(h,p){var v=s.props,b=v.onChange,S=v.name;p.name=S,s.ariaOnChange(h,p),b(h,p)},s.setValue=function(h,p,v){var b=s.props,S=b.closeMenuOnSelect,N=b.isMulti,k=b.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:k}),S&&(s.setState({inputIsHiddenAfterUpdate:!N}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(h,{action:p,option:v})},s.selectOption=function(h){var p=s.props,v=p.blurInputOnSelect,b=p.isMulti,S=p.name,N=s.state.selectValue,k=b&&s.isOptionSelected(h,N),j=s.isOptionDisabled(h,N);if(k){var C=s.getOptionValue(h);s.setValue(N.filter(function(G){return s.getOptionValue(G)!==C}),"deselect-option",h)}else if(!j)b?s.setValue([].concat(Jy(N),[h]),"select-option",h):s.setValue(h,"select-option");else{s.ariaOnChange(h,{action:"select-option",option:h,name:S});return}v&&s.blurInput()},s.removeValue=function(h){var p=s.props.isMulti,v=s.state.selectValue,b=s.getOptionValue(h),S=v.filter(function(k){return s.getOptionValue(k)!==b}),N=vh(p,S,S[0]||null);s.onChange(N,{action:"remove-value",removedValue:h}),s.focusInput()},s.clearValue=function(){var h=s.state.selectValue;s.onChange(vh(s.props.isMulti,[],null),{action:"clear",removedValues:h})},s.popValue=function(){var h=s.props.isMulti,p=s.state.selectValue,v=p[p.length-1],b=p.slice(0,p.length-1),S=vh(h,b,b[0]||null);v&&s.onChange(S,{action:"pop-value",removedValue:v})},s.getFocusedOptionId=function(h){return Og(s.state.focusableOptionsWithIds,h)},s.getFocusableOptionsWithIds=function(){return hS(kh(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var h=arguments.length,p=new Array(h),v=0;v<h;v++)p[v]=arguments[v];return W3.apply(void 0,[s.props.classNamePrefix].concat(p))},s.getOptionLabel=function(h){return ER(s.props,h)},s.getOptionValue=function(h){return pd(s.props,h)},s.getStyles=function(h,p){var v=s.props.unstyled,b=JL[h](p,v);b.boxSizing="border-box";var S=s.props.styles[h];return S?S(b,p):b},s.getClassNames=function(h,p){var v,b;return(v=(b=s.props.classNames)[h])===null||v===void 0?void 0:v.call(b,p)},s.getElementId=function(h){return"".concat(s.state.instancePrefix,"-").concat(h)},s.getComponents=function(){return EL(s.props)},s.buildCategorizedOptions=function(){return kh(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return bR(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(h,p){s.setState({ariaSelection:Ie({value:h},p)})},s.onMenuMouseDown=function(h){h.button===0&&(h.stopPropagation(),h.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(h){s.blockOptionHover=!1},s.onControlMouseDown=function(h){if(!h.defaultPrevented){var p=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&s.onMenuClose():p&&s.openMenu("first"):(p&&(s.openAfterFocus=!0),s.focusInput()),h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&h.preventDefault()}},s.onDropdownIndicatorMouseDown=function(h){if(!(h&&h.type==="mousedown"&&h.button!==0)&&!s.props.isDisabled){var p=s.props,v=p.isMulti,b=p.menuIsOpen;s.focusInput(),b?(s.setState({inputIsHiddenAfterUpdate:!v}),s.onMenuClose()):s.openMenu("first"),h.preventDefault()}},s.onClearIndicatorMouseDown=function(h){h&&h.type==="mousedown"&&h.button!==0||(s.clearValue(),h.preventDefault(),s.openAfterFocus=!1,h.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(h){typeof s.props.closeMenuOnScroll=="boolean"?h.target instanceof HTMLElement&&em(h.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(h)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(h){var p=h.touches,v=p&&p.item(0);v&&(s.initialTouchX=v.clientX,s.initialTouchY=v.clientY,s.userIsDragging=!1)},s.onTouchMove=function(h){var p=h.touches,v=p&&p.item(0);if(v){var b=Math.abs(v.clientX-s.initialTouchX),S=Math.abs(v.clientY-s.initialTouchY),N=5;s.userIsDragging=b>N||S>N}},s.onTouchEnd=function(h){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(h.target)&&s.menuListRef&&!s.menuListRef.contains(h.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(h){s.userIsDragging||s.onControlMouseDown(h)},s.onClearIndicatorTouchEnd=function(h){s.userIsDragging||s.onClearIndicatorMouseDown(h)},s.onDropdownIndicatorTouchEnd=function(h){s.userIsDragging||s.onDropdownIndicatorMouseDown(h)},s.handleInputChange=function(h){var p=s.props.inputValue,v=h.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(v,{action:"input-change",prevInputValue:p}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(h){s.props.onFocus&&s.props.onFocus(h),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(h){var p=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(h),s.onInputChange("",{action:"input-blur",prevInputValue:p}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(h){if(!(s.blockOptionHover||s.state.focusedOption===h)){var p=s.getFocusableOptions(),v=p.indexOf(h);s.setState({focusedOption:h,focusedOptionId:v>-1?s.getFocusedOptionId(h):null})}},s.shouldHideSelectedOptions=function(){return AR(s.props)},s.onValueInputFocus=function(h){h.preventDefault(),h.stopPropagation(),s.focus()},s.onKeyDown=function(h){var p=s.props,v=p.isMulti,b=p.backspaceRemovesValue,S=p.escapeClearsValue,N=p.inputValue,k=p.isClearable,j=p.isDisabled,C=p.menuIsOpen,G=p.onKeyDown,X=p.tabSelectsValue,H=p.openMenuOnFocus,te=s.state,K=te.focusedOption,oe=te.focusedValue,D=te.selectValue;if(!j&&!(typeof G=="function"&&(G(h),h.defaultPrevented))){switch(s.blockOptionHover=!0,h.key){case"ArrowLeft":if(!v||N)return;s.focusValue("previous");break;case"ArrowRight":if(!v||N)return;s.focusValue("next");break;case"Delete":case"Backspace":if(N)return;if(oe)s.removeValue(oe);else{if(!b)return;v?s.popValue():k&&s.clearValue()}break;case"Tab":if(s.isComposing||h.shiftKey||!C||!X||!K||H&&s.isOptionSelected(K,D))return;s.selectOption(K);break;case"Enter":if(h.keyCode===229)break;if(C){if(!K||s.isComposing)return;s.selectOption(K);break}return;case"Escape":C?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:N}),s.onMenuClose()):k&&S&&s.clearValue();break;case" ":if(N)return;if(!C){s.openMenu("first");break}if(!K)return;s.selectOption(K);break;case"ArrowUp":C?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":C?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!C)return;s.focusOption("pageup");break;case"PageDown":if(!C)return;s.focusOption("pagedown");break;case"Home":if(!C)return;s.focusOption("first");break;case"End":if(!C)return;s.focusOption("last");break;default:return}h.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++uj),s.state.selectValue=WT(i.value),i.menuIsOpen&&s.state.selectValue.length){var l=s.getFocusableOptionsWithIds(),c=s.buildFocusableOptions(),m=c.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=l,s.state.focusedOption=c[m],s.state.focusedOptionId=Og(l,c[m])}return s}return OV(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&ZT(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var l=this.props,c=l.isDisabled,m=l.menuIsOpen,h=this.state.isFocused;(h&&!c&&s.isDisabled||h&&m&&!s.menuIsOpen)&&this.focusInput(),h&&c&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!h&&!c&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(ZT(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,l){this.props.onInputChange(s,l)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var l=this,c=this.state,m=c.selectValue,h=c.isFocused,p=this.buildFocusableOptions(),v=s==="first"?0:p.length-1;if(!this.props.isMulti){var b=p.indexOf(m[0]);b>-1&&(v=b)}this.scrollToFocusedOptionOnUpdate=!(h&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:p[v],focusedOptionId:this.getFocusedOptionId(p[v])},function(){return l.onMenuOpen()})}},{key:"focusValue",value:function(s){var l=this.state,c=l.selectValue,m=l.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var h=c.indexOf(m);m||(h=-1);var p=c.length-1,v=-1;if(c.length){switch(s){case"previous":h===0?v=0:h===-1?v=p:v=h-1;break;case"next":h>-1&&h<p&&(v=h+1);break}this.setState({inputIsHidden:v!==-1,focusedValue:c[v]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",l=this.props.pageSize,c=this.state.focusedOption,m=this.getFocusableOptions();if(m.length){var h=0,p=m.indexOf(c);c||(p=-1),s==="up"?h=p>0?p-1:m.length-1:s==="down"?h=(p+1)%m.length:s==="pageup"?(h=p-l,h<0&&(h=0)):s==="pagedown"?(h=p+l,h>m.length-1&&(h=m.length-1)):s==="last"&&(h=m.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:m[h],focusedValue:null,focusedOptionId:this.getFocusedOptionId(m[h])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Ig):Ie(Ie({},Ig),this.props.theme):Ig}},{key:"getCommonProps",value:function(){var s=this.clearValue,l=this.cx,c=this.getStyles,m=this.getClassNames,h=this.getValue,p=this.selectOption,v=this.setValue,b=this.props,S=b.isMulti,N=b.isRtl,k=b.options,j=this.hasValue();return{clearValue:s,cx:l,getStyles:c,getClassNames:m,getValue:h,hasValue:j,isMulti:S,isRtl:N,options:k,selectOption:p,selectProps:b,setValue:v,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,l=s.isClearable,c=s.isMulti;return l===void 0?c:l}},{key:"isOptionDisabled",value:function(s,l){return TR(this.props,s,l)}},{key:"isOptionSelected",value:function(s,l){return SR(this.props,s,l)}},{key:"filterOption",value:function(s,l){return wR(this.props,s,l)}},{key:"formatOptionLabel",value:function(s,l){if(typeof this.props.formatOptionLabel=="function"){var c=this.props.inputValue,m=this.state.selectValue;return this.props.formatOptionLabel(s,{context:l,inputValue:c,selectValue:m})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,l=s.isDisabled,c=s.isSearchable,m=s.inputId,h=s.inputValue,p=s.tabIndex,v=s.form,b=s.menuIsOpen,S=s.required,N=this.getComponents(),k=N.Input,j=this.state,C=j.inputIsHidden,G=j.ariaSelection,X=this.commonProps,H=m||this.getElementId("input"),te=Ie(Ie(Ie({"aria-autocomplete":"list","aria-expanded":b,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":S,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},b&&{"aria-controls":this.getElementId("listbox")}),!c&&{"aria-readonly":!0}),this.hasValue()?(G==null?void 0:G.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return c?z.createElement(k,Pe({},X,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:H,innerRef:this.getInputRef,isDisabled:l,isHidden:C,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:p,form:v,type:"text",value:h},te)):z.createElement(kL,Pe({id:H,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:dd,onFocus:this.onInputFocus,disabled:l,tabIndex:p,inputMode:"none",form:v,value:""},te))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,l=this.getComponents(),c=l.MultiValue,m=l.MultiValueContainer,h=l.MultiValueLabel,p=l.MultiValueRemove,v=l.SingleValue,b=l.Placeholder,S=this.commonProps,N=this.props,k=N.controlShouldRenderValue,j=N.isDisabled,C=N.isMulti,G=N.inputValue,X=N.placeholder,H=this.state,te=H.selectValue,K=H.focusedValue,oe=H.isFocused;if(!this.hasValue()||!k)return G?null:z.createElement(b,Pe({},S,{key:"placeholder",isDisabled:j,isFocused:oe,innerProps:{id:this.getElementId("placeholder")}}),X);if(C)return te.map(function(T,A){var I=T===K,V="".concat(s.getOptionLabel(T),"-").concat(s.getOptionValue(T));return z.createElement(c,Pe({},S,{components:{Container:m,Label:h,Remove:p},isFocused:I,isDisabled:j,key:V,index:A,removeProps:{onClick:function(){return s.removeValue(T)},onTouchEnd:function(){return s.removeValue(T)},onMouseDown:function(M){M.preventDefault()}},data:T}),s.formatOptionLabel(T,"value"))});if(G)return null;var D=te[0];return z.createElement(v,Pe({},S,{data:D,isDisabled:j}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),l=s.ClearIndicator,c=this.commonProps,m=this.props,h=m.isDisabled,p=m.isLoading,v=this.state.isFocused;if(!this.isClearable()||!l||h||!this.hasValue()||p)return null;var b={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return z.createElement(l,Pe({},c,{innerProps:b,isFocused:v}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),l=s.LoadingIndicator,c=this.commonProps,m=this.props,h=m.isDisabled,p=m.isLoading,v=this.state.isFocused;if(!l||!p)return null;var b={"aria-hidden":"true"};return z.createElement(l,Pe({},c,{innerProps:b,isDisabled:h,isFocused:v}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),l=s.DropdownIndicator,c=s.IndicatorSeparator;if(!l||!c)return null;var m=this.commonProps,h=this.props.isDisabled,p=this.state.isFocused;return z.createElement(c,Pe({},m,{isDisabled:h,isFocused:p}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),l=s.DropdownIndicator;if(!l)return null;var c=this.commonProps,m=this.props.isDisabled,h=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return z.createElement(l,Pe({},c,{innerProps:p,isDisabled:m,isFocused:h}))}},{key:"renderMenu",value:function(){var s=this,l=this.getComponents(),c=l.Group,m=l.GroupHeading,h=l.Menu,p=l.MenuList,v=l.MenuPortal,b=l.LoadingMessage,S=l.NoOptionsMessage,N=l.Option,k=this.commonProps,j=this.state.focusedOption,C=this.props,G=C.captureMenuScroll,X=C.inputValue,H=C.isLoading,te=C.loadingMessage,K=C.minMenuHeight,oe=C.maxMenuHeight,D=C.menuIsOpen,T=C.menuPlacement,A=C.menuPosition,I=C.menuPortalTarget,V=C.menuShouldBlockScroll,L=C.menuShouldScrollIntoView,M=C.noOptionsMessage,Se=C.onMenuScrollToTop,be=C.onMenuScrollToBottom;if(!D)return null;var q=function($,ne){var de=$.type,ge=$.data,Le=$.isDisabled,pe=$.isSelected,xe=$.label,Ve=$.value,we=j===ge,at=Le?void 0:function(){return s.onOptionHover(ge)},dt=Le?void 0:function(){return s.selectOption(ge)},Ye="".concat(s.getElementId("option"),"-").concat(ne),et={id:Ye,onClick:dt,onMouseMove:at,onMouseOver:at,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:pe};return z.createElement(N,Pe({},k,{innerProps:et,data:ge,isDisabled:Le,isSelected:pe,key:Ye,label:xe,type:de,value:Ve,isFocused:we,innerRef:we?s.getFocusedOptionRef:void 0}),s.formatOptionLabel($.data,"menu"))},P;if(this.hasOptions())P=this.getCategorizedOptions().map(function(Z){if(Z.type==="group"){var $=Z.data,ne=Z.options,de=Z.index,ge="".concat(s.getElementId("group"),"-").concat(de),Le="".concat(ge,"-heading");return z.createElement(c,Pe({},k,{key:ge,data:$,options:ne,Heading:m,headingProps:{id:Le,data:Z.data},label:s.formatGroupLabel(Z.data)}),Z.options.map(function(pe){return q(pe,"".concat(de,"-").concat(pe.index))}))}else if(Z.type==="option")return q(Z,"".concat(Z.index))});else if(H){var U=te({inputValue:X});if(U===null)return null;P=z.createElement(b,k,U)}else{var Q=M({inputValue:X});if(Q===null)return null;P=z.createElement(S,k,Q)}var x={minMenuHeight:K,maxMenuHeight:oe,menuPlacement:T,menuPosition:A,menuShouldScrollIntoView:L},B=z.createElement(d6,Pe({},k,x),function(Z){var $=Z.ref,ne=Z.placerProps,de=ne.placement,ge=ne.maxHeight;return z.createElement(h,Pe({},k,x,{innerRef:$,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:H,placement:de}),z.createElement(zL,{captureEnabled:G,onTopArrive:Se,onBottomArrive:be,lockEnabled:V},function(Le){return z.createElement(p,Pe({},k,{innerRef:function(xe){s.getMenuListRef(xe),Le(xe)},innerProps:{role:"listbox","aria-multiselectable":k.isMulti,id:s.getElementId("listbox")},isLoading:H,maxHeight:ge,focusedOption:j}),P)}))});return I||A==="fixed"?z.createElement(v,Pe({},k,{appendTo:I,controlElement:this.controlRef,menuPlacement:T,menuPosition:A}),B):B}},{key:"renderFormField",value:function(){var s=this,l=this.props,c=l.delimiter,m=l.isDisabled,h=l.isMulti,p=l.name,v=l.required,b=this.state.selectValue;if(v&&!this.hasValue()&&!m)return z.createElement(qL,{name:p,onFocus:this.onValueInputFocus});if(!(!p||m))if(h)if(c){var S=b.map(function(j){return s.getOptionValue(j)}).join(c);return z.createElement("input",{name:p,type:"hidden",value:S})}else{var N=b.length>0?b.map(function(j,C){return z.createElement("input",{key:"i-".concat(C),name:p,type:"hidden",value:s.getOptionValue(j)})}):z.createElement("input",{name:p,type:"hidden",value:""});return z.createElement("div",null,N)}else{var k=b[0]?this.getOptionValue(b[0]):"";return z.createElement("input",{name:p,type:"hidden",value:k})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,l=this.state,c=l.ariaSelection,m=l.focusedOption,h=l.focusedValue,p=l.isFocused,v=l.selectValue,b=this.getFocusableOptions();return z.createElement(IL,Pe({},s,{id:this.getElementId("live-region"),ariaSelection:c,focusedOption:m,focusedValue:h,isFocused:p,selectValue:v,focusableOptions:b,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),l=s.Control,c=s.IndicatorsContainer,m=s.SelectContainer,h=s.ValueContainer,p=this.props,v=p.className,b=p.id,S=p.isDisabled,N=p.menuIsOpen,k=this.state.isFocused,j=this.commonProps=this.getCommonProps();return z.createElement(m,Pe({},j,{className:v,innerProps:{id:b,onKeyDown:this.onKeyDown},isDisabled:S,isFocused:k}),this.renderLiveRegion(),z.createElement(l,Pe({},j,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:S,isFocused:k,menuIsOpen:N}),z.createElement(h,Pe({},j,{isDisabled:S}),this.renderPlaceholderOrValue(),this.renderInput()),z.createElement(c,Pe({},j,{isDisabled:S}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,l){var c=l.prevProps,m=l.clearFocusValueOnUpdate,h=l.inputIsHiddenAfterUpdate,p=l.ariaSelection,v=l.isFocused,b=l.prevWasFocused,S=l.instancePrefix,N=s.options,k=s.value,j=s.menuIsOpen,C=s.inputValue,G=s.isMulti,X=WT(k),H={};if(c&&(k!==c.value||N!==c.options||j!==c.menuIsOpen||C!==c.inputValue)){var te=j?sj(s,X):[],K=j?hS(kh(s,X),"".concat(S,"-option")):[],oe=m?oj(l,X):null,D=lj(l,te),T=Og(K,D);H={selectValue:X,focusedOption:D,focusedOptionId:T,focusableOptionsWithIds:K,focusedValue:oe,clearFocusValueOnUpdate:!1}}var A=h!=null&&s!==c?{inputIsHidden:h,inputIsHiddenAfterUpdate:void 0}:{},I=p,V=v&&b;return v&&!V&&(I={value:vh(G,X,X[0]||null),options:X,action:"initial-input-focus"},V=!b),(p==null?void 0:p.action)==="initial-input-focus"&&(I=null),Ie(Ie(Ie({},H),A),{},{prevProps:s,ariaSelection:I,prevWasFocused:V})}}]),t}(z.Component);xR.defaultProps=aj;var cj=z.forwardRef(function(n,e){var t=CV(n);return z.createElement(xR,Pe({ref:e},t))}),fj=cj;const zu=Rr(Fn),hj=()=>{const[n,e]=z.useState(""),[t,i]=z.useState(""),[s,l]=z.useState([]),[c,m]=z.useState([]),[h,p]=z.useState(null),[v,b]=z.useState(!1),[S,N]=z.useState(""),[k,j]=z.useState(null),[C,G]=z.useState([]),[X,H]=z.useState([]),[te,K]=z.useState(!1),[oe,D]=z.useState(null);z.useEffect(()=>{(async()=>{try{const[P,U]=await Promise.all([wr(on(zu,"machines")),wr(on(zu,"assignments"))]),Q=P.docs.map(B=>({id:B.id,...B.data()}));l(Q);const x=U.docs.map(B=>{const Z=B.data();return{id:B.id,operator:Z.operator??"",machines:Z.machines??[],timestamp:Z.timestamp??null}});m(x)}catch(P){console.error("Error fetching data:",P)}})()},[]);const T=c.filter(q=>q.operator.toUpperCase().includes(t.toUpperCase())),A=q=>{e(q.operator),G(q.machines),H(q.machines),p(q.id??null)},I=q=>c.some(P=>P.operator.toUpperCase()===q.toUpperCase()&&P.id!==h),V=q=>{q&&(j(q),N(""),b(!0))},L=async()=>{if(S==="C4ballo.2024*"&&k)try{await pV(ts(zu,"assignments",k)),m(q=>q.filter(P=>P.id!==k)),alert("Asignación eliminada"),k===h&&(e(""),G([]),p(null))}catch(q){console.error("Error eliminando:",q),alert("Error al eliminar")}else alert("Contraseña incorrecta.");b(!1),j(null)},M=async q=>{q.preventDefault();const P=n.toUpperCase();if(I(P)&&!h){alert(`El operario "${n}" ya tiene asignada una máquina. Por favor, busque y edite esa asignación.`);return}const U={operator:P,machines:C,timestamp:wt.now()};try{if(h){const Q=ts(zu,"assignments",h);await Lx(Q,U),m(x=>x.map(B=>B.id===h?{...B,...U}:B)),alert("Asignación actualizada")}else{const Q=await bl(on(zu,"assignments"),U);m(x=>[...x,{id:Q.id,...U}]),alert("Asignación guardada")}e(""),G([]),H([]),p(null),i("")}catch(Q){console.error("Error al guardar:",Q),alert("Hubo un error al guardar")}},Se=s.filter(q=>q.abbreviation).map(q=>({value:q.abbreviation,label:q.abbreviation})),be=q=>{h&&C.includes(q)?(D(q),K(!0)):G(P=>P.filter(U=>U!==q))};return _.jsxs("div",{className:"p-6 rounded-lg shadow-md w-full max-w-full mx-auto backgroundForm",children:[_.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Asignar Máquinas a operarios"}),_.jsxs("form",{onSubmit:M,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block mb-1 text-white",children:"Operario"}),_.jsx("input",{type:"text",value:n,onChange:q=>e(q.target.value),className:"w-full border px-3 bg-gray-200 py-2 rounded-md",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block mb-1 text-white",children:"Seleccionar máquinas"}),_.jsx(fj,{isMulti:!0,options:Se,value:C.map(q=>({value:q,label:q})),placeholder:"Buscar y seleccionar máquinas...",className:"z-0",onKeyDown:q=>{q.key==="Backspace"&&h&&C.length>0&&(be(C[C.length-1]),q.preventDefault())},onFocus:()=>{H(C)},onChange:q=>{const P=Array.isArray(q)?q.map(Q=>Q.value):[],U=X.filter(Q=>!P.includes(Q));if(U.length>0&&h){D(U[0]),K(!0);return}G(P)}})]}),_.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:h?"Actualizar":"Asignar máquinas"})]}),_.jsxs("div",{className:"bg-gray-700 p-3 mt-5",children:[_.jsxs("div",{className:"mb-4 mt-5 ",children:[_.jsx("label",{className:"block mb-1 text-white",children:"Buscar Código de Operario"}),_.jsx("input",{type:"text",placeholder:"Buscar...",value:t,onChange:q=>i(q.target.value),className:"w-full border px-3 bg-gray-200 py-2 rounded-md"})]}),_.jsxs("div",{className:"mt-8",children:[_.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Operarios y sus asignaciones"}),T.length===0?_.jsx("p",{className:"text-white",children:"No hay coincidencias."}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.map(q=>_.jsxs("div",{className:"bg-gray-800 p-4 rounded shadow hover:shadow-lg transition-shadow duration-300 relative",children:[_.jsx("h4",{className:"text-xl font-semibold mb-2 text-white",children:q.operator}),_.jsxs("p",{className:"mb-1 text-white",children:[_.jsx("strong",{children:"Máquinas:"})," ",_.jsx("small",{className:"font-bold text-emerald-500",children:q.machines.join(", ")})]}),_.jsxs("p",{className:"mb-1 text-white",children:[_.jsx("strong",{children:"Fecha:"})," ",q.timestamp?new Date(q.timestamp.seconds*1e3).toLocaleString():"Sin fecha"]}),_.jsxs("div",{className:"flex space-x-2 mt-2",children:[_.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded",onClick:()=>A(q),children:"Editar"}),_.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded",onClick:()=>V(q.id),children:"Eliminar"})]})]},q.id))})]})]}),v&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:_.jsxs("div",{className:"bg-white p-6 rounded shadow max-w-sm w-full",children:[_.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Ingrese la contraseña para eliminar"}),_.jsx("input",{type:"password",className:"w-full border px-3 py-2 rounded mb-4",value:S,onChange:q=>N(q.target.value),placeholder:"Contraseña"}),_.jsxs("div",{className:"flex justify-end space-x-2",children:[_.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded",onClick:()=>{b(!1),D(null),K(!1),N("")},children:"Cancelar"}),_.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded",onClick:L,children:"Confirmar"})]})]})}),te&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:_.jsxs("div",{className:"bg-white p-6 rounded shadow max-w-sm w-full",children:[_.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Ingrese la contraseña para quitar la máquina"}),_.jsx("input",{type:"password",className:"w-full border px-3 py-2 rounded mb-4",value:S,onChange:q=>N(q.target.value),placeholder:"Contraseña"}),_.jsxs("div",{className:"flex justify-end space-x-2",children:[_.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded",onClick:()=>{K(!1),D(null),N("")},children:"Cancelar"}),_.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded",onClick:()=>{S==="C4ballo.2024*"?oe&&G(q=>q.filter(P=>P!==oe)):alert("Contraseña incorrecta"),K(!1),D(null),N("")},children:"Confirmar"})]})]})})]})};function mS(){return _.jsx(_.Fragment,{children:_.jsx(hj,{})})}const dj=[{title:"Registrar",slug:"f1315"},{title:"Ver registros",slug:"eficence"}];function mj({item:n}){return _.jsx(Td,{to:`/picado/${n.slug}`,children:_.jsx("button",{className:"button",children:n.title})})}const pj=()=>_.jsx(_.Fragment,{children:_.jsxs("div",{className:"flex flex-col items-center p-4 space-y-6 md:space-y-8",children:[_.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:dj.map((n,e)=>_.jsx(mj,{item:n},e))}),_.jsx("div",{className:"w-full ",children:_.jsx(Zv,{})})]})}),gj=({registrosFiltrados:n,machineStandards:e})=>{const t=n.reduce((v,b)=>(b.machines.forEach(S=>{const N=parseFloat(S.horometroFinal)||0,k=parseFloat(S.horometroInicial)||0,j=N-k,C=parseFloat(e[S.machine]||"0"),G=typeof S.horasAsignadas=="string"?parseFloat(S.horasAsignadas):S.horasAsignadas||0,X=C>0?j-C*G:0;v[b.operatorCode]||(v[b.operatorCode]={name:b.operatorName||b.operatorCode,code:b.operatorCode,totalEficiencia:0,count:0}),v[b.operatorCode].totalEficiencia+=X,v[b.operatorCode].count+=1}),v),{}),i=Object.values(t).map(v=>({...v,eficienciaPromedio:v.count>0?v.totalEficiencia/v.count:0})).sort((v,b)=>b.eficienciaPromedio-v.eficienciaPromedio);if(i.length===0)return null;const s=i.filter(v=>v.eficienciaPromedio>0).map(v=>v.eficienciaPromedio),l=i.filter(v=>v.eficienciaPromedio<0).map(v=>v.eficienciaPromedio),c=Math.max(...s,.1),m=Math.min(...l,-.1),h=["bg-green-300","bg-green-400","bg-green-500","bg-green-600","bg-green-700"],p=["bg-red-300","bg-red-400","bg-red-500","bg-red-600","bg-red-700"];return _.jsxs("div",{className:"my-6",children:[_.jsx("h3",{className:"text-lg font-semibold mb-2 text-center",children:"posiciones de los operarios"}),_.jsx("div",{className:"flex items-center justify-center space-x-4 overflow-x-auto py-4",children:i.map((v,b)=>{let S="bg-gray-400";if(v.eficienciaPromedio>0){const N=Math.min(Math.floor(v.eficienciaPromedio/c*(h.length-1)),h.length-1);S=h[N]}else if(v.eficienciaPromedio<0){const N=Math.min(Math.floor(v.eficienciaPromedio/m*(p.length-1)),p.length-1);S=p[N]}return _.jsxs("div",{className:"flex flex-col items-center mx-2",children:[_.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold 
                  shadow-md border-2 ${b===0?"border-yellow-400":"border-transparent"} ${S}`,style:{transform:b===0?"scale(1.1)":"scale(1)"},children:v.code}),_.jsx("strong",{className:"text-lg text-gray-500",children:b+1})]},v.code)})})]})},Ng=Rr(Fn),Dg=()=>{const[n,e]=z.useState([]),[t,i]=z.useState({}),[s,l]=z.useState(""),[c,m]=z.useState(""),[h,p]=z.useState(()=>new Date().toISOString().slice(0,7)),[v,b]=z.useState(""),[S,N]=z.useState(null),[k,j]=z.useState({horometroInicial:"",horometroFinal:"",horasAsignadas:"",reference:"",paradasMayores:"",observaciones:""}),[C,G]=z.useState(!1),X=async()=>{try{const P=await wr(on(Ng,"machines")),U={};P.forEach(Q=>{const x=Q.data();x.abbreviation&&x.efficiency&&(U[x.abbreviation]=x.efficiency)}),i(U)}catch(P){console.error("Error fetching machine standards:",P)}},H=P=>{if(!P)return"";const U=new Date(P),Q=String(U.getDate()).padStart(2,"0"),x=String(U.getMonth()+1).padStart(2,"0"),B=U.getFullYear(),Z=String(U.getHours()).padStart(2,"0"),$=String(U.getMinutes()).padStart(2,"0");return`${Q}/${x}/${B} ${Z}:${$}`};z.useEffect(()=>{(async()=>{try{const Q=(await wr(on(Ng,"registro_horometros"))).docs.map(x=>({id:x.id,...x.data(),timestamp:x.data().timestamp||x.data().fecha}));e(Q)}catch(U){console.error("Error fetching registros:",U)}})(),X()},[]);const te=Array.from(new Set(n.map(P=>P.operatorCode))),K=(P,U)=>{const Q=n.find(x=>x.id===P);if(Q&&Q.machines[U]){const x=Q.machines[U];j({horometroInicial:x.horometroInicial||"",horometroFinal:x.horometroFinal||"",horasAsignadas:x.horasAsignadas||"",reference:x.reference||"",paradasMayores:x.paradasMayores||"",observaciones:x.observaciones||""}),N(`${P}-${U}`)}},oe=()=>{N(null),j({horometroInicial:"",horometroFinal:"",horasAsignadas:"",reference:"",paradasMayores:"",observaciones:""})},D=(P,U)=>{j(Q=>({...Q,[P]:U}))},T=async(P,U)=>{G(!0);try{const Q=ts(Ng,"registro_horometros",P),x=n.find(Z=>Z.id===P);if(!x)throw new Error("Registro no encontrado");const B=[...x.machines];B[U]={...B[U],...k},await Lx(Q,{machines:B,updatedAt:new Date().toISOString()}),e(Z=>Z.map($=>$.id===P?{...$,machines:B}:$)),oe(),alert("Cambios guardados correctamente ✅")}catch(Q){console.error("Error al guardar cambios:",Q),alert("Error al guardar los cambios. Por favor, intente nuevamente.")}finally{G(!1)}},A=n.filter(P=>{if(s){const U=new Date(P.fecha),Q=U.getFullYear(),x=String(U.getMonth()+1).padStart(2,"0"),B=String(U.getDate()).padStart(2,"0");return`${Q}-${x}-${B}`===s}return!0}).filter(P=>c?P.machines.some(U=>U.machine===c):!0).filter(P=>v?P.operatorCode===v:!0).sort((P,U)=>{const Q=P.timestamp?new Date(P.timestamp).getTime():new Date(P.fecha).getTime();return(U.timestamp?new Date(U.timestamp).getTime():new Date(U.fecha).getTime())-Q}).filter(P=>h?P.fecha.slice(0,7)===h:!0),I=P=>{const U=parseFloat(P);return isNaN(U)?"0.00":U.toFixed(2)},V=()=>{const P=["Fecha","Máquina","Código Operario","Horómetro Inicial","Horómetro Final","Referencia","Paradas Mayores","Observaciones","Horas Asignadas","Horas Trabajadas","Estándar","Estandar en horas","Eficiencia (horas)","Estado"],U=A.flatMap($=>$.machines.filter(ne=>!c||ne.machine===c).map(ne=>{const de=parseFloat(ne.horometroFinal)||0,ge=parseFloat(ne.horometroInicial)||0,Le=de-ge,pe=parseFloat(t[ne.machine]||"0"),xe=parseFloat(ne.horasAsignadas)||0,Ve=Le-pe*xe;return{Fecha:H($.fecha),Máquina:ne.machine,"Código Operario":$.operatorCode,"Horómetro Inicial":ne.horometroInicial||"0.00","Horómetro Final":ne.horometroFinal||"0.00",Referencia:ne.reference||"N/A","Paradas Mayores":ne.paradasMayores||"0.00",Observaciones:ne.observaciones||"","Horas Asignadas":I(ne.horasAsignadas||"0"),"Horas Trabajadas":Le.toFixed(2),Estándar:pe,"Estandar en horas":(pe*xe).toFixed(2),"Eficiencia (horas)":Ve.toFixed(2),Estado:$.estado||"Pendiente"}})),Q=[P.join(","),...U.map($=>P.map(ne=>{const de=$[ne];return["Horómetro Inicial","Horómetro Final","Paradas Mayores","Horas Asignadas","Horas Trabajadas","Estándar","Estandar en horas","Eficiencia (horas)"].includes(ne)?String(de):`"${String(de||"").replace(/"/g,'""')}"`}).join(","))].join(`
`),x=new Blob([Q],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a"),Z=URL.createObjectURL(x);B.setAttribute("href",Z),B.setAttribute("download",`eficiencia_picado_${new Date().toISOString().slice(0,10)}.csv`),B.style.visibility="hidden",document.body.appendChild(B),B.click(),document.body.removeChild(B)},L=A.reduce((P,U)=>(U.machines.forEach(Q=>{const x=parseFloat(Q.horasAsignadas);P+=isNaN(x)?0:x}),P),0),M=A.reduce((P,U)=>(U.machines.forEach(Q=>{const x=parseFloat(Q.horometroFinal)||0,B=parseFloat(Q.horometroInicial)||0;P+=x-B}),P),0),Se=A.reduce((P,U)=>(U.machines.forEach(Q=>{const x=parseFloat(Q.horasAsignadas),B=parseFloat(t[Q.machine]||"0");P+=x*B}),P),0),be=M-Se,q=A.reduce((P,U)=>(U.machines.forEach(Q=>{const x=parseFloat(t[Q.machine]||"0"),B=parseFloat(Q.horasAsignadas)||0;x>0&&(P+=x*B)}),P),0);return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"p-6 w-full bg-white rounded-lg border border-gray-200 shadow-lg overflow-x-auto relative",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800",children:"Reporte de Eficiencia Picado"}),_.jsxs("button",{onClick:V,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg shadow cursor-pointer flex items-center",children:[_.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Exportar CSV"]})]}),_.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[_.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"Filtros"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filtrar por día:"}),_.jsx("input",{type:"date",value:s,onChange:P=>l(P.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filtrar por máquina:"}),_.jsxs("select",{value:c,onChange:P=>m(P.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[_.jsx("option",{value:"",children:"Todas las máquinas"}),Array.from(new Set(n.flatMap(P=>P.machines.map(U=>U.machine)))).map(P=>_.jsx("option",{value:P,children:P},P))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filtrar por mes:"}),_.jsx("input",{type:"month",value:h,onChange:P=>p(P.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filtrar por operario:"}),_.jsxs("select",{value:v,onChange:P=>b(P.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[_.jsx("option",{value:"",children:"Todos los operarios"}),te.map(P=>_.jsx("option",{value:P,children:P},P))]})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[_.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg shadow-sm border border-blue-200",children:[_.jsx("p",{className:"font-semibold text-blue-800 text-sm",children:"Total Horas Asignadas"}),_.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[L.toFixed(2)," horas"]})]}),_.jsxs("div",{className:"bg-green-100 p-4 rounded-lg shadow-sm border border-green-200",children:[_.jsx("p",{className:"font-semibold text-green-800 text-sm",children:"Total Horas Trabajadas"}),_.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[M.toFixed(2)," horas"]})]}),_.jsxs("div",{className:"bg-purple-100 p-4 rounded-lg shadow-sm border border-purple-200",children:[_.jsx("p",{className:"font-semibold text-purple-800 text-sm",children:"Total Estandar en Horas"}),_.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[q.toFixed(2)," horas"]})]}),_.jsxs("div",{className:`p-4 rounded-lg shadow-sm border ${be>=0?"bg-green-100 border-green-200":"bg-red-100 border-red-200"}`,children:[_.jsx("p",{className:"font-semibold text-sm",children:"Eficiencia Total"}),_.jsxs("p",{className:`text-2xl font-bold ${be>=0?"text-green-600":"text-red-600"}`,children:[be.toFixed(2)," horas"]}),_.jsx("p",{className:"text-sm mt-1",children:_.jsxs("strong",{children:["Porcentaje:"," ",q>0&&!isNaN(M)?((M/q-1)*100).toFixed(2):"0.00","%"]})})]})]}),_.jsxs("p",{className:"mb-4 text-sm text-gray-600 bg-gray-100 p-2 rounded-lg",children:["Total de registros: ",A.length," | Total de ítems:"," ",A.flatMap(P=>P.machines.filter(U=>!c||U.machine===c)).length]}),_.jsx(gj,{registrosFiltrados:A,machineStandards:t}),_.jsx("div",{className:"overflow-x-auto w-full rounded-lg border border-gray-200 shadow-sm",style:{maxHeight:"70vh"},children:_.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[_.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Máquina"}),_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operario"}),_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"H. Inicial"}),_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"H. Final"}),_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Referencia"}),_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paradas"}),_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Obs."}),_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"H. Asignadas"}),_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"H. Trabajadas"}),_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estandar H."}),_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estandar"}),_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Eficiencia"}),_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),_.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),_.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(P=>_.jsxs(_.Fragment,{children:[_.jsx("tr",{className:"bg-blue-50",children:_.jsx("td",{colSpan:15,className:"px-4 py-3 font-medium text-blue-800",children:_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{children:["Registro: ",H(P.fecha)," - Operario:"," ",P.operatorCode," - ",P.operatorName]}),_.jsx("div",{className:"flex items-center space-x-2",children:_.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${P.estado==="Revisado"?"bg-green-100 text-green-800":P.estado==="Rechazado"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:P.estado||"Pendiente"})})]})})},`header-${P.id}`),P.machines.filter(U=>!c||U.machine===c).map((U,Q)=>{const x=`${P.id}-${Q}`,B=S===x,Z=parseFloat(U.horometroFinal),$=parseFloat(U.horometroInicial),ne=isNaN(Z)||isNaN($)?0:Z-$,de=t[U.machine]??"0",ge=parseFloat(de),Le=parseFloat(U.horasAsignadas);let pe=0;!isNaN(ne)&&!isNaN(ge)&&!isNaN(Le)&&(pe=ne-ge*Le);let xe="";return pe>0?xe="bg-green-50":pe<=0&&pe>-1?xe="bg-yellow-50":pe<=-1&&pe>=-100&&(xe="bg-red-50"),_.jsxs("tr",{className:`hover:bg-gray-50 ${xe}`,children:[_.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:H(P.fecha)}),_.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:U.machine}),_.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:P.operatorCode}),_.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:B?_.jsx("input",{type:"number",step:"0.01",value:k.horometroInicial,onChange:Ve=>D("horometroInicial",Ve.target.value),className:"w-20 border border-gray-300 rounded px-2 py-1"}):U.horometroInicial&&U.horometroInicial.trim()!==""?parseFloat(U.horometroInicial).toFixed(2):"0.00"}),_.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:B?_.jsx("input",{type:"number",step:"0.01",value:k.horometroFinal,onChange:Ve=>D("horometroFinal",Ve.target.value),className:"w-20 border border-gray-300 rounded px-2 py-1"}):U.horometroFinal&&U.horometroFinal.trim()!==""?parseFloat(U.horometroFinal).toFixed(2):"0.00"}),_.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:B?_.jsx("input",{type:"text",value:k.reference,onChange:Ve=>D("reference",Ve.target.value),className:"w-24 border border-gray-300 rounded px-2 py-1"}):U.reference?U.reference:"N/A"}),_.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:B?_.jsx("input",{type:"number",step:"0.01",value:k.paradasMayores,onChange:Ve=>D("paradasMayores",Ve.target.value),className:"w-20 border border-gray-300 rounded px-2 py-1"}):U.paradasMayores&&U.paradasMayores.trim()!==""?U.paradasMayores:"0.00"}),_.jsx("td",{className:"px-4 py-3",children:B?_.jsx("textarea",{value:k.observaciones,onChange:Ve=>D("observaciones",Ve.target.value),className:"w-32 border border-gray-300 rounded px-2 py-1",rows:2}):_.jsx("div",{className:"max-w-xs truncate",title:U.observaciones,children:U.observaciones})}),_.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:B?_.jsx("input",{type:"number",step:"0.01",value:k.horasAsignadas,onChange:Ve=>D("horasAsignadas",Ve.target.value),className:"w-20 border border-gray-300 rounded px-2 py-1"}):I(U.horasAsignadas)}),_.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:ne.toFixed(2)}),_.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t[U.machine]&&parseFloat(t[U.machine])>0?(parseFloat(t[U.machine]||"0")*parseFloat(U.horasAsignadas)).toFixed(2):"N/A"}),_.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t[U.machine]??"N/A"}),_.jsx("td",{className:"px-4 py-3 whitespace-nowrap font-medium",children:_.jsx("span",{className:pe>=0?"text-green-600":"text-red-600",children:pe.toFixed(2)})}),_.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:_.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${P.estado==="Revisado"?"bg-green-100 text-green-800":P.estado==="Rechazado"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:P.estado||"Pendiente"})}),_.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:B?_.jsxs("div",{className:"flex space-x-2",children:[_.jsx("button",{onClick:()=>T(P.id,Q),disabled:C,className:"bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded text-xs",children:C?"Guardando...":"Guardar"}),_.jsx("button",{onClick:oe,className:"bg-gray-500 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs",children:"Cancelar"})]}):_.jsx("button",{onClick:()=>K(P.id,Q),className:"bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded text-xs",children:"Editar"})})]},`${P.id}-${Q}`)})]}))})]})})]})})},vj=[{title:"Operarios",subtitle:"Gestión de tareas y seguimiento de operarios",url:"/picado"},{title:"Asignaciones",subtitle:"Asigna maquinas a operarios",url:"/supervisor"},{title:"Configuracion",subtitle:"Crearción de maquinas, usuarios y edición de registros",url:"/configurations"}],yj="/assets/user-Ckodi9qk.png",pS=Id(Fn),_j=Rr(Fn),bj=vj,Ej=({openMenu:n})=>{const[e,t]=z.useState({user:null,photoURL:null}),i=wc();z.useEffect(()=>{const l=Xw(pS,async c=>{if(c){const m=ts(_j,"users",c.uid),h=await od(m),p=h.exists()?h.data().role:null;t({user:c.displayName||c.email||c.uid,photoURL:c.photoURL||null,role:p||null})}else t({user:null,photoURL:null,role:null})});return()=>{l()}},[]);const s=()=>{YD(pS).then(()=>{console.log("Sesion cerrada correctamente"),i("/")}).catch(l=>{console.log(l)})};return _.jsx(_.Fragment,{children:_.jsxs("div",{id:"menu",className:"bg-gray-900 min-h-screen z-10 text-slate-300 w-64 fixed top-0 h-screen overflow-y-scroll transition-transform duration-300 ease-in-out  translate-x-1 right-1",children:[_.jsx("div",{id:"logo",className:"my-4 px-6",children:_.jsxs("h1",{className:"text-lg md:text-2xl font-bold text-white",children:["El Caballo",_.jsx("span",{className:"text-blue-500",children:"S.A"}),"."]})}),_.jsxs("div",{id:"profile",className:"px-6 py-10",children:[_.jsx("p",{className:"text-slate-500",children:"Bienvenido,"}),_.jsxs("a",{href:"#",className:"inline-flex space-x-2 items-center",children:[_.jsx("span",{children:e.photoURL?_.jsx("img",{className:"rounded-full w-full h-auto",src:e.photoURL,alt:""}):_.jsx("div",{children:_.jsx("img",{className:"w-16",src:yj,alt:"Foto de Usuario"})})}),_.jsx("span",{className:"text-sm md:text-base font-bold",children:e.user?_.jsxs(_.Fragment,{children:[_.jsx("p",{children:e.user}),_.jsx("span",{className:"text-xs text-slate-400 italic",children:e.role?e.role:"Sin rol"})]}):_.jsx("p",{children:"No hay usuario autenticado"})})]})]}),_.jsx("div",{className:"flex justify-center items-center pb-5",children:_.jsx("button",{onClick:s,className:"bg-red-600 w-full rounded-2xl mx-5 hover:bg-white/8 cursor-pointer",children:"Salir"})}),_.jsx("div",{id:"nav",className:"w-full px-6",children:bj.map((l,c)=>_.jsx(Td,{to:l.url,className:"w-full px-2 inline-flex space-x-2 items-center border-b border-slate-700 py-3 hover:bg-white/5 transition ease-linear duration-150",children:_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"text-lg font-bold leading-5 text-white",children:l.title}),_.jsx("span",{className:"text-sm text-white/50 hidden md:block",children:l.subtitle})]})},c))})]})})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Tj={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},Sj={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function wj(n,e,t){return(e=xj(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function me(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(t),!0).forEach(function(i){wj(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Aj(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function xj(n){var e=Aj(n,"string");return typeof e=="symbol"?e:e+""}const vS=()=>{};let c0={},RR={},CR=null,IR={mark:vS,measure:vS};try{typeof window<"u"&&(c0=window),typeof document<"u"&&(RR=document),typeof MutationObserver<"u"&&(CR=MutationObserver),typeof performance<"u"&&(IR=performance)}catch{}const{userAgent:yS=""}=c0.navigator||{},ns=c0,At=RR,_S=CR,yh=IR;ns.document;const ra=!!At.documentElement&&!!At.head&&typeof At.addEventListener=="function"&&typeof At.createElement=="function",OR=~yS.indexOf("MSIE")||~yS.indexOf("Trident/");var Rj=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Cj=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,NR={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},Ij={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},DR=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Dn="classic",tm="duotone",Oj="sharp",Nj="sharp-duotone",PR=[Dn,tm,Oj,Nj],Dj={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Pj={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},Mj=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),kj={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Vj=["fak","fa-kit","fakd","fa-kit-duotone"],bS={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Lj=["kit"],jj={kit:{"fa-kit":"fak"}},Uj=["fak","fakd"],Fj={kit:{fak:"fa-kit"}},ES={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},_h={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},zj=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Bj=["fak","fa-kit","fakd","fa-kit-duotone"],Hj={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},qj={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},$j={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Cv={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Gj=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Iv=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...zj,...Gj],Yj=["solid","regular","light","thin","duotone","brands"],MR=[1,2,3,4,5,6,7,8,9,10],Kj=MR.concat([11,12,13,14,15,16,17,18,19,20]),Qj=[...Object.keys($j),...Yj,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",_h.GROUP,_h.SWAP_OPACITY,_h.PRIMARY,_h.SECONDARY].concat(MR.map(n=>"".concat(n,"x"))).concat(Kj.map(n=>"w-".concat(n))),Xj={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const ea="___FONT_AWESOME___",Ov=16,kR="fa",VR="svg-inline--fa",Js="data-fa-i2svg",Nv="data-fa-pseudo-element",Wj="data-fa-pseudo-element-pending",f0="data-prefix",h0="data-icon",TS="fontawesome-i2svg",Zj="async",Jj=["HTML","HEAD","STYLE","SCRIPT"],LR=(()=>{try{return!0}catch{return!1}})();function Lc(n){return new Proxy(n,{get(e,t){return t in e?e[t]:e[Dn]}})}const jR=me({},NR);jR[Dn]=me(me(me(me({},{"fa-duotone":"duotone"}),NR[Dn]),bS.kit),bS["kit-duotone"]);const e5=Lc(jR),Dv=me({},kj);Dv[Dn]=me(me(me(me({},{duotone:"fad"}),Dv[Dn]),ES.kit),ES["kit-duotone"]);const SS=Lc(Dv),Pv=me({},Cv);Pv[Dn]=me(me({},Pv[Dn]),Fj.kit);const d0=Lc(Pv),Mv=me({},qj);Mv[Dn]=me(me({},Mv[Dn]),jj.kit);Lc(Mv);const t5=Rj,UR="fa-layers-text",n5=Cj,r5=me({},Dj);Lc(r5);const i5=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Pg=Ij,a5=[...Lj,...Qj],ic=ns.FontAwesomeConfig||{};function s5(n){var e=At.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function o5(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}At&&typeof At.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,i]=e;const s=o5(s5(t));s!=null&&(ic[i]=s)});const FR={styleDefault:"solid",familyDefault:Dn,cssPrefix:kR,replacementClass:VR,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ic.familyPrefix&&(ic.cssPrefix=ic.familyPrefix);const Tl=me(me({},FR),ic);Tl.autoReplaceSvg||(Tl.observeMutations=!1);const Te={};Object.keys(FR).forEach(n=>{Object.defineProperty(Te,n,{enumerable:!0,set:function(e){Tl[n]=e,ac.forEach(t=>t(Te))},get:function(){return Tl[n]}})});Object.defineProperty(Te,"familyPrefix",{enumerable:!0,set:function(n){Tl.cssPrefix=n,ac.forEach(e=>e(Te))},get:function(){return Tl.cssPrefix}});ns.FontAwesomeConfig=Te;const ac=[];function l5(n){return ac.push(n),()=>{ac.splice(ac.indexOf(n),1)}}const Pa=Ov,si={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function u5(n){if(!n||!ra)return;const e=At.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;const t=At.head.childNodes;let i=null;for(let s=t.length-1;s>-1;s--){const l=t[s],c=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(i=l)}return At.head.insertBefore(e,i),n}const c5="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ec(){let n=12,e="";for(;n-- >0;)e+=c5[Math.random()*62|0];return e}function Nl(n){const e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function m0(n){return n.classList?Nl(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function zR(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f5(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(zR(n[t]),'" '),"").trim()}function nm(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function p0(n){return n.size!==si.size||n.x!==si.x||n.y!==si.y||n.rotate!==si.rotate||n.flipX||n.flipY}function h5(n){let{transform:e,containerWidth:t,iconWidth:i}=n;const s={transform:"translate(".concat(t/2," 256)")},l="translate(".concat(e.x*32,", ").concat(e.y*32,") "),c="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),m="rotate(".concat(e.rotate," 0 0)"),h={transform:"".concat(l," ").concat(c," ").concat(m)},p={transform:"translate(".concat(i/2*-1," -256)")};return{outer:s,inner:h,path:p}}function d5(n){let{transform:e,width:t=Ov,height:i=Ov,startCentered:s=!1}=n,l="";return s&&OR?l+="translate(".concat(e.x/Pa-t/2,"em, ").concat(e.y/Pa-i/2,"em) "):s?l+="translate(calc(-50% + ".concat(e.x/Pa,"em), calc(-50% + ").concat(e.y/Pa,"em)) "):l+="translate(".concat(e.x/Pa,"em, ").concat(e.y/Pa,"em) "),l+="scale(".concat(e.size/Pa*(e.flipX?-1:1),", ").concat(e.size/Pa*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var m5=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function BR(){const n=kR,e=VR,t=Te.cssPrefix,i=Te.replacementClass;let s=m5;if(t!==n||i!==e){const l=new RegExp("\\.".concat(n,"\\-"),"g"),c=new RegExp("\\--".concat(n,"\\-"),"g"),m=new RegExp("\\.".concat(e),"g");s=s.replace(l,".".concat(t,"-")).replace(c,"--".concat(t,"-")).replace(m,".".concat(i))}return s}let wS=!1;function Mg(){Te.autoAddCss&&!wS&&(u5(BR()),wS=!0)}var p5={mixout(){return{dom:{css:BR,insertCss:Mg}}},hooks(){return{beforeDOMElementCreation(){Mg()},beforeI2svg(){Mg()}}}};const ta=ns||{};ta[ea]||(ta[ea]={});ta[ea].styles||(ta[ea].styles={});ta[ea].hooks||(ta[ea].hooks={});ta[ea].shims||(ta[ea].shims=[]);var oi=ta[ea];const HR=[],qR=function(){At.removeEventListener("DOMContentLoaded",qR),gd=1,HR.map(n=>n())};let gd=!1;ra&&(gd=(At.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(At.readyState),gd||At.addEventListener("DOMContentLoaded",qR));function g5(n){ra&&(gd?setTimeout(n,0):HR.push(n))}function jc(n){const{tag:e,attributes:t={},children:i=[]}=n;return typeof n=="string"?zR(n):"<".concat(e," ").concat(f5(t),">").concat(i.map(jc).join(""),"</").concat(e,">")}function AS(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var kg=function(e,t,i,s){var l=Object.keys(e),c=l.length,m=t,h,p,v;for(i===void 0?(h=1,v=e[l[0]]):(h=0,v=i);h<c;h++)p=l[h],v=m(v,e[p],p,e);return v};function v5(n){const e=[];let t=0;const i=n.length;for(;t<i;){const s=n.charCodeAt(t++);if(s>=55296&&s<=56319&&t<i){const l=n.charCodeAt(t++);(l&64512)==56320?e.push(((s&1023)<<10)+(l&1023)+65536):(e.push(s),t--)}else e.push(s)}return e}function kv(n){const e=v5(n);return e.length===1?e[0].toString(16):null}function y5(n,e){const t=n.length;let i=n.charCodeAt(e),s;return i>=55296&&i<=56319&&t>e+1&&(s=n.charCodeAt(e+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}function xS(n){return Object.keys(n).reduce((e,t)=>{const i=n[t];return!!i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function Vv(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:i=!1}=t,s=xS(e);typeof oi.hooks.addPack=="function"&&!i?oi.hooks.addPack(n,xS(e)):oi.styles[n]=me(me({},oi.styles[n]||{}),s),n==="fas"&&Vv("fa",e)}const{styles:Tc,shims:_5}=oi,$R=Object.keys(d0),b5=$R.reduce((n,e)=>(n[e]=Object.keys(d0[e]),n),{});let g0=null,GR={},YR={},KR={},QR={},XR={};function E5(n){return~a5.indexOf(n)}function T5(n,e){const t=e.split("-"),i=t[0],s=t.slice(1).join("-");return i===n&&s!==""&&!E5(s)?s:null}const WR=()=>{const n=i=>kg(Tc,(s,l,c)=>(s[c]=kg(l,i,{}),s),{});GR=n((i,s,l)=>(s[3]&&(i[s[3]]=l),s[2]&&s[2].filter(m=>typeof m=="number").forEach(m=>{i[m.toString(16)]=l}),i)),YR=n((i,s,l)=>(i[l]=l,s[2]&&s[2].filter(m=>typeof m=="string").forEach(m=>{i[m]=l}),i)),XR=n((i,s,l)=>{const c=s[2];return i[l]=l,c.forEach(m=>{i[m]=l}),i});const e="far"in Tc||Te.autoFetchSvg,t=kg(_5,(i,s)=>{const l=s[0];let c=s[1];const m=s[2];return c==="far"&&!e&&(c="fas"),typeof l=="string"&&(i.names[l]={prefix:c,iconName:m}),typeof l=="number"&&(i.unicodes[l.toString(16)]={prefix:c,iconName:m}),i},{names:{},unicodes:{}});KR=t.names,QR=t.unicodes,g0=rm(Te.styleDefault,{family:Te.familyDefault})};l5(n=>{g0=rm(n.styleDefault,{family:Te.familyDefault})});WR();function v0(n,e){return(GR[n]||{})[e]}function S5(n,e){return(YR[n]||{})[e]}function qs(n,e){return(XR[n]||{})[e]}function ZR(n){return KR[n]||{prefix:null,iconName:null}}function w5(n){const e=QR[n],t=v0("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function rs(){return g0}const JR=()=>({prefix:null,iconName:null,rest:[]});function A5(n){let e=Dn;const t=$R.reduce((i,s)=>(i[s]="".concat(Te.cssPrefix,"-").concat(s),i),{});return PR.forEach(i=>{(n.includes(t[i])||n.some(s=>b5[i].includes(s)))&&(e=i)}),e}function rm(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=Dn}=e,i=e5[t][n];if(t===tm&&!n)return"fad";const s=SS[t][n]||SS[t][i],l=n in oi.styles?n:null;return s||l||null}function x5(n){let e=[],t=null;return n.forEach(i=>{const s=T5(Te.cssPrefix,i);s?t=s:i&&e.push(i)}),{iconName:t,rest:e}}function RS(n){return n.sort().filter((e,t,i)=>i.indexOf(e)===t)}function im(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let i=null;const s=Iv.concat(Bj),l=RS(n.filter(b=>s.includes(b))),c=RS(n.filter(b=>!Iv.includes(b))),m=l.filter(b=>(i=b,!DR.includes(b))),[h=null]=m,p=A5(l),v=me(me({},x5(c)),{},{prefix:rm(h,{family:p})});return me(me(me({},v),O5({values:n,family:p,styles:Tc,config:Te,canonical:v,givenPrefix:i})),R5(t,i,v))}function R5(n,e,t){let{prefix:i,iconName:s}=t;if(n||!i||!s)return{prefix:i,iconName:s};const l=e==="fa"?ZR(s):{},c=qs(i,s);return s=l.iconName||c||s,i=l.prefix||i,i==="far"&&!Tc.far&&Tc.fas&&!Te.autoFetchSvg&&(i="fas"),{prefix:i,iconName:s}}const C5=PR.filter(n=>n!==Dn||n!==tm),I5=Object.keys(Cv).filter(n=>n!==Dn).map(n=>Object.keys(Cv[n])).flat();function O5(n){const{values:e,family:t,canonical:i,givenPrefix:s="",styles:l={},config:c={}}=n,m=t===tm,h=e.includes("fa-duotone")||e.includes("fad"),p=c.familyDefault==="duotone",v=i.prefix==="fad"||i.prefix==="fa-duotone";if(!m&&(h||p||v)&&(i.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(i.prefix="fab"),!i.prefix&&C5.includes(t)&&(Object.keys(l).find(S=>I5.includes(S))||c.autoFetchSvg)){const S=Mj.get(t).defaultShortPrefixId;i.prefix=S,i.iconName=qs(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||s==="fa")&&(i.prefix=rs()||"fas"),i}class N5{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const s=t.reduce(this._pullDefinitions,{});Object.keys(s).forEach(l=>{this.definitions[l]=me(me({},this.definitions[l]||{}),s[l]),Vv(l,s[l]);const c=d0[Dn][l];c&&Vv(c,s[l]),WR()})}reset(){this.definitions={}}_pullDefinitions(e,t){const i=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(i).map(s=>{const{prefix:l,iconName:c,icon:m}=i[s],h=m[2];e[l]||(e[l]={}),h.length>0&&h.forEach(p=>{typeof p=="string"&&(e[l][p]=m)}),e[l][c]=m}),e}}let CS=[],sl={};const dl={},D5=Object.keys(dl);function P5(n,e){let{mixoutsTo:t}=e;return CS=n,sl={},Object.keys(dl).forEach(i=>{D5.indexOf(i)===-1&&delete dl[i]}),CS.forEach(i=>{const s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(l=>{typeof s[l]=="function"&&(t[l]=s[l]),typeof s[l]=="object"&&Object.keys(s[l]).forEach(c=>{t[l]||(t[l]={}),t[l][c]=s[l][c]})}),i.hooks){const l=i.hooks();Object.keys(l).forEach(c=>{sl[c]||(sl[c]=[]),sl[c].push(l[c])})}i.provides&&i.provides(dl)}),t}function Lv(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];return(sl[n]||[]).forEach(c=>{e=c.apply(null,[e,...i])}),e}function eo(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(sl[n]||[]).forEach(l=>{l.apply(null,t)})}function is(){const n=arguments[0],e=Array.prototype.slice.call(arguments,1);return dl[n]?dl[n].apply(null,e):void 0}function jv(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n;const t=n.prefix||rs();if(e)return e=qs(t,e)||e,AS(eC.definitions,t,e)||AS(oi.styles,t,e)}const eC=new N5,M5=()=>{Te.autoReplaceSvg=!1,Te.observeMutations=!1,eo("noAuto")},k5={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ra?(eo("beforeI2svg",n),is("pseudoElements2svg",n),is("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=n;Te.autoReplaceSvg===!1&&(Te.autoReplaceSvg=!0),Te.observeMutations=!0,g5(()=>{L5({autoReplaceSvgRoot:e}),eo("watch",n)})}},V5={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:qs(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],t=rm(n[0]);return{prefix:t,iconName:qs(t,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(Te.cssPrefix,"-"))>-1||n.match(t5))){const e=im(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||rs(),iconName:qs(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){const e=rs();return{prefix:e,iconName:qs(e,n)||n}}}},ur={noAuto:M5,config:Te,dom:k5,parse:V5,library:eC,findIconDefinition:jv,toHtml:jc},L5=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=At}=n;(Object.keys(oi.styles).length>0||Te.autoFetchSvg)&&ra&&Te.autoReplaceSvg&&ur.dom.i2svg({node:e})};function am(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>jc(t))}}),Object.defineProperty(n,"node",{get:function(){if(!ra)return;const t=At.createElement("div");return t.innerHTML=n.html,t.children}}),n}function j5(n){let{children:e,main:t,mask:i,attributes:s,styles:l,transform:c}=n;if(p0(c)&&t.found&&!i.found){const{width:m,height:h}=t,p={x:m/h/2,y:.5};s.style=nm(me(me({},l),{},{"transform-origin":"".concat(p.x+c.x/16,"em ").concat(p.y+c.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function U5(n){let{prefix:e,iconName:t,children:i,attributes:s,symbol:l}=n;const c=l===!0?"".concat(e,"-").concat(Te.cssPrefix,"-").concat(t):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:me(me({},s),{},{id:c}),children:i}]}]}function y0(n){const{icons:{main:e,mask:t},prefix:i,iconName:s,transform:l,symbol:c,title:m,maskId:h,titleId:p,extra:v,watchable:b=!1}=n,{width:S,height:N}=t.found?t:e,k=Uj.includes(i),j=[Te.replacementClass,s?"".concat(Te.cssPrefix,"-").concat(s):""].filter(K=>v.classes.indexOf(K)===-1).filter(K=>K!==""||!!K).concat(v.classes).join(" ");let C={children:[],attributes:me(me({},v.attributes),{},{"data-prefix":i,"data-icon":s,class:j,role:v.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(S," ").concat(N)})};const G=k&&!~v.classes.indexOf("fa-fw")?{width:"".concat(S/N*16*.0625,"em")}:{};b&&(C.attributes[Js]=""),m&&(C.children.push({tag:"title",attributes:{id:C.attributes["aria-labelledby"]||"title-".concat(p||Ec())},children:[m]}),delete C.attributes.title);const X=me(me({},C),{},{prefix:i,iconName:s,main:e,mask:t,maskId:h,transform:l,symbol:c,styles:me(me({},G),v.styles)}),{children:H,attributes:te}=t.found&&e.found?is("generateAbstractMask",X)||{children:[],attributes:{}}:is("generateAbstractIcon",X)||{children:[],attributes:{}};return X.children=H,X.attributes=te,c?U5(X):j5(X)}function IS(n){const{content:e,width:t,height:i,transform:s,title:l,extra:c,watchable:m=!1}=n,h=me(me(me({},c.attributes),l?{title:l}:{}),{},{class:c.classes.join(" ")});m&&(h[Js]="");const p=me({},c.styles);p0(s)&&(p.transform=d5({transform:s,startCentered:!0,width:t,height:i}),p["-webkit-transform"]=p.transform);const v=nm(p);v.length>0&&(h.style=v);const b=[];return b.push({tag:"span",attributes:h,children:[e]}),l&&b.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),b}function F5(n){const{content:e,title:t,extra:i}=n,s=me(me(me({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),l=nm(i.styles);l.length>0&&(s.style=l);const c=[];return c.push({tag:"span",attributes:s,children:[e]}),t&&c.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),c}const{styles:Vg}=oi;function Uv(n){const e=n[0],t=n[1],[i]=n.slice(4);let s=null;return Array.isArray(i)?s={tag:"g",attributes:{class:"".concat(Te.cssPrefix,"-").concat(Pg.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Te.cssPrefix,"-").concat(Pg.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Te.cssPrefix,"-").concat(Pg.PRIMARY),fill:"currentColor",d:i[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:t,icon:s}}const z5={found:!1,width:512,height:512};function B5(n,e){!LR&&!Te.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function Fv(n,e){let t=e;return e==="fa"&&Te.styleDefault!==null&&(e=rs()),new Promise((i,s)=>{if(t==="fa"){const l=ZR(n)||{};n=l.iconName||n,e=l.prefix||e}if(n&&e&&Vg[e]&&Vg[e][n]){const l=Vg[e][n];return i(Uv(l))}B5(n,e),i(me(me({},z5),{},{icon:Te.showMissingIcons&&n?is("missingIconAbstract")||{}:{}}))})}const OS=()=>{},zv=Te.measurePerformance&&yh&&yh.mark&&yh.measure?yh:{mark:OS,measure:OS},Xu='FA "6.7.2"',H5=n=>(zv.mark("".concat(Xu," ").concat(n," begins")),()=>tC(n)),tC=n=>{zv.mark("".concat(Xu," ").concat(n," ends")),zv.measure("".concat(Xu," ").concat(n),"".concat(Xu," ").concat(n," begins"),"".concat(Xu," ").concat(n," ends"))};var _0={begin:H5,end:tC};const Vh=()=>{};function NS(n){return typeof(n.getAttribute?n.getAttribute(Js):null)=="string"}function q5(n){const e=n.getAttribute?n.getAttribute(f0):null,t=n.getAttribute?n.getAttribute(h0):null;return e&&t}function $5(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Te.replacementClass)}function G5(){return Te.autoReplaceSvg===!0?Lh.replace:Lh[Te.autoReplaceSvg]||Lh.replace}function Y5(n){return At.createElementNS("http://www.w3.org/2000/svg",n)}function K5(n){return At.createElement(n)}function nC(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=n.tag==="svg"?Y5:K5}=e;if(typeof n=="string")return At.createTextNode(n);const i=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(l){i.setAttribute(l,n.attributes[l])}),(n.children||[]).forEach(function(l){i.appendChild(nC(l,{ceFn:t}))}),i}function Q5(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Lh={replace:function(n){const e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(nC(t),e)}),e.getAttribute(Js)===null&&Te.keepOriginalSource){let t=At.createComment(Q5(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){const e=n[0],t=n[1];if(~m0(e).indexOf(Te.replacementClass))return Lh.replace(n);const i=new RegExp("".concat(Te.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const l=t[0].attributes.class.split(" ").reduce((c,m)=>(m===Te.replacementClass||m.match(i)?c.toSvg.push(m):c.toNode.push(m),c),{toNode:[],toSvg:[]});t[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",l.toNode.join(" "))}const s=t.map(l=>jc(l)).join(`
`);e.setAttribute(Js,""),e.innerHTML=s}};function DS(n){n()}function rC(n,e){const t=typeof e=="function"?e:Vh;if(n.length===0)t();else{let i=DS;Te.mutateApproach===Zj&&(i=ns.requestAnimationFrame||DS),i(()=>{const s=G5(),l=_0.begin("mutate");n.map(s),l(),t()})}}let b0=!1;function iC(){b0=!0}function Bv(){b0=!1}let vd=null;function PS(n){if(!_S||!Te.observeMutations)return;const{treeCallback:e=Vh,nodeCallback:t=Vh,pseudoElementsCallback:i=Vh,observeMutationsRoot:s=At}=n;vd=new _S(l=>{if(b0)return;const c=rs();Nl(l).forEach(m=>{if(m.type==="childList"&&m.addedNodes.length>0&&!NS(m.addedNodes[0])&&(Te.searchPseudoElements&&i(m.target),e(m.target)),m.type==="attributes"&&m.target.parentNode&&Te.searchPseudoElements&&i(m.target.parentNode),m.type==="attributes"&&NS(m.target)&&~i5.indexOf(m.attributeName))if(m.attributeName==="class"&&q5(m.target)){const{prefix:h,iconName:p}=im(m0(m.target));m.target.setAttribute(f0,h||c),p&&m.target.setAttribute(h0,p)}else $5(m.target)&&t(m.target)})}),ra&&vd.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function X5(){vd&&vd.disconnect()}function W5(n){const e=n.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((i,s)=>{const l=s.split(":"),c=l[0],m=l.slice(1);return c&&m.length>0&&(i[c]=m.join(":").trim()),i},{})),t}function Z5(n){const e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"";let s=im(m0(n));return s.prefix||(s.prefix=rs()),e&&t&&(s.prefix=e,s.iconName=t),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=S5(s.prefix,n.innerText)||v0(s.prefix,kv(n.innerText))),!s.iconName&&Te.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=n.firstChild.data)),s}function J5(n){const e=Nl(n.attributes).reduce((s,l)=>(s.name!=="class"&&s.name!=="style"&&(s[l.name]=l.value),s),{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return Te.autoA11y&&(t?e["aria-labelledby"]="".concat(Te.replacementClass,"-title-").concat(i||Ec()):(e["aria-hidden"]="true",e.focusable="false")),e}function eU(){return{iconName:null,title:null,titleId:null,prefix:null,transform:si,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function MS(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:i,rest:s}=Z5(n),l=J5(n),c=Lv("parseNodeAttributes",{},n);let m=e.styleParser?W5(n):[];return me({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:si,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:m,attributes:l}},c)}const{styles:tU}=oi;function aC(n){const e=Te.autoReplaceSvg==="nest"?MS(n,{styleParser:!1}):MS(n);return~e.extra.classes.indexOf(UR)?is("generateLayersText",n,e):is("generateSvgReplacementMutation",n,e)}function nU(){return[...Vj,...Iv]}function kS(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ra)return Promise.resolve();const t=At.documentElement.classList,i=v=>t.add("".concat(TS,"-").concat(v)),s=v=>t.remove("".concat(TS,"-").concat(v)),l=Te.autoFetchSvg?nU():DR.concat(Object.keys(tU));l.includes("fa")||l.push("fa");const c=[".".concat(UR,":not([").concat(Js,"])")].concat(l.map(v=>".".concat(v,":not([").concat(Js,"])"))).join(", ");if(c.length===0)return Promise.resolve();let m=[];try{m=Nl(n.querySelectorAll(c))}catch{}if(m.length>0)i("pending"),s("complete");else return Promise.resolve();const h=_0.begin("onTree"),p=m.reduce((v,b)=>{try{const S=aC(b);S&&v.push(S)}catch(S){LR||S.name==="MissingIcon"&&console.error(S)}return v},[]);return new Promise((v,b)=>{Promise.all(p).then(S=>{rC(S,()=>{i("active"),i("complete"),s("pending"),typeof e=="function"&&e(),h(),v()})}).catch(S=>{h(),b(S)})})}function rU(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;aC(n).then(t=>{t&&rC([t],e)})}function iU(n){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=(e||{}).icon?e:jv(e||{});let{mask:s}=t;return s&&(s=(s||{}).icon?s:jv(s||{})),n(i,me(me({},t),{},{mask:s}))}}const aU=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=si,symbol:i=!1,mask:s=null,maskId:l=null,title:c=null,titleId:m=null,classes:h=[],attributes:p={},styles:v={}}=e;if(!n)return;const{prefix:b,iconName:S,icon:N}=n;return am(me({type:"icon"},n),()=>(eo("beforeDOMElementCreation",{iconDefinition:n,params:e}),Te.autoA11y&&(c?p["aria-labelledby"]="".concat(Te.replacementClass,"-title-").concat(m||Ec()):(p["aria-hidden"]="true",p.focusable="false")),y0({icons:{main:Uv(N),mask:s?Uv(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:S,transform:me(me({},si),t),symbol:i,title:c,maskId:l,titleId:m,extra:{attributes:p,styles:v,classes:h}})))};var sU={mixout(){return{icon:iU(aU)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=kS,n.nodeCallback=rU,n}}},provides(n){n.i2svg=function(e){const{node:t=At,callback:i=()=>{}}=e;return kS(t,i)},n.generateSvgReplacementMutation=function(e,t){const{iconName:i,title:s,titleId:l,prefix:c,transform:m,symbol:h,mask:p,maskId:v,extra:b}=t;return new Promise((S,N)=>{Promise.all([Fv(i,c),p.iconName?Fv(p.iconName,p.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(k=>{let[j,C]=k;S([e,y0({icons:{main:j,mask:C},prefix:c,iconName:i,transform:m,symbol:h,maskId:v,title:s,titleId:l,extra:b,watchable:!0})])}).catch(N)})},n.generateAbstractIcon=function(e){let{children:t,attributes:i,main:s,transform:l,styles:c}=e;const m=nm(c);m.length>0&&(i.style=m);let h;return p0(l)&&(h=is("generateAbstractTransformGrouping",{main:s,transform:l,containerWidth:s.width,iconWidth:s.width})),t.push(h||s.icon),{children:t,attributes:i}}}},oU={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return am({type:"layer"},()=>{eo("beforeDOMElementCreation",{assembler:n,params:e});let i=[];return n(s=>{Array.isArray(s)?s.map(l=>{i=i.concat(l.abstract)}):i=i.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Te.cssPrefix,"-layers"),...t].join(" ")},children:i}]})}}}},lU={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:i=[],attributes:s={},styles:l={}}=e;return am({type:"counter",content:n},()=>(eo("beforeDOMElementCreation",{content:n,params:e}),F5({content:n.toString(),title:t,extra:{attributes:s,styles:l,classes:["".concat(Te.cssPrefix,"-layers-counter"),...i]}})))}}}},uU={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=si,title:i=null,classes:s=[],attributes:l={},styles:c={}}=e;return am({type:"text",content:n},()=>(eo("beforeDOMElementCreation",{content:n,params:e}),IS({content:n,transform:me(me({},si),t),title:i,extra:{attributes:l,styles:c,classes:["".concat(Te.cssPrefix,"-layers-text"),...s]}})))}}},provides(n){n.generateLayersText=function(e,t){const{title:i,transform:s,extra:l}=t;let c=null,m=null;if(OR){const h=parseInt(getComputedStyle(e).fontSize,10),p=e.getBoundingClientRect();c=p.width/h,m=p.height/h}return Te.autoA11y&&!i&&(l.attributes["aria-hidden"]="true"),Promise.resolve([e,IS({content:e.innerHTML,width:c,height:m,transform:s,title:i,extra:l,watchable:!0})])}}};const cU=new RegExp('"',"ug"),VS=[1105920,1112319],LS=me(me(me(me({},{FontAwesome:{normal:"fas",400:"fas"}}),Pj),Xj),Hj),Hv=Object.keys(LS).reduce((n,e)=>(n[e.toLowerCase()]=LS[e],n),{}),fU=Object.keys(Hv).reduce((n,e)=>{const t=Hv[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function hU(n){const e=n.replace(cU,""),t=y5(e,0),i=t>=VS[0]&&t<=VS[1],s=e.length===2?e[0]===e[1]:!1;return{value:kv(s?e[0]:e),isSecondary:i||s}}function dU(n,e){const t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),s=isNaN(i)?"normal":i;return(Hv[t]||{})[s]||fU[t]}function jS(n,e){const t="".concat(Wj).concat(e.replace(":","-"));return new Promise((i,s)=>{if(n.getAttribute(t)!==null)return i();const c=Nl(n.children).filter(S=>S.getAttribute(Nv)===e)[0],m=ns.getComputedStyle(n,e),h=m.getPropertyValue("font-family"),p=h.match(n5),v=m.getPropertyValue("font-weight"),b=m.getPropertyValue("content");if(c&&!p)return n.removeChild(c),i();if(p&&b!=="none"&&b!==""){const S=m.getPropertyValue("content");let N=dU(h,v);const{value:k,isSecondary:j}=hU(S),C=p[0].startsWith("FontAwesome");let G=v0(N,k),X=G;if(C){const H=w5(k);H.iconName&&H.prefix&&(G=H.iconName,N=H.prefix)}if(G&&!j&&(!c||c.getAttribute(f0)!==N||c.getAttribute(h0)!==X)){n.setAttribute(t,X),c&&n.removeChild(c);const H=eU(),{extra:te}=H;te.attributes[Nv]=e,Fv(G,N).then(K=>{const oe=y0(me(me({},H),{},{icons:{main:K,mask:JR()},prefix:N,iconName:X,extra:te,watchable:!0})),D=At.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(D,n.firstChild):n.appendChild(D),D.outerHTML=oe.map(T=>jc(T)).join(`
`),n.removeAttribute(t),i()}).catch(s)}else i()}else i()})}function mU(n){return Promise.all([jS(n,"::before"),jS(n,"::after")])}function pU(n){return n.parentNode!==document.head&&!~Jj.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(Nv)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function US(n){if(ra)return new Promise((e,t)=>{const i=Nl(n.querySelectorAll("*")).filter(pU).map(mU),s=_0.begin("searchPseudoElements");iC(),Promise.all(i).then(()=>{s(),Bv(),e()}).catch(()=>{s(),Bv(),t()})})}var gU={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=US,n}}},provides(n){n.pseudoElements2svg=function(e){const{node:t=At}=e;Te.searchPseudoElements&&US(t)}}};let FS=!1;var vU={mixout(){return{dom:{unwatch(){iC(),FS=!0}}}},hooks(){return{bootstrap(){PS(Lv("mutationObserverCallbacks",{}))},noAuto(){X5()},watch(n){const{observeMutationsRoot:e}=n;FS?Bv():PS(Lv("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const zS=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((t,i)=>{const s=i.toLowerCase().split("-"),l=s[0];let c=s.slice(1).join("-");if(l&&c==="h")return t.flipX=!0,t;if(l&&c==="v")return t.flipY=!0,t;if(c=parseFloat(c),isNaN(c))return t;switch(l){case"grow":t.size=t.size+c;break;case"shrink":t.size=t.size-c;break;case"left":t.x=t.x-c;break;case"right":t.x=t.x+c;break;case"up":t.y=t.y-c;break;case"down":t.y=t.y+c;break;case"rotate":t.rotate=t.rotate+c;break}return t},e)};var yU={mixout(){return{parse:{transform:n=>zS(n)}}},hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-transform");return t&&(n.transform=zS(t)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:i,containerWidth:s,iconWidth:l}=e;const c={transform:"translate(".concat(s/2," 256)")},m="translate(".concat(i.x*32,", ").concat(i.y*32,") "),h="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),p="rotate(".concat(i.rotate," 0 0)"),v={transform:"".concat(m," ").concat(h," ").concat(p)},b={transform:"translate(".concat(l/2*-1," -256)")},S={outer:c,inner:v,path:b};return{tag:"g",attributes:me({},S.outer),children:[{tag:"g",attributes:me({},S.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:me(me({},t.icon.attributes),S.path)}]}]}}}};const Lg={x:0,y:0,width:"100%",height:"100%"};function BS(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function _U(n){return n.tag==="g"?n.children:[n]}var bU={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-mask"),i=t?im(t.split(" ").map(s=>s.trim())):JR();return i.prefix||(i.prefix=rs()),n.mask=i,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:i,main:s,mask:l,maskId:c,transform:m}=e;const{width:h,icon:p}=s,{width:v,icon:b}=l,S=h5({transform:m,containerWidth:v,iconWidth:h}),N={tag:"rect",attributes:me(me({},Lg),{},{fill:"white"})},k=p.children?{children:p.children.map(BS)}:{},j={tag:"g",attributes:me({},S.inner),children:[BS(me({tag:p.tag,attributes:me(me({},p.attributes),S.path)},k))]},C={tag:"g",attributes:me({},S.outer),children:[j]},G="mask-".concat(c||Ec()),X="clip-".concat(c||Ec()),H={tag:"mask",attributes:me(me({},Lg),{},{id:G,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[N,C]},te={tag:"defs",children:[{tag:"clipPath",attributes:{id:X},children:_U(b)},H]};return t.push(te,{tag:"rect",attributes:me({fill:"currentColor","clip-path":"url(#".concat(X,")"),mask:"url(#".concat(G,")")},Lg)}),{children:t,attributes:i}}}},EU={provides(n){let e=!1;ns.matchMedia&&(e=ns.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const t=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:me(me({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const l=me(me({},s),{},{attributeName:"opacity"}),c={tag:"circle",attributes:me(me({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||c.children.push({tag:"animate",attributes:me(me({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:me(me({},l),{},{values:"1;0;1;1;0;1;"})}),t.push(c),t.push({tag:"path",attributes:me(me({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:me(me({},l),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:me(me({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:me(me({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},TU={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-symbol"),i=t===null?!1:t===""?!0:t;return n.symbol=i,n}}}},SU=[p5,sU,oU,lU,uU,gU,vU,yU,bU,EU,TU];P5(SU,{mixoutsTo:ur});ur.noAuto;ur.config;ur.library;ur.dom;const qv=ur.parse;ur.findIconDefinition;ur.toHtml;const wU=ur.icon;ur.layer;ur.text;ur.counter;var jg={exports:{}},Ug,HS;function AU(){if(HS)return Ug;HS=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ug=n,Ug}var Fg,qS;function xU(){if(qS)return Fg;qS=1;var n=AU();function e(){}function t(){}return t.resetWarningCache=e,Fg=function(){function i(c,m,h,p,v,b){if(b!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function s(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Fg}var $S;function RU(){return $S||($S=1,jg.exports=xU()()),jg.exports}var CU=RU();const We=Kv(CU);function GS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function ai(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(t),!0).forEach(function(i){ol(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):GS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function yd(n){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(n)}function ol(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IU(n,e){if(n==null)return{};var t={},i=Object.keys(n),s,l;for(l=0;l<i.length;l++)s=i[l],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function OU(n,e){if(n==null)return{};var t=IU(n,e),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(s=0;s<l.length;s++)i=l[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function $v(n){return NU(n)||DU(n)||PU(n)||MU()}function NU(n){if(Array.isArray(n))return Gv(n)}function DU(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function PU(n,e){if(n){if(typeof n=="string")return Gv(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gv(n,e)}}function Gv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function MU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kU(n){var e,t=n.beat,i=n.fade,s=n.beatFade,l=n.bounce,c=n.shake,m=n.flash,h=n.spin,p=n.spinPulse,v=n.spinReverse,b=n.pulse,S=n.fixedWidth,N=n.inverse,k=n.border,j=n.listItem,C=n.flip,G=n.size,X=n.rotation,H=n.pull,te=(e={"fa-beat":t,"fa-fade":i,"fa-beat-fade":s,"fa-bounce":l,"fa-shake":c,"fa-flash":m,"fa-spin":h,"fa-spin-reverse":v,"fa-spin-pulse":p,"fa-pulse":b,"fa-fw":S,"fa-inverse":N,"fa-border":k,"fa-li":j,"fa-flip":C===!0,"fa-flip-horizontal":C==="horizontal"||C==="both","fa-flip-vertical":C==="vertical"||C==="both"},ol(e,"fa-".concat(G),typeof G<"u"&&G!==null),ol(e,"fa-rotate-".concat(X),typeof X<"u"&&X!==null&&X!==0),ol(e,"fa-pull-".concat(H),typeof H<"u"&&H!==null),ol(e,"fa-swap-opacity",n.swapOpacity),e);return Object.keys(te).map(function(K){return te[K]?K:null}).filter(function(K){return K})}function VU(n){return n=n-0,n===n}function sC(n){return VU(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var LU=["style"];function jU(n){return n.charAt(0).toUpperCase()+n.slice(1)}function UU(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var i=t.indexOf(":"),s=sC(t.slice(0,i)),l=t.slice(i+1).trim();return s.startsWith("webkit")?e[jU(s)]=l:e[s]=l,e},{})}function oC(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(h){return oC(n,h)}),s=Object.keys(e.attributes||{}).reduce(function(h,p){var v=e.attributes[p];switch(p){case"class":h.attrs.className=v,delete e.attributes.class;break;case"style":h.attrs.style=UU(v);break;default:p.indexOf("aria-")===0||p.indexOf("data-")===0?h.attrs[p.toLowerCase()]=v:h.attrs[sC(p)]=v}return h},{attrs:{}}),l=t.style,c=l===void 0?{}:l,m=OU(t,LU);return s.attrs.style=ai(ai({},s.attrs.style),c),n.apply(void 0,[e.tag,ai(ai({},s.attrs),m)].concat($v(i)))}var lC=!1;try{lC=!0}catch{}function FU(){if(!lC&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function YS(n){if(n&&yd(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(qv.icon)return qv.icon(n);if(n===null)return null;if(n&&yd(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function zg(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?ol({},n,e):{}}var KS={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},sm=_d.forwardRef(function(n,e){var t=ai(ai({},KS),n),i=t.icon,s=t.mask,l=t.symbol,c=t.className,m=t.title,h=t.titleId,p=t.maskId,v=YS(i),b=zg("classes",[].concat($v(kU(t)),$v((c||"").split(" ")))),S=zg("transform",typeof t.transform=="string"?qv.transform(t.transform):t.transform),N=zg("mask",YS(s)),k=wU(v,ai(ai(ai(ai({},b),S),N),{},{symbol:l,title:m,titleId:h,maskId:p}));if(!k)return FU("Could not find icon",v),null;var j=k.abstract,C={ref:e};return Object.keys(t).forEach(function(G){KS.hasOwnProperty(G)||(C[G]=t[G])}),zU(j[0],C)});sm.displayName="FontAwesomeIcon";sm.propTypes={beat:We.bool,border:We.bool,beatFade:We.bool,bounce:We.bool,className:We.string,fade:We.bool,flash:We.bool,mask:We.oneOfType([We.object,We.array,We.string]),maskId:We.string,fixedWidth:We.bool,inverse:We.bool,flip:We.oneOf([!0,!1,"horizontal","vertical","both"]),icon:We.oneOfType([We.object,We.array,We.string]),listItem:We.bool,pull:We.oneOf(["right","left"]),pulse:We.bool,rotation:We.oneOf([0,90,180,270]),shake:We.bool,size:We.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:We.bool,spinPulse:We.bool,spinReverse:We.bool,symbol:We.oneOfType([We.bool,We.string]),title:We.string,titleId:We.string,transform:We.oneOfType([We.string,We.object]),swapOpacity:We.bool};var zU=oC.bind(null,_d.createElement);const BU=({isOpen:n,toggle:e})=>_.jsx("div",{className:"flex justify-end",children:_.jsxs("button",{onClick:e,className:"flex flex-col items-center p-2 bg text-white font top-4 left-4 z-50 rounded-2xl hover:text-black-500 cursor-pointer",children:[_.jsx(sm,{icon:Tj,className:"mr-2 w-auto"}),n?"Cerrar Menú":"Abrir Menú"]})}),HU=()=>{const{openMenu:n,toogleMenu:e}=_d.useContext(Zy)||{};return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"bg-gray-900 text-slate-300 w-full h-16 flex items-center justify-between px-4",children:[_.jsx(BU,{isOpen:!!n,toggle:e||(()=>{})}),_.jsx("div",{children:_.jsxs(Td,{to:"/home",className:" text-white p-2 flex flex-col rounded shadow hover:bg-gray-600 transition",children:[_.jsx(sm,{icon:Sj,style:{color:"#fcfcfc"}}),_.jsx("small",{children:"Inicio"})]})})]})})},qU=()=>{const{openMenu:n}=z.useContext(Zy)??{},e="16rem";return _.jsxs("div",{className:"flex min-h-screen relative",children:[_.jsx("div",{className:"fixed top-0 left-0 h-full bg-gray-900 z-30 transition-transform duration-300 ease-in-out",style:{width:e,transform:`translateX(${n?"0":`-${e}`})`},children:_.jsx(Ej,{openMenu:n??!1})}),_.jsxs("div",{className:"flex flex-col flex-1 w-full transition-all duration-300",style:{paddingLeft:n?e:"0"},children:[_.jsx("div",{className:"w-full bg-white z-40 shadow-md",children:_.jsx(HU,{})}),_.jsx("main",{className:"p-4",children:_.jsx(Zv,{})})]})]})},$U=[{title:"Crear usuario",slug:"createUser"},{title:"Crear maquina",slug:"createMachine"},{title:"Editar registros",slug:"editingRegister"},{title:"Crear Referencia",slug:"createReferencia"},{title:"Control de registros",slug:"controlRegistros"}];function GU({item:n}){return _.jsx(Td,{to:`/configurations/${n.slug}`,children:_.jsx("button",{className:"button",children:n.title})})}const YU=()=>_.jsxs("div",{className:"flex flex-col items-center p-4 space-y-6 md:space-y-8",children:[_.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:$U.map((n,e)=>_.jsx(GU,{item:n},e))}),_.jsx("div",{className:"w-full max-w-full",children:_.jsx(Zv,{})})]}),KU=[{name:"firstName",label:"Nombres",type:"text",required:!0,placeholder:"Ingrese sus nombres"},{name:"lastName",label:"Apellidos",type:"text",required:!0,placeholder:"Ingrese sus apellidos"},{name:"code",label:"Codigo",type:"text",required:!0,placeholder:"Ingrese su codigo"},{name:"section",label:"Seccion",type:"text",required:!0,placeholder:"Ingrese su seccion"}],QU=[{name:"date",label:"Fecha",type:"date",required:!0,placeholder:"Seleccione una fecha"},{name:"abbreviation",label:"Abreviacion de maquina",type:"text",required:!0,placeholder:"e.g., F1315"},{name:"machineName",label:"Nombre de maquina",type:"text",required:!0,placeholder:"e.g., Cutter Alpha"},{name:"efficiency",label:"Eficiencia (%)",type:"number",required:!0,placeholder:"e.g., 92"}],uC=({type:n="success",title:e,message:t,onClose:i})=>{const l={success:{bg:"bg-green-50",border:"border-green-300",text:"text-green-800",darkBg:"dark:bg-gray-800",darkText:"dark:text-green-400",darkBorder:"dark:border-green-800"},error:{bg:"bg-red-50",border:"border-red-300",text:"text-red-800",darkBg:"dark:bg-gray-800",darkText:"dark:text-red-400",darkBorder:"dark:border-red-800"}}[n];return _.jsxs("div",{className:`p-4 mb-4 border rounded-lg ${l.bg} ${l.border} ${l.text} ${l.darkBg} ${l.darkText} ${l.darkBorder}`,role:"alert",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h3",{className:"text-lg font-medium",children:e}),_.jsx("button",{onClick:i,className:`text-sm px-2 py-1 rounded ${l.text} border ${l.border} hover:bg-opacity-20`,children:"Cerrar"})]}),_.jsx("p",{className:"mt-2 text-sm",children:t})]})},XU=Rr(Fn),WU=()=>{const[n,e]=z.useState({}),[t,i]=z.useState(null),s=c=>{const{name:m,value:h}=c.target;e(p=>({...p,[m]:h.toLocaleUpperCase()}))},l=async c=>{c.preventDefault();try{await bl(on(XU,"machines"),n),i({type:"success",title:"Maquina creada",message:"Maquina creada correctamente.",onClose:()=>i(null)}),e({})}catch(m){console.error("Error al crear la máquina:",m),i({type:"error",title:"Error al crear maquina",message:"Ha ocurrido un error al crear el usuario. Por favor, inténtalo de nuevo.",onClose:()=>i(null)})}};return _.jsx("div",{className:"roun min-h-screen flex items-center justify-center rounded-2xl backgroundForm",children:_.jsxs("form",{onSubmit:l,className:"bg-opacity-20 backdrop-blur-md p-8 rounded-lg shadow-lg w-full max-w-md text-white space-y-6",children:[_.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Crear máquina"}),QU.map(c=>_.jsxs("div",{children:[_.jsx("label",{htmlFor:c.name,className:"block text-sm font-medium mb-1",children:c.label}),_.jsx("input",{type:c.type,id:c.name,name:c.name,required:c.required,placeholder:c.placeholder,value:n[c.name]||"",onChange:s,className:"w-full px-4 py-2 rounded border bg-gray-200 text-blue-950 focus:outline-none focus:ring-2 focus:ring-blue-400"})]},c.name)),_.jsx("button",{type:"submit",className:"cursor-pointer w-full py-2 rounded bg-blue-600 hover:bg-blue-800 transition-colors duration-300 text-white font-semibold",children:"Crear máquina"}),t&&_.jsx(uC,{type:t.type,title:t.title,message:t.message,onClose:t.onClose})]})})},ZU=Rr(Fn),JU=()=>{const[n,e]=z.useState({}),[t,i]=z.useState(null),s=c=>{const{name:m,value:h}=c.target;e(p=>({...p,[m]:h.toLocaleUpperCase()}))},l=async c=>{c.preventDefault();try{await bl(on(ZU,"operators"),n),i({type:"success",title:"Usuario creado",message:"El usuario se ha creado correctamente.",onClose:()=>i(null)}),e({})}catch(m){console.error("Error al crear el usuario:",m),i({type:"error",title:"Error al crear usuario",message:"Ha ocurrido un error al crear el usuario. Por favor, inténtalo de nuevo.",onClose:()=>i(null)})}};return _.jsx(_.Fragment,{children:_.jsx("div",{className:"min-h-screen flex items-center justify-center rounded-2xl backgroundForm",children:_.jsxs("form",{onSubmit:l,className:"p-8 rounded-lg shadow-md w-full max-w-md text-white space-y-4",children:[_.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Crear usurio"}),KU.map(c=>_.jsxs("div",{children:[_.jsx("label",{htmlFor:c.name,className:"block text-sm font-medium mb-1",children:c.label}),_.jsx("input",{type:c.type,id:c.name,name:c.name,placeholder:c.placeholder,value:n[c.name]||"",onChange:s,className:"w-full p-2 rounded border border-gray-600 bg-gray-200 text-blue-950 focus:outline-none focus:ring-2 focus:ring-blue-500",required:c.required})]},c.name)),_.jsx("button",{type:"submit",className:"cursor-pointer w-full bg-blue-600 hover:bg-blue-800 text-white font-semibold py-2 px-4 rounded transition-colors",children:"Crear usuario"}),t&&_.jsx(uC,{type:t.type,title:t.title,message:t.message,onClose:t.onClose})]})})})},e9=Rr(Fn),t9=()=>{const[n,e]=z.useState([]);return z.useEffect(()=>{(async()=>{try{const s=(await wr(on(e9,"registro_horometros"))).docs.map(l=>{const c=l.data();return{id:l.id,...c}});e(s)}catch(i){console.error("Error fetching registros:",i)}})()},[]),_.jsxs("div",{className:"overflow-x-auto p-4",children:[_.jsx("h2",{className:"text-xl font-bold mb-4",children:"Listado de Registros"}),_.jsxs("table",{className:"min-w-full border border-gray-300",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-gray-200",children:[_.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"ID"}),_.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"Operador"}),_.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"Fecha"}),_.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"Paradas Mayores"}),_.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"Máquinas"})]})}),_.jsx("tbody",{children:n.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:5,className:"text-center p-4",children:"No hay registros."})}):n.map(t=>_.jsxs("tr",{className:"border-b border-gray-200",children:[_.jsx("td",{className:"border border-gray-300 px-2 py-1",children:t.id}),_.jsx("td",{className:"border border-gray-300 px-2 py-1",children:t.operatorCode}),_.jsx("td",{className:"border border-gray-300 px-2 py-1",children:t.fecha}),_.jsx("td",{className:"border border-gray-300 px-2 py-1",children:t.paradasMayores}),_.jsx("td",{className:"border border-gray-300 px-2 py-1",children:t.machines&&t.machines.length>0?t.machines.map((i,s)=>_.jsxs("div",{className:"mb-2 border p-2 rounded bg-gray-50",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Abreviatura:"})," ",i.machine]}),i.standard&&_.jsxs("div",{className:"text-sm mb-1",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Nombre máquina:"})," ",i.standard.machineName]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Fecha:"})," ",i.standard.date]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Eficiencia:"})," ",i.standard.efficiency]})]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Horas asignadas:"})," ",i.horasAsignadas]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Horómetro inicial:"})," ",i.horometroInicial]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Horómetro final:"})," ",i.horometroFinal]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Observaciones:"})," ",i.observaciones]})]},s)):_.jsx("em",{children:"No hay máquinas"})})]},t.id))})]})]})},n9=Rr(Fn),r9=()=>{const[n,e]=z.useState([]),[t,i]=z.useState(""),[s,l]=z.useState(""),[c,m]=z.useState(""),[h,p]=z.useState("");z.useEffect(()=>{(async()=>{try{const k=(await wr(on(n9,"registro_horometros"))).docs.map(j=>{const C=j.data();return{id:j.id,fecha:C.fecha,machines:C.machines,operatorCode:C.operatorCode,reference:C.reference,majorStops:C.majorStops,totalHours:C.totalHours,editadoPor:C.editadoPor,camposModificados:C.camposModificados,fechaUltimaEdicion:C.fechaUltimaEdicion,originalMachines:C.originalMachines}});e(k)}catch(N){console.log(N)}})()},[]);const v=()=>n.filter(S=>{const N=new Date(S.fecha),k=t?new Date(t):null,j=s?new Date(s):null,C=(!k||N>=k)&&(!j||N<=j),G=c?S.operatorCode.toLowerCase().includes(c.toLowerCase()):!0,X=h?S.machines.some(H=>H.machine.toLowerCase().includes(h.toLowerCase())):!0;return C&&G&&X}),b=()=>{const S=v(),N=["ID","Fecha","Máquina","Operador","Horómetro Inicial","Horómetro Final","Paradas mayores","Observaciones","Horas Asignadas","editadoPor"],k=S.flatMap(H=>H.machines.map(te=>[H.id,H.fecha,H.operatorCode,te.machine,te.horometroInicial,te.horometroFinal,H.majorStops||"",te.observaciones,H.machines.reduce((K,oe)=>K+Number(oe.horasAsignadas||0),0),H.editadoPor??""])),j=[N.join(","),...k.map(H=>H.join(","))].join(`
`),C=new Blob([j],{type:"text/csv;charset=utf-8;"}),G=URL.createObjectURL(C),X=document.createElement("a");X.href=G,X.setAttribute("download",`registros_${t||"todos"}_${s||"hoy"}.csv`),document.body.appendChild(X),X.click(),document.body.removeChild(X)};return _.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg max-w-4xl mx-auto backgroundForm text-white",children:[_.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"Exportar registros por rango de fechas"}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"block mb-1 font-medium text-white",children:"Fecha inicial"}),_.jsx("input",{type:"date",className:"w-full border border-gray-200 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",value:t,onChange:S=>i(S.target.value)})]}),_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"block mb-1 font-medium text-white",children:"Fecha final"}),_.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",value:s,onChange:S=>l(S.target.value)})]})]}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"block mb-1 font-medium text-white",children:"Operario"}),_.jsx("input",{type:"text",placeholder:"Operario",value:c,onChange:S=>m(S.target.value),className:"w-full border rounded px-3 py-2"})]}),_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"block mb-1 font-medium text-white",children:"Máquina"}),_.jsx("input",{type:"text",placeholder:"Máquina",value:h,onChange:S=>p(S.target.value),className:"w-full border rounded px-3 py-2"})]})]}),_.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded shadow",onClick:b,children:"Exportar CSV"}),_.jsxs("div",{className:"mt-6 max-h-64 overflow-y-auto border border-gray-200 rounded p-4",children:[_.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Registros filtrados:"}),v().length===0?_.jsx("p",{className:"text-gray-500",children:"No hay registros en ese rango de fechas."}):_.jsx("ul",{className:"list-disc list-inside space-y-1 text-white",children:v().map(S=>_.jsxs("li",{className:"text-sm",children:[_.jsx("strong",{children:S.fecha})," - ",S.operatorCode]},S.id))})]})]})};function i9(){return _.jsxs(_.Fragment,{children:[_.jsx("div",{children:_.jsx(r9,{})}),_.jsx(t9,{})]})}const tl=Rr(Fn),a9=()=>{const[n,e]=z.useState([]),[t,i]=z.useState(""),[,s]=z.useState([]),[l,c]=z.useState([]),[m,h]=z.useState(""),[p,v]=z.useState({}),[b,S]=z.useState([]),[N,k]=z.useState(!1),[j,C]=z.useState([]),[G,X]=z.useState(!1),H=()=>{const P=new Date,U=-5,Q=P.getTime()+P.getTimezoneOffset()*6e4,x=new Date(Q+U*36e5),B=x.getFullYear(),Z=String(x.getMonth()+1).padStart(2,"0"),$=String(x.getDate()).padStart(2,"0");return`${B}-${Z}-${$}`};z.useEffect(()=>{const P=H(),U=hV(on(tl,"registro_horometros"),OT("fecha",">=",`${P}T00:00:00`),OT("fecha","<=",`${P}T23:59:59`)),Q=gV(U,x=>{const B=[];x.forEach(Z=>{const $=Z.data();$.operatorCode&&!B.includes($.operatorCode)&&B.push($.operatorCode)}),S(B)});return()=>Q()},[]),z.useEffect(()=>{(async()=>{try{const U=await wr(on(tl,"registro_horometros")),Q={};U.forEach(B=>{const Z=B.data();Z.machines.forEach($=>{const ne=$.machine,de=Q[ne];(!de||new Date(Z.fecha)>new Date(de.fecha))&&(Q[ne]={fecha:Z.fecha,horometroFinal:$.horometroFinal})})});const x={};for(const B in Q)x[B]=Q[B].horometroFinal;v(x)}catch(U){console.error("Error al traer últimos horómetros:",U)}})()},[]);const[te,K]=z.useState({}),[oe,D]=z.useState([]),[T,A]=z.useState([]);z.useEffect(()=>{(async()=>{try{const Q=(await wr(on(tl,"referencias"))).docs.map(x=>x.data());A(Q)}catch(U){console.error("Error al cargar referencias:",U)}})()},[]),z.useEffect(()=>{(async()=>{try{const Q=(await wr(on(tl,"assignments"))).docs.map(x=>({id:x.id,...x.data()}));e(Q)}catch(U){console.error(U)}})()},[]);const I=async()=>{try{const P=await wr(on(tl,"machines")),U={};P.forEach(Q=>{const x=Q.data();U[x.abbreviation]=x}),K(U)}catch(P){console.error("Error fetching standards:",P)}};z.useEffect(()=>{I()},[]);const V=P=>{const U=[];return P.machines.forEach(Q=>{const x={machine:Q.machine,issues:[],recommendations:[],efficiency:0},B=parseFloat(Q.horometroFinal)-parseFloat(Q.horometroInicial),Z=te[Q.machine];if(Z){const ne=parseFloat(Z.efficiency),de=typeof Q.horasAsignadas=="string"?parseFloat(Q.horasAsignadas):Q.horasAsignadas;x.efficiency=B/(ne*de)*100,x.efficiency<70&&(x.issues.push(`Baja eficiencia (${x.efficiency.toFixed(2)}%)`),x.recommendations.push("Revisar proceso de operación"),x.recommendations.push("Verificar estado de la máquina"),x.recommendations.push("Capacitar al operario en mejores prácticas"))}const $=parseFloat(Q.paradasMayores);if($>60&&(x.issues.push(`Tiempo excesivo de paradas (${$} minutos)`),x.recommendations.push("Programar mantenimiento preventivo"),x.recommendations.push("Revisar planificación de producción")),Q.observaciones){const ne=Q.observaciones.toLowerCase();(ne.includes("mantenimiento")||ne.includes("reparación"))&&(x.issues.push("Problemas de mantenimiento reportados"),x.recommendations.push("Crear plan de mantenimiento preventivo")),(ne.includes("lubricación")||ne.includes("aceite"))&&(x.issues.push("Problemas de lubricación"),x.recommendations.push("Revisar sistema de lubricación"),x.recommendations.push("Establecer programa de lubricación")),(ne.includes("electric")||ne.includes("corriente")||ne.includes("voltaje"))&&(x.issues.push("Problemas eléctricos"),x.recommendations.push("Revisar instalación eléctrica"),x.recommendations.push("Verificar estabilizadores de voltaje"))}x.issues.length>0&&U.push(x)}),U},L=P=>{i(P);const U=n.find(Q=>Q.operator===P);U?(s(U.machines),c(U.machines.map(Q=>{const B=p[Q]||"";return{machine:Q,horometroInicial:B,horometroFinal:"",horasAsignadas:"",observaciones:"",paradasMayores:"",reference:""}}))):(s([]),c([]))},M=()=>{if(!m||!t||l.length===0){alert("Por favor completa todos los campos antes de agregar.");return}const P={id:Date.now().toString(),fecha:m,operatorCode:t,machines:[...l],paradasMayores:""};D([...oe,P]),h(""),i(""),s([]),c([])},Se=async P=>{var x,B,Z,$;const U=oe.find(ne=>ne.id===P);if(!U)return;if(!((x=U.operatorCode)!=null&&x.toString().trim())||!((B=U.fecha)!=null&&B.toString().trim())){alert("Por favor completa el código de operador y la fecha.");return}if(U.machines.length===0){alert("Debe haber al menos una máquina en el registro.");return}for(const ne of U.machines){if(!((Z=ne.machine)!=null&&Z.toString().trim())){alert("Falta el nombre de la máquina.");return}if(ne.horometroInicial===""||isNaN(Number(ne.horometroInicial))||ne.horometroFinal===""||isNaN(Number(ne.horometroFinal))||ne.horasAsignadas===""||isNaN(Number(ne.horasAsignadas))||ne.paradasMayores===""||isNaN(Number(ne.paradasMayores))){alert(`Todos los campos numéricos son obligatorios para la máquina: ${ne.machine}`);return}if(Number(ne.horometroFinal)<Number(ne.horometroInicial)){alert(`El horómetro final no puede ser menor que el inicial en la máquina: ${ne.machine}`);return}if(!(($=ne.reference)!=null&&$.toString().trim())){alert(`Debe seleccionar una referencia para la máquina: ${ne.machine}`);return}}const Q={operatorCode:U.operatorCode,fecha:be(),machines:U.machines,timestamp:new Date().toISOString()};try{await bl(on(tl,"registro_horometros"),Q);const ne=V(U);C(ne),ne.length>0&&X(!0),alert("Registro enviado correctamente ✅"),D(oe.filter(de=>de.id!==P))}catch(ne){console.error("Error al guardar en Firestore:",ne),alert("Error al guardar los datos ❌")}},be=()=>{const P=new Date,U=-5,Q=P.getTime()+P.getTimezoneOffset()*6e4,x=new Date(Q+U*36e5),B=x.getFullYear(),Z=String(x.getMonth()+1).padStart(2,"0"),$=String(x.getDate()).padStart(2,"0"),ne=String(x.getHours()).padStart(2,"0"),de=String(x.getMinutes()).padStart(2,"0"),ge=String(x.getSeconds()).padStart(2,"0");return`${B}-${Z}-${$}T${ne}:${de}:${ge}`},q=({operario:P})=>{const U=b.includes(P);return _.jsx("div",{className:`w-3 h-3 rounded-full ${U?"bg-green-500":"bg-red-500"}`,title:P+(U?" - Ya registró hoy":" - No ha registrado hoy")})};return _.jsxs("div",{className:"flex flex-col items-center p-5 w-full bg-gray-200 rounded-2xl backgroundForm",children:[_.jsxs("div",{className:"w-full max-w-2xl mb-4 bg-blue-900 p-2 border-white rounded-lg",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h3",{className:"text-sm font-semibold text-white cursor-pointer",onClick:()=>k(!N),children:["Estado de registros hoy (",b.length,"/",n.length,")"]}),_.jsx("span",{className:"text-xs text-white cursor-pointer",onClick:()=>k(!N),children:N?"▲":"▼"})]}),N&&_.jsx("div",{className:"mt-2 grid grid-cols-4 gap-1",children:n.map(P=>{const U=b.includes(P.operator);return _.jsxs("div",{className:"flex items-center p-1 bg-blue-800 rounded",title:P.operator+(U?" - Ya registró hoy":" - No ha registrado hoy"),children:[_.jsx(q,{operario:P.operator}),_.jsx("span",{className:"ml-1 text-xs text-white truncate",children:P.operator})]},P.id)})})]}),G&&j.length>0&&_.jsxs("div",{className:"w-full max-w-2xl mb-4 bg-yellow-800 p-4 border-white rounded-lg",children:[_.jsxs("div",{className:"flex justify-between items-center mb-2",children:[_.jsx("h3",{className:"text-lg font-semibold text-white",children:"Análisis de Productividad"}),_.jsx("button",{onClick:()=>X(!1),className:"text-white text-lg",children:"×"})]}),_.jsx("div",{className:"space-y-3",children:j.map((P,U)=>_.jsxs("div",{className:"bg-yellow-100 p-3 rounded-lg",children:[_.jsxs("h4",{className:"font-semibold text-yellow-800 mb-2",children:["Máquina: ",P.machine,P.efficiency>0&&_.jsxs("span",{className:"ml-2 text-sm",children:["(Eficiencia: ",P.efficiency.toFixed(2),"%)"]})]}),P.issues.length>0&&_.jsxs("div",{className:"mb-2",children:[_.jsx("h5",{className:"font-medium text-red-600",children:"Problemas detectados:"}),_.jsx("ul",{className:"list-disc list-inside text-red-700",children:P.issues.map((Q,x)=>_.jsx("li",{children:Q},x))})]}),P.recommendations.length>0&&_.jsxs("div",{children:[_.jsx("h5",{className:"font-medium text-green-600",children:"Recomendaciones:"}),_.jsx("ul",{className:"list-disc list-inside text-green-700",children:P.recommendations.map((Q,x)=>_.jsx("li",{children:Q},x))})]})]},U))}),_.jsxs("div",{className:"mt-3 p-2 bg-yellow-200 rounded",children:[_.jsx("h5",{className:"font-semibold text-yellow-800",children:"Estrategias generales para mejorar la productividad:"}),_.jsxs("ul",{className:"list-disc list-inside text-yellow-900 pl-4",children:[_.jsx("li",{children:"Implementar mantenimiento preventivo programado"}),_.jsx("li",{children:"Capacitar operarios en técnicas de eficiencia"}),_.jsx("li",{children:"Establecer protocolos rápidos para resolver paradas"}),_.jsx("li",{children:"Crear banco de repuestos críticos para reducir tiempos de espera"}),_.jsx("li",{children:"Implementar sistema de alertas tempranas para fallas recurrentes"})]})]})]}),_.jsxs("div",{className:"mb-4 w-full max-w-2xl",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("label",{className:"block text-white text-xs font-bold mb-2 uppercase tracking-wide",children:"Buscar código de operario"}),t&&_.jsxs("div",{className:"flex items-center",children:[_.jsx(q,{operario:t}),_.jsx("span",{className:"ml-1 text-xs text-white",children:b.includes(t)?"Registrado":"Pendiente"})]})]}),_.jsx("input",{type:"number",value:t,onChange:P=>L(P.target.value),placeholder:"Código de operario",className:"block w-full bg-gray-200 text-blue-950 border border-blue-950 rounded py-3 px-4 mb-2 no-spinner"}),_.jsx("div",{className:"flex flex-wrap -mx-3 mb-6",children:_.jsxs("div",{className:"w-full md:w-1/2 px-3",children:[_.jsx("label",{className:"block text-white text-xs font-bold mb-2 uppercase tracking-wide",children:"Fecha de registro"}),_.jsx("input",{type:"date",value:m,onChange:P=>h(P.target.value),className:"block w-full bg-gray-200 text-blue-950 border border-blue-950 rounded py-3 px-4 mb-2 no-spinner"})]})}),_.jsx("button",{onClick:M,className:"w-full py-2 bg-green-600 text-white font-semibold rounded hover:bg-green-700 transition",children:"Ver mis maquinas"})]}),_.jsx("form",{onSubmit:P=>{P.preventDefault(),M()},className:"w-full max-w-2xl",children:oe.map(P=>_.jsxs("div",{className:"border border-amber-400 p-3 mb-4 bg-white rounded",children:[_.jsxs("div",{className:"flex justify-between items-center mb-2",children:[_.jsxs("div",{children:[_.jsxs("p",{className:"font-semibold",children:["Fecha: ",P.fecha]}),_.jsxs("p",{className:"font-semibold",children:["Código: ",P.operatorCode]})]}),_.jsx("button",{onClick:()=>Se(P.id),className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700",children:"Enviar"})]}),P.machines.map((U,Q)=>_.jsxs("div",{className:"border p-2 mb-2 rounded bg-gray-50",children:[_.jsx("h4",{className:"font-semibold mb-1",children:U.machine}),te[U.machine]&&_.jsxs("div",{className:"mb-2 text-sm border p-2 rounded bg-gray-100",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Abreviatura:"})," ",te[U.machine].abbreviation]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Nombre máquina:"})," ",te[U.machine].machineName]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Fecha estándar:"})," ",te[U.machine].date]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Estándar:"})," ",te[U.machine].efficiency]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block mb-1",children:"Horas asignadas"}),_.jsx("input",{type:"number",min:0,required:!0,value:U.horasAsignadas,onChange:x=>{const B=x.target.value;D(Z=>Z.map($=>$.id===P.id?{...$,machines:$.machines.map((ne,de)=>de===Q?{...ne,horasAsignadas:B}:ne)}:$))},className:"w-full border border-gray-300 rounded px-2 py-1"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block mb-1",children:"Horómetro inicial"}),_.jsx("input",{type:"number",required:!0,min:3,value:U.horometroInicial,onChange:x=>{const B=x.target.value;D(Z=>Z.map($=>$.id===P.id?{...$,machines:$.machines.map((ne,de)=>de===Q?{...ne,horometroInicial:B}:ne)}:$))},className:"w-full border border-gray-300 rounded px-2 py-1"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block mb-1",children:"Horómetro final"}),_.jsx("input",{type:"number",required:!0,min:3,value:U.horometroFinal,onChange:x=>{const B=x.target.value;D(Z=>Z.map($=>$.id===P.id?{...$,machines:$.machines.map((ne,de)=>de===Q?{...ne,horometroFinal:B}:ne)}:$))},className:"w-full border border-gray-300 rounded px-2 py-1"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block mb-1",children:"Paradas mayores en minutos"}),_.jsx("input",{type:"number",required:!0,value:U.paradasMayores,onChange:x=>{const B=x.target.value;D(Z=>Z.map($=>$.id===P.id?{...$,machines:$.machines.map((ne,de)=>de===Q?{...ne,paradasMayores:B}:ne)}:$))},className:"w-full border border-gray-300 rounded px-2 py-1"})]}),_.jsxs("select",{value:U.reference,required:!0,onChange:x=>{const B=x.target.value;D(Z=>Z.map($=>$.id===P.id?{...$,machines:$.machines.map((ne,de)=>de===Q?{...ne,reference:B}:ne)}:$))},className:"w-full border border-gray-300 rounded px-2 py-1",children:[_.jsx("option",{value:"",children:"Selecciona una referencia"}),T.slice().sort((x,B)=>x.nombre.localeCompare(B.nombre)).map((x,B)=>_.jsx("option",{value:x.nombre,children:x.nombre},B))]}),_.jsxs("div",{className:"col-span-2",children:[_.jsx("label",{className:"block mb-1",children:"Observaciones"}),_.jsx("textarea",{value:U.observaciones,onChange:x=>{const B=x.target.value;D(Z=>Z.map($=>$.id===P.id?{...$,machines:$.machines.map((ne,de)=>de===Q?{...ne,observaciones:B}:ne)}:$))},className:"w-full border border-gray-300 rounded px-2 py-1"})]})]})]},Q))]},P.id))})]})},s9=()=>_.jsx(_.Fragment,{children:_.jsx(a9,{})}),o9=Rr(Fn);function l9(){const[n,e]=z.useState(null),[t,i]=z.useState(!0);return z.useEffect(()=>{(async()=>{const c=Id().currentUser;if(c){const m=await od(ts(o9,"users",c.uid));m.exists()?e(m.data().role||null):e(null)}else e(null);i(!1)})()},[]),{role:n,loading:t}}const ti=({allowedRoles:n,children:e})=>{const{role:t,loading:i}=l9(),s=wc();return i?_.jsx("div",{children:"Cargando..."}):t?n.includes(t)?_.jsx(_.Fragment,{children:e}):_.jsxs("div",{className:"max-w-lg mx-auto mt-10 text-center text-red-600",children:["No tienes permiso para acceder a esta opción.",_.jsx("br",{}),"Solicita autorización al administrador.",_.jsx("hr",{}),_.jsxs("p",{className:"mt-4",children:["Tu rol actual es: ",_.jsx("strong",{children:t})]})]}):_.jsxs("div",{className:"max-w-lg mx-auto mt-10 text-center text-red-600",children:["No tienes permiso para acceder a esta opción.",_.jsx("br",{}),"Solicita autorización al administrador.",_.jsx("hr",{}),_.jsx("button",{onClick:()=>s("/"),className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded",children:"Volver al inicio"})]})},u9=()=>{const n=wc(),e=()=>{n(-1)};return _.jsxs("div",{children:[_.jsx("button",{onClick:e,type:"button",className:"cursor-pointer text-white bg-blue-900 hover:bg-blue-900 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center me-2 dark:bg-blue-900 dark:hover:bg-blue-900 dark:focus:ring-blue-900",children:_.jsx("svg",{className:"w-4 h-4 rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:_.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})}),_.jsx("small",{children:"Ir atras"})]})},c9=()=>_.jsx(_.Fragment,{children:_.jsxs("div",{className:"flex flex-col justify-center ",children:[_.jsx("div",{className:"p-9",children:_.jsx(u9,{})}),_.jsx("h1",{children:"Administración de la plataforma"})]})});var jh={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var f9=jh.exports,QS;function h9(){return QS||(QS=1,function(n,e){((t,i)=>{n.exports=i()})(f9,function t(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},s,l=!i.document&&!!i.postMessage,c=i.IS_PAPA_WORKER||!1,m={},h=0,p={};function v(T){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var I=K(A);I.chunkSize=parseInt(I.chunkSize),A.step||A.chunk||(I.chunkSize=null),this._handle=new j(I),(this._handle.streamer=this)._config=I}).call(this,T),this.parseChunk=function(A,I){var V=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<V){let M=this._config.newline;M||(L=this._config.quoteChar||'"',M=this._handle.guessLineEndings(A,L)),A=[...A.split(M).slice(V)].join(M)}this.isFirstChunk&&D(this._config.beforeFirstChunk)&&(L=this._config.beforeFirstChunk(A))!==void 0&&(A=L),this.isFirstChunk=!1,this._halted=!1;var V=this._partialLine+A,L=(this._partialLine="",this._handle.parse(V,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=L.meta.cursor,V=(this._finished||(this._partialLine=V.substring(A-this._baseIndex),this._baseIndex=A),L&&L.data&&(this._rowCount+=L.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)i.postMessage({results:L,workerId:p.WORKER_ID,finished:V});else if(D(this._config.chunk)&&!I){if(this._config.chunk(L,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=L=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(L.data),this._completeResults.errors=this._completeResults.errors.concat(L.errors),this._completeResults.meta=L.meta),this._completed||!V||!D(this._config.complete)||L&&L.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),V||L&&L.meta.paused||this._nextChunk(),L}this._halted=!0},this._sendError=function(A){D(this._config.error)?this._config.error(A):c&&this._config.error&&i.postMessage({workerId:p.WORKER_ID,error:A,finished:!1})}}function b(T){var A;(T=T||{}).chunkSize||(T.chunkSize=p.RemoteChunkSize),v.call(this,T),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),l||(A.onload=oe(this._chunkLoaded,this),A.onerror=oe(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var I,V=this._config.downloadRequestHeaders;for(I in V)A.setRequestHeader(I,V[I])}var L;this._config.chunkSize&&(L=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+L));try{A.send(this._config.downloadRequestBody)}catch(M){this._chunkError(M.message)}l&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(I){I=A.statusText||I,this._sendError(new Error(I))}}function S(T){(T=T||{}).chunkSize||(T.chunkSize=p.LocalChunkSize),v.call(this,T);var A,I,V=typeof FileReader<"u";this.stream=function(L){this._input=L,I=L.slice||L.webkitSlice||L.mozSlice,V?((A=new FileReader).onload=oe(this._chunkLoaded,this),A.onerror=oe(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var L=this._input,M=(this._config.chunkSize&&(M=Math.min(this._start+this._config.chunkSize,this._input.size),L=I.call(L,this._start,M)),A.readAsText(L,this._config.encoding));V||this._chunkLoaded({target:{result:M}})},this._chunkLoaded=function(L){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(L.target.result)},this._chunkError=function(){this._sendError(A.error)}}function N(T){var A;v.call(this,T=T||{}),this.stream=function(I){return A=I,this._nextChunk()},this._nextChunk=function(){var I,V;if(!this._finished)return I=this._config.chunkSize,A=I?(V=A.substring(0,I),A.substring(I)):(V=A,""),this._finished=!A,this.parseChunk(V)}}function k(T){v.call(this,T=T||{});var A=[],I=!0,V=!1;this.pause=function(){v.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){v.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(L){this._input=L,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){V&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):I=!0},this._streamData=oe(function(L){try{A.push(typeof L=="string"?L:L.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(M){this._streamError(M)}},this),this._streamError=oe(function(L){this._streamCleanUp(),this._sendError(L)},this),this._streamEnd=oe(function(){this._streamCleanUp(),V=!0,this._streamData("")},this),this._streamCleanUp=oe(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function j(T){var A,I,V,L,M=Math.pow(2,53),Se=-M,be=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,P=this,U=0,Q=0,x=!1,B=!1,Z=[],$={data:[],errors:[],meta:{}};function ne(pe){return T.skipEmptyLines==="greedy"?pe.join("").trim()==="":pe.length===1&&pe[0].length===0}function de(){if($&&V&&(Le("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),V=!1),T.skipEmptyLines&&($.data=$.data.filter(function(we){return!ne(we)})),ge()){let we=function(at,dt){D(T.transformHeader)&&(at=T.transformHeader(at,dt)),Z.push(at)};if($)if(Array.isArray($.data[0])){for(var pe=0;ge()&&pe<$.data.length;pe++)$.data[pe].forEach(we);$.data.splice(0,1)}else $.data.forEach(we)}function xe(we,at){for(var dt=T.header?{}:[],Ye=0;Ye<we.length;Ye++){var et=Ye,qe=we[Ye],qe=((xt,Ue)=>(mt=>(T.dynamicTypingFunction&&T.dynamicTyping[mt]===void 0&&(T.dynamicTyping[mt]=T.dynamicTypingFunction(mt)),(T.dynamicTyping[mt]||T.dynamicTyping)===!0))(xt)?Ue==="true"||Ue==="TRUE"||Ue!=="false"&&Ue!=="FALSE"&&((mt=>{if(be.test(mt)&&(mt=parseFloat(mt),Se<mt&&mt<M))return 1})(Ue)?parseFloat(Ue):q.test(Ue)?new Date(Ue):Ue===""?null:Ue):Ue)(et=T.header?Ye>=Z.length?"__parsed_extra":Z[Ye]:et,qe=T.transform?T.transform(qe,et):qe);et==="__parsed_extra"?(dt[et]=dt[et]||[],dt[et].push(qe)):dt[et]=qe}return T.header&&(Ye>Z.length?Le("FieldMismatch","TooManyFields","Too many fields: expected "+Z.length+" fields but parsed "+Ye,Q+at):Ye<Z.length&&Le("FieldMismatch","TooFewFields","Too few fields: expected "+Z.length+" fields but parsed "+Ye,Q+at)),dt}var Ve;$&&(T.header||T.dynamicTyping||T.transform)&&(Ve=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(xe),Ve=$.data.length):$.data=xe($.data,0),T.header&&$.meta&&($.meta.fields=Z),Q+=Ve)}function ge(){return T.header&&Z.length===0}function Le(pe,xe,Ve,we){pe={type:pe,code:xe,message:Ve},we!==void 0&&(pe.row=we),$.errors.push(pe)}D(T.step)&&(L=T.step,T.step=function(pe){$=pe,ge()?de():(de(),$.data.length!==0&&(U+=pe.data.length,T.preview&&U>T.preview?I.abort():($.data=$.data[0],L($,P))))}),this.parse=function(pe,xe,Ve){var we=T.quoteChar||'"',we=(T.newline||(T.newline=this.guessLineEndings(pe,we)),V=!1,T.delimiter?D(T.delimiter)&&(T.delimiter=T.delimiter(pe),$.meta.delimiter=T.delimiter):((we=((at,dt,Ye,et,qe)=>{var xt,Ue,mt,Pn;qe=qe||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var zn=0;zn<qe.length;zn++){for(var Bn,cr=qe[zn],Pt=0,Mn=0,Be=0,Fe=(mt=void 0,new G({comments:et,delimiter:cr,newline:dt,preview:10}).parse(at)),It=0;It<Fe.data.length;It++)Ye&&ne(Fe.data[It])?Be++:(Bn=Fe.data[It].length,Mn+=Bn,mt===void 0?mt=Bn:0<Bn&&(Pt+=Math.abs(Bn-mt),mt=Bn));0<Fe.data.length&&(Mn/=Fe.data.length-Be),(Ue===void 0||Pt<=Ue)&&(Pn===void 0||Pn<Mn)&&1.99<Mn&&(Ue=Pt,xt=cr,Pn=Mn)}return{successful:!!(T.delimiter=xt),bestDelimiter:xt}})(pe,T.newline,T.skipEmptyLines,T.comments,T.delimitersToGuess)).successful?T.delimiter=we.bestDelimiter:(V=!0,T.delimiter=p.DefaultDelimiter),$.meta.delimiter=T.delimiter),K(T));return T.preview&&T.header&&we.preview++,A=pe,I=new G(we),$=I.parse(A,xe,Ve),de(),x?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return x},this.pause=function(){x=!0,I.abort(),A=D(T.chunk)?"":A.substring(I.getCharIndex())},this.resume=function(){P.streamer._halted?(x=!1,P.streamer.parseChunk(A,!0)):setTimeout(P.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,I.abort(),$.meta.aborted=!0,D(T.complete)&&T.complete($),A=""},this.guessLineEndings=function(at,we){at=at.substring(0,1048576);var we=new RegExp(C(we)+"([^]*?)"+C(we),"gm"),Ve=(at=at.replace(we,"")).split("\r"),we=at.split(`
`),at=1<we.length&&we[0].length<Ve[0].length;if(Ve.length===1||at)return`
`;for(var dt=0,Ye=0;Ye<Ve.length;Ye++)Ve[Ye][0]===`
`&&dt++;return dt>=Ve.length/2?`\r
`:"\r"}}function C(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function G(T){var A=(T=T||{}).delimiter,I=T.newline,V=T.comments,L=T.step,M=T.preview,Se=T.fastMode,be=null,q=!1,P=T.quoteChar==null?'"':T.quoteChar,U=P;if(T.escapeChar!==void 0&&(U=T.escapeChar),(typeof A!="string"||-1<p.BAD_DELIMITERS.indexOf(A))&&(A=","),V===A)throw new Error("Comment character same as delimiter");V===!0?V="#":(typeof V!="string"||-1<p.BAD_DELIMITERS.indexOf(V))&&(V=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var Q=0,x=!1;this.parse=function(B,Z,$){if(typeof B!="string")throw new Error("Input must be a string");var ne=B.length,de=A.length,ge=I.length,Le=V.length,pe=D(L),xe=[],Ve=[],we=[],at=Q=0;if(!B)return Pt();if(Se||Se!==!1&&B.indexOf(P)===-1){for(var dt=B.split(I),Ye=0;Ye<dt.length;Ye++){if(we=dt[Ye],Q+=we.length,Ye!==dt.length-1)Q+=I.length;else if($)return Pt();if(!V||we.substring(0,Le)!==V){if(pe){if(xe=[],Pn(we.split(A)),Mn(),x)return Pt()}else Pn(we.split(A));if(M&&M<=Ye)return xe=xe.slice(0,M),Pt(!0)}}return Pt()}for(var et=B.indexOf(A,Q),qe=B.indexOf(I,Q),xt=new RegExp(C(U)+C(P),"g"),Ue=B.indexOf(P,Q);;)if(B[Q]===P)for(Ue=Q,Q++;;){if((Ue=B.indexOf(P,Ue+1))===-1)return $||Ve.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:xe.length,index:Q}),Bn();if(Ue===ne-1)return Bn(B.substring(Q,Ue).replace(xt,P));if(P===U&&B[Ue+1]===U)Ue++;else if(P===U||Ue===0||B[Ue-1]!==U){et!==-1&&et<Ue+1&&(et=B.indexOf(A,Ue+1));var mt=zn((qe=qe!==-1&&qe<Ue+1?B.indexOf(I,Ue+1):qe)===-1?et:Math.min(et,qe));if(B.substr(Ue+1+mt,de)===A){we.push(B.substring(Q,Ue).replace(xt,P)),B[Q=Ue+1+mt+de]!==P&&(Ue=B.indexOf(P,Q)),et=B.indexOf(A,Q),qe=B.indexOf(I,Q);break}if(mt=zn(qe),B.substring(Ue+1+mt,Ue+1+mt+ge)===I){if(we.push(B.substring(Q,Ue).replace(xt,P)),cr(Ue+1+mt+ge),et=B.indexOf(A,Q),Ue=B.indexOf(P,Q),pe&&(Mn(),x))return Pt();if(M&&xe.length>=M)return Pt(!0);break}Ve.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:xe.length,index:Q}),Ue++}}else if(V&&we.length===0&&B.substring(Q,Q+Le)===V){if(qe===-1)return Pt();Q=qe+ge,qe=B.indexOf(I,Q),et=B.indexOf(A,Q)}else if(et!==-1&&(et<qe||qe===-1))we.push(B.substring(Q,et)),Q=et+de,et=B.indexOf(A,Q);else{if(qe===-1)break;if(we.push(B.substring(Q,qe)),cr(qe+ge),pe&&(Mn(),x))return Pt();if(M&&xe.length>=M)return Pt(!0)}return Bn();function Pn(Be){xe.push(Be),at=Q}function zn(Be){var Fe=0;return Fe=Be!==-1&&(Be=B.substring(Ue+1,Be))&&Be.trim()===""?Be.length:Fe}function Bn(Be){return $||(Be===void 0&&(Be=B.substring(Q)),we.push(Be),Q=ne,Pn(we),pe&&Mn()),Pt()}function cr(Be){Q=Be,Pn(we),we=[],qe=B.indexOf(I,Q)}function Pt(Be){if(T.header&&!Z&&xe.length&&!q){var Fe=xe[0],It=Object.create(null),qt=new Set(Fe);let cs=!1;for(let Lr=0;Lr<Fe.length;Lr++){let un=Fe[Lr];if(It[un=D(T.transformHeader)?T.transformHeader(un,Lr):un]){let Xn,jr=It[un];for(;Xn=un+"_"+jr,jr++,qt.has(Xn););qt.add(Xn),Fe[Lr]=Xn,It[un]++,cs=!0,(be=be===null?{}:be)[Xn]=un}else It[un]=1,Fe[Lr]=un;qt.add(un)}cs&&console.warn("Duplicate headers found and renamed."),q=!0}return{data:xe,errors:Ve,meta:{delimiter:A,linebreak:I,aborted:x,truncated:!!Be,cursor:at+(Z||0),renamedHeaders:be}}}function Mn(){L(Pt()),xe=[],Ve=[]}},this.abort=function(){x=!0},this.getCharIndex=function(){return Q}}function X(T){var A=T.data,I=m[A.workerId],V=!1;if(A.error)I.userError(A.error,A.file);else if(A.results&&A.results.data){var L={abort:function(){V=!0,H(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:te,resume:te};if(D(I.userStep)){for(var M=0;M<A.results.data.length&&(I.userStep({data:A.results.data[M],errors:A.results.errors,meta:A.results.meta},L),!V);M++);delete A.results}else D(I.userChunk)&&(I.userChunk(A.results,L,A.file),delete A.results)}A.finished&&!V&&H(A.workerId,A.results)}function H(T,A){var I=m[T];D(I.userComplete)&&I.userComplete(A),I.terminate(),delete m[T]}function te(){throw new Error("Not implemented.")}function K(T){if(typeof T!="object"||T===null)return T;var A,I=Array.isArray(T)?[]:{};for(A in T)I[A]=K(T[A]);return I}function oe(T,A){return function(){T.apply(A,arguments)}}function D(T){return typeof T=="function"}return p.parse=function(T,A){var I=(A=A||{}).dynamicTyping||!1;if(D(I)&&(A.dynamicTypingFunction=I,I={}),A.dynamicTyping=I,A.transform=!!D(A.transform)&&A.transform,!A.worker||!p.WORKERS_SUPPORTED)return I=null,p.NODE_STREAM_INPUT,typeof T=="string"?(T=(V=>V.charCodeAt(0)!==65279?V:V.slice(1))(T),I=new(A.download?b:N)(A)):T.readable===!0&&D(T.read)&&D(T.on)?I=new k(A):(i.File&&T instanceof File||T instanceof Object)&&(I=new S(A)),I.stream(T);(I=(()=>{var V;return!!p.WORKERS_SUPPORTED&&(V=(()=>{var L=i.URL||i.webkitURL||null,M=t.toString();return p.BLOB_URL||(p.BLOB_URL=L.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",M,")();"],{type:"text/javascript"})))})(),(V=new i.Worker(V)).onmessage=X,V.id=h++,m[V.id]=V)})()).userStep=A.step,I.userChunk=A.chunk,I.userComplete=A.complete,I.userError=A.error,A.step=D(A.step),A.chunk=D(A.chunk),A.complete=D(A.complete),A.error=D(A.error),delete A.worker,I.postMessage({input:T,config:A,workerId:I.id})},p.unparse=function(T,A){var I=!1,V=!0,L=",",M=`\r
`,Se='"',be=Se+Se,q=!1,P=null,U=!1,Q=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||p.BAD_DELIMITERS.filter(function(Z){return A.delimiter.indexOf(Z)!==-1}).length||(L=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(I=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(q=A.skipEmptyLines),typeof A.newline=="string"&&(M=A.newline),typeof A.quoteChar=="string"&&(Se=A.quoteChar),typeof A.header=="boolean"&&(V=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");P=A.columns}A.escapeChar!==void 0&&(be=A.escapeChar+Se),A.escapeFormulae instanceof RegExp?U=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&(U=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(Se),"g"));if(typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(T)){if(!T.length||Array.isArray(T[0]))return x(null,T,q);if(typeof T[0]=="object")return x(P||Object.keys(T[0]),T,q)}else if(typeof T=="object")return typeof T.data=="string"&&(T.data=JSON.parse(T.data)),Array.isArray(T.data)&&(T.fields||(T.fields=T.meta&&T.meta.fields||P),T.fields||(T.fields=Array.isArray(T.data[0])?T.fields:typeof T.data[0]=="object"?Object.keys(T.data[0]):[]),Array.isArray(T.data[0])||typeof T.data[0]=="object"||(T.data=[T.data])),x(T.fields||[],T.data||[],q);throw new Error("Unable to serialize unrecognized input");function x(Z,$,ne){var de="",ge=(typeof Z=="string"&&(Z=JSON.parse(Z)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(Z)&&0<Z.length),Le=!Array.isArray($[0]);if(ge&&V){for(var pe=0;pe<Z.length;pe++)0<pe&&(de+=L),de+=B(Z[pe],pe);0<$.length&&(de+=M)}for(var xe=0;xe<$.length;xe++){var Ve=(ge?Z:$[xe]).length,we=!1,at=ge?Object.keys($[xe]).length===0:$[xe].length===0;if(ne&&!ge&&(we=ne==="greedy"?$[xe].join("").trim()==="":$[xe].length===1&&$[xe][0].length===0),ne==="greedy"&&ge){for(var dt=[],Ye=0;Ye<Ve;Ye++){var et=Le?Z[Ye]:Ye;dt.push($[xe][et])}we=dt.join("").trim()===""}if(!we){for(var qe=0;qe<Ve;qe++){0<qe&&!at&&(de+=L);var xt=ge&&Le?Z[qe]:qe;de+=B($[xe][xt],qe)}xe<$.length-1&&(!ne||0<Ve&&!at)&&(de+=M)}}return de}function B(Z,$){var ne,de;return Z==null?"":Z.constructor===Date?JSON.stringify(Z).slice(1,25):(de=!1,U&&typeof Z=="string"&&U.test(Z)&&(Z="'"+Z,de=!0),ne=Z.toString().replace(Q,be),(de=de||I===!0||typeof I=="function"&&I(Z,$)||Array.isArray(I)&&I[$]||((ge,Le)=>{for(var pe=0;pe<Le.length;pe++)if(-1<ge.indexOf(Le[pe]))return!0;return!1})(ne,p.BAD_DELIMITERS)||-1<ne.indexOf(L)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?Se+ne+Se:ne)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!l&&!!i.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=G,p.ParserHandle=j,p.NetworkStreamer=b,p.FileStreamer=S,p.StringStreamer=N,p.ReadableStreamStreamer=k,i.jQuery&&((s=i.jQuery).fn.parse=function(T){var A=T.config||{},I=[];return this.each(function(M){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var Se=0;Se<this.files.length;Se++)I.push({file:this.files[Se],inputElem:this,instanceConfig:s.extend({},A)})}),V(),this;function V(){if(I.length===0)D(T.complete)&&T.complete();else{var M,Se,be,q,P=I[0];if(D(T.before)){var U=T.before(P.file,P.inputElem);if(typeof U=="object"){if(U.action==="abort")return M="AbortError",Se=P.file,be=P.inputElem,q=U.reason,void(D(T.error)&&T.error({name:M},Se,be,q));if(U.action==="skip")return void L();typeof U.config=="object"&&(P.instanceConfig=s.extend(P.instanceConfig,U.config))}else if(U==="skip")return void L()}var Q=P.instanceConfig.complete;P.instanceConfig.complete=function(x){D(Q)&&Q(x,P.file,P.inputElem),L()},p.parse(P.file,P.instanceConfig)}}function L(){I.splice(0,1),V()}}),c&&(i.onmessage=function(T){T=T.data,p.WORKER_ID===void 0&&T&&(p.WORKER_ID=T.workerId),typeof T.input=="string"?i.postMessage({workerId:p.WORKER_ID,results:p.parse(T.input,T.config),finished:!0}):(i.File&&T.input instanceof File||T.input instanceof Object)&&(T=p.parse(T.input,T.config))&&i.postMessage({workerId:p.WORKER_ID,results:T,finished:!0})}),(b.prototype=Object.create(v.prototype)).constructor=b,(S.prototype=Object.create(v.prototype)).constructor=S,(N.prototype=Object.create(N.prototype)).constructor=N,(k.prototype=Object.create(v.prototype)).constructor=k,p})}(jh)),jh.exports}var d9=h9();const m9=Kv(d9);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="firebasestorage.googleapis.com",fC="storageBucket",p9=2*60*1e3,g9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut extends vi{constructor(e,t,i=0){super(Bg(e),`Firebase Storage: ${t} (${Bg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jt||(jt={}));function Bg(n){return"storage/"+n}function E0(){const n="An unknown error occurred, please check the error payload for server response.";return new Ut(jt.UNKNOWN,n)}function v9(n){return new Ut(jt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function y9(n){return new Ut(jt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _9(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ut(jt.UNAUTHENTICATED,n)}function b9(){return new Ut(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function E9(n){return new Ut(jt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function T9(){return new Ut(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function S9(){return new Ut(jt.CANCELED,"User canceled the upload/download.")}function w9(n){return new Ut(jt.INVALID_URL,"Invalid URL '"+n+"'.")}function A9(n){return new Ut(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function x9(){return new Ut(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fC+"' property when initializing the app?")}function R9(){return new Ut(jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function C9(){return new Ut(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function I9(n){return new Ut(jt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yv(n){return new Ut(jt.INVALID_ARGUMENT,n)}function hC(){return new Ut(jt.APP_DELETED,"The Firebase app was deleted.")}function O9(n){return new Ut(jt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sc(n,e){return new Ut(jt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Bu(n){throw new Ut(jt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=or.makeFromUrl(e,t)}catch{return new or(e,"")}if(i.path==="")return i;throw A9(e)}static makeFromUrl(e,t){let i=null;const s="([A-Za-z0-9.\\-_]+)";function l(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+s+c,"i"),h={bucket:1,path:3};function p(te){te.path_=decodeURIComponent(te.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",N=new RegExp(`^https?://${b}/${v}/b/${s}/o${S}`,"i"),k={bucket:1,path:3},j=t===cC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",G=new RegExp(`^https?://${j}/${s}/${C}`,"i"),H=[{regex:m,indices:h,postModify:l},{regex:N,indices:k,postModify:p},{regex:G,indices:{bucket:1,path:2},postModify:p}];for(let te=0;te<H.length;te++){const K=H[te],oe=K.regex.exec(e);if(oe){const D=oe[K.indices.bucket];let T=oe[K.indices.path];T||(T=""),i=new or(D,T),K.postModify(i);break}}if(i==null)throw w9(e);return i}}class N9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(n,e,t){let i=1,s=null,l=null,c=!1,m=0;function h(){return m===2}let p=!1;function v(...C){p||(p=!0,e.apply(null,C))}function b(C){s=setTimeout(()=>{s=null,n(N,h())},C)}function S(){l&&clearTimeout(l)}function N(C,...G){if(p){S();return}if(C){S(),v.call(null,C,...G);return}if(h()||c){S(),v.call(null,C,...G);return}i<64&&(i*=2);let H;m===1?(m=2,H=0):H=(i+Math.random())*1e3,b(H)}let k=!1;function j(C){k||(k=!0,S(),!p&&(s!==null?(C||(m=2),clearTimeout(s),b(0)):C||(m=1)))}return b(0),l=setTimeout(()=>{c=!0,j(!0)},t),j}function P9(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(n){return n!==void 0}function k9(n){return typeof n=="object"&&!Array.isArray(n)}function T0(n){return typeof n=="string"||n instanceof String}function XS(n){return S0()&&n instanceof Blob}function S0(){return typeof Blob<"u"}function WS(n,e,t,i){if(i<e)throw Yv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Yv(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function dC(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const s=e(i)+"="+e(n[i]);t=t+s+"&"}return t=t.slice(0,-1),t}var Ys;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ys||(Ys={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||s||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,t,i,s,l,c,m,h,p,v,b,S=!0,N=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,j)=>{this.resolve_=k,this.reject_=j,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new bh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=m=>{const h=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const m=l.getErrorCode()===Ys.NO_ERROR,h=l.getStatus();if(!m||V9(h,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ys.ABORT;i(!1,new bh(!1,null,v));return}const p=this.successCodes_.indexOf(h)!==-1;i(!0,new bh(p,l))})},t=(i,s)=>{const l=this.resolve_,c=this.reject_,m=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(m,m.getResponse());M9(h)?l(h):l()}catch(h){c(h)}else if(m!==null){const h=E0();h.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,h)):c(h)}else if(s.canceled){const h=this.appDelete_?hC():S9();c(h)}else{const h=T9();c(h)}};this.canceled_?t(!1,new bh(!1,null,!0)):this.backoffId_=D9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&P9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bh{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function j9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function U9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function F9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function z9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function B9(n,e,t,i,s,l,c=!0,m=!1){const h=dC(n.urlParams),p=n.url+h,v=Object.assign({},n.headers);return F9(v,e),j9(v,t),U9(v,l),z9(v,i),new L9(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,c,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function q9(...n){const e=H9();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(S0())return new Blob(n);throw new Ut(jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(n){if(typeof atob>"u")throw I9("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hg{constructor(e,t){this.data=e,this.contentType=t||null}}function Y9(n,e){switch(n){case li.RAW:return new Hg(mC(e));case li.BASE64:case li.BASE64URL:return new Hg(pC(n,e));case li.DATA_URL:return new Hg(Q9(e),X9(e))}throw E0()}function mC(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function K9(n){let e;try{e=decodeURIComponent(n)}catch{throw sc(li.DATA_URL,"Malformed data URL.")}return mC(e)}function pC(n,e){switch(n){case li.BASE64:{const s=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(s||l)throw sc(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case li.BASE64URL:{const s=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(s||l)throw sc(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=G9(e)}catch(s){throw s.message.includes("polyfill")?s:sc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}class gC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw sc(li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=W9(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function Q9(n){const e=new gC(n);return e.base64?pC(li.BASE64,e.rest):K9(e.rest)}function X9(n){return new gC(n).contentType}function W9(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t){let i=0,s="";XS(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(XS(this.data_)){const i=this.data_,s=$9(i,e,t);return s===null?null:new ja(s)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ja(i,!0)}}static getBlob(...e){if(S0()){const t=e.map(i=>i instanceof ja?i.data_:i);return new ja(q9.apply(null,t))}else{const t=e.map(c=>T0(c)?Y9(li.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const s=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let m=0;m<c.length;m++)s[l++]=c[m]}),new ja(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(n){let e;try{e=JSON.parse(n)}catch{return null}return k9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function J9(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function yC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(n,e){return e}class Un{constructor(e,t,i,s){this.server=e,this.local=t||e,this.writable=!!i,this.xform=s||eF}}let Eh=null;function tF(n){return!T0(n)||n.length<2?n:yC(n)}function _C(){if(Eh)return Eh;const n=[];n.push(new Un("bucket")),n.push(new Un("generation")),n.push(new Un("metageneration")),n.push(new Un("name","fullPath",!0));function e(l,c){return tF(c)}const t=new Un("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const s=new Un("size");return s.xform=i,n.push(s),n.push(new Un("timeCreated")),n.push(new Un("updated")),n.push(new Un("md5Hash",null,!0)),n.push(new Un("cacheControl",null,!0)),n.push(new Un("contentDisposition",null,!0)),n.push(new Un("contentEncoding",null,!0)),n.push(new Un("contentLanguage",null,!0)),n.push(new Un("contentType",null,!0)),n.push(new Un("metadata","customMetadata",!0)),Eh=n,Eh}function nF(n,e){function t(){const i=n.bucket,s=n.fullPath,l=new or(i,s);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function rF(n,e,t){const i={};i.type="file";const s=t.length;for(let l=0;l<s;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return nF(i,n),i}function bC(n,e,t){const i=vC(e);return i===null?null:rF(n,i,t)}function iF(n,e,t,i){const s=vC(e);if(s===null||!T0(s.downloadTokens))return null;const l=s.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const v=n.bucket,b=n.fullPath,S="/b/"+c(v)+"/o/"+c(b),N=w0(S,t,i),k=dC({alt:"media",token:p});return N+k})[0]}function aF(n,e){const t={},i=e.length;for(let s=0;s<i;s++){const l=e[s];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class EC{constructor(e,t,i,s){this.url=e,this.method=t,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(n){if(!n)throw E0()}function sF(n,e){function t(i,s){const l=bC(n,s,e);return TC(l!==null),l}return t}function oF(n,e){function t(i,s){const l=bC(n,s,e);return TC(l!==null),iF(l,s,n.host,n._protocol)}return t}function SC(n){function e(t,i){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=b9():s=_9():t.getStatus()===402?s=y9(n.bucket):t.getStatus()===403?s=E9(n.path):s=i,s.status=t.getStatus(),s.serverResponse=i.serverResponse,s}return e}function lF(n){const e=SC(n);function t(i,s){let l=e(i,s);return i.getStatus()===404&&(l=v9(n.path)),l.serverResponse=s.serverResponse,l}return t}function uF(n,e,t){const i=e.fullServerUrl(),s=w0(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,m=new EC(s,l,oF(n,t),c);return m.errorHandler=lF(e),m}function cF(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function fF(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=cF(null,e)),i}function hF(n,e,t,i,s){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function m(){let H="";for(let te=0;te<2;te++)H=H+Math.random().toString().slice(2);return H}const h=m();c["Content-Type"]="multipart/related; boundary="+h;const p=fF(e,i,s),v=aF(p,t),b="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,S=`\r
--`+h+"--",N=ja.getBlob(b,i,S);if(N===null)throw R9();const k={name:p.fullPath},j=w0(l,n.host,n._protocol),C="POST",G=n.maxUploadRetryTime,X=new EC(j,C,sF(n,t),G);return X.urlParams=k,X.headers=c,X.body=N.uploadData(),X.errorHandler=SC(e),X}class dF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ys.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ys.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ys.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,s,l){if(this.sent_)throw Bu("cannot .send() more than once");if(ss(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mF extends dF{initXhr(){this.xhr_.responseType="text"}}function wC(){return new mF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t){this._service=e,t instanceof or?this._location=t:this._location=or.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new to(e,t)}get root(){const e=new or(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yC(this._location.path)}get storage(){return this._service}get parent(){const e=Z9(this._location.path);if(e===null)return null;const t=new or(this._location.bucket,e);return new to(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw O9(e)}}function pF(n,e,t){n._throwIfRoot("uploadBytes");const i=hF(n.storage,n._location,_C(),new ja(e,!0),t);return n.storage.makeRequestWithTokens(i,wC).then(s=>({metadata:s,ref:n}))}function gF(n){n._throwIfRoot("getDownloadURL");const e=uF(n.storage,n._location,_C());return n.storage.makeRequestWithTokens(e,wC).then(t=>{if(t===null)throw C9();return t})}function vF(n,e){const t=J9(n._location.path,e),i=new or(n._location.bucket,t);return new to(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(n){return/^[A-Za-z]+:\/\//.test(n)}function _F(n,e){return new to(n,e)}function AC(n,e){if(n instanceof A0){const t=n;if(t._bucket==null)throw x9();const i=new to(t,t._bucket);return e!=null?AC(i,e):i}else return e!==void 0?vF(n,e):n}function bF(n,e){if(e&&yF(e)){if(n instanceof A0)return _F(n,e);throw Yv("To use ref(service, url), the first argument must be a Storage instance.")}else return AC(n,e)}function ZS(n,e){const t=e==null?void 0:e[fC];return t==null?null:or.makeFromBucketSpec(t,n)}function EF(n,e,t,i={}){n.host=`${e}:${t}`;const s=ss(e);s&&(Jv(`https://${n.host}/b`),ey("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:Sw(l,n.app.options.projectId))}class A0{constructor(e,t,i,s,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=s,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=cC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=p9,this._maxUploadRetryTime=g9,this._requests=new Set,s!=null?this._bucket=or.makeFromBucketSpec(s,this._host):this._bucket=ZS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=or.makeFromBucketSpec(this._url,e):this._bucket=ZS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){WS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){WS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new to(this,e)}_makeRequest(e,t,i,s,l=!0){if(this._deleted)return new N9(hC());{const c=B9(e,this._appId,i,s,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,s).getPromise()}}const JS="@firebase/storage",ew="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="storage";function TF(n,e,t){return n=Nt(n),pF(n,e,t)}function SF(n){return n=Nt(n),gF(n)}function wF(n,e){return n=Nt(n),bF(n,e)}function AF(n=ry(),e){n=Nt(n);const i=wd(n,xC).getImmediate({identifier:e}),s=bw("storage");return s&&xF(i,...s),i}function xF(n,e,t,i={}){EF(n,e,t,i)}function RF(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new A0(t,i,s,e,ro)}function CF(){Qs(new Ya(xC,RF,"PUBLIC").setMultipleInstances(!0)),ui(JS,ew,""),ui(JS,ew,"esm2017")}CF();const tw=Rr(Fn),IF=AF(Fn),OF=()=>{const[n,e]=z.useState(""),[t,i]=z.useState(""),[s,l]=z.useState(""),c=async h=>{h.preventDefault();try{await bl(on(tw,"referencias"),{nombre:n,codigo:t}),l("Referencia guardada correctamente"),e(""),i("")}catch(p){console.error("Error al guardar referencia:",p),l("Error al guardar")}},m=async h=>{var v;const p=(v=h.target.files)==null?void 0:v[0];if(p)try{const b=wF(IF,`csv-referencias/${p.name}`);await TF(b,p);const S=await SF(b);console.log("Archivo subido. URL:",S),m9.parse(p,{header:!0,skipEmptyLines:!0,complete:async N=>{const k=N.data;for(const j of k)if(j.nombre&&j.codigo)try{await bl(on(tw,"referencias"),j)}catch(C){console.error("Error al importar:",C)}l("Importación completada. Archivo guardado en Firebase Storage")}})}catch(b){console.error("Error al subir CSV:",b),l("Error al subir archivo")}};return _.jsxs("div",{className:"max-w-md mx-auto p-4 bg-white shadow-md rounded-lg space-y-4",children:[_.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Crear Referencia"}),s&&_.jsx("div",{className:"text-green-600",children:s}),_.jsxs("form",{onSubmit:c,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Nombre"}),_.jsx("input",{type:"text",value:n,onChange:h=>e(h.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-400",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Código"}),_.jsx("input",{type:"text",value:t,onChange:h=>i(h.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-400",required:!0})]}),_.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:"Guardar"})]}),_.jsxs("div",{className:"mt-6",children:[_.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-600",children:"Importar CSV"}),_.jsx("input",{type:"file",accept:".csv",onChange:m,className:"w-full text-sm bg-amber-100 px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-400"})]})]})},nw=Rr(Fn),NF=n=>{try{const e=n.split("T");return e.length>1?e[1].substring(0,5):"Hora no disponible"}catch(e){return console.error("Error extrayendo hora desde fecha ISO:",e),"Hora no disponible"}},DF=()=>{const[n,e]=z.useState(""),[t,i]=z.useState(""),[s,l]=z.useState("00:00"),[c,m]=z.useState("23:59"),[h,p]=z.useState([]),[v,b]=z.useState([]),[S,N]=z.useState(!1),[k,j]=z.useState(!0);z.useEffect(()=>{(async()=>{try{const K=(await wr(on(nw,"assignments"))).docs.map(oe=>({id:oe.id,...oe.data()}));p(K)}catch(te){console.error("Error cargando operarios:",te)}})()},[]);const C=async()=>{if(!n||!t){alert("Por favor seleccione un rango de fechas");return}N(!0);try{const H=new Date(`${n}T${s}:00`),te=new Date(`${t}T${c}:00`),D=(await wr(on(nw,"registro_horometros"))).docs.map(I=>({id:I.id,...I.data()})).filter(I=>{try{const V=new Date(I.fecha);return V>=H&&V<=te}catch(V){return console.error("Error procesando fecha del registro:",I.fecha,V),!1}}),T=[],A=new Date(H);for(;A<=te;){const I=A.getDay();if(I!==0&&(I!==6||k)){const V=A.toISOString().split("T")[0],L=D.filter(q=>{try{return new Date(q.fecha).toISOString().split("T")[0]===V}catch{return!1}}),M=L.map(q=>q.operatorCode.toUpperCase()),Se=[],be=[];h.forEach(q=>{const P=q.operator.toUpperCase(),U=q.machines||[];if(M.includes(P)){const Q=L.find(B=>B.operatorCode.toUpperCase()===P);let x="Hora no disponible";Q&&Q.fecha&&(x=NF(Q.fecha)),Se.push({operator:P,machines:U,horaRegistro:x})}else be.push({operator:P,machines:U})}),(Se.length>0||be.length>0)&&T.push({date:V,registered:Se,notRegistered:be})}A.setDate(A.getDate()+1)}b(T)}catch(H){console.error("Error buscando registros:",H),alert("Error al buscar registros")}finally{N(!1)}},G=H=>new Date(H+"T00:00:00").toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),X=H=>H.charAt(0).toUpperCase()+H.slice(1);return _.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md w-full max-w-5xl mx-auto",children:[_.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 text-center",children:"Control de Registros Diarios"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha inicio"}),_.jsx("input",{type:"date",value:n,onChange:H=>e(H.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha fin"}),_.jsx("input",{type:"date",value:t,onChange:H=>i(H.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora inicio"}),_.jsx("input",{type:"time",value:s,onChange:H=>l(H.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora fin"}),_.jsx("input",{type:"time",value:c,onChange:H=>m(H.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),_.jsx("div",{className:"mb-6",children:_.jsxs("label",{className:"flex items-center",children:[_.jsx("input",{type:"checkbox",checked:k,onChange:H=>j(H.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),_.jsx("span",{className:"text-sm text-gray-700",children:"Incluir sábados como días laborables"})]})}),_.jsx("button",{onClick:C,disabled:S,className:`w-full py-2 px-4 rounded-md text-white font-medium ${S?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 mb-8`,children:S?"Buscando...":"Buscar registros"}),v.length>0&&_.jsxs("div",{className:"mt-8",children:[_.jsx("h3",{className:"text-xl font-semibold mb-6 text-gray-800 text-center",children:"Resumen de Registros"}),_.jsx("div",{className:"space-y-6",children:v.map(H=>_.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 shadow-sm",children:[_.jsx("h4",{className:"font-medium text-lg text-gray-800 mb-4 bg-gray-100 p-2 rounded-md",children:X(G(H.date))}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{className:"bg-green-50 p-3 rounded-md",children:[_.jsxs("h5",{className:"font-medium text-green-800 mb-2 flex items-center",children:[_.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),"Registraron (",H.registered.length,")"]}),H.registered.length>0?_.jsx("ul",{className:"space-y-2",children:H.registered.map(te=>_.jsxs("li",{className:"text-green-700",children:[_.jsxs("div",{className:"font-medium",children:[te.operator,_.jsx("span",{className:"text-xs ml-2 bg-green-200 text-green-800 px-2 py-1 rounded-full",children:te.horaRegistro})]}),te.machines&&te.machines.length>0&&_.jsxs("div",{className:"text-xs text-green-600 ml-2",children:["Máquinas: ",te.machines.join(", ")]})]},te.operator))}):_.jsx("p",{className:"text-green-600 text-sm",children:"Todos los operarios registraron"})]}),_.jsxs("div",{className:"bg-red-50 p-3 rounded-md",children:[_.jsxs("h5",{className:"font-medium text-red-800 mb-2 flex items-center",children:[_.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"}),"No registraron (",H.notRegistered.length,")"]}),H.notRegistered.length>0?_.jsx("ul",{className:"space-y-2",children:H.notRegistered.map(te=>_.jsxs("li",{className:"text-red-700",children:[_.jsx("div",{className:"font-medium",children:te.operator}),te.machines&&te.machines.length>0&&_.jsxs("div",{className:"text-xs text-red-600 ml-2",children:["Máquinas: ",te.machines.join(", ")]})]},te.operator))}):_.jsx("p",{className:"text-red-600 text-sm",children:"Todos los operarios registraron"})]})]})]},H.date))})]}),v.length===0&&!S&&n&&t&&_.jsx("div",{className:"mt-8 text-center text-gray-500 p-4 bg-gray-50 rounded-md",children:"No se encontraron registros en el rango de fechas seleccionado."})]})};function PF(){return _.jsx(EV,{children:_.jsx(oO,{children:_.jsxs(eO,{children:[_.jsx(sn,{path:"/",element:_.jsx(bV,{})}),_.jsxs(sn,{path:"/",element:_.jsx(ti,{allowedRoles:["admin","supervisor","operator","superadmin"],children:_.jsx(qU,{})}),children:[_.jsx(sn,{path:"home",element:_.jsx(VT,{})}),_.jsx(sn,{path:"supervisor",element:_.jsx(ti,{allowedRoles:["admin","operator","superadmin"],children:_.jsx(mS,{})})}),_.jsx(sn,{path:"eficencia",element:_.jsx(Dg,{})}),_.jsxs(sn,{path:"picado",element:_.jsx(pj,{}),children:[_.jsx(sn,{path:"f1315",element:_.jsx(s9,{})}),_.jsx(sn,{path:"eficence",element:_.jsx(Dg,{})})]}),_.jsx(sn,{path:"/supervisor",element:_.jsx(ti,{allowedRoles:["admin","superadmin"],children:_.jsx(mS,{})})}),_.jsxs(sn,{path:"/configurations",element:_.jsx(ti,{allowedRoles:["superadmin"],children:_.jsx(YU,{})}),children:[_.jsx(sn,{path:"controlRegistros",element:_.jsx(ti,{allowedRoles:["admin","superadmin"],children:_.jsx(DF,{})})}),_.jsx(sn,{path:"createMachine",element:_.jsx(ti,{allowedRoles:["superadmin"],children:_.jsx(WU,{})})}),_.jsx(sn,{path:"createUser",element:_.jsx(ti,{allowedRoles:["superadmin"],children:_.jsx(JU,{name:"username",label:"Username",type:"text",required:!0,placeholder:"Enter username"})})}),_.jsx(sn,{path:"createReferencia",element:_.jsx(ti,{allowedRoles:["superadmin"],children:_.jsx(OF,{})})}),_.jsx(sn,{path:"editingRegister",element:_.jsx(Dg,{editable:!0})})]}),_.jsx(sn,{path:"data",element:_.jsx(ti,{allowedRoles:["admin","superadmin"],children:_.jsx(i9,{})})}),_.jsx(sn,{path:"*",element:_.jsx(VT,{})})]}),_.jsx(sn,{path:"/adminapplication",element:_.jsx(ti,{allowedRoles:["superadmin"],children:_.jsx(c9,{})})})]})})})}sI.createRoot(document.getElementById("root")).render(_.jsx(z.StrictMode,{children:_.jsx(PF,{})}));
