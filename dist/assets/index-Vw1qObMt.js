import{createChat as M2}from"https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js";function P2(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(t,s,l.get?l:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function kv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gm={exports:{}},Nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function k2(){if(bE)return Nu;bE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:t,type:i,key:c,ref:s!==void 0?s:null,props:l}}return Nu.Fragment=e,Nu.jsx=n,Nu.jsxs=n,Nu}var EE;function V2(){return EE||(EE=1,Gm.exports=k2()),Gm.exports}var w=V2(),Ym={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function L2(){if(TE)return Ye;TE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,V={};function O(L,U,G){this.props=L,this.context=U,this.refs=V,this.updater=G||N}O.prototype.isReactComponent={},O.prototype.setState=function(L,U){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,U,"setState")},O.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function F(){}F.prototype=O.prototype;function Q(L,U,G){this.props=L,this.context=U,this.refs=V,this.updater=G||N}var q=Q.prototype=new F;q.constructor=Q,k(q,O.prototype),q.isPureReactComponent=!0;var ie=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function C(L,U,G,Y,oe,me){return G=me.ref,{$$typeof:t,type:L,key:U,ref:G!==void 0?G:null,props:me}}function _(L,U){return C(L.type,U,void 0,void 0,void 0,L.props)}function T(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function R(L){var U={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(G){return U[G]})}var P=/\/+/g;function M(L,U){return typeof L=="object"&&L!==null&&L.key!=null?R(""+L.key):U.toString(36)}function D(){}function _e(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(D,D):(L.status="pending",L.then(function(U){L.status==="pending"&&(L.status="fulfilled",L.value=U)},function(U){L.status==="pending"&&(L.status="rejected",L.reason=U)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Se(L,U,G,Y,oe){var me=typeof L;(me==="undefined"||me==="boolean")&&(L=null);var de=!1;if(L===null)de=!0;else switch(me){case"bigint":case"string":case"number":de=!0;break;case"object":switch(L.$$typeof){case t:case e:de=!0;break;case v:return de=L._init,Se(de(L._payload),U,G,Y,oe)}}if(de)return oe=oe(L),de=Y===""?"."+M(L,0):Y,ie(oe)?(G="",de!=null&&(G=de.replace(P,"$&/")+"/"),Se(oe,U,G,"",function(we){return we})):oe!=null&&(T(oe)&&(oe=_(oe,G+(oe.key==null||L&&L.key===oe.key?"":(""+oe.key).replace(P,"$&/")+"/")+de)),U.push(oe)),1;de=0;var ye=Y===""?".":Y+":";if(ie(L))for(var ve=0;ve<L.length;ve++)Y=L[ve],me=ye+M(Y,ve),de+=Se(Y,U,G,me,oe);else if(ve=A(L),typeof ve=="function")for(L=ve.call(L),ve=0;!(Y=L.next()).done;)Y=Y.value,me=ye+M(Y,ve++),de+=Se(Y,U,G,me,oe);else if(me==="object"){if(typeof L.then=="function")return Se(_e(L),U,G,Y,oe);throw U=String(L),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return de}function B(L,U,G){if(L==null)return L;var Y=[],oe=0;return Se(L,Y,"","",function(me){return U.call(G,me,oe++)}),Y}function ne(L){if(L._status===-1){var U=L._result;U=U(),U.then(function(G){(L._status===0||L._status===-1)&&(L._status=1,L._result=G)},function(G){(L._status===0||L._status===-1)&&(L._status=2,L._result=G)}),L._status===-1&&(L._status=0,L._result=U)}if(L._status===1)return L._result.default;throw L._result}var ce=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function he(){}return Ye.Children={map:B,forEach:function(L,U,G){B(L,function(){U.apply(this,arguments)},G)},count:function(L){var U=0;return B(L,function(){U++}),U},toArray:function(L){return B(L,function(U){return U})||[]},only:function(L){if(!T(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ye.Component=O,Ye.Fragment=n,Ye.Profiler=s,Ye.PureComponent=Q,Ye.StrictMode=i,Ye.Suspense=p,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(L){return $.H.useMemoCache(L)}},Ye.cache=function(L){return function(){return L.apply(null,arguments)}},Ye.cloneElement=function(L,U,G){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Y=k({},L.props),oe=L.key,me=void 0;if(U!=null)for(de in U.ref!==void 0&&(me=void 0),U.key!==void 0&&(oe=""+U.key),U)!ee.call(U,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&U.ref===void 0||(Y[de]=U[de]);var de=arguments.length-2;if(de===1)Y.children=G;else if(1<de){for(var ye=Array(de),ve=0;ve<de;ve++)ye[ve]=arguments[ve+2];Y.children=ye}return C(L.type,oe,void 0,void 0,me,Y)},Ye.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ye.createElement=function(L,U,G){var Y,oe={},me=null;if(U!=null)for(Y in U.key!==void 0&&(me=""+U.key),U)ee.call(U,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(oe[Y]=U[Y]);var de=arguments.length-2;if(de===1)oe.children=G;else if(1<de){for(var ye=Array(de),ve=0;ve<de;ve++)ye[ve]=arguments[ve+2];oe.children=ye}if(L&&L.defaultProps)for(Y in de=L.defaultProps,de)oe[Y]===void 0&&(oe[Y]=de[Y]);return C(L,me,void 0,void 0,null,oe)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(L){return{$$typeof:d,render:L}},Ye.isValidElement=T,Ye.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ne}},Ye.memo=function(L,U){return{$$typeof:m,type:L,compare:U===void 0?null:U}},Ye.startTransition=function(L){var U=$.T,G={};$.T=G;try{var Y=L(),oe=$.S;oe!==null&&oe(G,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(he,ce)}catch(me){ce(me)}finally{$.T=U}},Ye.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Ye.use=function(L){return $.H.use(L)},Ye.useActionState=function(L,U,G){return $.H.useActionState(L,U,G)},Ye.useCallback=function(L,U){return $.H.useCallback(L,U)},Ye.useContext=function(L){return $.H.useContext(L)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(L,U){return $.H.useDeferredValue(L,U)},Ye.useEffect=function(L,U,G){var Y=$.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(L,U)},Ye.useId=function(){return $.H.useId()},Ye.useImperativeHandle=function(L,U,G){return $.H.useImperativeHandle(L,U,G)},Ye.useInsertionEffect=function(L,U){return $.H.useInsertionEffect(L,U)},Ye.useLayoutEffect=function(L,U){return $.H.useLayoutEffect(L,U)},Ye.useMemo=function(L,U){return $.H.useMemo(L,U)},Ye.useOptimistic=function(L,U){return $.H.useOptimistic(L,U)},Ye.useReducer=function(L,U,G){return $.H.useReducer(L,U,G)},Ye.useRef=function(L){return $.H.useRef(L)},Ye.useState=function(L){return $.H.useState(L)},Ye.useSyncExternalStore=function(L,U,G){return $.H.useSyncExternalStore(L,U,G)},Ye.useTransition=function(){return $.H.useTransition()},Ye.version="19.1.0",Ye}var SE;function Vv(){return SE||(SE=1,Ym.exports=L2()),Ym.exports}var z=Vv();const cd=kv(z),Dg=P2({__proto__:null,default:cd},[z]);var Km={exports:{}},Du={},Qm={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function U2(){return wE||(wE=1,function(t){function e(B,ne){var ce=B.length;B.push(ne);e:for(;0<ce;){var he=ce-1>>>1,L=B[he];if(0<s(L,ne))B[he]=ne,B[ce]=L,ce=he;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var ne=B[0],ce=B.pop();if(ce!==ne){B[0]=ce;e:for(var he=0,L=B.length,U=L>>>1;he<U;){var G=2*(he+1)-1,Y=B[G],oe=G+1,me=B[oe];if(0>s(Y,ce))oe<L&&0>s(me,Y)?(B[he]=me,B[oe]=ce,he=oe):(B[he]=Y,B[G]=ce,he=G);else if(oe<L&&0>s(me,ce))B[he]=me,B[oe]=ce,he=oe;else break e}}return ne}function s(B,ne){var ce=B.sortIndex-ne.sortIndex;return ce!==0?ce:B.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],m=[],v=1,b=null,A=3,N=!1,k=!1,V=!1,O=!1,F=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ie(B){for(var ne=n(m);ne!==null;){if(ne.callback===null)i(m);else if(ne.startTime<=B)i(m),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=n(m)}}function $(B){if(V=!1,ie(B),!k)if(n(p)!==null)k=!0,ee||(ee=!0,M());else{var ne=n(m);ne!==null&&Se($,ne.startTime-B)}}var ee=!1,C=-1,_=5,T=-1;function R(){return O?!0:!(t.unstable_now()-T<_)}function P(){if(O=!1,ee){var B=t.unstable_now();T=B;var ne=!0;try{e:{k=!1,V&&(V=!1,Q(C),C=-1),N=!0;var ce=A;try{t:{for(ie(B),b=n(p);b!==null&&!(b.expirationTime>B&&R());){var he=b.callback;if(typeof he=="function"){b.callback=null,A=b.priorityLevel;var L=he(b.expirationTime<=B);if(B=t.unstable_now(),typeof L=="function"){b.callback=L,ie(B),ne=!0;break t}b===n(p)&&i(p),ie(B)}else i(p);b=n(p)}if(b!==null)ne=!0;else{var U=n(m);U!==null&&Se($,U.startTime-B),ne=!1}}break e}finally{b=null,A=ce,N=!1}ne=void 0}}finally{ne?M():ee=!1}}}var M;if(typeof q=="function")M=function(){q(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,_e=D.port2;D.port1.onmessage=P,M=function(){_e.postMessage(null)}}else M=function(){F(P,0)};function Se(B,ne){C=F(function(){B(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(B){switch(A){case 1:case 2:case 3:var ne=3;break;default:ne=A}var ce=A;A=ne;try{return B()}finally{A=ce}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(B,ne){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ce=A;A=B;try{return ne()}finally{A=ce}},t.unstable_scheduleCallback=function(B,ne,ce){var he=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?he+ce:he):ce=he,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ce+L,B={id:v++,callback:ne,priorityLevel:B,startTime:ce,expirationTime:L,sortIndex:-1},ce>he?(B.sortIndex=ce,e(m,B),n(p)===null&&B===n(m)&&(V?(Q(C),C=-1):V=!0,Se($,ce-he))):(B.sortIndex=L,e(p,B),k||N||(k=!0,ee||(ee=!0,M()))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var ne=A;return function(){var ce=A;A=ne;try{return B.apply(this,arguments)}finally{A=ce}}}}(Xm)),Xm}var AE;function j2(){return AE||(AE=1,Qm.exports=U2()),Qm.exports}var Wm={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function F2(){if(xE)return Sn;xE=1;var t=Vv();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(p,m,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:p,containerInfo:m,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sn.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,v)},Sn.flushSync=function(p){var m=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=v,i.d.f()}},Sn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},Sn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Sn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,b=d(v,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:N}):v==="script"&&i.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Sn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},Sn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,b=d(v,m.crossOrigin);i.d.L(p,v,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Sn.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=d(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},Sn.requestFormReset=function(p){i.d.r(p)},Sn.unstable_batchedUpdates=function(p,m){return p(m)},Sn.useFormState=function(p,m,v){return c.H.useFormState(p,m,v)},Sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Sn.version="19.1.0",Sn}var RE;function kS(){if(RE)return Wm.exports;RE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wm.exports=F2(),Wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function z2(){if(CE)return Du;CE=1;var t=j2(),e=Vv(),n=kS();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return d(h),r;if(g===u)return d(h),a;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=g;else{for(var S=!1,x=h.child;x;){if(x===o){S=!0,o=h,u=g;break}if(x===u){S=!0,u=h,o=g;break}x=x.sibling}if(!S){for(x=g.child;x;){if(x===o){S=!0,o=g,u=h;break}if(x===u){S=!0,u=g,o=h;break}x=x.sibling}if(!S)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function m(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=m(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function M(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function _e(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case O:return"Profiler";case V:return"StrictMode";case $:return"Suspense";case ee:return"SuspenseList";case T:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case q:return(r.displayName||"Context")+".Provider";case Q:return(r._context.displayName||"Context")+".Consumer";case ie:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case C:return a=r.displayName||null,a!==null?a:_e(r.type)||"Memo";case _:a=r._payload,r=r._init;try{return _e(r(a))}catch{}}return null}var Se=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},he=[],L=-1;function U(r){return{current:r}}function G(r){0>L||(r.current=he[L],he[L]=null,L--)}function Y(r,a){L++,he[L]=r.current,r.current=a}var oe=U(null),me=U(null),de=U(null),ye=U(null);function ve(r,a){switch(Y(de,a),Y(me,r),Y(oe,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Kb(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Kb(a),r=Qb(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}G(oe),Y(oe,r)}function we(){G(oe),G(me),G(de)}function Ne(r){r.memoizedState!==null&&Y(ye,r);var a=oe.current,o=Qb(a,r.type);a!==o&&(Y(me,r),Y(oe,o))}function Ee(r){me.current===r&&(G(oe),G(me)),ye.current===r&&(G(ye),xu._currentValue=ce)}var Fe=Object.prototype.hasOwnProperty,Oe=t.unstable_scheduleCallback,xe=t.unstable_cancelCallback,$e=t.unstable_shouldYield,Ke=t.unstable_requestPaint,wt=t.unstable_now,Be=t.unstable_getCurrentPriorityLevel,pt=t.unstable_ImmediatePriority,Nn=t.unstable_UserBlockingPriority,Un=t.unstable_NormalPriority,jn=t.unstable_LowPriority,lr=t.unstable_IdlePriority,Nt=t.log,Dn=t.unstable_setDisableYieldValue,Ge=null,He=null;function Ct(r){if(typeof Nt=="function"&&Dn(r),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Ge,r)}catch{}}var Bt=Math.clz32?Math.clz32:an,is=Math.log,Mr=Math.LN2;function an(r){return r>>>=0,r===0?32:31-(is(r)/Mr|0)|0}var Kn=256,Pr=4194304;function Sr(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function to(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,g=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var x=u&134217727;return x!==0?(u=x&~g,u!==0?h=Sr(u):(S&=x,S!==0?h=Sr(S):o||(o=x&~r,o!==0&&(h=Sr(o))))):(x=u&~g,x!==0?h=Sr(x):S!==0?h=Sr(S):o||(o=u&~r,o!==0&&(h=Sr(o)))),h===0?0:a!==0&&a!==h&&(a&g)===0&&(g=h&-h,o=a&-a,g>=o||g===32&&(o&4194048)!==0)?a:h}function as(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function xl(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rl(){var r=Kn;return Kn<<=1,(Kn&4194048)===0&&(Kn=256),r}function Cl(){var r=Pr;return Pr<<=1,(Pr&62914560)===0&&(Pr=4194304),r}function di(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function pi(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Il(r,a,o,u,h,g){var S=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var x=r.entanglements,j=r.expirationTimes,Z=r.hiddenUpdates;for(o=S&~o;0<o;){var ae=31-Bt(o),le=1<<ae;x[ae]=0,j[ae]=-1;var J=Z[ae];if(J!==null)for(Z[ae]=null,ae=0;ae<J.length;ae++){var te=J[ae];te!==null&&(te.lane&=-536870913)}o&=~le}u!==0&&kr(r,u,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(S&~a))}function kr(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-Bt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Ol(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-Bt(o),h=1<<u;h&a|r[u]&a&&(r[u]|=a),o&=~h}}function Ji(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function no(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ea(){var r=ne.p;return r!==0?r:(r=window.event,r===void 0?32:pE(r.type))}function Nc(r,a){var o=ne.p;try{return ne.p=r,a()}finally{ne.p=o}}var At=Math.random().toString(36).slice(2),Wt="__reactFiber$"+At,Ht="__reactProps$"+At,ur="__reactContainer$"+At,Nl="__reactEvents$"+At,Qd="__reactListeners$"+At,ta="__reactHandles$"+At,Dc="__reactResources$"+At,ss="__reactMarker$"+At;function na(r){delete r[Wt],delete r[Ht],delete r[Nl],delete r[Qd],delete r[ta]}function mi(r){var a=r[Wt];if(a)return a;for(var o=r.parentNode;o;){if(a=o[ur]||o[Wt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=Jb(r);r!==null;){if(o=r[Wt])return o;r=Jb(r)}return a}r=o,o=r.parentNode}return null}function Vr(r){if(r=r[Wt]||r[ur]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Lr(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Mn(r){var a=r[Dc];return a||(a=r[Dc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Lt(r){r[ss]=!0}var Dl=new Set,ro={};function wr(r,a){gi(r,a),gi(r+"Capture",a)}function gi(r,a){for(ro[r]=a,r=0;r<a.length;r++)Dl.add(a[r])}var Mc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pc={},os={};function kc(r){return Fe.call(os,r)?!0:Fe.call(Pc,r)?!1:Mc.test(r)?os[r]=!0:(Pc[r]=!0,!1)}function ra(r,a,o){if(kc(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function Ur(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function dn(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}var ls,Vc;function vi(r){if(ls===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);ls=a&&a[1]||"",Vc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ls+r+Vc}var io=!1;function ao(r,a){if(!r||io)return"";io=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var J=te}Reflect.construct(r,[],le)}else{try{le.call()}catch(te){J=te}r.call(le.prototype)}}else{try{throw Error()}catch(te){J=te}(le=r())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),S=g[0],x=g[1];if(S&&x){var j=S.split(`
`),Z=x.split(`
`);for(h=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(u===j.length||h===Z.length)for(u=j.length-1,h=Z.length-1;1<=u&&0<=h&&j[u]!==Z[h];)h--;for(;1<=u&&0<=h;u--,h--)if(j[u]!==Z[h]){if(u!==1||h!==1)do if(u--,h--,0>h||j[u]!==Z[h]){var ae=`
`+j[u].replace(" at new "," at ");return r.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",r.displayName)),ae}while(1<=u&&0<=h);break}}}finally{io=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?vi(o):""}function Ml(r){switch(r.tag){case 26:case 27:case 5:return vi(r.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return ao(r.type,!1);case 11:return ao(r.type.render,!1);case 1:return ao(r.type,!0);case 31:return vi("Activity");default:return""}}function so(r){try{var a="";do a+=Ml(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Pl(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Xd(r){var a=Pl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return h.call(this)},set:function(S){u=""+S,g.call(this,S)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function oo(r){r._valueTracker||(r._valueTracker=Xd(r))}function kl(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=Pl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function us(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Wd=/[\n"\\]/g;function qt(r){return r.replace(Wd,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Qn(r,a,o,u,h,g,S,x){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),a!=null?S==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Pn(a)):r.value!==""+Pn(a)&&(r.value=""+Pn(a)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),a!=null?ia(r,S,Pn(a)):o!=null?ia(r,S,Pn(o)):u!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.name=""+Pn(x):r.removeAttribute("name")}function cs(r,a,o,u,h,g,S,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;o=o!=null?""+Pn(o):"",a=a!=null?""+Pn(a):o,x||a===r.value||(r.value=a),r.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=x?r.checked:!!u,r.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function ia(r,a,o){a==="number"&&us(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function yi(r,a,o,u){if(r=r.options,a){a={};for(var h=0;h<o.length;h++)a["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=a.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Pn(o),a=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}a!==null||r[h].disabled||(a=r[h])}a!==null&&(a.selected=!0)}}function vt(r,a,o){if(a!=null&&(a=""+Pn(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+Pn(o):""}function fs(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(Se(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=Pn(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function cr(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lc(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||hs.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function Vl(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&o[h]!==u&&Lc(r,h,u)}else for(var g in a)a.hasOwnProperty(g)&&Lc(r,g,a[g])}function Ll(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(r){return Jd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var _i=null;function fr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var bi=null,Ei=null;function Ul(r){var a=Vr(r);if(a&&(r=a.stateNode)){var o=r[Ht]||null;e:switch(r=a.stateNode,a.type){case"input":if(Qn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+qt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var h=u[Ht]||null;if(!h)throw Error(i(90));Qn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&kl(u)}break e;case"textarea":vt(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&yi(r,!!o.multiple,a,!1)}}}var jr=!1;function Uc(r,a,o){if(jr)return r(a,o);jr=!0;try{var u=r(a);return u}finally{if(jr=!1,(bi!==null||Ei!==null)&&(Df(),bi&&(a=bi,r=Ei,Ei=bi=null,Ul(a),r)))for(a=0;a<r.length;a++)Ul(r[a])}}function ds(r,a){var o=r.stateNode;if(o===null)return null;var u=o[Ht]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(Ar)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){hr=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{hr=!1}var Fr=null,aa=null,Ti=null;function jl(){if(Ti)return Ti;var r,a=aa,o=a.length,u,h="value"in Fr?Fr.value:Fr.textContent,g=h.length;for(r=0;r<o&&a[r]===h[r];r++);var S=o-r;for(u=1;u<=S&&a[o-u]===h[g-u];u++);return Ti=h.slice(r,1<u?1-u:void 0)}function zr(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Br(){return!0}function Fl(){return!1}function sn(r){function a(o,u,h,g,S){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var x in r)r.hasOwnProperty(x)&&(o=r[x],this[x]=o?o(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Br:Fl,this.isPropagationStopped=Fl,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),a}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=sn(ft),ms=v({},ft,{view:0,detail:0}),jc=sn(ms),co,fo,Hr,gs=v({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Hr&&(Hr&&r.type==="mousemove"?(co=r.screenX-Hr.screenX,fo=r.screenY-Hr.screenY):fo=co=0,Hr=r),co)},movementY:function(r){return"movementY"in r?r.movementY:fo}}),dr=sn(gs),Fc=v({},gs,{dataTransfer:0}),ep=sn(Fc),vs=v({},ms,{relatedTarget:0}),ho=sn(vs),zl=v({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),po=sn(zl),zc=v({},ft,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),mo=sn(zc),tp=v({},ft,{data:0}),Bl=sn(tp),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hl(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Hc[r])?!!a[r]:!1}function _s(){return Hl}var qc=v({},ms,{key:function(r){if(r.key){var a=ys[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=zr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Bc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(r){return r.type==="keypress"?zr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?zr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),go=sn(qc),$c=v({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=sn($c),Si=v({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),Gc=sn(Si),Yc=v({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kc=sn(Yc),Qc=v({},gs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),vo=sn(Qc),kn=v({},ft,{newState:0,oldState:0}),Xc=sn(kn),Wc=[9,13,27,32],qr=Ar&&"CompositionEvent"in window,f=null;Ar&&"documentMode"in document&&(f=document.documentMode);var y=Ar&&"TextEvent"in window&&!f,E=Ar&&(!qr||f&&8<f&&11>=f),I=" ",X=!1;function re(r,a){switch(r){case"keyup":return Wc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var rt=!1;function Zt(r,a){switch(r){case"compositionend":return ge(a);case"keypress":return a.which!==32?null:(X=!0,I);case"textInput":return r=a.data,r===I&&X?null:r;default:return null}}function it(r,a){if(rt)return r==="compositionend"||!qr&&re(r,a)?(r=jl(),Ti=aa=Fr=null,rt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var on={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jt(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!on[r.type]:a==="textarea"}function wi(r,a,o,u){bi?Ei?Ei.push(u):Ei=[u]:bi=u,a=Uf(a,"onChange"),0<a.length&&(o=new uo("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var pn=null,$r=null;function $l(r){Hb(r,0)}function Zc(r){var a=Lr(r);if(kl(a))return r}function c0(r,a){if(r==="change")return a}var f0=!1;if(Ar){var np;if(Ar){var rp="oninput"in document;if(!rp){var h0=document.createElement("div");h0.setAttribute("oninput","return;"),rp=typeof h0.oninput=="function"}np=rp}else np=!1;f0=np&&(!document.documentMode||9<document.documentMode)}function d0(){pn&&(pn.detachEvent("onpropertychange",p0),$r=pn=null)}function p0(r){if(r.propertyName==="value"&&Zc($r)){var a=[];wi(a,$r,r,fr(r)),Uc($l,a)}}function uC(r,a,o){r==="focusin"?(d0(),pn=a,$r=o,pn.attachEvent("onpropertychange",p0)):r==="focusout"&&d0()}function cC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Zc($r)}function fC(r,a){if(r==="click")return Zc(a)}function hC(r,a){if(r==="input"||r==="change")return Zc(a)}function dC(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Xn=typeof Object.is=="function"?Object.is:dC;function Gl(r,a){if(Xn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Fe.call(a,h)||!Xn(r[h],a[h]))return!1}return!0}function m0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function g0(r,a){var o=m0(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=m0(o)}}function v0(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?v0(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function y0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=us(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=us(r.document)}return a}function ip(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var pC=Ar&&"documentMode"in document&&11>=document.documentMode,yo=null,ap=null,Yl=null,sp=!1;function _0(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sp||yo==null||yo!==us(u)||(u=yo,"selectionStart"in u&&ip(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Yl&&Gl(Yl,u)||(Yl=u,u=Uf(ap,"onSelect"),0<u.length&&(a=new uo("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=yo)))}function bs(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var _o={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},op={},b0={};Ar&&(b0=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Es(r){if(op[r])return op[r];if(!_o[r])return r;var a=_o[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in b0)return op[r]=a[o];return r}var E0=Es("animationend"),T0=Es("animationiteration"),S0=Es("animationstart"),mC=Es("transitionrun"),gC=Es("transitionstart"),vC=Es("transitioncancel"),w0=Es("transitionend"),A0=new Map,lp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lp.push("scrollEnd");function xr(r,a){A0.set(r,a),wr(a,[r])}var x0=new WeakMap;function pr(r,a){if(typeof r=="object"&&r!==null){var o=x0.get(r);return o!==void 0?o:(a={value:r,source:a,stack:so(a)},x0.set(r,a),a)}return{value:r,source:a,stack:so(a)}}var mr=[],bo=0,up=0;function Jc(){for(var r=bo,a=up=bo=0;a<r;){var o=mr[a];mr[a++]=null;var u=mr[a];mr[a++]=null;var h=mr[a];mr[a++]=null;var g=mr[a];if(mr[a++]=null,u!==null&&h!==null){var S=u.pending;S===null?h.next=h:(h.next=S.next,S.next=h),u.pending=h}g!==0&&R0(o,h,g)}}function ef(r,a,o,u){mr[bo++]=r,mr[bo++]=a,mr[bo++]=o,mr[bo++]=u,up|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function cp(r,a,o,u){return ef(r,a,o,u),tf(r)}function Eo(r,a){return ef(r,null,null,a),tf(r)}function R0(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,h&&a!==null&&(h=31-Bt(o),r=g.hiddenUpdates,u=r[h],u===null?r[h]=[a]:u.push(a),a.lane=o|536870912),g):null}function tf(r){if(50<yu)throw yu=0,gm=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var To={};function yC(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(r,a,o,u){return new yC(r,a,o,u)}function fp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ai(r,a){var o=r.alternate;return o===null?(o=Wn(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function C0(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function nf(r,a,o,u,h,g){var S=0;if(u=r,typeof r=="function")fp(r)&&(S=1);else if(typeof r=="string")S=b2(r,o,oe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case T:return r=Wn(31,o,a,h),r.elementType=T,r.lanes=g,r;case k:return Ts(o.children,h,g,a);case V:S=8,h|=24;break;case O:return r=Wn(12,o,a,h|2),r.elementType=O,r.lanes=g,r;case $:return r=Wn(13,o,a,h),r.elementType=$,r.lanes=g,r;case ee:return r=Wn(19,o,a,h),r.elementType=ee,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:case q:S=10;break e;case Q:S=9;break e;case ie:S=11;break e;case C:S=14;break e;case _:S=16,u=null;break e}S=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=Wn(S,o,a,h),a.elementType=r,a.type=u,a.lanes=g,a}function Ts(r,a,o,u){return r=Wn(7,r,u,a),r.lanes=o,r}function hp(r,a,o){return r=Wn(6,r,null,a),r.lanes=o,r}function dp(r,a,o){return a=Wn(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var So=[],wo=0,rf=null,af=0,gr=[],vr=0,Ss=null,xi=1,Ri="";function ws(r,a){So[wo++]=af,So[wo++]=rf,rf=r,af=a}function I0(r,a,o){gr[vr++]=xi,gr[vr++]=Ri,gr[vr++]=Ss,Ss=r;var u=xi;r=Ri;var h=32-Bt(u)-1;u&=~(1<<h),o+=1;var g=32-Bt(a)+h;if(30<g){var S=h-h%5;g=(u&(1<<S)-1).toString(32),u>>=S,h-=S,xi=1<<32-Bt(a)+h|o<<h|u,Ri=g+r}else xi=1<<g|o<<h|u,Ri=r}function pp(r){r.return!==null&&(ws(r,1),I0(r,1,0))}function mp(r){for(;r===rf;)rf=So[--wo],So[wo]=null,af=So[--wo],So[wo]=null;for(;r===Ss;)Ss=gr[--vr],gr[vr]=null,Ri=gr[--vr],gr[vr]=null,xi=gr[--vr],gr[vr]=null}var Vn=null,Dt=null,lt=!1,As=null,Gr=!1,gp=Error(i(519));function xs(r){var a=Error(i(418,""));throw Xl(pr(a,r)),gp}function O0(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[Wt]=r,a[Ht]=u,o){case"dialog":Je("cancel",a),Je("close",a);break;case"iframe":case"object":case"embed":Je("load",a);break;case"video":case"audio":for(o=0;o<bu.length;o++)Je(bu[o],a);break;case"source":Je("error",a);break;case"img":case"image":case"link":Je("error",a),Je("load",a);break;case"details":Je("toggle",a);break;case"input":Je("invalid",a),cs(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),oo(a);break;case"select":Je("invalid",a);break;case"textarea":Je("invalid",a),fs(a,u.value,u.defaultValue,u.children),oo(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||Yb(a.textContent,o)?(u.popover!=null&&(Je("beforetoggle",a),Je("toggle",a)),u.onScroll!=null&&Je("scroll",a),u.onScrollEnd!=null&&Je("scrollend",a),u.onClick!=null&&(a.onclick=jf),a=!0):a=!1,a||xs(r)}function N0(r){for(Vn=r.return;Vn;)switch(Vn.tag){case 5:case 13:Gr=!1;return;case 27:case 3:Gr=!0;return;default:Vn=Vn.return}}function Kl(r){if(r!==Vn)return!1;if(!lt)return N0(r),lt=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Dm(r.type,r.memoizedProps)),o=!o),o&&Dt&&xs(r),N0(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){Dt=Cr(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}Dt=null}}else a===27?(a=Dt,Ea(r.type)?(r=Vm,Vm=null,Dt=r):Dt=a):Dt=Vn?Cr(r.stateNode.nextSibling):null;return!0}function Ql(){Dt=Vn=null,lt=!1}function D0(){var r=As;return r!==null&&(Bn===null?Bn=r:Bn.push.apply(Bn,r),As=null),r}function Xl(r){As===null?As=[r]:As.push(r)}var vp=U(null),Rs=null,Ci=null;function sa(r,a,o){Y(vp,a._currentValue),a._currentValue=o}function Ii(r){r._currentValue=vp.current,G(vp)}function yp(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function _p(r,a,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var S=h.child;g=g.firstContext;e:for(;g!==null;){var x=g;g=h;for(var j=0;j<a.length;j++)if(x.context===a[j]){g.lanes|=o,x=g.alternate,x!==null&&(x.lanes|=o),yp(g.return,o,r),u||(S=null);break e}g=x.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(i(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),yp(S,o,r),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===r){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function Wl(r,a,o,u){r=null;for(var h=a,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var x=h.type;Xn(h.pendingProps.value,S.value)||(r!==null?r.push(x):r=[x])}}else if(h===ye.current){if(S=h.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(xu):r=[xu])}h=h.return}r!==null&&_p(a,r,o,u),a.flags|=262144}function sf(r){for(r=r.firstContext;r!==null;){if(!Xn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Cs(r){Rs=r,Ci=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Tn(r){return M0(Rs,r)}function of(r,a){return Rs===null&&Cs(r),M0(r,a)}function M0(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Ci===null){if(r===null)throw Error(i(308));Ci=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Ci=Ci.next=a;return o}var _C=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},bC=t.unstable_scheduleCallback,EC=t.unstable_NormalPriority,en={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bp(){return{controller:new _C,data:new Map,refCount:0}}function Zl(r){r.refCount--,r.refCount===0&&bC(EC,function(){r.controller.abort()})}var Jl=null,Ep=0,Ao=0,xo=null;function TC(r,a){if(Jl===null){var o=Jl=[];Ep=0,Ao=Sm(),xo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ep++,a.then(P0,P0),a}function P0(){if(--Ep===0&&Jl!==null){xo!==null&&(xo.status="fulfilled");var r=Jl;Jl=null,Ao=0,xo=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function SC(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<o.length;h++)(0,o[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var k0=B.S;B.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&TC(r,a),k0!==null&&k0(r,a)};var Is=U(null);function Tp(){var r=Is.current;return r!==null?r:Tt.pooledCache}function lf(r,a){a===null?Y(Is,Is.current):Y(Is,a.pool)}function V0(){var r=Tp();return r===null?null:{parent:en._currentValue,pool:r}}var eu=Error(i(460)),L0=Error(i(474)),uf=Error(i(542)),Sp={then:function(){}};function U0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function cf(){}function j0(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(cf,cf),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,z0(r),r;default:if(typeof a.status=="string")a.then(cf,cf);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,z0(r),r}throw tu=a,eu}}var tu=null;function F0(){if(tu===null)throw Error(i(459));var r=tu;return tu=null,r}function z0(r){if(r===eu||r===uf)throw Error(i(483))}var oa=!1;function wp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ap(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function la(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ua(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(mt&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=tf(r),R0(r,null,o),a}return ef(r,u,a,o),tf(r)}function nu(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,Ol(r,o)}}function xp(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?h=g=a:g=g.next=a}else h=g=a;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var Rp=!1;function ru(){if(Rp){var r=xo;if(r!==null)throw r}}function iu(r,a,o,u){Rp=!1;var h=r.updateQueue;oa=!1;var g=h.firstBaseUpdate,S=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var j=x,Z=j.next;j.next=null,S===null?g=Z:S.next=Z,S=j;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,x=ae.lastBaseUpdate,x!==S&&(x===null?ae.firstBaseUpdate=Z:x.next=Z,ae.lastBaseUpdate=j))}if(g!==null){var le=h.baseState;S=0,ae=Z=j=null,x=g;do{var J=x.lane&-536870913,te=J!==x.lane;if(te?(at&J)===J:(u&J)===J){J!==0&&J===Ao&&(Rp=!0),ae!==null&&(ae=ae.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var je=r,Pe=x;J=a;var bt=o;switch(Pe.tag){case 1:if(je=Pe.payload,typeof je=="function"){le=je.call(bt,le,J);break e}le=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Pe.payload,J=typeof je=="function"?je.call(bt,le,J):je,J==null)break e;le=v({},le,J);break e;case 2:oa=!0}}J=x.callback,J!==null&&(r.flags|=64,te&&(r.flags|=8192),te=h.callbacks,te===null?h.callbacks=[J]:te.push(J))}else te={lane:J,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ae===null?(Z=ae=te,j=le):ae=ae.next=te,S|=J;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;te=x,x=te.next,te.next=null,h.lastBaseUpdate=te,h.shared.pending=null}}while(!0);ae===null&&(j=le),h.baseState=j,h.firstBaseUpdate=Z,h.lastBaseUpdate=ae,g===null&&(h.shared.lanes=0),va|=S,r.lanes=S,r.memoizedState=le}}function B0(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function H0(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)B0(o[r],a)}var Ro=U(null),ff=U(0);function q0(r,a){r=Vi,Y(ff,r),Y(Ro,a),Vi=r|a.baseLanes}function Cp(){Y(ff,Vi),Y(Ro,Ro.current)}function Ip(){Vi=ff.current,G(Ro),G(ff)}var ca=0,Qe=null,yt=null,$t=null,hf=!1,Co=!1,Os=!1,df=0,au=0,Io=null,wC=0;function Ut(){throw Error(i(321))}function Op(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!Xn(r[o],a[o]))return!1;return!0}function Np(r,a,o,u,h,g){return ca=g,Qe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=r===null||r.memoizedState===null?R_:C_,Os=!1,g=o(u,h),Os=!1,Co&&(g=G0(a,o,u,h)),$0(r),g}function $0(r){B.H=_f;var a=yt!==null&&yt.next!==null;if(ca=0,$t=yt=Qe=null,hf=!1,au=0,Io=null,a)throw Error(i(300));r===null||ln||(r=r.dependencies,r!==null&&sf(r)&&(ln=!0))}function G0(r,a,o,u){Qe=r;var h=0;do{if(Co&&(Io=null),au=0,Co=!1,25<=h)throw Error(i(301));if(h+=1,$t=yt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=NC,g=a(o,u)}while(Co);return g}function AC(){var r=B.H,a=r.useState()[0];return a=typeof a.then=="function"?su(a):a,r=r.useState()[0],(yt!==null?yt.memoizedState:null)!==r&&(Qe.flags|=1024),a}function Dp(){var r=df!==0;return df=0,r}function Mp(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function Pp(r){if(hf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}hf=!1}ca=0,$t=yt=Qe=null,Co=!1,au=df=0,Io=null}function Fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Qe.memoizedState=$t=r:$t=$t.next=r,$t}function Gt(){if(yt===null){var r=Qe.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var a=$t===null?Qe.memoizedState:$t.next;if(a!==null)$t=a,yt=r;else{if(r===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},$t===null?Qe.memoizedState=$t=r:$t=$t.next=r}return $t}function kp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function su(r){var a=au;return au+=1,Io===null&&(Io=[]),r=j0(Io,r,a),a=Qe,($t===null?a.memoizedState:$t.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?R_:C_),r}function pf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return su(r);if(r.$$typeof===q)return Tn(r)}throw Error(i(438,String(r)))}function Vp(r){var a=null,o=Qe.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=Qe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=kp(),Qe.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=R;return a.index++,o}function Oi(r,a){return typeof a=="function"?a(r):a}function mf(r){var a=Gt();return Lp(a,yt,r)}function Lp(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,g=u.pending;if(g!==null){if(h!==null){var S=h.next;h.next=g.next,g.next=S}a.baseQueue=h=g,u.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{a=h.next;var x=S=null,j=null,Z=a,ae=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(at&le)===le:(ca&le)===le){var J=Z.revertLane;if(J===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===Ao&&(ae=!0);else if((ca&J)===J){Z=Z.next,J===Ao&&(ae=!0);continue}else le={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},j===null?(x=j=le,S=g):j=j.next=le,Qe.lanes|=J,va|=J;le=Z.action,Os&&o(g,le),g=Z.hasEagerState?Z.eagerState:o(g,le)}else J={lane:le,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},j===null?(x=j=J,S=g):j=j.next=J,Qe.lanes|=le,va|=le;Z=Z.next}while(Z!==null&&Z!==a);if(j===null?S=g:j.next=x,!Xn(g,r.memoizedState)&&(ln=!0,ae&&(o=xo,o!==null)))throw o;r.memoizedState=g,r.baseState=S,r.baseQueue=j,u.lastRenderedState=g}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Up(r){var a=Gt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,g=a.memoizedState;if(h!==null){o.pending=null;var S=h=h.next;do g=r(g,S.action),S=S.next;while(S!==h);Xn(g,a.memoizedState)||(ln=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,u]}function Y0(r,a,o){var u=Qe,h=Gt(),g=lt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=a();var S=!Xn((yt||h).memoizedState,o);S&&(h.memoizedState=o,ln=!0),h=h.queue;var x=X0.bind(null,u,h,r);if(ou(2048,8,x,[r]),h.getSnapshot!==a||S||$t!==null&&$t.memoizedState.tag&1){if(u.flags|=2048,Oo(9,gf(),Q0.bind(null,u,h,o,a),null),Tt===null)throw Error(i(349));g||(ca&124)!==0||K0(u,a,o)}return o}function K0(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Qe.updateQueue,a===null?(a=kp(),Qe.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function Q0(r,a,o,u){a.value=o,a.getSnapshot=u,W0(a)&&Z0(r)}function X0(r,a,o){return o(function(){W0(a)&&Z0(r)})}function W0(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!Xn(r,o)}catch{return!0}}function Z0(r){var a=Eo(r,2);a!==null&&nr(a,r,2)}function jp(r){var a=Fn();if(typeof r=="function"){var o=r;if(r=o(),Os){Ct(!0);try{o()}finally{Ct(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:r},a}function J0(r,a,o,u){return r.baseState=o,Lp(r,yt,typeof u=="function"?u:Oi)}function xC(r,a,o,u,h){if(yf(r))throw Error(i(485));if(r=a.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};B.T!==null?o(!0):g.isTransition=!1,u(g),o=a.pending,o===null?(g.next=a.pending=g,e_(a,g)):(g.next=o.next,a.pending=o.next=g)}}function e_(r,a){var o=a.action,u=a.payload,h=r.state;if(a.isTransition){var g=B.T,S={};B.T=S;try{var x=o(h,u),j=B.S;j!==null&&j(S,x),t_(r,a,x)}catch(Z){Fp(r,a,Z)}finally{B.T=g}}else try{g=o(h,u),t_(r,a,g)}catch(Z){Fp(r,a,Z)}}function t_(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){n_(r,a,u)},function(u){return Fp(r,a,u)}):n_(r,a,o)}function n_(r,a,o){a.status="fulfilled",a.value=o,r_(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,e_(r,o)))}function Fp(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,r_(a),a=a.next;while(a!==u)}r.action=null}function r_(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function i_(r,a){return a}function a_(r,a){if(lt){var o=Tt.formState;if(o!==null){e:{var u=Qe;if(lt){if(Dt){t:{for(var h=Dt,g=Gr;h.nodeType!==8;){if(!g){h=null;break t}if(h=Cr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Dt=Cr(h.nextSibling),u=h.data==="F!";break e}}xs(u)}u=!1}u&&(a=o[0])}}return o=Fn(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i_,lastRenderedState:a},o.queue=u,o=w_.bind(null,Qe,u),u.dispatch=o,u=jp(!1),g=$p.bind(null,Qe,!1,u.queue),u=Fn(),h={state:a,dispatch:null,action:r,pending:null},u.queue=h,o=xC.bind(null,Qe,h,g,o),h.dispatch=o,u.memoizedState=r,[a,o,!1]}function s_(r){var a=Gt();return o_(a,yt,r)}function o_(r,a,o){if(a=Lp(r,a,i_)[0],r=mf(Oi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=su(a)}catch(S){throw S===eu?uf:S}else u=a;a=Gt();var h=a.queue,g=h.dispatch;return o!==a.memoizedState&&(Qe.flags|=2048,Oo(9,gf(),RC.bind(null,h,o),null)),[u,g,r]}function RC(r,a){r.action=a}function l_(r){var a=Gt(),o=yt;if(o!==null)return o_(a,o,r);Gt(),a=a.memoizedState,o=Gt();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function Oo(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=Qe.updateQueue,a===null&&(a=kp(),Qe.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function gf(){return{destroy:void 0,resource:void 0}}function u_(){return Gt().memoizedState}function vf(r,a,o,u){var h=Fn();u=u===void 0?null:u,Qe.flags|=r,h.memoizedState=Oo(1|a,gf(),o,u)}function ou(r,a,o,u){var h=Gt();u=u===void 0?null:u;var g=h.memoizedState.inst;yt!==null&&u!==null&&Op(u,yt.memoizedState.deps)?h.memoizedState=Oo(a,g,o,u):(Qe.flags|=r,h.memoizedState=Oo(1|a,g,o,u))}function c_(r,a){vf(8390656,8,r,a)}function f_(r,a){ou(2048,8,r,a)}function h_(r,a){return ou(4,2,r,a)}function d_(r,a){return ou(4,4,r,a)}function p_(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function m_(r,a,o){o=o!=null?o.concat([r]):null,ou(4,4,p_.bind(null,a,r),o)}function zp(){}function g_(r,a){var o=Gt();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Op(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function v_(r,a){var o=Gt();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Op(a,u[1]))return u[0];if(u=r(),Os){Ct(!0);try{r()}finally{Ct(!1)}}return o.memoizedState=[u,a],u}function Bp(r,a,o){return o===void 0||(ca&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=bb(),Qe.lanes|=r,va|=r,o)}function y_(r,a,o,u){return Xn(o,a)?o:Ro.current!==null?(r=Bp(r,o,u),Xn(r,a)||(ln=!0),r):(ca&42)===0?(ln=!0,r.memoizedState=o):(r=bb(),Qe.lanes|=r,va|=r,a)}function __(r,a,o,u,h){var g=ne.p;ne.p=g!==0&&8>g?g:8;var S=B.T,x={};B.T=x,$p(r,!1,a,o);try{var j=h(),Z=B.S;if(Z!==null&&Z(x,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ae=SC(j,u);lu(r,a,ae,tr(r))}else lu(r,a,u,tr(r))}catch(le){lu(r,a,{then:function(){},status:"rejected",reason:le},tr())}finally{ne.p=g,B.T=S}}function CC(){}function Hp(r,a,o,u){if(r.tag!==5)throw Error(i(476));var h=b_(r).queue;__(r,h,a,ce,o===null?CC:function(){return E_(r),o(u)})}function b_(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ce},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function E_(r){var a=b_(r).next.queue;lu(r,a,{},tr())}function qp(){return Tn(xu)}function T_(){return Gt().memoizedState}function S_(){return Gt().memoizedState}function IC(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=tr();r=la(o);var u=ua(a,r,o);u!==null&&(nr(u,a,o),nu(u,a,o)),a={cache:bp()},r.payload=a;return}a=a.return}}function OC(r,a,o){var u=tr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},yf(r)?A_(a,o):(o=cp(r,a,o,u),o!==null&&(nr(o,r,u),x_(o,a,u)))}function w_(r,a,o){var u=tr();lu(r,a,o,u)}function lu(r,a,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(yf(r))A_(a,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var S=a.lastRenderedState,x=g(S,o);if(h.hasEagerState=!0,h.eagerState=x,Xn(x,S))return ef(r,a,h,0),Tt===null&&Jc(),!1}catch{}finally{}if(o=cp(r,a,h,u),o!==null)return nr(o,r,u),x_(o,a,u),!0}return!1}function $p(r,a,o,u){if(u={lane:2,revertLane:Sm(),action:u,hasEagerState:!1,eagerState:null,next:null},yf(r)){if(a)throw Error(i(479))}else a=cp(r,o,u,2),a!==null&&nr(a,r,2)}function yf(r){var a=r.alternate;return r===Qe||a!==null&&a===Qe}function A_(r,a){Co=hf=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function x_(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,Ol(r,o)}}var _f={readContext:Tn,use:pf,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},R_={readContext:Tn,use:pf,useCallback:function(r,a){return Fn().memoizedState=[r,a===void 0?null:a],r},useContext:Tn,useEffect:c_,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,vf(4194308,4,p_.bind(null,a,r),o)},useLayoutEffect:function(r,a){return vf(4194308,4,r,a)},useInsertionEffect:function(r,a){vf(4,2,r,a)},useMemo:function(r,a){var o=Fn();a=a===void 0?null:a;var u=r();if(Os){Ct(!0);try{r()}finally{Ct(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=Fn();if(o!==void 0){var h=o(a);if(Os){Ct(!0);try{o(a)}finally{Ct(!1)}}}else h=a;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=OC.bind(null,Qe,r),[u.memoizedState,r]},useRef:function(r){var a=Fn();return r={current:r},a.memoizedState=r},useState:function(r){r=jp(r);var a=r.queue,o=w_.bind(null,Qe,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:zp,useDeferredValue:function(r,a){var o=Fn();return Bp(o,r,a)},useTransition:function(){var r=jp(!1);return r=__.bind(null,Qe,r.queue,!0,!1),Fn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=Qe,h=Fn();if(lt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Tt===null)throw Error(i(349));(at&124)!==0||K0(u,a,o)}h.memoizedState=o;var g={value:o,getSnapshot:a};return h.queue=g,c_(X0.bind(null,u,g,r),[r]),u.flags|=2048,Oo(9,gf(),Q0.bind(null,u,g,o,a),null),o},useId:function(){var r=Fn(),a=Tt.identifierPrefix;if(lt){var o=Ri,u=xi;o=(u&~(1<<32-Bt(u)-1)).toString(32)+o,a=""+a+"R"+o,o=df++,0<o&&(a+="H"+o.toString(32)),a+=""}else o=wC++,a=""+a+"r"+o.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:qp,useFormState:a_,useActionState:a_,useOptimistic:function(r){var a=Fn();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=$p.bind(null,Qe,!0,o),o.dispatch=a,[r,a]},useMemoCache:Vp,useCacheRefresh:function(){return Fn().memoizedState=IC.bind(null,Qe)}},C_={readContext:Tn,use:pf,useCallback:g_,useContext:Tn,useEffect:f_,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:d_,useMemo:v_,useReducer:mf,useRef:u_,useState:function(){return mf(Oi)},useDebugValue:zp,useDeferredValue:function(r,a){var o=Gt();return y_(o,yt.memoizedState,r,a)},useTransition:function(){var r=mf(Oi)[0],a=Gt().memoizedState;return[typeof r=="boolean"?r:su(r),a]},useSyncExternalStore:Y0,useId:T_,useHostTransitionStatus:qp,useFormState:s_,useActionState:s_,useOptimistic:function(r,a){var o=Gt();return J0(o,yt,r,a)},useMemoCache:Vp,useCacheRefresh:S_},NC={readContext:Tn,use:pf,useCallback:g_,useContext:Tn,useEffect:f_,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:d_,useMemo:v_,useReducer:Up,useRef:u_,useState:function(){return Up(Oi)},useDebugValue:zp,useDeferredValue:function(r,a){var o=Gt();return yt===null?Bp(o,r,a):y_(o,yt.memoizedState,r,a)},useTransition:function(){var r=Up(Oi)[0],a=Gt().memoizedState;return[typeof r=="boolean"?r:su(r),a]},useSyncExternalStore:Y0,useId:T_,useHostTransitionStatus:qp,useFormState:l_,useActionState:l_,useOptimistic:function(r,a){var o=Gt();return yt!==null?J0(o,yt,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Vp,useCacheRefresh:S_},No=null,uu=0;function bf(r){var a=uu;return uu+=1,No===null&&(No=[]),j0(No,r,a)}function cu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Ef(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function I_(r){var a=r._init;return a(r._payload)}function O_(r){function a(K,H){if(r){var W=K.deletions;W===null?(K.deletions=[H],K.flags|=16):W.push(H)}}function o(K,H){if(!r)return null;for(;H!==null;)a(K,H),H=H.sibling;return null}function u(K){for(var H=new Map;K!==null;)K.key!==null?H.set(K.key,K):H.set(K.index,K),K=K.sibling;return H}function h(K,H){return K=Ai(K,H),K.index=0,K.sibling=null,K}function g(K,H,W){return K.index=W,r?(W=K.alternate,W!==null?(W=W.index,W<H?(K.flags|=67108866,H):W):(K.flags|=67108866,H)):(K.flags|=1048576,H)}function S(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function x(K,H,W,se){return H===null||H.tag!==6?(H=hp(W,K.mode,se),H.return=K,H):(H=h(H,W),H.return=K,H)}function j(K,H,W,se){var Te=W.type;return Te===k?ae(K,H,W.props.children,se,W.key):H!==null&&(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===_&&I_(Te)===H.type)?(H=h(H,W.props),cu(H,W),H.return=K,H):(H=nf(W.type,W.key,W.props,null,K.mode,se),cu(H,W),H.return=K,H)}function Z(K,H,W,se){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=dp(W,K.mode,se),H.return=K,H):(H=h(H,W.children||[]),H.return=K,H)}function ae(K,H,W,se,Te){return H===null||H.tag!==7?(H=Ts(W,K.mode,se,Te),H.return=K,H):(H=h(H,W),H.return=K,H)}function le(K,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=hp(""+H,K.mode,W),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return W=nf(H.type,H.key,H.props,null,K.mode,W),cu(W,H),W.return=K,W;case N:return H=dp(H,K.mode,W),H.return=K,H;case _:var se=H._init;return H=se(H._payload),le(K,H,W)}if(Se(H)||M(H))return H=Ts(H,K.mode,W,null),H.return=K,H;if(typeof H.then=="function")return le(K,bf(H),W);if(H.$$typeof===q)return le(K,of(K,H),W);Ef(K,H)}return null}function J(K,H,W,se){var Te=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Te!==null?null:x(K,H,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return W.key===Te?j(K,H,W,se):null;case N:return W.key===Te?Z(K,H,W,se):null;case _:return Te=W._init,W=Te(W._payload),J(K,H,W,se)}if(Se(W)||M(W))return Te!==null?null:ae(K,H,W,se,null);if(typeof W.then=="function")return J(K,H,bf(W),se);if(W.$$typeof===q)return J(K,H,of(K,W),se);Ef(K,W)}return null}function te(K,H,W,se,Te){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return K=K.get(W)||null,x(H,K,""+se,Te);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return K=K.get(se.key===null?W:se.key)||null,j(H,K,se,Te);case N:return K=K.get(se.key===null?W:se.key)||null,Z(H,K,se,Te);case _:var We=se._init;return se=We(se._payload),te(K,H,W,se,Te)}if(Se(se)||M(se))return K=K.get(W)||null,ae(H,K,se,Te,null);if(typeof se.then=="function")return te(K,H,W,bf(se),Te);if(se.$$typeof===q)return te(K,H,W,of(H,se),Te);Ef(H,se)}return null}function je(K,H,W,se){for(var Te=null,We=null,Re=H,Ve=H=0,cn=null;Re!==null&&Ve<W.length;Ve++){Re.index>Ve?(cn=Re,Re=null):cn=Re.sibling;var ot=J(K,Re,W[Ve],se);if(ot===null){Re===null&&(Re=cn);break}r&&Re&&ot.alternate===null&&a(K,Re),H=g(ot,H,Ve),We===null?Te=ot:We.sibling=ot,We=ot,Re=cn}if(Ve===W.length)return o(K,Re),lt&&ws(K,Ve),Te;if(Re===null){for(;Ve<W.length;Ve++)Re=le(K,W[Ve],se),Re!==null&&(H=g(Re,H,Ve),We===null?Te=Re:We.sibling=Re,We=Re);return lt&&ws(K,Ve),Te}for(Re=u(Re);Ve<W.length;Ve++)cn=te(Re,K,Ve,W[Ve],se),cn!==null&&(r&&cn.alternate!==null&&Re.delete(cn.key===null?Ve:cn.key),H=g(cn,H,Ve),We===null?Te=cn:We.sibling=cn,We=cn);return r&&Re.forEach(function(xa){return a(K,xa)}),lt&&ws(K,Ve),Te}function Pe(K,H,W,se){if(W==null)throw Error(i(151));for(var Te=null,We=null,Re=H,Ve=H=0,cn=null,ot=W.next();Re!==null&&!ot.done;Ve++,ot=W.next()){Re.index>Ve?(cn=Re,Re=null):cn=Re.sibling;var xa=J(K,Re,ot.value,se);if(xa===null){Re===null&&(Re=cn);break}r&&Re&&xa.alternate===null&&a(K,Re),H=g(xa,H,Ve),We===null?Te=xa:We.sibling=xa,We=xa,Re=cn}if(ot.done)return o(K,Re),lt&&ws(K,Ve),Te;if(Re===null){for(;!ot.done;Ve++,ot=W.next())ot=le(K,ot.value,se),ot!==null&&(H=g(ot,H,Ve),We===null?Te=ot:We.sibling=ot,We=ot);return lt&&ws(K,Ve),Te}for(Re=u(Re);!ot.done;Ve++,ot=W.next())ot=te(Re,K,Ve,ot.value,se),ot!==null&&(r&&ot.alternate!==null&&Re.delete(ot.key===null?Ve:ot.key),H=g(ot,H,Ve),We===null?Te=ot:We.sibling=ot,We=ot);return r&&Re.forEach(function(D2){return a(K,D2)}),lt&&ws(K,Ve),Te}function bt(K,H,W,se){if(typeof W=="object"&&W!==null&&W.type===k&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case A:e:{for(var Te=W.key;H!==null;){if(H.key===Te){if(Te=W.type,Te===k){if(H.tag===7){o(K,H.sibling),se=h(H,W.props.children),se.return=K,K=se;break e}}else if(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===_&&I_(Te)===H.type){o(K,H.sibling),se=h(H,W.props),cu(se,W),se.return=K,K=se;break e}o(K,H);break}else a(K,H);H=H.sibling}W.type===k?(se=Ts(W.props.children,K.mode,se,W.key),se.return=K,K=se):(se=nf(W.type,W.key,W.props,null,K.mode,se),cu(se,W),se.return=K,K=se)}return S(K);case N:e:{for(Te=W.key;H!==null;){if(H.key===Te)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){o(K,H.sibling),se=h(H,W.children||[]),se.return=K,K=se;break e}else{o(K,H);break}else a(K,H);H=H.sibling}se=dp(W,K.mode,se),se.return=K,K=se}return S(K);case _:return Te=W._init,W=Te(W._payload),bt(K,H,W,se)}if(Se(W))return je(K,H,W,se);if(M(W)){if(Te=M(W),typeof Te!="function")throw Error(i(150));return W=Te.call(W),Pe(K,H,W,se)}if(typeof W.then=="function")return bt(K,H,bf(W),se);if(W.$$typeof===q)return bt(K,H,of(K,W),se);Ef(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(o(K,H.sibling),se=h(H,W),se.return=K,K=se):(o(K,H),se=hp(W,K.mode,se),se.return=K,K=se),S(K)):o(K,H)}return function(K,H,W,se){try{uu=0;var Te=bt(K,H,W,se);return No=null,Te}catch(Re){if(Re===eu||Re===uf)throw Re;var We=Wn(29,Re,null,K.mode);return We.lanes=se,We.return=K,We}finally{}}}var Do=O_(!0),N_=O_(!1),yr=U(null),Yr=null;function fa(r){var a=r.alternate;Y(tn,tn.current&1),Y(yr,r),Yr===null&&(a===null||Ro.current!==null||a.memoizedState!==null)&&(Yr=r)}function D_(r){if(r.tag===22){if(Y(tn,tn.current),Y(yr,r),Yr===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Yr=r)}}else ha()}function ha(){Y(tn,tn.current),Y(yr,yr.current)}function Ni(r){G(yr),Yr===r&&(Yr=null),G(tn)}var tn=U(0);function Tf(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||km(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Gp(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:v({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Yp={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=tr(),h=la(u);h.payload=a,o!=null&&(h.callback=o),a=ua(r,h,u),a!==null&&(nr(a,r,u),nu(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=tr(),h=la(u);h.tag=1,h.payload=a,o!=null&&(h.callback=o),a=ua(r,h,u),a!==null&&(nr(a,r,u),nu(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=tr(),u=la(o);u.tag=2,a!=null&&(u.callback=a),a=ua(r,u,o),a!==null&&(nr(a,r,o),nu(a,r,o))}};function M_(r,a,o,u,h,g,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,S):a.prototype&&a.prototype.isPureReactComponent?!Gl(o,u)||!Gl(h,g):!0}function P_(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&Yp.enqueueReplaceState(a,a.state,null)}function Ns(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Sf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function k_(r){Sf(r)}function V_(r){console.error(r)}function L_(r){Sf(r)}function wf(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function U_(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kp(r,a,o){return o=la(o),o.tag=3,o.payload={element:null},o.callback=function(){wf(r,a)},o}function j_(r){return r=la(r),r.tag=3,r}function F_(r,a,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;r.payload=function(){return h(g)},r.callback=function(){U_(a,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){U_(a,o,u),typeof h!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function DC(r,a,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&Wl(a,o,h,!0),o=yr.current,o!==null){switch(o.tag){case 13:return Yr===null?ym():o.alternate===null&&Mt===0&&(Mt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Sp?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),bm(r,u,h)),!1;case 22:return o.flags|=65536,u===Sp?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),bm(r,u,h)),!1}throw Error(i(435,o.tag))}return bm(r,u,h),ym(),!1}if(lt)return a=yr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==gp&&(r=Error(i(422),{cause:u}),Xl(pr(r,o)))):(u!==gp&&(a=Error(i(423),{cause:u}),Xl(pr(a,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=pr(u,o),h=Kp(r.stateNode,u,h),xp(r,h),Mt!==4&&(Mt=2)),!1;var g=Error(i(520),{cause:u});if(g=pr(g,o),vu===null?vu=[g]:vu.push(g),Mt!==4&&(Mt=2),a===null)return!0;u=pr(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Kp(o.stateNode,u,r),xp(o,r),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ya===null||!ya.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=j_(h),F_(h,r,o,u),xp(o,h),!1}o=o.return}while(o!==null);return!1}var z_=Error(i(461)),ln=!1;function mn(r,a,o,u){a.child=r===null?N_(a,null,o,u):Do(a,r.child,o,u)}function B_(r,a,o,u,h){o=o.render;var g=a.ref;if("ref"in u){var S={};for(var x in u)x!=="ref"&&(S[x]=u[x])}else S=u;return Cs(a),u=Np(r,a,o,S,g,h),x=Dp(),r!==null&&!ln?(Mp(r,a,h),Di(r,a,h)):(lt&&x&&pp(a),a.flags|=1,mn(r,a,u,h),a.child)}function H_(r,a,o,u,h){if(r===null){var g=o.type;return typeof g=="function"&&!fp(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,q_(r,a,g,u,h)):(r=nf(o.type,null,u,a,a.mode,h),r.ref=a.ref,r.return=a,a.child=r)}if(g=r.child,!nm(r,h)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:Gl,o(S,u)&&r.ref===a.ref)return Di(r,a,h)}return a.flags|=1,r=Ai(g,u),r.ref=a.ref,r.return=a,a.child=r}function q_(r,a,o,u,h){if(r!==null){var g=r.memoizedProps;if(Gl(g,u)&&r.ref===a.ref)if(ln=!1,a.pendingProps=u=g,nm(r,h))(r.flags&131072)!==0&&(ln=!0);else return a.lanes=r.lanes,Di(r,a,h)}return Qp(r,a,o,u,h)}function $_(r,a,o){var u=a.pendingProps,h=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(h=a.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;a.childLanes=g&~u}else a.childLanes=0,a.child=null;return G_(r,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&lf(a,g!==null?g.cachePool:null),g!==null?q0(a,g):Cp(),D_(a);else return a.lanes=a.childLanes=536870912,G_(r,a,g!==null?g.baseLanes|o:o,o)}else g!==null?(lf(a,g.cachePool),q0(a,g),ha(),a.memoizedState=null):(r!==null&&lf(a,null),Cp(),ha());return mn(r,a,h,o),a.child}function G_(r,a,o,u){var h=Tp();return h=h===null?null:{parent:en._currentValue,pool:h},a.memoizedState={baseLanes:o,cachePool:h},r!==null&&lf(a,null),Cp(),D_(a),r!==null&&Wl(r,a,u,!0),null}function Af(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function Qp(r,a,o,u,h){return Cs(a),o=Np(r,a,o,u,void 0,h),u=Dp(),r!==null&&!ln?(Mp(r,a,h),Di(r,a,h)):(lt&&u&&pp(a),a.flags|=1,mn(r,a,o,h),a.child)}function Y_(r,a,o,u,h,g){return Cs(a),a.updateQueue=null,o=G0(a,u,o,h),$0(r),u=Dp(),r!==null&&!ln?(Mp(r,a,g),Di(r,a,g)):(lt&&u&&pp(a),a.flags|=1,mn(r,a,o,g),a.child)}function K_(r,a,o,u,h){if(Cs(a),a.stateNode===null){var g=To,S=o.contextType;typeof S=="object"&&S!==null&&(g=Tn(S)),g=new o(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Yp,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},wp(a),S=o.contextType,g.context=typeof S=="object"&&S!==null?Tn(S):To,g.state=a.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Gp(a,o,S,u),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&Yp.enqueueReplaceState(g,g.state,null),iu(a,u,g,h),ru(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){g=a.stateNode;var x=a.memoizedProps,j=Ns(o,x);g.props=j;var Z=g.context,ae=o.contextType;S=To,typeof ae=="object"&&ae!==null&&(S=Tn(ae));var le=o.getDerivedStateFromProps;ae=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=a.pendingProps!==x,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||Z!==S)&&P_(a,g,u,S),oa=!1;var J=a.memoizedState;g.state=J,iu(a,u,g,h),ru(),Z=a.memoizedState,x||J!==Z||oa?(typeof le=="function"&&(Gp(a,o,le,u),Z=a.memoizedState),(j=oa||M_(a,o,j,u,J,Z,S))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Z),g.props=u,g.state=Z,g.context=S,u=j):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,Ap(r,a),S=a.memoizedProps,ae=Ns(o,S),g.props=ae,le=a.pendingProps,J=g.context,Z=o.contextType,j=To,typeof Z=="object"&&Z!==null&&(j=Tn(Z)),x=o.getDerivedStateFromProps,(Z=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==le||J!==j)&&P_(a,g,u,j),oa=!1,J=a.memoizedState,g.state=J,iu(a,u,g,h),ru();var te=a.memoizedState;S!==le||J!==te||oa||r!==null&&r.dependencies!==null&&sf(r.dependencies)?(typeof x=="function"&&(Gp(a,o,x,u),te=a.memoizedState),(ae=oa||M_(a,o,ae,u,J,te,j)||r!==null&&r.dependencies!==null&&sf(r.dependencies))?(Z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,j)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=te),g.props=u,g.state=te,g.context=j,u=ae):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),u=!1)}return g=u,Af(r,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,r!==null&&u?(a.child=Do(a,r.child,null,h),a.child=Do(a,null,o,h)):mn(r,a,o,h),a.memoizedState=g.state,r=a.child):r=Di(r,a,h),r}function Q_(r,a,o,u){return Ql(),a.flags|=256,mn(r,a,o,u),a.child}var Xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wp(r){return{baseLanes:r,cachePool:V0()}}function Zp(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=_r),r}function X_(r,a,o){var u=a.pendingProps,h=!1,g=(a.flags&128)!==0,S;if((S=g)||(S=r!==null&&r.memoizedState===null?!1:(tn.current&2)!==0),S&&(h=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,r===null){if(lt){if(h?fa(a):ha(),lt){var x=Dt,j;if(j=x){e:{for(j=x,x=Gr;j.nodeType!==8;){if(!x){x=null;break e}if(j=Cr(j.nextSibling),j===null){x=null;break e}}x=j}x!==null?(a.memoizedState={dehydrated:x,treeContext:Ss!==null?{id:xi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},j=Wn(18,null,null,0),j.stateNode=x,j.return=a,a.child=j,Vn=a,Dt=null,j=!0):j=!1}j||xs(a)}if(x=a.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return km(x)?a.lanes=32:a.lanes=536870912,null;Ni(a)}return x=u.children,u=u.fallback,h?(ha(),h=a.mode,x=xf({mode:"hidden",children:x},h),u=Ts(u,h,o,null),x.return=a,u.return=a,x.sibling=u,a.child=x,h=a.child,h.memoizedState=Wp(o),h.childLanes=Zp(r,S,o),a.memoizedState=Xp,u):(fa(a),Jp(a,x))}if(j=r.memoizedState,j!==null&&(x=j.dehydrated,x!==null)){if(g)a.flags&256?(fa(a),a.flags&=-257,a=em(r,a,o)):a.memoizedState!==null?(ha(),a.child=r.child,a.flags|=128,a=null):(ha(),h=u.fallback,x=a.mode,u=xf({mode:"visible",children:u.children},x),h=Ts(h,x,o,null),h.flags|=2,u.return=a,h.return=a,u.sibling=h,a.child=u,Do(a,r.child,null,o),u=a.child,u.memoizedState=Wp(o),u.childLanes=Zp(r,S,o),a.memoizedState=Xp,a=h);else if(fa(a),km(x)){if(S=x.nextSibling&&x.nextSibling.dataset,S)var Z=S.dgst;S=Z,u=Error(i(419)),u.stack="",u.digest=S,Xl({value:u,source:null,stack:null}),a=em(r,a,o)}else if(ln||Wl(r,a,o,!1),S=(o&r.childLanes)!==0,ln||S){if(S=Tt,S!==null&&(u=o&-o,u=(u&42)!==0?1:Ji(u),u=(u&(S.suspendedLanes|o))!==0?0:u,u!==0&&u!==j.retryLane))throw j.retryLane=u,Eo(r,u),nr(S,r,u),z_;x.data==="$?"||ym(),a=em(r,a,o)}else x.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=j.treeContext,Dt=Cr(x.nextSibling),Vn=a,lt=!0,As=null,Gr=!1,r!==null&&(gr[vr++]=xi,gr[vr++]=Ri,gr[vr++]=Ss,xi=r.id,Ri=r.overflow,Ss=a),a=Jp(a,u.children),a.flags|=4096);return a}return h?(ha(),h=u.fallback,x=a.mode,j=r.child,Z=j.sibling,u=Ai(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,Z!==null?h=Ai(Z,h):(h=Ts(h,x,o,null),h.flags|=2),h.return=a,u.return=a,u.sibling=h,a.child=u,u=h,h=a.child,x=r.child.memoizedState,x===null?x=Wp(o):(j=x.cachePool,j!==null?(Z=en._currentValue,j=j.parent!==Z?{parent:Z,pool:Z}:j):j=V0(),x={baseLanes:x.baseLanes|o,cachePool:j}),h.memoizedState=x,h.childLanes=Zp(r,S,o),a.memoizedState=Xp,u):(fa(a),o=r.child,r=o.sibling,o=Ai(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(S=a.deletions,S===null?(a.deletions=[r],a.flags|=16):S.push(r)),a.child=o,a.memoizedState=null,o)}function Jp(r,a){return a=xf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function xf(r,a){return r=Wn(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function em(r,a,o){return Do(a,r.child,null,o),r=Jp(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function W_(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),yp(r.return,a,o)}function tm(r,a,o,u,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=h)}function Z_(r,a,o){var u=a.pendingProps,h=u.revealOrder,g=u.tail;if(mn(r,a,u.children,o),u=tn.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&W_(r,o,a);else if(r.tag===19)W_(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Y(tn,u),h){case"forwards":for(o=a.child,h=null;o!==null;)r=o.alternate,r!==null&&Tf(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=a.child,a.child=null):(h=o.sibling,o.sibling=null),tm(a,!1,h,o,g);break;case"backwards":for(o=null,h=a.child,a.child=null;h!==null;){if(r=h.alternate,r!==null&&Tf(r)===null){a.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}tm(a,!0,o,null,g);break;case"together":tm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Di(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),va|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(Wl(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=Ai(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=Ai(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function nm(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&sf(r)))}function MC(r,a,o){switch(a.tag){case 3:ve(a,a.stateNode.containerInfo),sa(a,en,r.memoizedState.cache),Ql();break;case 27:case 5:Ne(a);break;case 4:ve(a,a.stateNode.containerInfo);break;case 10:sa(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(fa(a),a.flags|=128,null):(o&a.child.childLanes)!==0?X_(r,a,o):(fa(a),r=Di(r,a,o),r!==null?r.sibling:null);fa(a);break;case 19:var h=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(Wl(r,a,o,!1),u=(o&a.childLanes)!==0),h){if(u)return Z_(r,a,o);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Y(tn,tn.current),u)break;return null;case 22:case 23:return a.lanes=0,$_(r,a,o);case 24:sa(a,en,r.memoizedState.cache)}return Di(r,a,o)}function J_(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)ln=!0;else{if(!nm(r,o)&&(a.flags&128)===0)return ln=!1,MC(r,a,o);ln=(r.flags&131072)!==0}else ln=!1,lt&&(a.flags&1048576)!==0&&I0(a,af,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,h=u._init;if(u=h(u._payload),a.type=u,typeof u=="function")fp(u)?(r=Ns(u,r),a.tag=1,a=K_(null,a,u,r,o)):(a.tag=0,a=Qp(null,a,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===ie){a.tag=11,a=B_(null,a,u,r,o);break e}else if(h===C){a.tag=14,a=H_(null,a,u,r,o);break e}}throw a=_e(u)||u,Error(i(306,a,""))}}return a;case 0:return Qp(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,h=Ns(u,a.pendingProps),K_(r,a,u,h,o);case 3:e:{if(ve(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var g=a.memoizedState;h=g.element,Ap(r,a),iu(a,u,null,o);var S=a.memoizedState;if(u=S.cache,sa(a,en,u),u!==g.cache&&_p(a,[en],o,!0),ru(),u=S.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=Q_(r,a,u,o);break e}else if(u!==h){h=pr(Error(i(424)),a),Xl(h),a=Q_(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Dt=Cr(r.firstChild),Vn=a,lt=!0,As=null,Gr=!0,o=N_(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ql(),u===h){a=Di(r,a,o);break e}mn(r,a,u,o)}a=a.child}return a;case 26:return Af(r,a),r===null?(o=rE(a.type,null,a.pendingProps,null))?a.memoizedState=o:lt||(o=a.type,r=a.pendingProps,u=Ff(de.current).createElement(o),u[Wt]=a,u[Ht]=r,vn(u,o,r),Lt(u),a.stateNode=u):a.memoizedState=rE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Ne(a),r===null&&lt&&(u=a.stateNode=eE(a.type,a.pendingProps,de.current),Vn=a,Gr=!0,h=Dt,Ea(a.type)?(Vm=h,Dt=Cr(u.firstChild)):Dt=h),mn(r,a,a.pendingProps.children,o),Af(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&lt&&((h=u=Dt)&&(u=o2(u,a.type,a.pendingProps,Gr),u!==null?(a.stateNode=u,Vn=a,Dt=Cr(u.firstChild),Gr=!1,h=!0):h=!1),h||xs(a)),Ne(a),h=a.type,g=a.pendingProps,S=r!==null?r.memoizedProps:null,u=g.children,Dm(h,g)?u=null:S!==null&&Dm(h,S)&&(a.flags|=32),a.memoizedState!==null&&(h=Np(r,a,AC,null,null,o),xu._currentValue=h),Af(r,a),mn(r,a,u,o),a.child;case 6:return r===null&&lt&&((r=o=Dt)&&(o=l2(o,a.pendingProps,Gr),o!==null?(a.stateNode=o,Vn=a,Dt=null,r=!0):r=!1),r||xs(a)),null;case 13:return X_(r,a,o);case 4:return ve(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=Do(a,null,u,o):mn(r,a,u,o),a.child;case 11:return B_(r,a,a.type,a.pendingProps,o);case 7:return mn(r,a,a.pendingProps,o),a.child;case 8:return mn(r,a,a.pendingProps.children,o),a.child;case 12:return mn(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,sa(a,a.type,u.value),mn(r,a,u.children,o),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,Cs(a),h=Tn(h),u=u(h),a.flags|=1,mn(r,a,u,o),a.child;case 14:return H_(r,a,a.type,a.pendingProps,o);case 15:return q_(r,a,a.type,a.pendingProps,o);case 19:return Z_(r,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},r===null?(o=xf(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=Ai(r.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return $_(r,a,o);case 24:return Cs(a),u=Tn(en),r===null?(h=Tp(),h===null&&(h=Tt,g=bp(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),a.memoizedState={parent:u,cache:h},wp(a),sa(a,en,h)):((r.lanes&o)!==0&&(Ap(r,a),iu(a,null,null,o),ru()),h=r.memoizedState,g=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),sa(a,en,u)):(u=g.cache,sa(a,en,u),u!==h.cache&&_p(a,[en],o,!0))),mn(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Mi(r){r.flags|=4}function eb(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!lE(a)){if(a=yr.current,a!==null&&((at&4194048)===at?Yr!==null:(at&62914560)!==at&&(at&536870912)===0||a!==Yr))throw tu=Sp,L0;r.flags|=8192}}function Rf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Cl():536870912,r.lanes|=a,Vo|=a)}function fu(r,a){if(!lt)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function It(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function PC(r,a,o){var u=a.pendingProps;switch(mp(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(a),null;case 1:return It(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ii(en),we(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Kl(a)?Mi(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,D0())),It(a),null;case 26:return o=a.memoizedState,r===null?(Mi(a),o!==null?(It(a),eb(a,o)):(It(a),a.flags&=-16777217)):o?o!==r.memoizedState?(Mi(a),It(a),eb(a,o)):(It(a),a.flags&=-16777217):(r.memoizedProps!==u&&Mi(a),It(a),a.flags&=-16777217),null;case 27:Ee(a),o=de.current;var h=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Mi(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return It(a),null}r=oe.current,Kl(a)?O0(a):(r=eE(h,u,o),a.stateNode=r,Mi(a))}return It(a),null;case 5:if(Ee(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Mi(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return It(a),null}if(r=oe.current,Kl(a))O0(a);else{switch(h=Ff(de.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Wt]=a,r[Ht]=u;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=r;e:switch(vn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Mi(a)}}return It(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&Mi(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=de.current,Kl(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,h=Vn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Wt]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Yb(r.nodeValue,o)),r||xs(a)}else r=Ff(r).createTextNode(u),r[Wt]=a,a.stateNode=r}return It(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Kl(a),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Wt]=a}else Ql(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;It(a),h=!1}else h=D0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Ni(a),a):(Ni(a),null)}if(Ni(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),Rf(a,a.updateQueue),It(a),null;case 4:return we(),r===null&&Rm(a.stateNode.containerInfo),It(a),null;case 10:return Ii(a.type),It(a),null;case 19:if(G(tn),h=a.memoizedState,h===null)return It(a),null;if(u=(a.flags&128)!==0,g=h.rendering,g===null)if(u)fu(h,!1);else{if(Mt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(g=Tf(r),g!==null){for(a.flags|=128,fu(h,!1),r=g.updateQueue,a.updateQueue=r,Rf(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)C0(o,r),o=o.sibling;return Y(tn,tn.current&1|2),a.child}r=r.sibling}h.tail!==null&&wt()>Of&&(a.flags|=128,u=!0,fu(h,!1),a.lanes=4194304)}else{if(!u)if(r=Tf(g),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,Rf(a,r),fu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!lt)return It(a),null}else 2*wt()-h.renderingStartTime>Of&&o!==536870912&&(a.flags|=128,u=!0,fu(h,!1),a.lanes=4194304);h.isBackwards?(g.sibling=a.child,a.child=g):(r=h.last,r!==null?r.sibling=g:a.child=g,h.last=g)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=wt(),a.sibling=null,r=tn.current,Y(tn,u?r&1|2:r&1),a):(It(a),null);case 22:case 23:return Ni(a),Ip(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(It(a),a.subtreeFlags&6&&(a.flags|=8192)):It(a),o=a.updateQueue,o!==null&&Rf(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&G(Is),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Ii(en),It(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function kC(r,a){switch(mp(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Ii(en),we(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ee(a),null;case 13:if(Ni(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ql()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return G(tn),null;case 4:return we(),null;case 10:return Ii(a.type),null;case 22:case 23:return Ni(a),Ip(),r!==null&&G(Is),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Ii(en),null;case 25:return null;default:return null}}function tb(r,a){switch(mp(a),a.tag){case 3:Ii(en),we();break;case 26:case 27:case 5:Ee(a);break;case 4:we();break;case 13:Ni(a);break;case 19:G(tn);break;case 10:Ii(a.type);break;case 22:case 23:Ni(a),Ip(),r!==null&&G(Is);break;case 24:Ii(en)}}function hu(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var g=o.create,S=o.inst;u=g(),S.destroy=u}o=o.next}while(o!==h)}}catch(x){Et(a,a.return,x)}}function da(r,a,o){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&r)===r){var S=u.inst,x=S.destroy;if(x!==void 0){S.destroy=void 0,h=a;var j=o,Z=x;try{Z()}catch(ae){Et(h,j,ae)}}}u=u.next}while(u!==g)}}catch(ae){Et(a,a.return,ae)}}function nb(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{H0(a,o)}catch(u){Et(r,r.return,u)}}}function rb(r,a,o){o.props=Ns(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Et(r,a,u)}}function du(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){Et(r,a,h)}}function Kr(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){Et(r,a,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Et(r,a,h)}else o.current=null}function ib(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){Et(r,r.return,h)}}function rm(r,a,o){try{var u=r.stateNode;n2(u,r.type,o,a),u[Ht]=a}catch(h){Et(r,r.return,h)}}function ab(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ea(r.type)||r.tag===4}function im(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ab(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ea(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function am(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=jf));else if(u!==4&&(u===27&&Ea(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(am(r,a,o),r=r.sibling;r!==null;)am(r,a,o),r=r.sibling}function Cf(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&Ea(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Cf(r,a,o),r=r.sibling;r!==null;)Cf(r,a,o),r=r.sibling}function sb(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);vn(a,u,o),a[Wt]=r,a[Ht]=o}catch(g){Et(r,r.return,g)}}var Pi=!1,jt=!1,sm=!1,ob=typeof WeakSet=="function"?WeakSet:Set,un=null;function VC(r,a){if(r=r.containerInfo,Om=Gf,r=y0(r),ip(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var S=0,x=-1,j=-1,Z=0,ae=0,le=r,J=null;t:for(;;){for(var te;le!==o||h!==0&&le.nodeType!==3||(x=S+h),le!==g||u!==0&&le.nodeType!==3||(j=S+u),le.nodeType===3&&(S+=le.nodeValue.length),(te=le.firstChild)!==null;)J=le,le=te;for(;;){if(le===r)break t;if(J===o&&++Z===h&&(x=S),J===g&&++ae===u&&(j=S),(te=le.nextSibling)!==null)break;le=J,J=le.parentNode}le=te}o=x===-1||j===-1?null:{start:x,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Nm={focusedElem:r,selectionRange:o},Gf=!1,un=a;un!==null;)if(a=un,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,un=r;else for(;un!==null;){switch(a=un,g=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=a,h=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var je=Ns(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(je,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Pe){Et(o,o.return,Pe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)Pm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Pm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,un=r;break}un=a.return}}function lb(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:pa(r,o),u&4&&hu(5,o);break;case 1:if(pa(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(S){Et(o,o.return,S)}else{var h=Ns(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(h,a,r.__reactInternalSnapshotBeforeUpdate)}catch(S){Et(o,o.return,S)}}u&64&&nb(o),u&512&&du(o,o.return);break;case 3:if(pa(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{H0(r,a)}catch(S){Et(o,o.return,S)}}break;case 27:a===null&&u&4&&sb(o);case 26:case 5:pa(r,o),a===null&&u&4&&ib(o),u&512&&du(o,o.return);break;case 12:pa(r,o);break;case 13:pa(r,o),u&4&&fb(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=$C.bind(null,o),u2(r,o))));break;case 22:if(u=o.memoizedState!==null||Pi,!u){a=a!==null&&a.memoizedState!==null||jt,h=Pi;var g=jt;Pi=u,(jt=a)&&!g?ma(r,o,(o.subtreeFlags&8772)!==0):pa(r,o),Pi=h,jt=g}break;case 30:break;default:pa(r,o)}}function ub(r){var a=r.alternate;a!==null&&(r.alternate=null,ub(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&na(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var xt=null,zn=!1;function ki(r,a,o){for(o=o.child;o!==null;)cb(r,a,o),o=o.sibling}function cb(r,a,o){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Ge,o)}catch{}switch(o.tag){case 26:jt||Kr(o,a),ki(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:jt||Kr(o,a);var u=xt,h=zn;Ea(o.type)&&(xt=o.stateNode,zn=!1),ki(r,a,o),Tu(o.stateNode),xt=u,zn=h;break;case 5:jt||Kr(o,a);case 6:if(u=xt,h=zn,xt=null,ki(r,a,o),xt=u,zn=h,xt!==null)if(zn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(g){Et(o,a,g)}else try{xt.removeChild(o.stateNode)}catch(g){Et(o,a,g)}break;case 18:xt!==null&&(zn?(r=xt,Zb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Ou(r)):Zb(xt,o.stateNode));break;case 4:u=xt,h=zn,xt=o.stateNode.containerInfo,zn=!0,ki(r,a,o),xt=u,zn=h;break;case 0:case 11:case 14:case 15:jt||da(2,o,a),jt||da(4,o,a),ki(r,a,o);break;case 1:jt||(Kr(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&rb(o,a,u)),ki(r,a,o);break;case 21:ki(r,a,o);break;case 22:jt=(u=jt)||o.memoizedState!==null,ki(r,a,o),jt=u;break;default:ki(r,a,o)}}function fb(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ou(r)}catch(o){Et(a,a.return,o)}}function LC(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new ob),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new ob),a;default:throw Error(i(435,r.tag))}}function om(r,a){var o=LC(r);a.forEach(function(u){var h=GC.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function Zn(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],g=r,S=a,x=S;e:for(;x!==null;){switch(x.tag){case 27:if(Ea(x.type)){xt=x.stateNode,zn=!1;break e}break;case 5:xt=x.stateNode,zn=!1;break e;case 3:case 4:xt=x.stateNode.containerInfo,zn=!0;break e}x=x.return}if(xt===null)throw Error(i(160));cb(g,S,h),xt=null,zn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)hb(a,r),a=a.sibling}var Rr=null;function hb(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Zn(a,r),Jn(r),u&4&&(da(3,r,r.return),hu(3,r),da(5,r,r.return));break;case 1:Zn(a,r),Jn(r),u&512&&(jt||o===null||Kr(o,o.return)),u&64&&Pi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Rr;if(Zn(a,r),Jn(r),u&512&&(jt||o===null||Kr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[ss]||g[Wt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),vn(g,u,o),g[Wt]=r,Lt(g),u=g;break e;case"link":var S=sE("link","href",h).get(u+(o.href||""));if(S){for(var x=0;x<S.length;x++)if(g=S[x],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(x,1);break t}}g=h.createElement(u),vn(g,u,o),h.head.appendChild(g);break;case"meta":if(S=sE("meta","content",h).get(u+(o.content||""))){for(x=0;x<S.length;x++)if(g=S[x],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(x,1);break t}}g=h.createElement(u),vn(g,u,o),h.head.appendChild(g);break;default:throw Error(i(468,u))}g[Wt]=r,Lt(g),u=g}r.stateNode=u}else oE(h,r.type,r.stateNode);else r.stateNode=aE(h,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?oE(h,r.type,r.stateNode):aE(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&rm(r,r.memoizedProps,o.memoizedProps)}break;case 27:Zn(a,r),Jn(r),u&512&&(jt||o===null||Kr(o,o.return)),o!==null&&u&4&&rm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Zn(a,r),Jn(r),u&512&&(jt||o===null||Kr(o,o.return)),r.flags&32){h=r.stateNode;try{cr(h,"")}catch(te){Et(r,r.return,te)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,rm(r,h,o!==null?o.memoizedProps:h)),u&1024&&(sm=!0);break;case 6:if(Zn(a,r),Jn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(te){Et(r,r.return,te)}}break;case 3:if(Hf=null,h=Rr,Rr=zf(a.containerInfo),Zn(a,r),Rr=h,Jn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ou(a.containerInfo)}catch(te){Et(r,r.return,te)}sm&&(sm=!1,db(r));break;case 4:u=Rr,Rr=zf(r.stateNode.containerInfo),Zn(a,r),Jn(r),Rr=u;break;case 12:Zn(a,r),Jn(r);break;case 13:Zn(a,r),Jn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(dm=wt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,om(r,u)));break;case 22:h=r.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,Z=Pi,ae=jt;if(Pi=Z||h,jt=ae||j,Zn(a,r),jt=ae,Pi=Z,Jn(r),u&8192)e:for(a=r.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(o===null||j||Pi||jt||Ds(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){j=o=a;try{if(g=j.stateNode,h)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{x=j.stateNode;var le=j.memoizedProps.style,J=le!=null&&le.hasOwnProperty("display")?le.display:null;x.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(te){Et(j,j.return,te)}}}else if(a.tag===6){if(o===null){j=a;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(te){Et(j,j.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,om(r,o))));break;case 19:Zn(a,r),Jn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,om(r,u)));break;case 30:break;case 21:break;default:Zn(a,r),Jn(r)}}function Jn(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(ab(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,g=im(r);Cf(r,g,h);break;case 5:var S=o.stateNode;o.flags&32&&(cr(S,""),o.flags&=-33);var x=im(r);Cf(r,x,S);break;case 3:case 4:var j=o.stateNode.containerInfo,Z=im(r);am(r,Z,j);break;default:throw Error(i(161))}}catch(ae){Et(r,r.return,ae)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function db(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;db(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function pa(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)lb(r,a.alternate,a),a=a.sibling}function Ds(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:da(4,a,a.return),Ds(a);break;case 1:Kr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&rb(a,a.return,o),Ds(a);break;case 27:Tu(a.stateNode);case 26:case 5:Kr(a,a.return),Ds(a);break;case 22:a.memoizedState===null&&Ds(a);break;case 30:Ds(a);break;default:Ds(a)}r=r.sibling}}function ma(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=r,g=a,S=g.flags;switch(g.tag){case 0:case 11:case 15:ma(h,g,o),hu(4,g);break;case 1:if(ma(h,g,o),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){Et(u,u.return,Z)}if(u=g,h=u.updateQueue,h!==null){var x=u.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)B0(j[h],x)}catch(Z){Et(u,u.return,Z)}}o&&S&64&&nb(g),du(g,g.return);break;case 27:sb(g);case 26:case 5:ma(h,g,o),o&&u===null&&S&4&&ib(g),du(g,g.return);break;case 12:ma(h,g,o);break;case 13:ma(h,g,o),o&&S&4&&fb(h,g);break;case 22:g.memoizedState===null&&ma(h,g,o),du(g,g.return);break;case 30:break;default:ma(h,g,o)}a=a.sibling}}function lm(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Zl(o))}function um(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Zl(r))}function Qr(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pb(r,a,o,u),a=a.sibling}function pb(r,a,o,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:Qr(r,a,o,u),h&2048&&hu(9,a);break;case 1:Qr(r,a,o,u);break;case 3:Qr(r,a,o,u),h&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Zl(r)));break;case 12:if(h&2048){Qr(r,a,o,u),r=a.stateNode;try{var g=a.memoizedProps,S=g.id,x=g.onPostCommit;typeof x=="function"&&x(S,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){Et(a,a.return,j)}}else Qr(r,a,o,u);break;case 13:Qr(r,a,o,u);break;case 23:break;case 22:g=a.stateNode,S=a.alternate,a.memoizedState!==null?g._visibility&2?Qr(r,a,o,u):pu(r,a):g._visibility&2?Qr(r,a,o,u):(g._visibility|=2,Mo(r,a,o,u,(a.subtreeFlags&10256)!==0)),h&2048&&lm(S,a);break;case 24:Qr(r,a,o,u),h&2048&&um(a.alternate,a);break;default:Qr(r,a,o,u)}}function Mo(r,a,o,u,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=r,S=a,x=o,j=u,Z=S.flags;switch(S.tag){case 0:case 11:case 15:Mo(g,S,x,j,h),hu(8,S);break;case 23:break;case 22:var ae=S.stateNode;S.memoizedState!==null?ae._visibility&2?Mo(g,S,x,j,h):pu(g,S):(ae._visibility|=2,Mo(g,S,x,j,h)),h&&Z&2048&&lm(S.alternate,S);break;case 24:Mo(g,S,x,j,h),h&&Z&2048&&um(S.alternate,S);break;default:Mo(g,S,x,j,h)}a=a.sibling}}function pu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,h=u.flags;switch(u.tag){case 22:pu(o,u),h&2048&&lm(u.alternate,u);break;case 24:pu(o,u),h&2048&&um(u.alternate,u);break;default:pu(o,u)}a=a.sibling}}var mu=8192;function Po(r){if(r.subtreeFlags&mu)for(r=r.child;r!==null;)mb(r),r=r.sibling}function mb(r){switch(r.tag){case 26:Po(r),r.flags&mu&&r.memoizedState!==null&&T2(Rr,r.memoizedState,r.memoizedProps);break;case 5:Po(r);break;case 3:case 4:var a=Rr;Rr=zf(r.stateNode.containerInfo),Po(r),Rr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=mu,mu=16777216,Po(r),mu=a):Po(r));break;default:Po(r)}}function gb(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function gu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];un=u,yb(u,r)}gb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vb(r),r=r.sibling}function vb(r){switch(r.tag){case 0:case 11:case 15:gu(r),r.flags&2048&&da(9,r,r.return);break;case 3:gu(r);break;case 12:gu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,If(r)):gu(r);break;default:gu(r)}}function If(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];un=u,yb(u,r)}gb(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:da(8,a,a.return),If(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,If(a));break;default:If(a)}r=r.sibling}}function yb(r,a){for(;un!==null;){var o=un;switch(o.tag){case 0:case 11:case 15:da(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Zl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,un=u;else e:for(o=r;un!==null;){u=un;var h=u.sibling,g=u.return;if(ub(u),u===o){un=null;break e}if(h!==null){h.return=g,un=h;break e}un=g}}}var UC={getCacheForType:function(r){var a=Tn(en),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},jC=typeof WeakMap=="function"?WeakMap:Map,mt=0,Tt=null,Ze=null,at=0,gt=0,er=null,ga=!1,ko=!1,cm=!1,Vi=0,Mt=0,va=0,Ms=0,fm=0,_r=0,Vo=0,vu=null,Bn=null,hm=!1,dm=0,Of=1/0,Nf=null,ya=null,gn=0,_a=null,Lo=null,Uo=0,pm=0,mm=null,_b=null,yu=0,gm=null;function tr(){if((mt&2)!==0&&at!==0)return at&-at;if(B.T!==null){var r=Ao;return r!==0?r:Sm()}return ea()}function bb(){_r===0&&(_r=(at&536870912)===0||lt?Rl():536870912);var r=yr.current;return r!==null&&(r.flags|=32),_r}function nr(r,a,o){(r===Tt&&(gt===2||gt===9)||r.cancelPendingCommit!==null)&&(jo(r,0),ba(r,at,_r,!1)),pi(r,o),((mt&2)===0||r!==Tt)&&(r===Tt&&((mt&2)===0&&(Ms|=o),Mt===4&&ba(r,at,_r,!1)),Xr(r))}function Eb(r,a,o){if((mt&6)!==0)throw Error(i(327));var u=!o&&(a&124)===0&&(a&r.expiredLanes)===0||as(r,a),h=u?BC(r,a):_m(r,a,!0),g=u;do{if(h===0){ko&&!u&&ba(r,a,0,!1);break}else{if(o=r.current.alternate,g&&!FC(o)){h=_m(r,a,!1),g=!1;continue}if(h===2){if(g=a,r.errorRecoveryDisabledLanes&g)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var x=r;h=vu;var j=x.current.memoizedState.isDehydrated;if(j&&(jo(x,S).flags|=256),S=_m(x,S,!1),S!==2){if(cm&&!j){x.errorRecoveryDisabledLanes|=g,Ms|=g,h=4;break e}g=Bn,Bn=h,g!==null&&(Bn===null?Bn=g:Bn.push.apply(Bn,g))}h=S}if(g=!1,h!==2)continue}}if(h===1){jo(r,0),ba(r,a,0,!0);break}e:{switch(u=r,g=h,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ba(u,a,_r,!ga);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(h=dm+300-wt(),10<h)){if(ba(u,a,_r,!ga),to(u,0,!0)!==0)break e;u.timeoutHandle=Xb(Tb.bind(null,u,o,Bn,Nf,hm,a,_r,Ms,Vo,ga,g,2,-0,0),h);break e}Tb(u,o,Bn,Nf,hm,a,_r,Ms,Vo,ga,g,0,-0,0)}}break}while(!0);Xr(r)}function Tb(r,a,o,u,h,g,S,x,j,Z,ae,le,J,te){if(r.timeoutHandle=-1,le=a.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Au={stylesheets:null,count:0,unsuspend:E2},mb(a),le=S2(),le!==null)){r.cancelPendingCommit=le(Ib.bind(null,r,a,g,o,u,h,S,x,j,ae,1,J,te)),ba(r,g,S,!Z);return}Ib(r,a,g,o,u,h,S,x,j)}function FC(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!Xn(g(),h))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ba(r,a,o,u){a&=~fm,a&=~Ms,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var h=a;0<h;){var g=31-Bt(h),S=1<<g;u[g]=-1,h&=~S}o!==0&&kr(r,o,a)}function Df(){return(mt&6)===0?(_u(0),!1):!0}function vm(){if(Ze!==null){if(gt===0)var r=Ze.return;else r=Ze,Ci=Rs=null,Pp(r),No=null,uu=0,r=Ze;for(;r!==null;)tb(r.alternate,r),r=r.return;Ze=null}}function jo(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,i2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),vm(),Tt=r,Ze=o=Ai(r.current,null),at=a,gt=0,er=null,ga=!1,ko=as(r,a),cm=!1,Vo=_r=fm=Ms=va=Mt=0,Bn=vu=null,hm=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var h=31-Bt(u),g=1<<h;a|=r[h],u&=~g}return Vi=a,Jc(),o}function Sb(r,a){Qe=null,B.H=_f,a===eu||a===uf?(a=F0(),gt=3):a===L0?(a=F0(),gt=4):gt=a===z_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,er=a,Ze===null&&(Mt=1,wf(r,pr(a,r.current)))}function wb(){var r=B.H;return B.H=_f,r===null?_f:r}function Ab(){var r=B.A;return B.A=UC,r}function ym(){Mt=4,ga||(at&4194048)!==at&&yr.current!==null||(ko=!0),(va&134217727)===0&&(Ms&134217727)===0||Tt===null||ba(Tt,at,_r,!1)}function _m(r,a,o){var u=mt;mt|=2;var h=wb(),g=Ab();(Tt!==r||at!==a)&&(Nf=null,jo(r,a)),a=!1;var S=Mt;e:do try{if(gt!==0&&Ze!==null){var x=Ze,j=er;switch(gt){case 8:vm(),S=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(a=!0);var Z=gt;if(gt=0,er=null,Fo(r,x,j,Z),o&&ko){S=0;break e}break;default:Z=gt,gt=0,er=null,Fo(r,x,j,Z)}}zC(),S=Mt;break}catch(ae){Sb(r,ae)}while(!0);return a&&r.shellSuspendCounter++,Ci=Rs=null,mt=u,B.H=h,B.A=g,Ze===null&&(Tt=null,at=0,Jc()),S}function zC(){for(;Ze!==null;)xb(Ze)}function BC(r,a){var o=mt;mt|=2;var u=wb(),h=Ab();Tt!==r||at!==a?(Nf=null,Of=wt()+500,jo(r,a)):ko=as(r,a);e:do try{if(gt!==0&&Ze!==null){a=Ze;var g=er;t:switch(gt){case 1:gt=0,er=null,Fo(r,a,g,1);break;case 2:case 9:if(U0(g)){gt=0,er=null,Rb(a);break}a=function(){gt!==2&&gt!==9||Tt!==r||(gt=7),Xr(r)},g.then(a,a);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:U0(g)?(gt=0,er=null,Rb(a)):(gt=0,er=null,Fo(r,a,g,7));break;case 5:var S=null;switch(Ze.tag){case 26:S=Ze.memoizedState;case 5:case 27:var x=Ze;if(!S||lE(S)){gt=0,er=null;var j=x.sibling;if(j!==null)Ze=j;else{var Z=x.return;Z!==null?(Ze=Z,Mf(Z)):Ze=null}break t}}gt=0,er=null,Fo(r,a,g,5);break;case 6:gt=0,er=null,Fo(r,a,g,6);break;case 8:vm(),Mt=6;break e;default:throw Error(i(462))}}HC();break}catch(ae){Sb(r,ae)}while(!0);return Ci=Rs=null,B.H=u,B.A=h,mt=o,Ze!==null?0:(Tt=null,at=0,Jc(),Mt)}function HC(){for(;Ze!==null&&!$e();)xb(Ze)}function xb(r){var a=J_(r.alternate,r,Vi);r.memoizedProps=r.pendingProps,a===null?Mf(r):Ze=a}function Rb(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=Y_(o,a,a.pendingProps,a.type,void 0,at);break;case 11:a=Y_(o,a,a.pendingProps,a.type.render,a.ref,at);break;case 5:Pp(a);default:tb(o,a),a=Ze=C0(a,Vi),a=J_(o,a,Vi)}r.memoizedProps=r.pendingProps,a===null?Mf(r):Ze=a}function Fo(r,a,o,u){Ci=Rs=null,Pp(a),No=null,uu=0;var h=a.return;try{if(DC(r,h,a,o,at)){Mt=1,wf(r,pr(o,r.current)),Ze=null;return}}catch(g){if(h!==null)throw Ze=h,g;Mt=1,wf(r,pr(o,r.current)),Ze=null;return}a.flags&32768?(lt||u===1?r=!0:ko||(at&536870912)!==0?r=!1:(ga=r=!0,(u===2||u===9||u===3||u===6)&&(u=yr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Cb(a,r)):Mf(a)}function Mf(r){var a=r;do{if((a.flags&32768)!==0){Cb(a,ga);return}r=a.return;var o=PC(a.alternate,a,Vi);if(o!==null){Ze=o;return}if(a=a.sibling,a!==null){Ze=a;return}Ze=a=r}while(a!==null);Mt===0&&(Mt=5)}function Cb(r,a){do{var o=kC(r.alternate,r);if(o!==null){o.flags&=32767,Ze=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){Ze=r;return}Ze=r=o}while(r!==null);Mt=6,Ze=null}function Ib(r,a,o,u,h,g,S,x,j){r.cancelPendingCommit=null;do Pf();while(gn!==0);if((mt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=up,Il(r,o,g,S,x,j),r===Tt&&(Ze=Tt=null,at=0),Lo=a,_a=r,Uo=o,pm=g,mm=h,_b=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,YC(Un,function(){return Pb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,h=ne.p,ne.p=2,S=mt,mt|=4;try{VC(r,a,o)}finally{mt=S,ne.p=h,B.T=u}}gn=1,Ob(),Nb(),Db()}}function Ob(){if(gn===1){gn=0;var r=_a,a=Lo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var u=ne.p;ne.p=2;var h=mt;mt|=4;try{hb(a,r);var g=Nm,S=y0(r.containerInfo),x=g.focusedElem,j=g.selectionRange;if(S!==x&&x&&x.ownerDocument&&v0(x.ownerDocument.documentElement,x)){if(j!==null&&ip(x)){var Z=j.start,ae=j.end;if(ae===void 0&&(ae=Z),"selectionStart"in x)x.selectionStart=Z,x.selectionEnd=Math.min(ae,x.value.length);else{var le=x.ownerDocument||document,J=le&&le.defaultView||window;if(J.getSelection){var te=J.getSelection(),je=x.textContent.length,Pe=Math.min(j.start,je),bt=j.end===void 0?Pe:Math.min(j.end,je);!te.extend&&Pe>bt&&(S=bt,bt=Pe,Pe=S);var K=g0(x,Pe),H=g0(x,bt);if(K&&H&&(te.rangeCount!==1||te.anchorNode!==K.node||te.anchorOffset!==K.offset||te.focusNode!==H.node||te.focusOffset!==H.offset)){var W=le.createRange();W.setStart(K.node,K.offset),te.removeAllRanges(),Pe>bt?(te.addRange(W),te.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),te.addRange(W))}}}}for(le=[],te=x;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<le.length;x++){var se=le[x];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Gf=!!Om,Nm=Om=null}finally{mt=h,ne.p=u,B.T=o}}r.current=a,gn=2}}function Nb(){if(gn===2){gn=0;var r=_a,a=Lo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var u=ne.p;ne.p=2;var h=mt;mt|=4;try{lb(r,a.alternate,a)}finally{mt=h,ne.p=u,B.T=o}}gn=3}}function Db(){if(gn===4||gn===3){gn=0,Ke();var r=_a,a=Lo,o=Uo,u=_b;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?gn=5:(gn=0,Lo=_a=null,Mb(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(ya=null),no(o),a=a.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Ge,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=B.T,h=ne.p,ne.p=2,B.T=null;try{for(var g=r.onRecoverableError,S=0;S<u.length;S++){var x=u[S];g(x.value,{componentStack:x.stack})}}finally{B.T=a,ne.p=h}}(Uo&3)!==0&&Pf(),Xr(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===gm?yu++:(yu=0,gm=r):yu=0,_u(0)}}function Mb(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Zl(a)))}function Pf(r){return Ob(),Nb(),Db(),Pb()}function Pb(){if(gn!==5)return!1;var r=_a,a=pm;pm=0;var o=no(Uo),u=B.T,h=ne.p;try{ne.p=32>o?32:o,B.T=null,o=mm,mm=null;var g=_a,S=Uo;if(gn=0,Lo=_a=null,Uo=0,(mt&6)!==0)throw Error(i(331));var x=mt;if(mt|=4,vb(g.current),pb(g,g.current,S,o),mt=x,_u(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Ge,g)}catch{}return!0}finally{ne.p=h,B.T=u,Mb(r,a)}}function kb(r,a,o){a=pr(o,a),a=Kp(r.stateNode,a,2),r=ua(r,a,2),r!==null&&(pi(r,2),Xr(r))}function Et(r,a,o){if(r.tag===3)kb(r,r,o);else for(;a!==null;){if(a.tag===3){kb(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ya===null||!ya.has(u))){r=pr(o,r),o=j_(2),u=ua(a,o,2),u!==null&&(F_(o,u,a,r),pi(u,2),Xr(u));break}}a=a.return}}function bm(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new jC;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(o)||(cm=!0,h.add(o),r=qC.bind(null,r,a,o),a.then(r,r))}function qC(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Tt===r&&(at&o)===o&&(Mt===4||Mt===3&&(at&62914560)===at&&300>wt()-dm?(mt&2)===0&&jo(r,0):fm|=o,Vo===at&&(Vo=0)),Xr(r)}function Vb(r,a){a===0&&(a=Cl()),r=Eo(r,a),r!==null&&(pi(r,a),Xr(r))}function $C(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),Vb(r,o)}function GC(r,a){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Vb(r,o)}function YC(r,a){return Oe(r,a)}var kf=null,zo=null,Em=!1,Vf=!1,Tm=!1,Ps=0;function Xr(r){r!==zo&&r.next===null&&(zo===null?kf=zo=r:zo=zo.next=r),Vf=!0,Em||(Em=!0,QC())}function _u(r,a){if(!Tm&&Vf){Tm=!0;do for(var o=!1,u=kf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var S=u.suspendedLanes,x=u.pingedLanes;g=(1<<31-Bt(42|r)+1)-1,g&=h&~(S&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Fb(u,g))}else g=at,g=to(u,u===Tt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||as(u,g)||(o=!0,Fb(u,g));u=u.next}while(o);Tm=!1}}function KC(){Lb()}function Lb(){Vf=Em=!1;var r=0;Ps!==0&&(r2()&&(r=Ps),Ps=0);for(var a=wt(),o=null,u=kf;u!==null;){var h=u.next,g=Ub(u,a);g===0?(u.next=null,o===null?kf=h:o.next=h,h===null&&(zo=o)):(o=u,(r!==0||(g&3)!==0)&&(Vf=!0)),u=h}_u(r)}function Ub(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var S=31-Bt(g),x=1<<S,j=h[S];j===-1?((x&o)===0||(x&u)!==0)&&(h[S]=xl(x,a)):j<=a&&(r.expiredLanes|=x),g&=~x}if(a=Tt,o=at,o=to(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(gt===2||gt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&xe(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||as(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&xe(u),no(o)){case 2:case 8:o=Nn;break;case 32:o=Un;break;case 268435456:o=lr;break;default:o=Un}return u=jb.bind(null,r),o=Oe(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&xe(u),r.callbackPriority=2,r.callbackNode=null,2}function jb(r,a){if(gn!==0&&gn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Pf()&&r.callbackNode!==o)return null;var u=at;return u=to(r,r===Tt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Eb(r,u,a),Ub(r,wt()),r.callbackNode!=null&&r.callbackNode===o?jb.bind(null,r):null)}function Fb(r,a){if(Pf())return null;Eb(r,a,!0)}function QC(){a2(function(){(mt&6)!==0?Oe(pt,KC):Lb()})}function Sm(){return Ps===0&&(Ps=Rl()),Ps}function zb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:lo(""+r)}function Bb(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function XC(r,a,o,u,h){if(a==="submit"&&o&&o.stateNode===h){var g=zb((h[Ht]||null).action),S=u.submitter;S&&(a=(a=S[Ht]||null)?zb(a.formAction):S.getAttribute("formAction"),a!==null&&(g=a,S=null));var x=new uo("action","action",null,u,h);r.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ps!==0){var j=S?Bb(h,S):new FormData(h);Hp(o,{pending:!0,data:j,method:h.method,action:g},null,j)}}else typeof g=="function"&&(x.preventDefault(),j=S?Bb(h,S):new FormData(h),Hp(o,{pending:!0,data:j,method:h.method,action:g},g,j))},currentTarget:h}]})}}for(var wm=0;wm<lp.length;wm++){var Am=lp[wm],WC=Am.toLowerCase(),ZC=Am[0].toUpperCase()+Am.slice(1);xr(WC,"on"+ZC)}xr(E0,"onAnimationEnd"),xr(T0,"onAnimationIteration"),xr(S0,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(mC,"onTransitionRun"),xr(gC,"onTransitionStart"),xr(vC,"onTransitionCancel"),xr(w0,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function Hb(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var S=u.length-1;0<=S;S--){var x=u[S],j=x.instance,Z=x.currentTarget;if(x=x.listener,j!==g&&h.isPropagationStopped())break e;g=x,h.currentTarget=Z;try{g(h)}catch(ae){Sf(ae)}h.currentTarget=null,g=j}else for(S=0;S<u.length;S++){if(x=u[S],j=x.instance,Z=x.currentTarget,x=x.listener,j!==g&&h.isPropagationStopped())break e;g=x,h.currentTarget=Z;try{g(h)}catch(ae){Sf(ae)}h.currentTarget=null,g=j}}}}function Je(r,a){var o=a[Nl];o===void 0&&(o=a[Nl]=new Set);var u=r+"__bubble";o.has(u)||(qb(a,r,2,!1),o.add(u))}function xm(r,a,o){var u=0;a&&(u|=4),qb(o,r,u,a)}var Lf="_reactListening"+Math.random().toString(36).slice(2);function Rm(r){if(!r[Lf]){r[Lf]=!0,Dl.forEach(function(o){o!=="selectionchange"&&(JC.has(o)||xm(o,!1,r),xm(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Lf]||(a[Lf]=!0,xm("selectionchange",!1,a))}}function qb(r,a,o,u){switch(pE(a)){case 2:var h=x2;break;case 8:h=R2;break;default:h=zm}o=h.bind(null,a,o,r),h=void 0,!hr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(a,o,{capture:!0,passive:h}):r.addEventListener(a,o,!0):h!==void 0?r.addEventListener(a,o,{passive:h}):r.addEventListener(a,o,!1)}function Cm(r,a,o,u,h){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var x=u.stateNode.containerInfo;if(x===h)break;if(S===4)for(S=u.return;S!==null;){var j=S.tag;if((j===3||j===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;x!==null;){if(S=mi(x),S===null)return;if(j=S.tag,j===5||j===6||j===26||j===27){u=g=S;continue e}x=x.parentNode}}u=u.return}Uc(function(){var Z=g,ae=fr(o),le=[];e:{var J=A0.get(r);if(J!==void 0){var te=uo,je=r;switch(r){case"keypress":if(zr(o)===0)break e;case"keydown":case"keyup":te=go;break;case"focusin":je="focus",te=ho;break;case"focusout":je="blur",te=ho;break;case"beforeblur":case"afterblur":te=ho;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=ep;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Gc;break;case E0:case T0:case S0:te=po;break;case w0:te=Kc;break;case"scroll":case"scrollend":te=jc;break;case"wheel":te=vo;break;case"copy":case"cut":case"paste":te=mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=ql;break;case"toggle":case"beforetoggle":te=Xc}var Pe=(a&4)!==0,bt=!Pe&&(r==="scroll"||r==="scrollend"),K=Pe?J!==null?J+"Capture":null:J;Pe=[];for(var H=Z,W;H!==null;){var se=H;if(W=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||W===null||K===null||(se=ds(H,K),se!=null&&Pe.push(Eu(H,se,W))),bt)break;H=H.return}0<Pe.length&&(J=new te(J,je,null,o,ae),le.push({event:J,listeners:Pe}))}}if((a&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",J&&o!==_i&&(je=o.relatedTarget||o.fromElement)&&(mi(je)||je[ur]))break e;if((te||J)&&(J=ae.window===ae?ae:(J=ae.ownerDocument)?J.defaultView||J.parentWindow:window,te?(je=o.relatedTarget||o.toElement,te=Z,je=je?mi(je):null,je!==null&&(bt=l(je),Pe=je.tag,je!==bt||Pe!==5&&Pe!==27&&Pe!==6)&&(je=null)):(te=null,je=Z),te!==je)){if(Pe=dr,se="onMouseLeave",K="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(Pe=ql,se="onPointerLeave",K="onPointerEnter",H="pointer"),bt=te==null?J:Lr(te),W=je==null?J:Lr(je),J=new Pe(se,H+"leave",te,o,ae),J.target=bt,J.relatedTarget=W,se=null,mi(ae)===Z&&(Pe=new Pe(K,H+"enter",je,o,ae),Pe.target=W,Pe.relatedTarget=bt,se=Pe),bt=se,te&&je)t:{for(Pe=te,K=je,H=0,W=Pe;W;W=Bo(W))H++;for(W=0,se=K;se;se=Bo(se))W++;for(;0<H-W;)Pe=Bo(Pe),H--;for(;0<W-H;)K=Bo(K),W--;for(;H--;){if(Pe===K||K!==null&&Pe===K.alternate)break t;Pe=Bo(Pe),K=Bo(K)}Pe=null}else Pe=null;te!==null&&$b(le,J,te,Pe,!1),je!==null&&bt!==null&&$b(le,bt,je,Pe,!0)}}e:{if(J=Z?Lr(Z):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var Te=c0;else if(Jt(J))if(f0)Te=hC;else{Te=cC;var We=uC}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&Ll(Z.elementType)&&(Te=c0):Te=fC;if(Te&&(Te=Te(r,Z))){wi(le,Te,o,ae);break e}We&&We(r,J,Z),r==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&ia(J,"number",J.value)}switch(We=Z?Lr(Z):window,r){case"focusin":(Jt(We)||We.contentEditable==="true")&&(yo=We,ap=Z,Yl=null);break;case"focusout":Yl=ap=yo=null;break;case"mousedown":sp=!0;break;case"contextmenu":case"mouseup":case"dragend":sp=!1,_0(le,o,ae);break;case"selectionchange":if(pC)break;case"keydown":case"keyup":_0(le,o,ae)}var Re;if(qr)e:{switch(r){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else rt?re(r,o)&&(Ve="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ve="onCompositionStart");Ve&&(E&&o.locale!=="ko"&&(rt||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&rt&&(Re=jl()):(Fr=ae,aa="value"in Fr?Fr.value:Fr.textContent,rt=!0)),We=Uf(Z,Ve),0<We.length&&(Ve=new Bl(Ve,r,null,o,ae),le.push({event:Ve,listeners:We}),Re?Ve.data=Re:(Re=ge(o),Re!==null&&(Ve.data=Re)))),(Re=y?Zt(r,o):it(r,o))&&(Ve=Uf(Z,"onBeforeInput"),0<Ve.length&&(We=new Bl("onBeforeInput","beforeinput",null,o,ae),le.push({event:We,listeners:Ve}),We.data=Re)),XC(le,r,Z,o,ae)}Hb(le,a)})}function Eu(r,a,o){return{instance:r,listener:a,currentTarget:o}}function Uf(r,a){for(var o=a+"Capture",u=[];r!==null;){var h=r,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=ds(r,o),h!=null&&u.unshift(Eu(r,h,g)),h=ds(r,a),h!=null&&u.push(Eu(r,h,g))),r.tag===3)return u;r=r.return}return[]}function Bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function $b(r,a,o,u,h){for(var g=a._reactName,S=[];o!==null&&o!==u;){var x=o,j=x.alternate,Z=x.stateNode;if(x=x.tag,j!==null&&j===u)break;x!==5&&x!==26&&x!==27||Z===null||(j=Z,h?(Z=ds(o,g),Z!=null&&S.unshift(Eu(o,Z,j))):h||(Z=ds(o,g),Z!=null&&S.push(Eu(o,Z,j)))),o=o.return}S.length!==0&&r.push({event:a,listeners:S})}var e2=/\r\n?/g,t2=/\u0000|\uFFFD/g;function Gb(r){return(typeof r=="string"?r:""+r).replace(e2,`
`).replace(t2,"")}function Yb(r,a){return a=Gb(a),Gb(r)===a}function jf(){}function _t(r,a,o,u,h,g){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||cr(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&cr(r,""+u);break;case"className":Ur(r,"class",u);break;case"tabIndex":Ur(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ur(r,o,u);break;case"style":Vl(r,u,g);break;case"data":if(a!=="object"){Ur(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=lo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&_t(r,a,"name",h.name,h,null),_t(r,a,"formEncType",h.formEncType,h,null),_t(r,a,"formMethod",h.formMethod,h,null),_t(r,a,"formTarget",h.formTarget,h,null)):(_t(r,a,"encType",h.encType,h,null),_t(r,a,"method",h.method,h,null),_t(r,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=lo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=jf);break;case"onScroll":u!=null&&Je("scroll",r);break;case"onScrollEnd":u!=null&&Je("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=lo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Je("beforetoggle",r),Je("toggle",r),ra(r,"popover",u);break;case"xlinkActuate":dn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":dn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":dn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":dn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":dn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":dn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":dn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":dn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":dn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ra(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Zd.get(o)||o,ra(r,o,u))}}function Im(r,a,o,u,h,g){switch(o){case"style":Vl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?cr(r,u):(typeof u=="number"||typeof u=="bigint")&&cr(r,""+u);break;case"onScroll":u!=null&&Je("scroll",r);break;case"onScrollEnd":u!=null&&Je("scrollend",r);break;case"onClick":u!=null&&(r.onclick=jf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ro.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),a=o.slice(2,h?o.length-7:void 0),g=r[Ht]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(a,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ra(r,o,u)}}}function vn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",r),Je("load",r);var u=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:_t(r,a,g,S,o,null)}}h&&_t(r,a,"srcSet",o.srcSet,o,null),u&&_t(r,a,"src",o.src,o,null);return;case"input":Je("invalid",r);var x=g=S=h=null,j=null,Z=null;for(u in o)if(o.hasOwnProperty(u)){var ae=o[u];if(ae!=null)switch(u){case"name":h=ae;break;case"type":S=ae;break;case"checked":j=ae;break;case"defaultChecked":Z=ae;break;case"value":g=ae;break;case"defaultValue":x=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,a));break;default:_t(r,a,u,ae,o,null)}}cs(r,g,x,j,Z,S,h,!1),oo(r);return;case"select":Je("invalid",r),u=S=g=null;for(h in o)if(o.hasOwnProperty(h)&&(x=o[h],x!=null))switch(h){case"value":g=x;break;case"defaultValue":S=x;break;case"multiple":u=x;default:_t(r,a,h,x,o,null)}a=g,o=S,r.multiple=!!u,a!=null?yi(r,!!u,a,!1):o!=null&&yi(r,!!u,o,!0);return;case"textarea":Je("invalid",r),g=h=u=null;for(S in o)if(o.hasOwnProperty(S)&&(x=o[S],x!=null))switch(S){case"value":u=x;break;case"defaultValue":h=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:_t(r,a,S,x,o,null)}fs(r,u,h,g),oo(r);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:_t(r,a,j,u,o,null)}return;case"dialog":Je("beforetoggle",r),Je("toggle",r),Je("cancel",r),Je("close",r);break;case"iframe":case"object":Je("load",r);break;case"video":case"audio":for(u=0;u<bu.length;u++)Je(bu[u],r);break;case"image":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"embed":case"source":case"link":Je("error",r),Je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(u=o[Z],u!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:_t(r,a,Z,u,o,null)}return;default:if(Ll(a)){for(ae in o)o.hasOwnProperty(ae)&&(u=o[ae],u!==void 0&&Im(r,a,ae,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&_t(r,a,x,u,o,null))}function n2(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,S=null,x=null,j=null,Z=null,ae=null;for(te in o){var le=o[te];if(o.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":j=le;default:u.hasOwnProperty(te)||_t(r,a,te,null,u,le)}}for(var J in u){var te=u[J];if(le=o[J],u.hasOwnProperty(J)&&(te!=null||le!=null))switch(J){case"type":g=te;break;case"name":h=te;break;case"checked":Z=te;break;case"defaultChecked":ae=te;break;case"value":S=te;break;case"defaultValue":x=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:te!==le&&_t(r,a,J,te,u,le)}}Qn(r,S,x,j,Z,ae,g,h);return;case"select":te=S=x=J=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":te=j;default:u.hasOwnProperty(g)||_t(r,a,g,null,u,j)}for(h in u)if(g=u[h],j=o[h],u.hasOwnProperty(h)&&(g!=null||j!=null))switch(h){case"value":J=g;break;case"defaultValue":x=g;break;case"multiple":S=g;default:g!==j&&_t(r,a,h,g,u,j)}a=x,o=S,u=te,J!=null?yi(r,!!o,J,!1):!!u!=!!o&&(a!=null?yi(r,!!o,a,!0):yi(r,!!o,o?[]:"",!1));return;case"textarea":te=J=null;for(x in o)if(h=o[x],o.hasOwnProperty(x)&&h!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:_t(r,a,x,null,u,h)}for(S in u)if(h=u[S],g=o[S],u.hasOwnProperty(S)&&(h!=null||g!=null))switch(S){case"value":J=h;break;case"defaultValue":te=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&_t(r,a,S,h,u,g)}vt(r,J,te);return;case"option":for(var je in o)if(J=o[je],o.hasOwnProperty(je)&&J!=null&&!u.hasOwnProperty(je))switch(je){case"selected":r.selected=!1;break;default:_t(r,a,je,null,u,J)}for(j in u)if(J=u[j],te=o[j],u.hasOwnProperty(j)&&J!==te&&(J!=null||te!=null))switch(j){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:_t(r,a,j,J,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)J=o[Pe],o.hasOwnProperty(Pe)&&J!=null&&!u.hasOwnProperty(Pe)&&_t(r,a,Pe,null,u,J);for(Z in u)if(J=u[Z],te=o[Z],u.hasOwnProperty(Z)&&J!==te&&(J!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:_t(r,a,Z,J,u,te)}return;default:if(Ll(a)){for(var bt in o)J=o[bt],o.hasOwnProperty(bt)&&J!==void 0&&!u.hasOwnProperty(bt)&&Im(r,a,bt,void 0,u,J);for(ae in u)J=u[ae],te=o[ae],!u.hasOwnProperty(ae)||J===te||J===void 0&&te===void 0||Im(r,a,ae,J,u,te);return}}for(var K in o)J=o[K],o.hasOwnProperty(K)&&J!=null&&!u.hasOwnProperty(K)&&_t(r,a,K,null,u,J);for(le in u)J=u[le],te=o[le],!u.hasOwnProperty(le)||J===te||J==null&&te==null||_t(r,a,le,J,u,te)}var Om=null,Nm=null;function Ff(r){return r.nodeType===9?r:r.ownerDocument}function Kb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qb(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Dm(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Mm=null;function r2(){var r=window.event;return r&&r.type==="popstate"?r===Mm?!1:(Mm=r,!0):(Mm=null,!1)}var Xb=typeof setTimeout=="function"?setTimeout:void 0,i2=typeof clearTimeout=="function"?clearTimeout:void 0,Wb=typeof Promise=="function"?Promise:void 0,a2=typeof queueMicrotask=="function"?queueMicrotask:typeof Wb<"u"?function(r){return Wb.resolve(null).then(r).catch(s2)}:Xb;function s2(r){setTimeout(function(){throw r})}function Ea(r){return r==="head"}function Zb(r,a){var o=a,u=0,h=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var S=r.ownerDocument;if(o&1&&Tu(S.documentElement),o&2&&Tu(S.body),o&4)for(o=S.head,Tu(o),S=o.firstChild;S;){var x=S.nextSibling,j=S.nodeName;S[ss]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=x}}if(h===0){r.removeChild(g),Ou(a);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Ou(a)}function Pm(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Pm(o),na(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function o2(r,a,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ss])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Cr(r.nextSibling),r===null)break}return null}function l2(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Cr(r.nextSibling),r===null))return null;return r}function km(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function u2(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Cr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Vm=null;function Jb(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function eE(r,a,o){switch(a=Ff(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Tu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);na(r)}var br=new Map,tE=new Set;function zf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Li=ne.d;ne.d={f:c2,r:f2,D:h2,C:d2,L:p2,m:m2,X:v2,S:g2,M:y2};function c2(){var r=Li.f(),a=Df();return r||a}function f2(r){var a=Vr(r);a!==null&&a.tag===5&&a.type==="form"?E_(a):Li.r(r)}var Ho=typeof document>"u"?null:document;function nE(r,a,o){var u=Ho;if(u&&typeof a=="string"&&a){var h=qt(a);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),tE.has(h)||(tE.add(h),r={rel:r,crossOrigin:o,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),vn(a,"link",r),Lt(a),u.head.appendChild(a)))}}function h2(r){Li.D(r),nE("dns-prefetch",r,null)}function d2(r,a){Li.C(r,a),nE("preconnect",r,a)}function p2(r,a,o){Li.L(r,a,o);var u=Ho;if(u&&r&&a){var h='link[rel="preload"][as="'+qt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+qt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+qt(o.imageSizes)+'"]')):h+='[href="'+qt(r)+'"]';var g=h;switch(a){case"style":g=qo(r);break;case"script":g=$o(r)}br.has(g)||(r=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),br.set(g,r),u.querySelector(h)!==null||a==="style"&&u.querySelector(Su(g))||a==="script"&&u.querySelector(wu(g))||(a=u.createElement("link"),vn(a,"link",r),Lt(a),u.head.appendChild(a)))}}function m2(r,a){Li.m(r,a);var o=Ho;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+qt(u)+'"][href="'+qt(r)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=$o(r)}if(!br.has(g)&&(r=v({rel:"modulepreload",href:r},a),br.set(g,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wu(g)))return}u=o.createElement("link"),vn(u,"link",r),Lt(u),o.head.appendChild(u)}}}function g2(r,a,o){Li.S(r,a,o);var u=Ho;if(u&&r){var h=Mn(u).hoistableStyles,g=qo(r);a=a||"default";var S=h.get(g);if(!S){var x={loading:0,preload:null};if(S=u.querySelector(Su(g)))x.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},o),(o=br.get(g))&&Lm(r,o);var j=S=u.createElement("link");Lt(j),vn(j,"link",r),j._p=new Promise(function(Z,ae){j.onload=Z,j.onerror=ae}),j.addEventListener("load",function(){x.loading|=1}),j.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Bf(S,a,u)}S={type:"stylesheet",instance:S,count:1,state:x},h.set(g,S)}}}function v2(r,a){Li.X(r,a);var o=Ho;if(o&&r){var u=Mn(o).hoistableScripts,h=$o(r),g=u.get(h);g||(g=o.querySelector(wu(h)),g||(r=v({src:r,async:!0},a),(a=br.get(h))&&Um(r,a),g=o.createElement("script"),Lt(g),vn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function y2(r,a){Li.M(r,a);var o=Ho;if(o&&r){var u=Mn(o).hoistableScripts,h=$o(r),g=u.get(h);g||(g=o.querySelector(wu(h)),g||(r=v({src:r,async:!0,type:"module"},a),(a=br.get(h))&&Um(r,a),g=o.createElement("script"),Lt(g),vn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function rE(r,a,o,u){var h=(h=de.current)?zf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=qo(o.href),o=Mn(h).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=qo(o.href);var g=Mn(h).hoistableStyles,S=g.get(r);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,S),(g=h.querySelector(Su(r)))&&!g._p&&(S.instance=g,S.state.loading=5),br.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},br.set(r,o),g||_2(h,r,o,S.state))),a&&u===null)throw Error(i(528,""));return S}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=$o(o),o=Mn(h).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function qo(r){return'href="'+qt(r)+'"'}function Su(r){return'link[rel="stylesheet"]['+r+"]"}function iE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function _2(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),vn(a,"link",o),Lt(a),r.head.appendChild(a))}function $o(r){return'[src="'+qt(r)+'"]'}function wu(r){return"script[async]"+r}function aE(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+qt(o.href)+'"]');if(u)return a.instance=u,Lt(u),u;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Lt(u),vn(u,"style",h),Bf(u,o.precedence,r),a.instance=u;case"stylesheet":h=qo(o.href);var g=r.querySelector(Su(h));if(g)return a.state.loading|=4,a.instance=g,Lt(g),g;u=iE(o),(h=br.get(h))&&Lm(u,h),g=(r.ownerDocument||r).createElement("link"),Lt(g);var S=g;return S._p=new Promise(function(x,j){S.onload=x,S.onerror=j}),vn(g,"link",u),a.state.loading|=4,Bf(g,o.precedence,r),a.instance=g;case"script":return g=$o(o.src),(h=r.querySelector(wu(g)))?(a.instance=h,Lt(h),h):(u=o,(h=br.get(g))&&(u=v({},o),Um(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),Lt(h),vn(h,"link",u),r.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Bf(u,o.precedence,r));return a.instance}function Bf(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,S=0;S<u.length;S++){var x=u[S];if(x.dataset.precedence===a)g=x;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function Lm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Um(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Hf=null;function sE(r,a,o){if(Hf===null){var u=new Map,h=Hf=new Map;h.set(o,u)}else h=Hf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[ss]||g[Wt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(a)||"";S=r+S;var x=u.get(S);x?x.push(g):u.set(S,[g])}}return u}function oE(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function b2(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function lE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Au=null;function E2(){}function T2(r,a,o){if(Au===null)throw Error(i(475));var u=Au;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qo(o.href),g=r.querySelector(Su(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=qf.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=g,Lt(g);return}g=r.ownerDocument||r,o=iE(o),(h=br.get(h))&&Lm(o,h),g=g.createElement("link"),Lt(g);var S=g;S._p=new Promise(function(x,j){S.onload=x,S.onerror=j}),vn(g,"link",o),a.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=qf.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function S2(){if(Au===null)throw Error(i(475));var r=Au;return r.stylesheets&&r.count===0&&jm(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&jm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function qf(){if(this.count--,this.count===0){if(this.stylesheets)jm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var $f=null;function jm(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,$f=new Map,a.forEach(w2,r),$f=null,qf.call(r))}function w2(r,a){if(!(a.state.loading&4)){var o=$f.get(r);if(o)var u=o.get(null);else{o=new Map,$f.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var S=h[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}h=a.instance,S=h.getAttribute("data-precedence"),g=o.get(S)||u,g===u&&o.set(null,h),o.set(S,h),this.count++,u=qf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),a.state.loading|=4}}var xu={$$typeof:q,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function A2(r,a,o,u,h,g,S,x){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function uE(r,a,o,u,h,g,S,x,j,Z,ae,le){return r=new A2(r,a,o,S,x,j,Z,le),a=1,g===!0&&(a|=24),g=Wn(3,null,null,a),r.current=g,g.stateNode=r,a=bp(),a.refCount++,r.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:a},wp(g),r}function cE(r){return r?(r=To,r):To}function fE(r,a,o,u,h,g){h=cE(h),u.context===null?u.context=h:u.pendingContext=h,u=la(a),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ua(r,u,a),o!==null&&(nr(o,r,a),nu(o,r,a))}function hE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function Fm(r,a){hE(r,a),(r=r.alternate)&&hE(r,a)}function dE(r){if(r.tag===13){var a=Eo(r,67108864);a!==null&&nr(a,r,67108864),Fm(r,67108864)}}var Gf=!0;function x2(r,a,o,u){var h=B.T;B.T=null;var g=ne.p;try{ne.p=2,zm(r,a,o,u)}finally{ne.p=g,B.T=h}}function R2(r,a,o,u){var h=B.T;B.T=null;var g=ne.p;try{ne.p=8,zm(r,a,o,u)}finally{ne.p=g,B.T=h}}function zm(r,a,o,u){if(Gf){var h=Bm(u);if(h===null)Cm(r,a,u,Yf,o),mE(r,u);else if(I2(h,r,a,o,u))u.stopPropagation();else if(mE(r,u),a&4&&-1<C2.indexOf(r)){for(;h!==null;){var g=Vr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Sr(g.pendingLanes);if(S!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;S;){var j=1<<31-Bt(S);x.entanglements[1]|=j,S&=~j}Xr(g),(mt&6)===0&&(Of=wt()+500,_u(0))}}break;case 13:x=Eo(g,2),x!==null&&nr(x,g,2),Df(),Fm(g,2)}if(g=Bm(u),g===null&&Cm(r,a,u,Yf,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else Cm(r,a,u,null,o)}}function Bm(r){return r=fr(r),Hm(r)}var Yf=null;function Hm(r){if(Yf=null,r=mi(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Yf=r,null}function pE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case pt:return 2;case Nn:return 8;case Un:case jn:return 32;case lr:return 268435456;default:return 32}default:return 32}}var qm=!1,Ta=null,Sa=null,wa=null,Ru=new Map,Cu=new Map,Aa=[],C2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mE(r,a){switch(r){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Ru.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(a.pointerId)}}function Iu(r,a,o,u,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},a!==null&&(a=Vr(a),a!==null&&dE(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),r)}function I2(r,a,o,u,h){switch(a){case"focusin":return Ta=Iu(Ta,r,a,o,u,h),!0;case"dragenter":return Sa=Iu(Sa,r,a,o,u,h),!0;case"mouseover":return wa=Iu(wa,r,a,o,u,h),!0;case"pointerover":var g=h.pointerId;return Ru.set(g,Iu(Ru.get(g)||null,r,a,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,Cu.set(g,Iu(Cu.get(g)||null,r,a,o,u,h)),!0}return!1}function gE(r){var a=mi(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,Nc(r.priority,function(){if(o.tag===13){var u=tr();u=Ji(u);var h=Eo(o,u);h!==null&&nr(h,o,u),Fm(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Kf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=Bm(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);_i=u,o.target.dispatchEvent(u),_i=null}else return a=Vr(o),a!==null&&dE(a),r.blockedOn=o,!1;a.shift()}return!0}function vE(r,a,o){Kf(r)&&o.delete(a)}function O2(){qm=!1,Ta!==null&&Kf(Ta)&&(Ta=null),Sa!==null&&Kf(Sa)&&(Sa=null),wa!==null&&Kf(wa)&&(wa=null),Ru.forEach(vE),Cu.forEach(vE)}function Qf(r,a){r.blockedOn===a&&(r.blockedOn=null,qm||(qm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,O2)))}var Xf=null;function yE(r){Xf!==r&&(Xf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xf===r&&(Xf=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],h=r[a+2];if(typeof u!="function"){if(Hm(u||o)===null)continue;break}var g=Vr(o);g!==null&&(r.splice(a,3),a-=3,Hp(g,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Ou(r){function a(j){return Qf(j,r)}Ta!==null&&Qf(Ta,r),Sa!==null&&Qf(Sa,r),wa!==null&&Qf(wa,r),Ru.forEach(a),Cu.forEach(a);for(var o=0;o<Aa.length;o++){var u=Aa[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Aa.length&&(o=Aa[0],o.blockedOn===null);)gE(o),o.blockedOn===null&&Aa.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],S=h[Ht]||null;if(typeof g=="function")S||yE(o);else if(S){var x=null;if(g&&g.hasAttribute("formAction")){if(h=g,S=g[Ht]||null)x=S.formAction;else if(Hm(h)!==null)continue}else x=S.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),yE(o)}}}function $m(r){this._internalRoot=r}Wf.prototype.render=$m.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=tr();fE(o,u,r,a,null,null)},Wf.prototype.unmount=$m.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;fE(r.current,2,null,r,null,null),Df(),a[ur]=null}};function Wf(r){this._internalRoot=r}Wf.prototype.unstable_scheduleHydration=function(r){if(r){var a=ea();r={blockedOn:null,target:r,priority:a};for(var o=0;o<Aa.length&&a!==0&&a<Aa[o].priority;o++);Aa.splice(o,0,r),o===0&&gE(r)}};var _E=e.version;if(_E!=="19.1.0")throw Error(i(527,_E,"19.1.0"));ne.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(a),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var N2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{Ge=Zf.inject(N2),He=Zf}catch{}}return Du.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",h=k_,g=V_,S=L_,x=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks)),a=uE(r,1,!1,null,null,o,u,h,g,S,x,null),r[ur]=a.current,Rm(r),new $m(a)},Du.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,h="",g=k_,S=V_,x=L_,j=null,Z=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks),o.formState!==void 0&&(Z=o.formState)),a=uE(r,1,!0,a,o??null,u,h,g,S,x,j,Z),a.context=cE(null),o=a.current,u=tr(),u=Ji(u),h=la(u),h.callback=null,ua(o,h,u),o=u,a.current.lanes=o,pi(a,o),Xr(a),r[ur]=a.current,Rm(r),new Wf(a)},Du.version="19.1.0",Du}var IE;function B2(){if(IE)return Km.exports;IE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Km.exports=z2(),Km.exports}var H2=B2(),q2=kS();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},tc.apply(this,arguments)}var Pa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pa||(Pa={}));const OE="popstate";function $2(t){t===void 0&&(t={});function e(i,s){let{pathname:l,search:c,hash:d}=i.location;return Mg("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Nh(s)}return Y2(e,n,null,t)}function Qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G2(){return Math.random().toString(36).substr(2,8)}function NE(t,e){return{usr:t.state,key:t.key,idx:e}}function Mg(t,e,n,i){return n===void 0&&(n=null),tc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vl(e):e,{state:n,key:e&&e.key||i||G2()})}function Nh(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function vl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Y2(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,d=Pa.Pop,p=null,m=v();m==null&&(m=0,c.replaceState(tc({},c.state,{idx:m}),""));function v(){return(c.state||{idx:null}).idx}function b(){d=Pa.Pop;let O=v(),F=O==null?null:O-m;m=O,p&&p({action:d,location:V.location,delta:F})}function A(O,F){d=Pa.Push;let Q=Mg(V.location,O,F);m=v()+1;let q=NE(Q,m),ie=V.createHref(Q);try{c.pushState(q,"",ie)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(ie)}l&&p&&p({action:d,location:V.location,delta:1})}function N(O,F){d=Pa.Replace;let Q=Mg(V.location,O,F);m=v();let q=NE(Q,m),ie=V.createHref(Q);c.replaceState(q,"",ie),l&&p&&p({action:d,location:V.location,delta:0})}function k(O){let F=s.location.origin!=="null"?s.location.origin:s.location.href,Q=typeof O=="string"?O:Nh(O);return Q=Q.replace(/ $/,"%20"),Qt(F,"No window.location.(origin|href) available to create URL for href: "+Q),new URL(Q,F)}let V={get action(){return d},get location(){return t(s,c)},listen(O){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(OE,b),p=O,()=>{s.removeEventListener(OE,b),p=null}},createHref(O){return e(s,O)},createURL:k,encodeLocation(O){let F=k(O);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:A,replace:N,go(O){return c.go(O)}};return V}var DE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(DE||(DE={}));function K2(t,e,n){return n===void 0&&(n="/"),Q2(t,e,n)}function Q2(t,e,n,i){let s=typeof e=="string"?vl(e):e,l=Lv(s.pathname||"/",n);if(l==null)return null;let c=LS(t);X2(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=lI(l);d=aI(c[p],m)}return d}function LS(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Qt(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let m=Va([i,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Qt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),LS(l.children,e,v,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:rI(m,l.index),routesMeta:v})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let p of US(l.path))s(l,c,p)}),e}function US(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=US(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&d.push(...c),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function X2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const W2=/^:[\w-]+$/,Z2=3,J2=2,eI=1,tI=10,nI=-2,ME=t=>t==="*";function rI(t,e){let n=t.split("/"),i=n.length;return n.some(ME)&&(i+=nI),e&&(i+=J2),n.filter(s=>!ME(s)).reduce((s,l)=>s+(W2.test(l)?Z2:l===""?eI:tI),i)}function iI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function aI(t,e,n){let{routesMeta:i}=t,s={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=sI({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),A=p.route;if(!b)return null;Object.assign(s,b.params),c.push({params:s,pathname:Va([l,b.pathname]),pathnameBase:hI(Va([l,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(l=Va([l,b.pathnameBase]))}return c}function sI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=oI(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((m,v,b)=>{let{paramName:A,isOptional:N}=v;if(A==="*"){let V=d[b]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const k=d[b];return N&&!k?m[A]=void 0:m[A]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function oI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),VS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function lI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return VS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function uI(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?vl(t):t;return{pathname:n?n.startsWith("/")?n:cI(n,e):e,search:dI(i),hash:pI(s)}}function cI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Zm(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jS(t,e){let n=fI(t);return e?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function FS(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=vl(t):(s=tc({},t),Qt(!s.pathname||!s.pathname.includes("?"),Zm("?","pathname","search",s)),Qt(!s.pathname||!s.pathname.includes("#"),Zm("#","pathname","hash",s)),Qt(!s.search||!s.search.includes("#"),Zm("#","search","hash",s)));let l=t===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),b-=1;s.pathname=A.join("/")}d=b>=0?e[b]:"/"}let p=uI(s,d),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}const Va=t=>t.join("/").replace(/\/\/+/g,"/"),hI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zS=["post","put","patch","delete"];new Set(zS);const gI=["get",...zS];new Set(gI);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nc.apply(this,arguments)}const Uv=z.createContext(null),vI=z.createContext(null),Ks=z.createContext(null),fd=z.createContext(null),Ja=z.createContext({outlet:null,matches:[],isDataRoute:!1}),BS=z.createContext(null);function yI(t,e){let{relative:n}=e===void 0?{}:e;vc()||Qt(!1);let{basename:i,navigator:s}=z.useContext(Ks),{hash:l,pathname:c,search:d}=qS(t,{relative:n}),p=c;return i!=="/"&&(p=c==="/"?i:Va([i,c])),s.createHref({pathname:p,search:d,hash:l})}function vc(){return z.useContext(fd)!=null}function hd(){return vc()||Qt(!1),z.useContext(fd).location}function HS(t){z.useContext(Ks).static||z.useLayoutEffect(t)}function yc(){let{isDataRoute:t}=z.useContext(Ja);return t?MI():_I()}function _I(){vc()||Qt(!1);let t=z.useContext(Uv),{basename:e,future:n,navigator:i}=z.useContext(Ks),{matches:s}=z.useContext(Ja),{pathname:l}=hd(),c=JSON.stringify(jS(s,n.v7_relativeSplatPath)),d=z.useRef(!1);return HS(()=>{d.current=!0}),z.useCallback(function(m,v){if(v===void 0&&(v={}),!d.current)return;if(typeof m=="number"){i.go(m);return}let b=FS(m,JSON.parse(c),l,v.relative==="path");t==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Va([e,b.pathname])),(v.replace?i.replace:i.push)(b,v.state,v)},[e,i,c,l,t])}const bI=z.createContext(null);function EI(t){let e=z.useContext(Ja).outlet;return e&&z.createElement(bI.Provider,{value:t},e)}function qS(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=z.useContext(Ks),{matches:s}=z.useContext(Ja),{pathname:l}=hd(),c=JSON.stringify(jS(s,i.v7_relativeSplatPath));return z.useMemo(()=>FS(t,JSON.parse(c),l,n==="path"),[t,c,l,n])}function TI(t,e){return SI(t,e)}function SI(t,e,n,i){vc()||Qt(!1);let{navigator:s,static:l}=z.useContext(Ks),{matches:c}=z.useContext(Ja),d=c[c.length-1],p=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let v=hd(),b;if(e){var A;let F=typeof e=="string"?vl(e):e;m==="/"||(A=F.pathname)!=null&&A.startsWith(m)||Qt(!1),b=F}else b=v;let N=b.pathname||"/",k=N;if(m!=="/"){let F=m.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(F.length).join("/")}let V=K2(t,{pathname:k}),O=CI(V&&V.map(F=>Object.assign({},F,{params:Object.assign({},p,F.params),pathname:Va([m,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?m:Va([m,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),c,n,i);return e&&O?z.createElement(fd.Provider,{value:{location:nc({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Pa.Pop}},O):O}function wI(){let t=DI(),e=mI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:s},n):null,null)}const AI=z.createElement(wI,null);class xI extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?z.createElement(Ja.Provider,{value:this.props.routeContext},z.createElement(BS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RI(t){let{routeContext:e,match:n,children:i}=t,s=z.useContext(Uv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(Ja.Provider,{value:e},i)}function CI(t,e,n,i){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,d=(s=n)==null?void 0:s.errors;if(d!=null){let v=c.findIndex(b=>b.route.id&&(d==null?void 0:d[b.route.id])!==void 0);v>=0||Qt(!1),c=c.slice(0,Math.min(c.length,v+1))}let p=!1,m=-1;if(n&&i&&i.v7_partialHydration)for(let v=0;v<c.length;v++){let b=c[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:A,errors:N}=n,k=b.route.loader&&A[b.route.id]===void 0&&(!N||N[b.route.id]===void 0);if(b.route.lazy||k){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((v,b,A)=>{let N,k=!1,V=null,O=null;n&&(N=d&&b.route.id?d[b.route.id]:void 0,V=b.route.errorElement||AI,p&&(m<0&&A===0?(PI("route-fallback"),k=!0,O=null):m===A&&(k=!0,O=b.route.hydrateFallbackElement||null)));let F=e.concat(c.slice(0,A+1)),Q=()=>{let q;return N?q=V:k?q=O:b.route.Component?q=z.createElement(b.route.Component,null):b.route.element?q=b.route.element:q=v,z.createElement(RI,{match:b,routeContext:{outlet:v,matches:F,isDataRoute:n!=null},children:q})};return n&&(b.route.ErrorBoundary||b.route.errorElement||A===0)?z.createElement(xI,{location:n.location,revalidation:n.revalidation,component:V,error:N,children:Q(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):Q()},null)}var $S=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($S||{}),GS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(GS||{});function II(t){let e=z.useContext(Uv);return e||Qt(!1),e}function OI(t){let e=z.useContext(vI);return e||Qt(!1),e}function NI(t){let e=z.useContext(Ja);return e||Qt(!1),e}function YS(t){let e=NI(),n=e.matches[e.matches.length-1];return n.route.id||Qt(!1),n.route.id}function DI(){var t;let e=z.useContext(BS),n=OI(),i=YS();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function MI(){let{router:t}=II($S.UseNavigateStable),e=YS(GS.UseNavigateStable),n=z.useRef(!1);return HS(()=>{n.current=!0}),z.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,nc({fromRouteId:e},l)))},[t,e])}const PE={};function PI(t,e,n){PE[t]||(PE[t]=!0)}function kI(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jv(t){return EI(t.context)}function fn(t){Qt(!1)}function VI(t){let{basename:e="/",children:n=null,location:i,navigationType:s=Pa.Pop,navigator:l,static:c=!1,future:d}=t;vc()&&Qt(!1);let p=e.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:p,navigator:l,static:c,future:nc({v7_relativeSplatPath:!1},d)}),[p,d,l,c]);typeof i=="string"&&(i=vl(i));let{pathname:v="/",search:b="",hash:A="",state:N=null,key:k="default"}=i,V=z.useMemo(()=>{let O=Lv(v,p);return O==null?null:{location:{pathname:O,search:b,hash:A,state:N,key:k},navigationType:s}},[p,v,b,A,N,k,s]);return V==null?null:z.createElement(Ks.Provider,{value:m},z.createElement(fd.Provider,{children:n,value:V}))}function LI(t){let{children:e,location:n}=t;return TI(Pg(e),n)}new Promise(()=>{});function Pg(t,e){e===void 0&&(e=[]);let n=[];return z.Children.forEach(t,(i,s)=>{if(!z.isValidElement(i))return;let l=[...e,s];if(i.type===z.Fragment){n.push.apply(n,Pg(i.props.children,l));return}i.type!==fn&&Qt(!1),!i.props.index||!i.props.children||Qt(!1);let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Pg(i.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kg.apply(this,arguments)}function UI(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,l;for(l=0;l<i.length;l++)s=i[l],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function jI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FI(t,e){return t.button===0&&(!e||e==="_self")&&!jI(t)}const zI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BI="6";try{window.__reactRouterVersion=BI}catch{}const HI="startTransition",kE=Dg[HI];function qI(t){let{basename:e,children:n,future:i,window:s}=t,l=z.useRef();l.current==null&&(l.current=$2({window:s,v5Compat:!0}));let c=l.current,[d,p]=z.useState({action:c.action,location:c.location}),{v7_startTransition:m}=i||{},v=z.useCallback(b=>{m&&kE?kE(()=>p(b)):p(b)},[p,m]);return z.useLayoutEffect(()=>c.listen(v),[c,v]),z.useEffect(()=>kI(i),[i]),z.createElement(VI,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:c,future:i})}const $I=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dd=z.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:v,viewTransition:b}=e,A=UI(e,zI),{basename:N}=z.useContext(Ks),k,V=!1;if(typeof m=="string"&&GI.test(m)&&(k=m,$I))try{let q=new URL(window.location.href),ie=m.startsWith("//")?new URL(q.protocol+m):new URL(m),$=Lv(ie.pathname,N);ie.origin===q.origin&&$!=null?m=$+ie.search+ie.hash:V=!0}catch{}let O=yI(m,{relative:s}),F=YI(m,{replace:c,state:d,target:p,preventScrollReset:v,relative:s,viewTransition:b});function Q(q){i&&i(q),q.defaultPrevented||F(q)}return z.createElement("a",kg({},A,{href:k||O,onClick:V||l?i:Q,ref:n,target:p}))});var VE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(VE||(VE={}));var LE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(LE||(LE={}));function YI(t,e){let{target:n,replace:i,state:s,preventScrollReset:l,relative:c,viewTransition:d}=e===void 0?{}:e,p=yc(),m=hd(),v=qS(t,{relative:c});return z.useCallback(b=>{if(FI(b,n)){b.preventDefault();let A=i!==void 0?i:Nh(m)===Nh(v);p(t,{replace:A,state:s,preventScrollReset:l,relative:c,viewTransition:d})}},[m,p,v,i,s,n,t,l,c,d])}const KI=()=>{};var UE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},QI=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=t[n++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=t[n++],c=t[n++],d=t[n++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},QS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const l=t[s],c=s+1<t.length,d=c?t[s+1]:0,p=s+2<t.length,m=p?t[s+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let A=(d&15)<<2|m>>6,N=m&63;p||(N=64,c||(A=64)),i.push(n[v],n[b],n[A],n[N])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const l=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const b=s<t.length?n[t.charAt(s)]:64;if(++s,l==null||d==null||m==null||b==null)throw new XI;const A=l<<2|d>>4;if(i.push(A),m!==64){const N=d<<4&240|m>>2;if(i.push(N),b!==64){const k=m<<6&192|b;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WI=function(t){const e=KS(t);return QS.encodeByteArray(e,!0)},Dh=function(t){return WI(t).replace(/\./g,"")},XS=function(t){try{return QS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=()=>ZI().__FIREBASE_DEFAULTS__,eO=()=>{if(typeof process>"u"||typeof UE>"u")return;const t=UE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XS(t[1]);return e&&JSON.parse(e)},pd=()=>{try{return KI()||JI()||eO()||tO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WS=t=>{var e,n;return(n=(e=pd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ZS=t=>{const e=WS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},JS=()=>{var t;return(t=pd())===null||t===void 0?void 0:t.config},ew=t=>{var e;return(e=pd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t){return t.endsWith(".cloudworkstations.dev")}async function Fv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dh(JSON.stringify(n)),Dh(JSON.stringify(c)),""].join(".")}const $u={};function rO(){const t={prod:[],emulator:[]};for(const e of Object.keys($u))$u[e]?t.emulator.push(e):t.prod.push(e);return t}function iO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jE=!1;function zv(t,e){if(typeof window>"u"||typeof document>"u"||!es(window.location.host)||$u[t]===e||$u[t]||jE)return;$u[t]=e;function n(A){return`__firebase__banner__${A}`}const i="__firebase__banner",l=rO().prod.length>0;function c(){const A=document.getElementById(i);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,N){A.setAttribute("width","24"),A.setAttribute("id",N),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function m(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{jE=!0,c()},A}function v(A,N){A.setAttribute("id",N),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=iO(i),N=n("text"),k=document.getElementById(N)||document.createElement("span"),V=n("learnmore"),O=document.getElementById(V)||document.createElement("a"),F=n("preprendIcon"),Q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const q=A.element;d(q),v(O,V);const ie=m();p(Q,F),q.append(Q,k,O,ie),document.body.appendChild(q)}l?(k.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function sO(){var t;const e=(t=pd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cO(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fO(){return!sO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hO(){try{return typeof indexedDB=="object"}catch{return!1}}function dO(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="FirebaseError";class hi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=pO,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?mO(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new hi(s,d,i)}}function mO(t,e){return t.replace(gO,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const gO=/\{\$([^}]+)}/g;function vO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fs(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const l=t[s],c=e[s];if(FE(l)&&FE(c)){if(!Fs(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function FE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Lu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Uu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yO(t,e){const n=new _O(t,e);return n.subscribe.bind(n)}class _O{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");bO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Jm),s.error===void 0&&(s.error=Jm),s.complete===void 0&&(s.complete=Jm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class Ba{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new nO;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SO(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:TO(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TO(t){return t===ks?void 0:t}function SO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const AO={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},xO=tt.INFO,RO={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},CO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=RO[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bv{constructor(e){this.name=e,this._logLevel=xO,this._logHandler=CO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const IO=(t,e)=>e.some(n=>t instanceof n);let zE,BE;function OO(){return zE||(zE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NO(){return BE||(BE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nw=new WeakMap,Vg=new WeakMap,rw=new WeakMap,eg=new WeakMap,Hv=new WeakMap;function DO(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(La(t.result)),s()},c=()=>{i(t.error),s()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&nw.set(n,t)}).catch(()=>{}),Hv.set(e,t),e}function MO(t){if(Vg.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),s()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Vg.set(t,e)}let Lg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return La(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PO(t){Lg=t(Lg)}function kO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(tg(this),e,...n);return rw.set(i,e.sort?e.sort():[e]),La(i)}:NO().includes(t)?function(...e){return t.apply(tg(this),e),La(nw.get(this))}:function(...e){return La(t.apply(tg(this),e))}}function VO(t){return typeof t=="function"?kO(t):(t instanceof IDBTransaction&&MO(t),IO(t,OO())?new Proxy(t,Lg):t)}function La(t){if(t instanceof IDBRequest)return DO(t);if(eg.has(t))return eg.get(t);const e=VO(t);return e!==t&&(eg.set(t,e),Hv.set(e,t)),e}const tg=t=>Hv.get(t);function LO(t,e,{blocked:n,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(t,e),d=La(c);return i&&c.addEventListener("upgradeneeded",p=>{i(La(c.result),p.oldVersion,p.newVersion,La(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const UO=["get","getKey","getAll","getAllKeys","count"],jO=["put","add","delete","clear"],ng=new Map;function HE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ng.get(e))return ng.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=jO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||UO.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),s&&p.done]))[0]};return ng.set(e,l),l}PO(t=>({...t,get:(e,n,i)=>HE(e,n)||t.get(e,n,i),has:(e,n)=>!!HE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function zO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ug="@firebase/app",qE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Bv("@firebase/app"),BO="@firebase/app-compat",HO="@firebase/analytics-compat",qO="@firebase/analytics",$O="@firebase/app-check-compat",GO="@firebase/app-check",YO="@firebase/auth",KO="@firebase/auth-compat",QO="@firebase/database",XO="@firebase/data-connect",WO="@firebase/database-compat",ZO="@firebase/functions",JO="@firebase/functions-compat",eN="@firebase/installations",tN="@firebase/installations-compat",nN="@firebase/messaging",rN="@firebase/messaging-compat",iN="@firebase/performance",aN="@firebase/performance-compat",sN="@firebase/remote-config",oN="@firebase/remote-config-compat",lN="@firebase/storage",uN="@firebase/storage-compat",cN="@firebase/firestore",fN="@firebase/ai",hN="@firebase/firestore-compat",dN="firebase",pN="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="[DEFAULT]",mN={[Ug]:"fire-core",[BO]:"fire-core-compat",[qO]:"fire-analytics",[HO]:"fire-analytics-compat",[GO]:"fire-app-check",[$O]:"fire-app-check-compat",[YO]:"fire-auth",[KO]:"fire-auth-compat",[QO]:"fire-rtdb",[XO]:"fire-data-connect",[WO]:"fire-rtdb-compat",[ZO]:"fire-fn",[JO]:"fire-fn-compat",[eN]:"fire-iid",[tN]:"fire-iid-compat",[nN]:"fire-fcm",[rN]:"fire-fcm-compat",[iN]:"fire-perf",[aN]:"fire-perf-compat",[sN]:"fire-rc",[oN]:"fire-rc-compat",[lN]:"fire-gcs",[uN]:"fire-gcs-compat",[cN]:"fire-fst",[hN]:"fire-fst-compat",[fN]:"fire-vertex","fire-js":"fire-js",[dN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,gN=new Map,Fg=new Map;function $E(t,e){try{t.container.addComponent(e)}catch(n){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zs(t){const e=t.name;if(Fg.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Fg.set(e,t);for(const n of Mh.values())$E(n,t);for(const n of gN.values())$E(n,t);return!0}function md(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new _c("app","Firebase",vN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=pN;function iw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:jg,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Ua.create("bad-app-name",{appName:String(s)});if(n||(n=JS()),!n)throw Ua.create("no-options");const l=Mh.get(s);if(l){if(Fs(n,l.options)&&Fs(i,l.config))return l;throw Ua.create("duplicate-app",{appName:s})}const c=new wO(s);for(const p of Fg.values())c.addComponent(p);const d=new yN(n,i,c);return Mh.set(s,d),d}function qv(t=jg){const e=Mh.get(t);if(!e&&t===jg&&JS())return iw();if(!e)throw Ua.create("no-app",{appName:t});return e}function ai(t,e,n){var i;let s=(i=mN[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(d.join(" "));return}zs(new Ba(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="firebase-heartbeat-database",bN=1,rc="firebase-heartbeat-store";let rg=null;function aw(){return rg||(rg=LO(_N,bN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ua.create("idb-open",{originalErrorMessage:t.message})})),rg}async function EN(t){try{const n=(await aw()).transaction(rc),i=await n.objectStore(rc).get(sw(t));return await n.done,i}catch(e){if(e instanceof hi)Hi.warn(e.message);else{const n=Ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(n.message)}}}async function GE(t,e){try{const i=(await aw()).transaction(rc,"readwrite");await i.objectStore(rc).put(e,sw(t)),await i.done}catch(n){if(n instanceof hi)Hi.warn(n.message);else{const i=Ua.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hi.warn(i.message)}}}function sw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=1024,SN=30;class wN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=YE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>SN){const c=RN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Hi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=YE(),{heartbeatsToSend:i,unsentEntries:s}=AN(this._heartbeatsCache.heartbeats),l=Dh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Hi.warn(n),""}}}function YE(){return new Date().toISOString().substring(0,10)}function AN(t,e=TN){const n=[];let i=t.slice();for(const s of t){const l=n.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),KE(n)>e){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),KE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class xN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hO()?dO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return GE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return GE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function KE(t){return Dh(JSON.stringify({version:2,heartbeats:t})).length}function RN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){zs(new Ba("platform-logger",e=>new FO(e),"PRIVATE")),zs(new Ba("heartbeat",e=>new wN(e),"PRIVATE")),ai(Ug,qE,t),ai(Ug,qE,"esm2017"),ai("fire-js","")}CN("");function $v(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function ow(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IN=ow,lw=new _c("auth","Firebase",ow());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Bv("@firebase/auth");function ON(t,...e){Ph.logLevel<=tt.WARN&&Ph.warn(`Auth (${Qs}): ${t}`,...e)}function ph(t,...e){Ph.logLevel<=tt.ERROR&&Ph.error(`Auth (${Qs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw Yv(t,...e)}function Or(t,...e){return Yv(t,...e)}function Gv(t,e,n){const i=Object.assign(Object.assign({},IN()),{[e]:n});return new _c("auth","Firebase",i).create(e,{appName:t.name})}function ja(t){return Gv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NN(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Tr(t,"argument-error"),Gv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return lw.create(t,...e)}function ke(t,e,...n){if(!t)throw Yv(e,...n)}function ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ph(e),new Error(e)}function qi(t,e){t||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function DN(){return QE()==="http:"||QE()==="https:"}function QE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DN()||lO()||"connection"in navigator)?navigator.onLine:!0}function PN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=aO()||uO()}get(){return MN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LN=new Ec(3e4,6e4);function Xs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ts(t,e,n,i,s={}){return cw(t,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=bc(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:p},l);return oO()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&es(t.emulatorConfig.host)&&(m.credentials="include"),uw.fetch()(await fw(t,t.config.apiHost,n,d),m)})}async function cw(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},kN),e);try{const s=new jN(t),l=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Jf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jf(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Jf(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw Jf(t,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Gv(t,v,m);Tr(t,v)}}catch(s){if(s instanceof hi)throw s;Tr(t,"network-request-failed",{message:String(s)})}}async function gd(t,e,n,i,s={}){const l=await ts(t,e,n,i,s);return"mfaPendingCredential"in l&&Tr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function fw(t,e,n,i){const s=`${e}${n}?${i}`,l=t,c=l.config.emulator?Kv(t.config,s):`${t.config.apiScheme}://${s}`;return VN.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function UN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Or(this.auth,"network-request-failed")),LN.get())})}}function Jf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Or(t,e,i);return s.customData._tokenResponse=n,s}function XE(t){return t!==void 0&&t.enterprise!==void 0}class FN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return UN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zN(t,e){return ts(t,"GET","/v2/recaptchaConfig",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(t,e){return ts(t,"POST","/v1/accounts:delete",e)}async function kh(t,e){return ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HN(t,e=!1){const n=zt(t),i=await n.getIdToken(e),s=Qv(i);ke(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:i,authTime:Gu(ig(s.auth_time)),issuedAtTime:Gu(ig(s.iat)),expirationTime:Gu(ig(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ig(t){return Number(t)*1e3}function Qv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const s=XS(n);return s?JSON.parse(s):(ph("Failed to decode base64 JWT payload"),null)}catch(s){return ph("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function WE(t){const e=Qv(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof hi&&qN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function qN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(t){var e;const n=t.auth,i=await t.getIdToken(),s=await ic(t,kh(n,{idToken:i}));ke(s==null?void 0:s.users.length,n,"internal-error");const l=s.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?hw(l.providerUserInfo):[],d=YN(t.providerData,c),p=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?m:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Bg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,b)}async function GN(t){const e=zt(t);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YN(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function hw(t){return t.map(e=>{var{providerId:n}=e,i=$v(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e){const n=await cw(t,{},async()=>{const i=bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=t.config,c=await fw(t,s,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return t.emulatorConfig&&es(t.emulatorConfig.host)&&(p.credentials="include"),uw.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QN(t,e){return ts(t,"POST","/v2/accounts:revokeToken",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=WE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:l}=await KN(e,n);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:l}=n,c=new el;return i&&(ke(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(ke(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(ke(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ir{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,l=$v(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $N(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Bg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await ic(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HN(this,e)}reload(){return GN(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Vh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject(ja(this.auth));const e=await this.getIdToken();return await ic(this,BN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,l,c,d,p,m,v;const b=(i=n.displayName)!==null&&i!==void 0?i:void 0,A=(s=n.email)!==null&&s!==void 0?s:void 0,N=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,k=(c=n.photoURL)!==null&&c!==void 0?c:void 0,V=(d=n.tenantId)!==null&&d!==void 0?d:void 0,O=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,F=(m=n.createdAt)!==null&&m!==void 0?m:void 0,Q=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:q,emailVerified:ie,isAnonymous:$,providerData:ee,stsTokenManager:C}=n;ke(q&&C,e,"internal-error");const _=el.fromJSON(this.name,C);ke(typeof q=="string",e,"internal-error"),Ra(b,e.name),Ra(A,e.name),ke(typeof ie=="boolean",e,"internal-error"),ke(typeof $=="boolean",e,"internal-error"),Ra(N,e.name),Ra(k,e.name),Ra(V,e.name),Ra(O,e.name),Ra(F,e.name),Ra(Q,e.name);const T=new Ir({uid:q,auth:e,email:A,emailVerified:ie,displayName:b,isAnonymous:$,photoURL:k,phoneNumber:N,tenantId:V,stsTokenManager:_,createdAt:F,lastLoginAt:Q});return ee&&Array.isArray(ee)&&(T.providerData=ee.map(R=>Object.assign({},R))),O&&(T._redirectEventId=O),T}static async _fromIdTokenResponse(e,n,i=!1){const s=new el;s.updateFromServerResponse(n);const l=new Ir({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Vh(l),l}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];ke(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?hw(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),d=new el;d.updateFromIdToken(i);const p=new Ir({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Bg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=new Map;function Fi(t){qi(t instanceof Function,"Expected a class definition");let e=ZE.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dw.type="NONE";const JE=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t,e,n){return`firebase:${t}:${e}:${n}`}class tl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=mh(this.userKey,s.apiKey,l),this.fullPersistenceKey=mh("persistence",s.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?Ir._fromGetAccountInfoResponse(this.auth,n,e):null}return Ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new tl(Fi(JE),e,i);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=s[0]||Fi(JE);const c=mh(i,e.config.apiKey,e.name);let d=null;for(const m of n)try{const v=await m._get(c);if(v){let b;if(typeof v=="string"){const A=await kh(e,{idToken:v}).catch(()=>{});if(!A)break;b=await Ir._fromGetAccountInfoResponse(e,A,v)}else b=Ir._fromJSON(e,v);m!==l&&(d=b),l=m;break}}catch{}const p=s.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new tl(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new tl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_w(e))return"Blackberry";if(bw(e))return"Webos";if(mw(e))return"Safari";if((e.includes("chrome/")||gw(e))&&!e.includes("edge/"))return"Chrome";if(yw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function pw(t=In()){return/firefox\//i.test(t)}function mw(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gw(t=In()){return/crios\//i.test(t)}function vw(t=In()){return/iemobile/i.test(t)}function yw(t=In()){return/android/i.test(t)}function _w(t=In()){return/blackberry/i.test(t)}function bw(t=In()){return/webos/i.test(t)}function Xv(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XN(t=In()){var e;return Xv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WN(){return cO()&&document.documentMode===10}function Ew(t=In()){return Xv(t)||yw(t)||bw(t)||_w(t)||/windows phone/i.test(t)||vw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t,e=[]){let n;switch(t){case"Browser":n=e1(In());break;case"Worker":n=`${e1(In())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t,e={}){return ts(t,"GET","/v2/passwordPolicy",Xs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=6;class tD{constructor(e){var n,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:eD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.containsLowercaseLetter)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t1(this),this.idTokenSubscription=new t1(this),this.beforeStateQueue=new ZN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var i,s,l;if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),i=await Ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(rr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject(ja(this));const n=e?zt(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject(ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject(ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JN(this),n=new tD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await QN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,s);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ON(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ws(t){return zt(t)}class t1{constructor(e){this.auth=e,this.observer=null,this.addObserver=yO(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rD(t){vd=t}function Sw(t){return vd.loadJS(t)}function iD(){return vd.recaptchaEnterpriseScript}function aD(){return vd.gapiScript}function sD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class oD{constructor(){this.enterprise=new lD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uD="recaptcha-enterprise",ww="NO_RECAPTCHA";class cD{constructor(e){this.type=uD,this.auth=Ws(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{zN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new FN(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function s(l,c,d){const p=window.grecaptcha;XE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(ww)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!n&&XE(window.grecaptcha))s(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=iD();p.length!==0&&(p+=d),Sw(p).then(()=>{s(d,l,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function n1(t,e,n,i=!1,s=!1){const l=new cD(t);let c;if(s)c=ww;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function r1(t,e,n,i,s){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await n1(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await n1(t,e,n,n==="getOobCode");return i(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e){const n=md(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),l=n.getOptions();if(Fs(l,e??{}))return s;Tr(s,"already-initialized")}return n.initialize({options:e})}function hD(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function dD(t,e,n){const i=Ws(t);ke(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=Aw(e),{host:c,port:d}=pD(e),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){ke(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ke(Fs(m,i.config.emulator)&&Fs(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,es(c)?(Fv(`${l}//${c}${p}`),zv("Auth",!0)):mD()}function Aw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pD(t){const e=Aw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:i1(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:i1(c)}}}function i1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function gD(t,e){return ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,e){return gd(t,"POST","/v1/accounts:signInWithPassword",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t,e){return gd(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}async function _D(t,e){return gd(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Wv{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ac(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new ac(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r1(e,n,"signInWithPassword",vD);case"emailLink":return yD(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r1(e,i,"signUpPassword",gD);case"emailLink":return _D(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t,e){return gd(t,"POST","/v1/accounts:signInWithIdp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="http://localhost";class $i extends Wv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,l=$v(n,["providerId","signInMethod"]);if(!i||!s)return null;const c=new $i(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return nl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,nl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nl(e,n)}buildRequest(){const e={requestUri:bD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TD(t){const e=Lu(Uu(t)).link,n=e?Lu(Uu(e)).deep_link_id:null,i=Lu(Uu(t)).deep_link_id;return(i?Lu(Uu(i)).link:null)||i||n||e||t}class Zv{constructor(e){var n,i,s,l,c,d;const p=Lu(Uu(e)),m=(n=p.apiKey)!==null&&n!==void 0?n:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,b=ED((s=p.mode)!==null&&s!==void 0?s:null);ke(m&&v&&b,"argument-error"),this.apiKey=m,this.operation=b,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=TD(e);try{return new Zv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.providerId=yl.PROVIDER_ID}static credential(e,n){return ac._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Zv.parseLink(n);return ke(i,"argument-error"),ac._fromEmailAndCode(e,i.code,i.tenantId)}}yl.PROVIDER_ID="password";yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends Jv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yu extends _l{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ke("providerId"in n&&"signInMethod"in n,"argument-error"),$i._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ke(e.idToken||e.accessToken,"argument-error"),$i._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Yu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Yu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:l,nonce:c,providerId:d}=e;if(!i&&!s&&!n&&!l||!d)return null;try{return new Yu(d)._credential({idToken:n,accessToken:i,nonce:c,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends _l{constructor(){super("facebook.com")}static credential(e){return $i._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends _l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $i._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Oa.credential(n,i)}catch{return null}}}Oa.GOOGLE_SIGN_IN_METHOD="google.com";Oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends _l{constructor(){super("github.com")}static credential(e){return $i._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends _l{constructor(){super("twitter.com")}static credential(e,n){return $i._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Da.credential(n,i)}catch{return null}}}Da.TWITTER_SIGN_IN_METHOD="twitter.com";Da.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const l=await Ir._fromIdTokenResponse(e,i,s),c=a1(i);return new sl({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=a1(i);return new sl({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function a1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends hi{constructor(e,n,i,s){var l;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Lh(e,n,i,s)}}function xw(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(t,l,e,i):l})}async function SD(t,e,n=!1){const i=await ic(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e,n=!1){const{auth:i}=t;if(rr(i.app))return Promise.reject(ja(i));const s="reauthenticate";try{const l=await ic(t,xw(i,s,e,t),n);ke(l.idToken,i,"internal-error");const c=Qv(l.idToken);ke(c,i,"internal-error");const{sub:d}=c;return ke(t.uid===d,i,"user-mismatch"),sl._forOperation(t,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Tr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(t,e,n=!1){if(rr(t.app))return Promise.reject(ja(t));const i="signIn",s=await xw(t,i,e),l=await sl._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(l.user),l}async function AD(t,e){return Rw(Ws(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t){const e=Ws(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function RD(t,e,n){return rr(t.app)?Promise.reject(ja(t)):AD(zt(t),yl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&xD(t),i})}function CD(t,e,n,i){return zt(t).onIdTokenChanged(e,n,i)}function ID(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function Cw(t,e,n,i){return zt(t).onAuthStateChanged(e,n,i)}function OD(t){return zt(t).signOut()}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=1e3,DD=10;class Ow extends Iw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ew(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);WN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,DD):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},ND)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ow.type="LOCAL";const MD=Ow;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw extends Iw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Nw.type="SESSION";const Dw=Nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new yd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:l}=n.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(c).map(async m=>m(n.origin,l)),p=await PD(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=ey("",20);s.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(b){const A=b;if(A.data.eventId===m)switch(A.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function VD(t){si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function LD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jD(){return Mw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="firebaseLocalStorageDb",FD=1,jh="firebaseLocalStorage",kw="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _d(t,e){return t.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function zD(){const t=indexedDB.deleteDatabase(Pw);return new Tc(t).toPromise()}function Hg(){const t=indexedDB.open(Pw,FD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(jh,{keyPath:kw})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(jh)?e(i):(i.close(),await zD(),e(await Hg()))})})}async function s1(t,e,n){const i=_d(t,!0).put({[kw]:e,value:n});return new Tc(i).toPromise()}async function BD(t,e){const n=_d(t,!1).get(e),i=await new Tc(n).toPromise();return i===void 0?null:i.value}function o1(t,e){const n=_d(t,!0).delete(e);return new Tc(n).toPromise()}const HD=800,qD=3;class Vw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>qD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(jD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await LD(),!this.activeServiceWorker)return;this.sender=new kD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hg();return await s1(e,Uh,"1"),await o1(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>s1(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>BD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>o1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=_d(s,!1).getAll();return new Tc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vw.type="LOCAL";const $D=Vw;new Ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t,e){return e?Fi(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Wv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GD(t){return Rw(t.auth,new ty(t),t.bypassAuthState)}function YD(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),wD(n,new ty(t),t.bypassAuthState)}async function KD(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),SD(n,new ty(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GD;case"linkViaPopup":case"linkViaRedirect":return KD;case"reauthViaPopup":case"reauthViaRedirect":return YD;default:Tr(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new Ec(2e3,1e4);async function XD(t,e,n){if(rr(t.app))return Promise.reject(Or(t,"operation-not-supported-in-this-environment"));const i=Ws(t);NN(t,e,Jv);const s=Lw(i,n);return new Vs(i,"signInViaPopup",e,s).executeNotNull()}class Vs extends Uw{constructor(e,n,i,s,l){super(e,n,s,l),this.provider=i,this.authWindow=null,this.pollId=null,Vs.currentPopupAction&&Vs.currentPopupAction.cancel(),Vs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QD.get())};e()}}Vs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="pendingRedirect",gh=new Map;class ZD extends Uw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const i=await JD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JD(t,e){const n=nM(e),i=tM(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function eM(t,e){gh.set(t._key(),e)}function tM(t){return Fi(t._redirectPersistence)}function nM(t){return mh(WD,t.config.apiKey,t.name)}async function rM(t,e,n=!1){if(rr(t.app))return Promise.reject(ja(t));const i=Ws(t),s=Lw(i,e),c=await new ZD(i,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=10*60*1e3;class aM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!jw(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iM&&this.cachedEventUids.clear(),this.cachedEventUids.has(l1(e))}saveEventToCache(e){this.cachedEventUids.add(l1(e)),this.lastProcessedEventTime=Date.now()}}function l1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e={}){return ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uM=/^https?/;async function cM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oM(t);for(const n of e)try{if(fM(n))return}catch{}Tr(t,"unauthorized-domain")}function fM(t){const e=zg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!uM.test(n))return!1;if(lM.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new Ec(3e4,6e4);function u1(){const t=si().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dM(t){return new Promise((e,n)=>{var i,s,l;function c(){u1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u1(),n(Or(t,"network-request-failed"))},timeout:hM.get()})}if(!((s=(i=si().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=si().gapi)===null||l===void 0)&&l.load)c();else{const d=sD("iframefcb");return si()[d]=()=>{gapi.load?c():n(Or(t,"network-request-failed"))},Sw(`${aD()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw vh=null,e})}let vh=null;function pM(t){return vh=vh||dM(t),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=new Ec(5e3,15e3),gM="__/auth/iframe",vM="emulator/auth/iframe",yM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_M=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bM(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kv(e,vM):`https://${t.config.authDomain}/${gM}`,i={apiKey:e.apiKey,appName:t.name,v:Qs},s=_M.get(t.config.apiHost);s&&(i.eid=s);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${bc(i).slice(1)}`}async function EM(t){const e=await pM(t),n=si().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:bM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yM,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=Or(t,"network-request-failed"),d=si().setTimeout(()=>{l(c)},mM.get());function p(){si().clearTimeout(d),s(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SM=500,wM=600,AM="_blank",xM="http://localhost";class c1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RM(t,e,n,i=SM,s=wM){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},TM),{width:i.toString(),height:s.toString(),top:l,left:c}),m=In().toLowerCase();n&&(d=gw(m)?AM:n),pw(m)&&(e=e||xM,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[N,k])=>`${A}${N}=${k},`,"");if(XN(m)&&d!=="_self")return CM(e||"",d),new c1(null);const b=window.open(e||"",d,v);ke(b,t,"popup-blocked");try{b.focus()}catch{}return new c1(b)}function CM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="__/auth/handler",OM="emulator/auth/handler",NM=encodeURIComponent("fac");async function f1(t,e,n,i,s,l){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Qs,eventId:s};if(e instanceof Jv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",vO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof _l){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await t._getAppCheckToken(),m=p?`#${NM}=${encodeURIComponent(p)}`:"";return`${DM(t)}?${bc(d).slice(1)}${m}`}function DM({config:t}){return t.emulator?Kv(t,OM):`https://${t.authDomain}/${IM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="webStorageSupport";class MM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dw,this._completeRedirectFn=rM,this._overrideRedirectResult=eM}async _openPopup(e,n,i,s){var l;qi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await f1(e,n,i,zg(),s);return RM(e,c,ey())}async _openRedirect(e,n,i,s){await this._originValidation(e);const l=await f1(e,n,i,zg(),s);return VD(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:l}=this.eventManagers[n];return s?Promise.resolve(s):(qi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await EM(e),i=new aM(e);return n.register("authEvent",s=>(ke(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ag,{type:ag},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[ag];c!==void 0&&n(!!c),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ew()||mw()||Xv()}}const PM=MM;var h1="@firebase/auth",d1="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LM(t){zs(new Ba("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;ke(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tw(t)},m=new nD(i,s,l,p);return hD(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),zs(new Ba("auth-internal",e=>{const n=Ws(e.getProvider("auth").getImmediate());return(i=>new kM(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(h1,d1,VM(t)),ai(h1,d1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=5*60,jM=ew("authIdTokenMaxAge")||UM;let p1=null;const FM=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>jM)return;const s=n==null?void 0:n.token;p1!==s&&(p1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Sc(t=qv()){const e=md(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fD(t,{popupRedirectResolver:PM,persistence:[$D,MD,Dw]}),i=ew("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=FM(l.toString());ID(n,c,()=>c(n.currentUser)),CD(n,d=>c(d))}}const s=WS("auth");return s&&dD(n,`http://${s}`),n}function zM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rD({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const l=Or("internal-error");l.customData=s,n(l)},i.type="text/javascript",i.charset="UTF-8",zM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LM("Browser");var BM="firebase",HM="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(BM,HM,"app");const qM={apiKey:"AIzaSyBu90rcUqw574sLzB_Ka-IRUlTGWo0sjBk",authDomain:"proyectouno-d09e0.firebaseapp.com",databaseURL:"https://proyectouno-d09e0-default-rtdb.firebaseio.com",projectId:"proyectouno-d09e0",storageBucket:"proyectouno-d09e0.firebasestorage.app",messagingSenderId:"567007730982",appId:"1:567007730982:web:cde41dd58a20780201f5e7",measurementId:"G-BJTNZ2M8DH"},Yn=iw(qM);var m1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fa,Fw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function T(){}T.prototype=_.prototype,C.D=_.prototype,C.prototype=new T,C.prototype.constructor=C,C.C=function(R,P,M){for(var D=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)D[_e-2]=arguments[_e];return _.prototype[P].apply(R,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,_,T){T||(T=0);var R=Array(16);if(typeof _=="string")for(var P=0;16>P;++P)R[P]=_.charCodeAt(T++)|_.charCodeAt(T++)<<8|_.charCodeAt(T++)<<16|_.charCodeAt(T++)<<24;else for(P=0;16>P;++P)R[P]=_[T++]|_[T++]<<8|_[T++]<<16|_[T++]<<24;_=C.g[0],T=C.g[1],P=C.g[2];var M=C.g[3],D=_+(M^T&(P^M))+R[0]+3614090360&4294967295;_=T+(D<<7&4294967295|D>>>25),D=M+(P^_&(T^P))+R[1]+3905402710&4294967295,M=_+(D<<12&4294967295|D>>>20),D=P+(T^M&(_^T))+R[2]+606105819&4294967295,P=M+(D<<17&4294967295|D>>>15),D=T+(_^P&(M^_))+R[3]+3250441966&4294967295,T=P+(D<<22&4294967295|D>>>10),D=_+(M^T&(P^M))+R[4]+4118548399&4294967295,_=T+(D<<7&4294967295|D>>>25),D=M+(P^_&(T^P))+R[5]+1200080426&4294967295,M=_+(D<<12&4294967295|D>>>20),D=P+(T^M&(_^T))+R[6]+2821735955&4294967295,P=M+(D<<17&4294967295|D>>>15),D=T+(_^P&(M^_))+R[7]+4249261313&4294967295,T=P+(D<<22&4294967295|D>>>10),D=_+(M^T&(P^M))+R[8]+1770035416&4294967295,_=T+(D<<7&4294967295|D>>>25),D=M+(P^_&(T^P))+R[9]+2336552879&4294967295,M=_+(D<<12&4294967295|D>>>20),D=P+(T^M&(_^T))+R[10]+4294925233&4294967295,P=M+(D<<17&4294967295|D>>>15),D=T+(_^P&(M^_))+R[11]+2304563134&4294967295,T=P+(D<<22&4294967295|D>>>10),D=_+(M^T&(P^M))+R[12]+1804603682&4294967295,_=T+(D<<7&4294967295|D>>>25),D=M+(P^_&(T^P))+R[13]+4254626195&4294967295,M=_+(D<<12&4294967295|D>>>20),D=P+(T^M&(_^T))+R[14]+2792965006&4294967295,P=M+(D<<17&4294967295|D>>>15),D=T+(_^P&(M^_))+R[15]+1236535329&4294967295,T=P+(D<<22&4294967295|D>>>10),D=_+(P^M&(T^P))+R[1]+4129170786&4294967295,_=T+(D<<5&4294967295|D>>>27),D=M+(T^P&(_^T))+R[6]+3225465664&4294967295,M=_+(D<<9&4294967295|D>>>23),D=P+(_^T&(M^_))+R[11]+643717713&4294967295,P=M+(D<<14&4294967295|D>>>18),D=T+(M^_&(P^M))+R[0]+3921069994&4294967295,T=P+(D<<20&4294967295|D>>>12),D=_+(P^M&(T^P))+R[5]+3593408605&4294967295,_=T+(D<<5&4294967295|D>>>27),D=M+(T^P&(_^T))+R[10]+38016083&4294967295,M=_+(D<<9&4294967295|D>>>23),D=P+(_^T&(M^_))+R[15]+3634488961&4294967295,P=M+(D<<14&4294967295|D>>>18),D=T+(M^_&(P^M))+R[4]+3889429448&4294967295,T=P+(D<<20&4294967295|D>>>12),D=_+(P^M&(T^P))+R[9]+568446438&4294967295,_=T+(D<<5&4294967295|D>>>27),D=M+(T^P&(_^T))+R[14]+3275163606&4294967295,M=_+(D<<9&4294967295|D>>>23),D=P+(_^T&(M^_))+R[3]+4107603335&4294967295,P=M+(D<<14&4294967295|D>>>18),D=T+(M^_&(P^M))+R[8]+1163531501&4294967295,T=P+(D<<20&4294967295|D>>>12),D=_+(P^M&(T^P))+R[13]+2850285829&4294967295,_=T+(D<<5&4294967295|D>>>27),D=M+(T^P&(_^T))+R[2]+4243563512&4294967295,M=_+(D<<9&4294967295|D>>>23),D=P+(_^T&(M^_))+R[7]+1735328473&4294967295,P=M+(D<<14&4294967295|D>>>18),D=T+(M^_&(P^M))+R[12]+2368359562&4294967295,T=P+(D<<20&4294967295|D>>>12),D=_+(T^P^M)+R[5]+4294588738&4294967295,_=T+(D<<4&4294967295|D>>>28),D=M+(_^T^P)+R[8]+2272392833&4294967295,M=_+(D<<11&4294967295|D>>>21),D=P+(M^_^T)+R[11]+1839030562&4294967295,P=M+(D<<16&4294967295|D>>>16),D=T+(P^M^_)+R[14]+4259657740&4294967295,T=P+(D<<23&4294967295|D>>>9),D=_+(T^P^M)+R[1]+2763975236&4294967295,_=T+(D<<4&4294967295|D>>>28),D=M+(_^T^P)+R[4]+1272893353&4294967295,M=_+(D<<11&4294967295|D>>>21),D=P+(M^_^T)+R[7]+4139469664&4294967295,P=M+(D<<16&4294967295|D>>>16),D=T+(P^M^_)+R[10]+3200236656&4294967295,T=P+(D<<23&4294967295|D>>>9),D=_+(T^P^M)+R[13]+681279174&4294967295,_=T+(D<<4&4294967295|D>>>28),D=M+(_^T^P)+R[0]+3936430074&4294967295,M=_+(D<<11&4294967295|D>>>21),D=P+(M^_^T)+R[3]+3572445317&4294967295,P=M+(D<<16&4294967295|D>>>16),D=T+(P^M^_)+R[6]+76029189&4294967295,T=P+(D<<23&4294967295|D>>>9),D=_+(T^P^M)+R[9]+3654602809&4294967295,_=T+(D<<4&4294967295|D>>>28),D=M+(_^T^P)+R[12]+3873151461&4294967295,M=_+(D<<11&4294967295|D>>>21),D=P+(M^_^T)+R[15]+530742520&4294967295,P=M+(D<<16&4294967295|D>>>16),D=T+(P^M^_)+R[2]+3299628645&4294967295,T=P+(D<<23&4294967295|D>>>9),D=_+(P^(T|~M))+R[0]+4096336452&4294967295,_=T+(D<<6&4294967295|D>>>26),D=M+(T^(_|~P))+R[7]+1126891415&4294967295,M=_+(D<<10&4294967295|D>>>22),D=P+(_^(M|~T))+R[14]+2878612391&4294967295,P=M+(D<<15&4294967295|D>>>17),D=T+(M^(P|~_))+R[5]+4237533241&4294967295,T=P+(D<<21&4294967295|D>>>11),D=_+(P^(T|~M))+R[12]+1700485571&4294967295,_=T+(D<<6&4294967295|D>>>26),D=M+(T^(_|~P))+R[3]+2399980690&4294967295,M=_+(D<<10&4294967295|D>>>22),D=P+(_^(M|~T))+R[10]+4293915773&4294967295,P=M+(D<<15&4294967295|D>>>17),D=T+(M^(P|~_))+R[1]+2240044497&4294967295,T=P+(D<<21&4294967295|D>>>11),D=_+(P^(T|~M))+R[8]+1873313359&4294967295,_=T+(D<<6&4294967295|D>>>26),D=M+(T^(_|~P))+R[15]+4264355552&4294967295,M=_+(D<<10&4294967295|D>>>22),D=P+(_^(M|~T))+R[6]+2734768916&4294967295,P=M+(D<<15&4294967295|D>>>17),D=T+(M^(P|~_))+R[13]+1309151649&4294967295,T=P+(D<<21&4294967295|D>>>11),D=_+(P^(T|~M))+R[4]+4149444226&4294967295,_=T+(D<<6&4294967295|D>>>26),D=M+(T^(_|~P))+R[11]+3174756917&4294967295,M=_+(D<<10&4294967295|D>>>22),D=P+(_^(M|~T))+R[2]+718787259&4294967295,P=M+(D<<15&4294967295|D>>>17),D=T+(M^(P|~_))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+M&4294967295}i.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var T=_-this.blockSize,R=this.B,P=this.h,M=0;M<_;){if(P==0)for(;M<=T;)s(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<_;)if(R[P++]=C.charCodeAt(M++),P==this.blockSize){s(this,R),P=0;break}}else for(;M<_;)if(R[P++]=C[M++],P==this.blockSize){s(this,R),P=0;break}}this.h=P,this.o+=_},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var T=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=T&255,T/=256;for(this.u(C),C=Array(16),_=T=0;4>_;++_)for(var R=0;32>R;R+=8)C[T++]=this.g[_]>>>R&255;return C};function l(C,_){var T=d;return Object.prototype.hasOwnProperty.call(T,C)?T[C]:T[C]=_(C)}function c(C,_){this.h=_;for(var T=[],R=!0,P=C.length-1;0<=P;P--){var M=C[P]|0;R&&M==_||(T[P]=M,R=!1)}this.g=T}var d={};function p(C){return-128<=C&&128>C?l(C,function(_){return new c([_|0],0>_?-1:0)}):new c([C|0],0>C?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return b;if(0>C)return O(m(-C));for(var _=[],T=1,R=0;C>=T;R++)_[R]=C/T|0,T*=4294967296;return new c(_,0)}function v(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return O(v(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=m(Math.pow(_,8)),R=b,P=0;P<C.length;P+=8){var M=Math.min(8,C.length-P),D=parseInt(C.substring(P,P+M),_);8>M?(M=m(Math.pow(_,M)),R=R.j(M).add(m(D))):(R=R.j(T),R=R.add(m(D)))}return R}var b=p(0),A=p(1),N=p(16777216);t=c.prototype,t.m=function(){if(V(this))return-O(this).m();for(var C=0,_=1,T=0;T<this.g.length;T++){var R=this.i(T);C+=(0<=R?R:4294967296+R)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(V(this))return"-"+O(this).toString(C);for(var _=m(Math.pow(C,6)),T=this,R="";;){var P=ie(T,_).g;T=F(T,P.j(_));var M=((0<T.g.length?T.g[0]:T.h)>>>0).toString(C);if(T=P,k(T))return M+R;for(;6>M.length;)M="0"+M;R=M+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function V(C){return C.h==-1}t.l=function(C){return C=F(this,C),V(C)?-1:k(C)?0:1};function O(C){for(var _=C.g.length,T=[],R=0;R<_;R++)T[R]=~C.g[R];return new c(T,~C.h).add(A)}t.abs=function(){return V(this)?O(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),T=[],R=0,P=0;P<=_;P++){var M=R+(this.i(P)&65535)+(C.i(P)&65535),D=(M>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);R=D>>>16,M&=65535,D&=65535,T[P]=D<<16|M}return new c(T,T[T.length-1]&-2147483648?-1:0)};function F(C,_){return C.add(O(_))}t.j=function(C){if(k(this)||k(C))return b;if(V(this))return V(C)?O(this).j(O(C)):O(O(this).j(C));if(V(C))return O(this.j(O(C)));if(0>this.l(N)&&0>C.l(N))return m(this.m()*C.m());for(var _=this.g.length+C.g.length,T=[],R=0;R<2*_;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<C.g.length;P++){var M=this.i(R)>>>16,D=this.i(R)&65535,_e=C.i(P)>>>16,Se=C.i(P)&65535;T[2*R+2*P]+=D*Se,Q(T,2*R+2*P),T[2*R+2*P+1]+=M*Se,Q(T,2*R+2*P+1),T[2*R+2*P+1]+=D*_e,Q(T,2*R+2*P+1),T[2*R+2*P+2]+=M*_e,Q(T,2*R+2*P+2)}for(R=0;R<_;R++)T[R]=T[2*R+1]<<16|T[2*R];for(R=_;R<2*_;R++)T[R]=0;return new c(T,0)};function Q(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function q(C,_){this.g=C,this.h=_}function ie(C,_){if(k(_))throw Error("division by zero");if(k(C))return new q(b,b);if(V(C))return _=ie(O(C),_),new q(O(_.g),O(_.h));if(V(_))return _=ie(C,O(_)),new q(O(_.g),_.h);if(30<C.g.length){if(V(C)||V(_))throw Error("slowDivide_ only works with positive integers.");for(var T=A,R=_;0>=R.l(C);)T=$(T),R=$(R);var P=ee(T,1),M=ee(R,1);for(R=ee(R,2),T=ee(T,2);!k(R);){var D=M.add(R);0>=D.l(C)&&(P=P.add(T),M=D),R=ee(R,1),T=ee(T,1)}return _=F(C,P.j(_)),new q(P,_)}for(P=b;0<=C.l(_);){for(T=Math.max(1,Math.floor(C.m()/_.m())),R=Math.ceil(Math.log(T)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),M=m(T),D=M.j(_);V(D)||0<D.l(C);)T-=R,M=m(T),D=M.j(_);k(M)&&(M=A),P=P.add(M),C=F(C,D)}return new q(P,C)}t.A=function(C){return ie(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),T=[],R=0;R<_;R++)T[R]=this.i(R)&C.i(R);return new c(T,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),T=[],R=0;R<_;R++)T[R]=this.i(R)|C.i(R);return new c(T,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),T=[],R=0;R<_;R++)T[R]=this.i(R)^C.i(R);return new c(T,this.h^C.h)};function $(C){for(var _=C.g.length+1,T=[],R=0;R<_;R++)T[R]=C.i(R)<<1|C.i(R-1)>>>31;return new c(T,C.h)}function ee(C,_){var T=_>>5;_%=32;for(var R=C.g.length-T,P=[],M=0;M<R;M++)P[M]=0<_?C.i(M+T)>>>_|C.i(M+T+1)<<32-_:C.i(M+T);return new c(P,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Fw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,Fa=c}).apply(typeof m1<"u"?m1:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zw,ju,Bw,yh,qg,Hw,qw,$w;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function s(f,y){if(y)e:{var E=i;f=f.split(".");for(var I=0;I<f.length-1;I++){var X=f[I];if(!(X in E))break e;E=E[X]}f=f[f.length-1],I=E[f],y=y(I),y!=I&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var E=0,I=!1,X={next:function(){if(!I&&E<f.length){var re=E++;return{value:y(re,f[re]),done:!1}}return I=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(f){return f||function(){return l(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function m(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,E){return f.call.apply(f.bind,arguments)}function b(f,y,E){if(!f)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,I),f.apply(y,X)}}return function(){return f.apply(y,arguments)}}function A(f,y,E){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,A.apply(null,arguments)}function N(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function k(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(I,X,re){for(var ge=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ge[rt-2]=arguments[rt];return y.prototype[X].apply(I,ge)}}function V(f){const y=f.length;if(0<y){const E=Array(y);for(let I=0;I<y;I++)E[I]=f[I];return E}return[]}function O(f,y){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(p(I)){const X=f.length||0,re=I.length||0;f.length=X+re;for(let ge=0;ge<re;ge++)f[X+ge]=I[ge]}else f.push(I)}}class F{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(f){return/^[\s\xa0]*$/.test(f)}function q(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function ie(f){return ie[" "](f),f}ie[" "]=function(){};var $=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ee(f,y,E){for(const I in f)y.call(E,f[I],I,f)}function C(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function _(f){const y={};for(const E in f)y[E]=f[E];return y}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,y){let E,I;for(let X=1;X<arguments.length;X++){I=arguments[X];for(E in I)f[E]=I[E];for(let re=0;re<T.length;re++)E=T[re],Object.prototype.hasOwnProperty.call(I,E)&&(f[E]=I[E])}}function P(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function M(f){d.setTimeout(()=>{throw f},0)}function D(){var f=he;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class _e{constructor(){this.h=this.g=null}add(y,E){const I=Se.get();I.set(y,E),this.h?this.h.next=I:this.g=I,this.h=I}}var Se=new F(()=>new B,f=>f.reset());class B{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ce=!1,he=new _e,L=()=>{const f=d.Promise.resolve(void 0);ne=()=>{f.then(U)}};var U=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(E){M(E)}var y=Se;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ce=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return f}();function me(f,y){if(Y.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if($){e:{try{ie(y.nodeName);var X=!0;break e}catch{}X=!1}X||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:de[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&me.aa.h.call(this)}}k(me,Y);var de={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),ve=0;function we(f,y,E,I,X){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!I,this.ha=X,this.key=++ve,this.da=this.fa=!1}function Ne(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ee(f){this.src=f,this.g={},this.h=0}Ee.prototype.add=function(f,y,E,I,X){var re=f.toString();f=this.g[re],f||(f=this.g[re]=[],this.h++);var ge=Oe(f,y,I,X);return-1<ge?(y=f[ge],E||(y.fa=!1)):(y=new we(y,this.src,re,!!I,X),y.fa=E,f.push(y)),y};function Fe(f,y){var E=y.type;if(E in f.g){var I=f.g[E],X=Array.prototype.indexOf.call(I,y,void 0),re;(re=0<=X)&&Array.prototype.splice.call(I,X,1),re&&(Ne(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Oe(f,y,E,I){for(var X=0;X<f.length;++X){var re=f[X];if(!re.da&&re.listener==y&&re.capture==!!E&&re.ha==I)return X}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),$e={};function Ke(f,y,E,I,X){if(Array.isArray(y)){for(var re=0;re<y.length;re++)Ke(f,y[re],E,I,X);return null}return E=Dn(E),f&&f[ye]?f.K(y,E,m(I)?!!I.capture:!1,X):wt(f,y,E,!1,I,X)}function wt(f,y,E,I,X,re){if(!y)throw Error("Invalid event type");var ge=m(X)?!!X.capture:!!X,rt=lr(f);if(rt||(f[xe]=rt=new Ee(f)),E=rt.add(y,E,I,ge,re),E.proxy)return E;if(I=Be(),E.proxy=I,I.src=f,I.listener=E,f.addEventListener)oe||(X=ge),X===void 0&&(X=!1),f.addEventListener(y.toString(),I,X);else if(f.attachEvent)f.attachEvent(Un(y.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Be(){function f(E){return y.call(f.src,f.listener,E)}const y=jn;return f}function pt(f,y,E,I,X){if(Array.isArray(y))for(var re=0;re<y.length;re++)pt(f,y[re],E,I,X);else I=m(I)?!!I.capture:!!I,E=Dn(E),f&&f[ye]?(f=f.i,y=String(y).toString(),y in f.g&&(re=f.g[y],E=Oe(re,E,I,X),-1<E&&(Ne(re[E]),Array.prototype.splice.call(re,E,1),re.length==0&&(delete f.g[y],f.h--)))):f&&(f=lr(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Oe(y,E,I,X)),(E=-1<f?y[f]:null)&&Nn(E))}function Nn(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[ye])Fe(y.i,f);else{var E=f.type,I=f.proxy;y.removeEventListener?y.removeEventListener(E,I,f.capture):y.detachEvent?y.detachEvent(Un(E),I):y.addListener&&y.removeListener&&y.removeListener(I),(E=lr(y))?(Fe(E,f),E.h==0&&(E.src=null,y[xe]=null)):Ne(f)}}}function Un(f){return f in $e?$e[f]:$e[f]="on"+f}function jn(f,y){if(f.da)f=!0;else{y=new me(y,this);var E=f.listener,I=f.ha||f.src;f.fa&&Nn(f),f=E.call(I,y)}return f}function lr(f){return f=f[xe],f instanceof Ee?f:null}var Nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dn(f){return typeof f=="function"?f:(f[Nt]||(f[Nt]=function(y){return f.handleEvent(y)}),f[Nt])}function Ge(){G.call(this),this.i=new Ee(this),this.M=this,this.F=null}k(Ge,G),Ge.prototype[ye]=!0,Ge.prototype.removeEventListener=function(f,y,E,I){pt(this,f,y,E,I)};function He(f,y){var E,I=f.F;if(I)for(E=[];I;I=I.F)E.push(I);if(f=f.M,I=y.type||y,typeof y=="string")y=new Y(y,f);else if(y instanceof Y)y.target=y.target||f;else{var X=y;y=new Y(I,f),R(y,X)}if(X=!0,E)for(var re=E.length-1;0<=re;re--){var ge=y.g=E[re];X=Ct(ge,I,!0,y)&&X}if(ge=y.g=f,X=Ct(ge,I,!0,y)&&X,X=Ct(ge,I,!1,y)&&X,E)for(re=0;re<E.length;re++)ge=y.g=E[re],X=Ct(ge,I,!1,y)&&X}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],I=0;I<E.length;I++)Ne(E[I]);delete f.g[y],f.h--}}this.F=null},Ge.prototype.K=function(f,y,E,I){return this.i.add(String(f),y,!1,E,I)},Ge.prototype.L=function(f,y,E,I){return this.i.add(String(f),y,!0,E,I)};function Ct(f,y,E,I){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var X=!0,re=0;re<y.length;++re){var ge=y[re];if(ge&&!ge.da&&ge.capture==E){var rt=ge.listener,Zt=ge.ha||ge.src;ge.fa&&Fe(f.i,ge),X=rt.call(Zt,I)!==!1&&X}}return X&&!I.defaultPrevented}function Bt(f,y,E){if(typeof f=="function")E&&(f=A(f,E));else if(f&&typeof f.handleEvent=="function")f=A(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function is(f){f.g=Bt(()=>{f.g=null,f.i&&(f.i=!1,is(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Mr extends G{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:is(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function an(f){G.call(this),this.h=f,this.g={}}k(an,G);var Kn=[];function Pr(f){ee(f.g,function(y,E){this.g.hasOwnProperty(E)&&Nn(y)},f),f.g={}}an.prototype.N=function(){an.aa.N.call(this),Pr(this)},an.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sr=d.JSON.stringify,to=d.JSON.parse,as=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function xl(){}xl.prototype.h=null;function Rl(f){return f.h||(f.h=f.i())}function Cl(){}var di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){Y.call(this,"d")}k(pi,Y);function Il(){Y.call(this,"c")}k(Il,Y);var kr={},Ol=null;function Ji(){return Ol=Ol||new Ge}kr.La="serverreachability";function no(f){Y.call(this,kr.La,f)}k(no,Y);function ea(f){const y=Ji();He(y,new no(y))}kr.STAT_EVENT="statevent";function Nc(f,y){Y.call(this,kr.STAT_EVENT,f),this.stat=y}k(Nc,Y);function At(f){const y=Ji();He(y,new Nc(y,f))}kr.Ma="timingevent";function Wt(f,y){Y.call(this,kr.Ma,f),this.size=y}k(Wt,Y);function Ht(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function ur(){this.g=!0}ur.prototype.xa=function(){this.g=!1};function Nl(f,y,E,I,X,re){f.info(function(){if(f.g)if(re)for(var ge="",rt=re.split("&"),Zt=0;Zt<rt.length;Zt++){var it=rt[Zt].split("=");if(1<it.length){var on=it[0];it=it[1];var Jt=on.split("_");ge=2<=Jt.length&&Jt[1]=="type"?ge+(on+"="+it+"&"):ge+(on+"=redacted&")}}else ge=null;else ge=re;return"XMLHTTP REQ ("+I+") [attempt "+X+"]: "+y+`
`+E+`
`+ge})}function Qd(f,y,E,I,X,re,ge){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+X+"]: "+y+`
`+E+`
`+re+" "+ge})}function ta(f,y,E,I){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+ss(f,E)+(I?" "+I:"")})}function Dc(f,y){f.info(function(){return"TIMEOUT: "+y})}ur.prototype.info=function(){};function ss(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var I=E[f];if(!(2>I.length)){var X=I[1];if(Array.isArray(X)&&!(1>X.length)){var re=X[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ge=1;ge<X.length;ge++)X[ge]=""}}}}return Sr(E)}catch{return y}}var na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vr;function Lr(){}k(Lr,xl),Lr.prototype.g=function(){return new XMLHttpRequest},Lr.prototype.i=function(){return{}},Vr=new Lr;function Mn(f,y,E,I){this.j=f,this.i=y,this.l=E,this.R=I||1,this.U=new an(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}var Dl={},ro={};function wr(f,y,E){f.L=1,f.v=fs(Qn(y)),f.m=E,f.P=!0,gi(f,null)}function gi(f,y){f.F=Date.now(),os(f),f.A=Qn(f.v);var E=f.A,I=f.R;Array.isArray(I)||(I=[String(I)]),Ul(E.i,"t",I),f.C=0,E=f.j.J,f.h=new Lt,f.g=Kc(f.j,E?y:null,!f.m),0<f.O&&(f.M=new Mr(A(f.Y,f,f.g),f.O)),y=f.U,E=f.g,I=f.ca;var X="readystatechange";Array.isArray(X)||(X&&(Kn[0]=X.toString()),X=Kn);for(var re=0;re<X.length;re++){var ge=Ke(E,X[re],I||y.handleEvent,!1,y.h||y);if(!ge)break;y.g[ge.key]=ge}y=f.H?_(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),ea(),Nl(f.i,f.u,f.A,f.l,f.R,f.m)}Mn.prototype.ca=function(f){f=f.target;const y=this.M;y&&dr(f)==3?y.j():this.Y(f)},Mn.prototype.Y=function(f){try{if(f==this.g)e:{const Jt=dr(this.g);var y=this.g.Ba();const wi=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||Fc(this.g)))){this.J||Jt!=4||y==7||(y==8||0>=wi?ea(3):ea(2)),ra(this);var E=this.g.Z();this.X=E;t:if(Mc(this)){var I=Fc(this.g);f="";var X=I.length,re=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Ur(this);var ge="";break t}this.h.i=new d.TextDecoder}for(y=0;y<X;y++)this.h.h=!0,f+=this.h.i.decode(I[y],{stream:!(re&&y==X-1)});I.length=0,this.h.g+=f,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=E==200,Qd(this.i,this.u,this.A,this.l,this.R,Jt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Zt=this.g;if((rt=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(rt)){var it=rt;break t}}it=null}if(E=it)ta(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ls(this,E);else{this.o=!1,this.s=3,At(12),dn(this),Ur(this);break e}}if(this.P){E=!0;let pn;for(;!this.J&&this.C<ge.length;)if(pn=Pc(this,ge),pn==ro){Jt==4&&(this.s=4,At(14),E=!1),ta(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Dl){this.s=4,At(15),ta(this.i,this.l,ge,"[Invalid Chunk]"),E=!1;break}else ta(this.i,this.l,pn,null),ls(this,pn);if(Mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||ge.length!=0||this.h.h||(this.s=1,At(16),E=!1),this.o=this.o&&E,!E)ta(this.i,this.l,ge,"[Invalid Chunked Response]"),dn(this),Ur(this);else if(0<ge.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),_s(on),on.M=!0,At(11))}}else ta(this.i,this.l,ge,null),ls(this,ge);Jt==4&&dn(this),this.o&&!this.J&&(Jt==4?$c(this.j,this):(this.o=!1,os(this)))}else ep(this.g),E==400&&0<ge.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),dn(this),Ur(this)}}}catch{}finally{}};function Mc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Pc(f,y){var E=f.C,I=y.indexOf(`
`,E);return I==-1?ro:(E=Number(y.substring(E,I)),isNaN(E)?Dl:(I+=1,I+E>y.length?ro:(y=y.slice(I,I+E),f.C=I+E,y)))}Mn.prototype.cancel=function(){this.J=!0,dn(this)};function os(f){f.S=Date.now()+f.I,kc(f,f.I)}function kc(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ht(A(f.ba,f),y)}function ra(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Mn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Dc(this.i,this.A),this.L!=2&&(ea(),At(17)),dn(this),this.s=2,Ur(this)):kc(this,this.S-f)};function Ur(f){f.j.G==0||f.J||$c(f.j,f)}function dn(f){ra(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Pr(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function ls(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||Ml(E.h,f))){if(!f.K&&Ml(E.h,f)&&E.G==3){try{var I=E.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var X=I;if(X[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)go(E),po(E);else break e;Hl(E),At(18)}}else E.za=X[1],0<E.za-E.T&&37500>X[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ht(A(E.Za,E),6e3));if(1>=ao(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Si(E,11)}else if((f.K||E.g==f)&&go(E),!Q(y))for(X=E.Da.g.parse(y),y=0;y<X.length;y++){let it=X[y];if(E.T=it[0],it=it[1],E.G==2)if(it[0]=="c"){E.K=it[1],E.ia=it[2];const on=it[3];on!=null&&(E.la=on,E.j.info("VER="+E.la));const Jt=it[4];Jt!=null&&(E.Aa=Jt,E.j.info("SVER="+E.Aa));const wi=it[5];wi!=null&&typeof wi=="number"&&0<wi&&(I=1.5*wi,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const pn=f.g;if(pn){const $r=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var re=I.h;re.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(so(re,re.h),re.h=null))}if(I.D){const $l=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;$l&&(I.ya=$l,vt(I.I,I.D,$l))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var ge=f;if(I.qa=Yc(I,I.J?I.ia:null,I.W),ge.K){Pn(I.h,ge);var rt=ge,Zt=I.L;Zt&&(rt.I=Zt),rt.B&&(ra(rt),os(rt)),I.g=ge}else Hc(I);0<E.i.length&&mo(E)}else it[0]!="stop"&&it[0]!="close"||Si(E,7);else E.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Si(E,7):zl(E):it[0]!="noop"&&E.l&&E.l.ta(it),E.v=0)}}ea(4)}catch{}}var Vc=class{constructor(f,y){this.g=f,this.map=y}};function vi(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function io(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ao(f){return f.h?1:f.g?f.g.size:0}function Ml(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function so(f,y){f.g?f.g.add(y):f.h=y}function Pn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}vi.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Pl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return V(f.i)}function Xd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var y=[],E=f.length,I=0;I<E;I++)y.push(f[I]);return y}y=[],E=0;for(I in f)y[E++]=f[I];return y}function oo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const I in f)y[E++]=I;return y}}}function kl(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=oo(f),I=Xd(f),X=I.length,re=0;re<X;re++)y.call(void 0,I[re],E&&E[re],f)}var us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wd(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var I=f[E].indexOf("="),X=null;if(0<=I){var re=f[E].substring(0,I);X=f[E].substring(I+1)}else re=f[E];y(re,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function qt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof qt){this.h=f.h,cs(this,f.j),this.o=f.o,this.g=f.g,ia(this,f.s),this.l=f.l;var y=f.i,E=new _i;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),yi(this,E),this.m=f.m}else f&&(y=String(f).match(us))?(this.h=!1,cs(this,y[1]||"",!0),this.o=cr(y[2]||""),this.g=cr(y[3]||"",!0),ia(this,y[4]),this.l=cr(y[5]||"",!0),yi(this,y[6]||"",!0),this.m=cr(y[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}qt.prototype.toString=function(){var f=[],y=this.j;y&&f.push(hs(y,Vl,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(hs(y,Vl,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(hs(E,E.charAt(0)=="/"?Zd:Ll,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",hs(E,lo)),f.join("")};function Qn(f){return new qt(f)}function cs(f,y,E){f.j=E?cr(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function ia(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function yi(f,y,E){y instanceof _i?(f.i=y,Uc(f.i,f.h)):(E||(y=hs(y,Jd)),f.i=new _i(y,f.h))}function vt(f,y,E){f.i.set(y,E)}function fs(f){return vt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function cr(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function hs(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,Lc),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Lc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Vl=/[#\/\?@]/g,Ll=/[#\?:]/g,Zd=/[#\?]/g,Jd=/[#\?@]/g,lo=/#/g;function _i(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function fr(f){f.g||(f.g=new Map,f.h=0,f.i&&Wd(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=_i.prototype,t.add=function(f,y){fr(this),this.i=null,f=jr(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function bi(f,y){fr(f),y=jr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Ei(f,y){return fr(f),y=jr(f,y),f.g.has(y)}t.forEach=function(f,y){fr(this),this.g.forEach(function(E,I){E.forEach(function(X){f.call(y,X,I,this)},this)},this)},t.na=function(){fr(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let I=0;I<y.length;I++){const X=f[I];for(let re=0;re<X.length;re++)E.push(y[I])}return E},t.V=function(f){fr(this);let y=[];if(typeof f=="string")Ei(this,f)&&(y=y.concat(this.g.get(jr(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},t.set=function(f,y){return fr(this),this.i=null,f=jr(this,f),Ei(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Ul(f,y,E){bi(f,y),0<E.length&&(f.i=null,f.g.set(jr(f,y),V(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var I=y[E];const re=encodeURIComponent(String(I)),ge=this.V(I);for(I=0;I<ge.length;I++){var X=re;ge[I]!==""&&(X+="="+encodeURIComponent(String(ge[I]))),f.push(X)}}return this.i=f.join("&")};function jr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Uc(f,y){y&&!f.j&&(fr(f),f.i=null,f.g.forEach(function(E,I){var X=I.toLowerCase();I!=X&&(bi(this,I),Ul(this,X,E))},f)),f.j=y}function ds(f,y){const E=new ur;if(d.Image){const I=new Image;I.onload=N(hr,E,"TestLoadImage: loaded",!0,y,I),I.onerror=N(hr,E,"TestLoadImage: error",!1,y,I),I.onabort=N(hr,E,"TestLoadImage: abort",!1,y,I),I.ontimeout=N(hr,E,"TestLoadImage: timeout",!1,y,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else y(!1)}function Ar(f,y){const E=new ur,I=new AbortController,X=setTimeout(()=>{I.abort(),hr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:I.signal}).then(re=>{clearTimeout(X),re.ok?hr(E,"TestPingServer: ok",!0,y):hr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(X),hr(E,"TestPingServer: error",!1,y)})}function hr(f,y,E,I,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),I(E)}catch{}}function ps(){this.g=new as}function Fr(f,y,E){const I=E||"";try{kl(f,function(X,re){let ge=X;m(X)&&(ge=Sr(X)),y.push(I+re+"="+encodeURIComponent(ge))})}catch(X){throw y.push(I+"type="+encodeURIComponent("_badmap")),X}}function aa(f){this.l=f.Ub||null,this.j=f.eb||!1}k(aa,xl),aa.prototype.g=function(){return new Ti(this.l,this.j)},aa.prototype.i=function(f){return function(){return f}}({});function Ti(f,y){Ge.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ti,Ge),t=Ti.prototype,t.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Br(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?zr(this):Br(this),this.readyState==3&&jl(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,zr(this))},t.Qa=function(f){this.g&&(this.response=f,zr(this))},t.ga=function(){this.g&&zr(this)};function zr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Br(f)}t.setRequestHeader=function(f,y){this.u.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function Br(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Fl(f){let y="";return ee(f,function(E,I){y+=I,y+=":",y+=E,y+=`\r
`}),y}function sn(f,y,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=Fl(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):vt(f,y,E))}function ft(f){Ge.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(ft,Ge);var uo=/^https?$/i,ms=["POST","PUT"];t=ft.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,y,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vr.g(),this.v=this.o?Rl(this.o):Rl(Vr),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(re){jc(this,re);return}if(f=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var X in I)E.set(X,I[X]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const re of I.keys())E.set(re,I.get(re));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(re=>re.toLowerCase()=="content-type"),X=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ms,y,void 0))||I||X||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of E)this.g.setRequestHeader(re,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gs(this),this.u=!0,this.g.send(f),this.u=!1}catch(re){jc(this,re)}};function jc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,co(f),Hr(f)}function co(f){f.A||(f.A=!0,He(f,"complete"),He(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,He(this,"complete"),He(this,"abort"),Hr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},t.bb=function(){fo(this)};function fo(f){if(f.h&&typeof c<"u"&&(!f.v[1]||dr(f)!=4||f.Z()!=2)){if(f.u&&dr(f)==4)Bt(f.Ea,0,f);else if(He(f,"readystatechange"),dr(f)==4){f.h=!1;try{const ge=f.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var I;if(I=ge===0){var X=String(f.D).match(us)[1]||null;!X&&d.self&&d.self.location&&(X=d.self.location.protocol.slice(0,-1)),I=!uo.test(X?X.toLowerCase():"")}E=I}if(E)He(f,"complete"),He(f,"success");else{f.m=6;try{var re=2<dr(f)?f.g.statusText:""}catch{re=""}f.l=re+" ["+f.Z()+"]",co(f)}}finally{Hr(f)}}}}function Hr(f,y){if(f.g){gs(f);const E=f.g,I=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||He(f,"ready");try{E.onreadystatechange=I}catch{}}}function gs(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function dr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),to(y)}};function Fc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ep(f){const y={};f=(f.g&&2<=dr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(Q(f[I]))continue;var E=P(f[I]);const X=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const re=y[X]||[];y[X]=re,re.push(E)}C(y,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function ho(f){this.Aa=0,this.i=[],this.j=new ur,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,f),this.cb=vs("retryDelaySeedMs",1e4,f),this.Wa=vs("forwardChannelMaxRetries",2,f),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(f&&f.concurrentRequestLimit),this.Da=new ps,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ho.prototype,t.la=8,t.G=1,t.connect=function(f,y,E,I){At(0),this.W=f,this.H=y||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=Yc(this,null,this.W),mo(this)};function zl(f){if(zc(f),f.G==3){var y=f.U++,E=Qn(f.I);if(vt(E,"SID",f.K),vt(E,"RID",y),vt(E,"TYPE","terminate"),ys(f,E),y=new Mn(f,f.j,y),y.L=2,y.v=fs(Qn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=Kc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),os(y)}Gc(f)}function po(f){f.g&&(_s(f),f.g.cancel(),f.g=null)}function zc(f){po(f),f.u&&(d.clearTimeout(f.u),f.u=null),go(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function mo(f){if(!io(f.h)&&!f.s){f.s=!0;var y=f.Ga;ne||L(),ce||(ne(),ce=!0),he.add(y,f),f.B=0}}function tp(f,y){return ao(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ht(A(f.Ga,f,y),ql(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const X=new Mn(this,this.j,f);let re=this.o;if(this.S&&(re?(re=_(re),R(re,this.S)):re=this.S),this.m!==null||this.O||(X.H=re,re=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Bc(this,X,y),E=Qn(this.I),vt(E,"RID",f),vt(E,"CVER",22),this.D&&vt(E,"X-HTTP-Session-Id",this.D),ys(this,E),re&&(this.O?y="headers="+encodeURIComponent(String(Fl(re)))+"&"+y:this.m&&sn(E,this.m,re)),so(this.h,X),this.Ua&&vt(E,"TYPE","init"),this.P?(vt(E,"$req",y),vt(E,"SID","null"),X.T=!0,wr(X,E,null)):wr(X,E,y),this.G=2}}else this.G==3&&(f?Bl(this,f):this.i.length==0||io(this.h)||Bl(this))};function Bl(f,y){var E;y?E=y.l:E=f.U++;const I=Qn(f.I);vt(I,"SID",f.K),vt(I,"RID",E),vt(I,"AID",f.T),ys(f,I),f.m&&f.o&&sn(I,f.m,f.o),E=new Mn(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Bc(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),so(f.h,E),wr(E,I,y)}function ys(f,y){f.H&&ee(f.H,function(E,I){vt(y,I,E)}),f.l&&kl({},function(E,I){vt(y,I,E)})}function Bc(f,y,E){E=Math.min(f.i.length,E);var I=f.l?A(f.l.Na,f.l,f):null;e:{var X=f.i;let re=-1;for(;;){const ge=["count="+E];re==-1?0<E?(re=X[0].g,ge.push("ofs="+re)):re=0:ge.push("ofs="+re);let rt=!0;for(let Zt=0;Zt<E;Zt++){let it=X[Zt].g;const on=X[Zt].map;if(it-=re,0>it)re=Math.max(0,X[Zt].g-100),rt=!1;else try{Fr(on,ge,"req"+it+"_")}catch{I&&I(on)}}if(rt){I=ge.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,I}function Hc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ne||L(),ce||(ne(),ce=!0),he.add(y,f),f.v=0}}function Hl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ht(A(f.Fa,f),ql(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,qc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ht(A(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),po(this),qc(this))};function _s(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function qc(f){f.g=new Mn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Qn(f.qa);vt(y,"RID","rpc"),vt(y,"SID",f.K),vt(y,"AID",f.T),vt(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&vt(y,"TO",f.ja),vt(y,"TYPE","xmlhttp"),ys(f,y),f.m&&f.o&&sn(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=fs(Qn(y)),E.m=null,E.P=!0,gi(E,f)}t.Za=function(){this.C!=null&&(this.C=null,po(this),Hl(this),At(19))};function go(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function $c(f,y){var E=null;if(f.g==y){go(f),_s(f),f.g=null;var I=2}else if(Ml(f.h,y))E=y.D,Pn(f.h,y),I=1;else return;if(f.G!=0){if(y.o)if(I==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var X=f.B;I=Ji(),He(I,new Wt(I,E)),mo(f)}else Hc(f);else if(X=y.s,X==3||X==0&&0<y.X||!(I==1&&tp(f,y)||I==2&&Hl(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),X){case 1:Si(f,5);break;case 4:Si(f,10);break;case 3:Si(f,6);break;default:Si(f,2)}}}function ql(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function Si(f,y){if(f.j.info("Error code "+y),y==2){var E=A(f.fb,f),I=f.Xa;const X=!I;I=new qt(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||cs(I,"https"),fs(I),X?ds(I.toString(),E):Ar(I.toString(),E)}else At(2);f.G=0,f.l&&f.l.sa(y),Gc(f),zc(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Gc(f){if(f.G=0,f.ka=[],f.l){const y=Pl(f.h);(y.length!=0||f.i.length!=0)&&(O(f.ka,y),O(f.ka,f.i),f.h.i.length=0,V(f.i),f.i.length=0),f.l.ra()}}function Yc(f,y,E){var I=E instanceof qt?Qn(E):new qt(E);if(I.g!="")y&&(I.g=y+"."+I.g),ia(I,I.s);else{var X=d.location;I=X.protocol,y=y?y+"."+X.hostname:X.hostname,X=+X.port;var re=new qt(null);I&&cs(re,I),y&&(re.g=y),X&&ia(re,X),E&&(re.l=E),I=re}return E=f.D,y=f.ya,E&&y&&vt(I,E,y),vt(I,"VER",f.la),ys(f,I),I}function Kc(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new ft(new aa({eb:E})):new ft(f.pa),y.Ha(f.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qc(){}t=Qc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vo(){}vo.prototype.g=function(f,y){return new kn(f,y)};function kn(f,y){Ge.call(this),this.g=new ho(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!Q(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new qr(this)}k(kn,Ge),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){zl(this.g)},kn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Sr(f),f=E);y.i.push(new Vc(y.Ya++,f)),y.G==3&&mo(y)},kn.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,kn.aa.N.call(this)};function Xc(f){pi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}k(Xc,pi);function Wc(){Il.call(this),this.status=1}k(Wc,Il);function qr(f){this.g=f}k(qr,Qc),qr.prototype.ua=function(){He(this.g,"a")},qr.prototype.ta=function(f){He(this.g,new Xc(f))},qr.prototype.sa=function(f){He(this.g,new Wc)},qr.prototype.ra=function(){He(this.g,"b")},vo.prototype.createWebChannel=vo.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,$w=function(){return new vo},qw=function(){return Ji()},Hw=kr,qg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,yh=na,mi.COMPLETE="complete",Bw=mi,Cl.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,ju=Cl,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,zw=ft}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const g1="@firebase/firestore",v1="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Bv("@firebase/firestore");function Yo(){return Bs.logLevel}function be(t,...e){if(Bs.logLevel<=tt.DEBUG){const n=e.map(ny);Bs.debug(`Firestore (${bl}): ${t}`,...n)}}function Gi(t,...e){if(Bs.logLevel<=tt.ERROR){const n=e.map(ny);Bs.error(`Firestore (${bl}): ${t}`,...n)}}function ol(t,...e){if(Bs.logLevel<=tt.WARN){const n=e.map(ny);Bs.warn(`Firestore (${bl}): ${t}`,...n)}}function ny(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Gw(t,i,n)}function Gw(t,e,n){let i=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Gi(i),new Error(i)}function dt(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||Gw(e,s,i)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $M{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xn.UNAUTHENTICATED))}shutdown(){}}class GM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YM{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let i=this.i;const s=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new zi,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},d=p=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new zi)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string",31837,{l:i}),new Yw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class KM{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QM{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new KM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const i=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new y1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new y1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=WM(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<n&&(i+=e.charAt(s[l]%62))}return i}}function Xe(t,e){return t<e?-1:t>e?1:0}function $g(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return Xe(i,s);{const l=Kw(),c=ZM(l.encode(_1(t,n)),l.encode(_1(e,n)));return c!==0?c:Xe(i,s)}}n+=i>65535?2:1}return Xe(t.length,e.length)}function _1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function ZM(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Xe(t[n],e[n]);return Xe(t.length,e.length)}function ll(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=-62135596800,E1=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*E1);return new Xt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<b1)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E1}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-b1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Xt(0,0))}static max(){return new ze(new Xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="__name__";class Wr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ue(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const l=Wr.compareSegments(e.get(s),n.get(s));if(l!==0)return l}return Xe(e.length,n.length)}static compareSegments(e,n){const i=Wr.isNumericId(e),s=Wr.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Wr.extractNumericId(e).compare(Wr.extractNumericId(n)):$g(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fa.fromString(e.substring(4,e.length-2))}}class Rt extends Wr{construct(e,n,i){return new Rt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ce(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const JM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Wr{construct(e,n,i){return new bn(e,n,i)}static isValidIdentifier(e){return JM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T1}static keyField(){return new bn([T1])}static fromServerFormat(e){const n=[];let i="",s=0;const l=()=>{if(i.length===0)throw new Ce(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Ce(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ce(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new Ce(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Rt.fromString(e))}static fromName(e){return new Me(Rt.fromString(e).popFirst(5))}static empty(){return new Me(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=-1;function eP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=ze.fromTimestamp(i===1e9?new Xt(n+1,0):new Xt(n,i));return new Ha(s,Me.empty(),e)}function tP(t){return new Ha(t.readTime,t.key,sc)}class Ha{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ha(ze.min(),Me.empty(),sc)}static max(){return new Ha(ze.max(),Me.empty(),sc)}}function nP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==rP)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.reject(n)}static resolve(e){return new ue((n,i)=>{n(e)})}static reject(e){return new ue((n,i)=>{i(e)})}static waitFor(e){return new ue((n,i)=>{let s=0,l=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++l,c&&l===s&&n()},p=>i(p))}),c=!0,l===s&&n()})}static or(e){let n=ue.resolve(!1);for(const i of e)n=n.next(s=>s?ue.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,l)=>{i.push(n.call(this,s,l))}),this.waitFor(i)}static mapArray(e,n){return new ue((i,s)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;n(e[m]).next(v=>{c[m]=v,++d,d===l&&i(c)},v=>s(v))}})}static doWhile(e,n){return new ue((i,s)=>{const l=()=>{e()===!0?n().next(()=>{l()},s):i()};l()})}}function aP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}bd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=-1;function Ed(t){return t==null}function Fh(t){return t===0&&1/t==-1/0}function sP(t){return typeof t=="number"&&Number.isInteger(t)&&!Fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="";function oP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=S1(e)),e=lP(t.get(n),e);return S1(e)}function lP(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const l=t.charAt(s);switch(l){case"\0":n+="";break;case Xw:n+="";break;default:n+=l}}return n}function S1(t){return t+Xw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ww(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,i,s,l){this.key=e,this.value=n,this.color=i??yn.RED,this.left=s??yn.EMPTY,this.right=l??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,l){return new yn(e??this.key,n??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,n,i),null):l===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return yn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,i,s,l){return this}insert(e,n,i){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new A1(this.data.getIterator())}getIteratorFrom(e){return new A1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class A1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new ir([])}unionWith(e){let n=new rn(bn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Zw("Invalid base64 string: "+l):l}}(e);return new En(n)}static fromUint8Array(e){const n=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const uP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=uP.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $a(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="server_timestamp",eA="__type__",tA="__previous_value__",nA="__local_write_time__";function iy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[eA])===null||n===void 0?void 0:n.stringValue)===Jw}function Td(t){const e=t.mapValue.fields[tA];return iy(e)?Td(e):e}function oc(t){const e=qa(t.mapValue.fields[nA].timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n,i,s,l,c,d,p,m,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v}}const zh="(default)";class lc{constructor(e,n){this.projectId=e,this.database=n||zh}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database===zh}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="__type__",fP="__max__",nh={mapValue:{}},iA="__vector__",Bh="value";function Ga(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iy(t)?4:dP(t)?9007199254740991:hP(t)?10:11:Ue(28295,{value:t})}function ci(t,e){if(t===e)return!0;const n=Ga(t);if(n!==Ga(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oc(t).isEqual(oc(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=qa(s.timestampValue),d=qa(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,l){return $a(s.bytesValue).isEqual($a(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,l){return Ft(s.geoPointValue.latitude)===Ft(l.geoPointValue.latitude)&&Ft(s.geoPointValue.longitude)===Ft(l.geoPointValue.longitude)}(t,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Ft(s.integerValue)===Ft(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Ft(s.doubleValue),d=Ft(l.doubleValue);return c===d?Fh(c)===Fh(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return ll(t.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(w1(c)!==w1(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ci(c[p],d[p])))return!1;return!0}(t,e);default:return Ue(52216,{left:t})}}function uc(t,e){return(t.values||[]).find(n=>ci(n,e))!==void 0}function ul(t,e){if(t===e)return 0;const n=Ga(t),i=Ga(e);if(n!==i)return Xe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Ft(l.integerValue||l.doubleValue),p=Ft(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(t,e);case 3:return x1(t.timestampValue,e.timestampValue);case 4:return x1(oc(t),oc(e));case 5:return $g(t.stringValue,e.stringValue);case 6:return function(l,c){const d=$a(l),p=$a(c);return d.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const v=Xe(d[m],p[m]);if(v!==0)return v}return Xe(d.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Xe(Ft(l.latitude),Ft(c.latitude));return d!==0?d:Xe(Ft(l.longitude),Ft(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return R1(t.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,m,v;const b=l.fields||{},A=c.fields||{},N=(d=b[Bh])===null||d===void 0?void 0:d.arrayValue,k=(p=A[Bh])===null||p===void 0?void 0:p.arrayValue,V=Xe(((m=N==null?void 0:N.values)===null||m===void 0?void 0:m.length)||0,((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0);return V!==0?V:R1(N,k)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===nh.mapValue&&c===nh.mapValue)return 0;if(l===nh.mapValue)return 1;if(c===nh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const A=$g(p[b],v[b]);if(A!==0)return A;const N=ul(d[p[b]],m[v[b]]);if(N!==0)return N}return Xe(p.length,v.length)}(t.mapValue,e.mapValue);default:throw Ue(23264,{Pe:n})}}function x1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=qa(t),i=qa(e),s=Xe(n.seconds,i.seconds);return s!==0?s:Xe(n.nanos,i.nanos)}function R1(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const l=ul(n[s],i[s]);if(l)return l}return Xe(n.length,i.length)}function cl(t){return Gg(t)}function Gg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=qa(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $a(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const l of n.values||[])s?s=!1:i+=",",i+=Gg(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${Gg(n.fields[c])}`;return s+"}"}(t.mapValue):Ue(61005,{value:t})}function _h(t){switch(Ga(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Td(t);return e?16+_h(e):16;case 5:return 2*t.stringValue.length;case 6:return $a(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+_h(l),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return ns(i.fields,(l,c)=>{s+=l.length+_h(c)}),s}(t.mapValue);default:throw Ue(13486,{value:t})}}function Yg(t){return!!t&&"integerValue"in t}function ay(t){return!!t&&"arrayValue"in t}function C1(t){return!!t&&"nullValue"in t}function I1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bh(t){return!!t&&"mapValue"in t}function hP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[rA])===null||n===void 0?void 0:n.stringValue)===iA}function Ku(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ns(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ku(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ku(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(n)}setAll(e){let n=bn.emptyPath(),i={},s=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,i,s),i={},s=[],n=d.popLast()}c?i[d.lastSegment()]=Ku(c):s.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,s)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];bh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){ns(n,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new qn(Ku(this.value))}}function aA(t){const e=[];return ns(t.fields,(n,i)=>{const s=new bn([n]);if(bh(i)){const l=aA(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,i,s,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Rn(e,0,ze.min(),ze.min(),ze.min(),qn.empty(),0)}static newFoundDocument(e,n,i,s){return new Rn(e,1,n,ze.min(),i,s,0)}static newNoDocument(e,n){return new Rn(e,2,n,ze.min(),ze.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,ze.min(),ze.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.position=e,this.inclusive=n}}function O1(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const l=e[s],c=t.position[s];if(l.field.isKeyField()?i=Me.comparator(Me.fromName(c.referenceValue),n.key):i=ul(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function N1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ci(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function pP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{}class nn extends sA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new gP(e,n,i):n==="array-contains"?new _P(e,i):n==="in"?new bP(e,i):n==="not-in"?new EP(e,i):n==="array-contains-any"?new TP(e,i):new nn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new vP(e,i):new yP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ul(n,this.value)):n!==null&&Ga(this.value)===Ga(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends sA{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new fi(e,n)}matches(e){return oA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function oA(t){return t.op==="and"}function lA(t){return mP(t)&&oA(t)}function mP(t){for(const e of t.filters)if(e instanceof fi)return!1;return!0}function Kg(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+cl(t.value);if(lA(t))return t.filters.map(e=>Kg(e)).join(",");{const e=t.filters.map(n=>Kg(n)).join(",");return`${t.op}(${e})`}}function uA(t,e){return t instanceof nn?function(i,s){return s instanceof nn&&i.op===s.op&&i.field.isEqual(s.field)&&ci(i.value,s.value)}(t,e):t instanceof fi?function(i,s){return s instanceof fi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,d)=>l&&uA(c,s.filters[d]),!0):!1}(t,e):void Ue(19439)}function cA(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${cl(n.value)}`}(t):t instanceof fi?function(n){return n.op.toString()+" {"+n.getFilters().map(cA).join(" ,")+"}"}(t):"Filter"}class gP extends nn{constructor(e,n,i){super(e,n,i),this.key=Me.fromName(i.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class vP extends nn{constructor(e,n){super(e,"in",n),this.keys=fA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yP extends nn{constructor(e,n){super(e,"not-in",n),this.keys=fA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Me.fromName(i.referenceValue))}class _P extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ay(n)&&uc(n.arrayValue,this.value)}}class bP extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}}class EP extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uc(this.value.arrayValue,n)}}class TP extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ay(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>uc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n=null,i=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function D1(t,e=null,n=[],i=[],s=null,l=null,c=null){return new SP(t,e,n,i,s,l,c)}function sy(t){const e=qe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Kg(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>cl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>cl(i)).join(",")),e.Ie=n}return e.Ie}function oy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!N1(t.startAt,e.startAt)&&N1(t.endAt,e.endAt)}function Qg(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n=null,i=[],s=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function wP(t,e,n,i,s,l,c,d){return new Sd(t,e,n,i,s,l,c,d)}function ly(t){return new Sd(t)}function M1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AP(t){return t.collectionGroup!==null}function Qu(t){const e=qe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new rn(bn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new qh(l,i))}),n.has(bn.keyField().canonicalString())||e.Ee.push(new qh(bn.keyField(),i))}return e.Ee}function oi(t){const e=qe(t);return e.de||(e.de=xP(e,Qu(t))),e.de}function xP(t,e){if(t.limitType==="F")return D1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new qh(s.field,l)});const n=t.endAt?new Hh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Hh(t.startAt.position,t.startAt.inclusive):null;return D1(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Xg(t,e,n){return new Sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wd(t,e){return oy(oi(t),oi(e))&&t.limitType===e.limitType}function hA(t){return`${sy(oi(t))}|lt:${t.limitType}`}function Ko(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>cA(s)).join(", ")}]`),Ed(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>cl(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>cl(s)).join(",")),`Target(${i})`}(oi(t))}; limitType=${t.limitType})`}function Ad(t,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Me.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,s){for(const l of Qu(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(c,d,p){const m=O1(c,d,p);return c.inclusive?m<=0:m<0}(i.startAt,Qu(i),s)||i.endAt&&!function(c,d,p){const m=O1(c,d,p);return c.inclusive?m>=0:m>0}(i.endAt,Qu(i),s))}(t,e)}function RP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dA(t){return(e,n)=>{let i=!1;for(const s of Qu(t)){const l=CP(s,e,n);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function CP(t,e,n){const i=t.field.isKeyField()?Me.comparator(e.key,n.key):function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?ul(p,m):Ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,(n,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return Ww(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=new Ot(Me.comparator);function Yi(){return IP}const pA=new Ot(Me.comparator);function Fu(...t){let e=pA;for(const n of t)e=e.insert(n.key,n);return e}function mA(t){let e=pA;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ls(){return Xu()}function gA(){return Xu()}function Xu(){return new Zs(t=>t.toString(),(t,e)=>t.isEqual(e))}const OP=new Ot(Me.comparator),NP=new rn(Me.comparator);function nt(...t){let e=NP;for(const n of t)e=e.add(n);return e}const DP=new rn(Xe);function MP(){return DP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function vA(t){return{integerValue:""+t}}function PP(t,e){return sP(e)?vA(e):uy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function kP(t,e,n){return t instanceof $h?function(s,l){const c={fields:{[eA]:{stringValue:Jw},[nA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&iy(l)&&(l=Td(l)),l&&(c.fields[tA]=l),{mapValue:c}}(n,e):t instanceof cc?_A(t,e):t instanceof fc?bA(t,e):function(s,l){const c=yA(s,l),d=P1(c)+P1(s.Re);return Yg(c)&&Yg(s.Re)?vA(d):uy(s.serializer,d)}(t,e)}function VP(t,e,n){return t instanceof cc?_A(t,e):t instanceof fc?bA(t,e):n}function yA(t,e){return t instanceof Gh?function(i){return Yg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class $h extends xd{}class cc extends xd{constructor(e){super(),this.elements=e}}function _A(t,e){const n=EA(e);for(const i of t.elements)n.some(s=>ci(s,i))||n.push(i);return{arrayValue:{values:n}}}class fc extends xd{constructor(e){super(),this.elements=e}}function bA(t,e){let n=EA(e);for(const i of t.elements)n=n.filter(s=>!ci(s,i));return{arrayValue:{values:n}}}class Gh extends xd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function P1(t){return Ft(t.integerValue||t.doubleValue)}function EA(t){return ay(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LP(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof cc&&s instanceof cc||i instanceof fc&&s instanceof fc?ll(i.elements,s.elements,ci):i instanceof Gh&&s instanceof Gh?ci(i.Re,s.Re):i instanceof $h&&s instanceof $h}(t.transform,e.transform)}class UP{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rd{}function TA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cy(t.key,Er.none()):new wc(t.key,t.data,Er.none());{const n=t.data,i=qn.empty();let s=new rn(bn.comparator);for(let l of e.fields)if(!s.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new rs(t.key,i,new ir(s.toArray()),Er.none())}}function jP(t,e,n){t instanceof wc?function(s,l,c){const d=s.value.clone(),p=V1(s.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof rs?function(s,l,c){if(!Eh(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=V1(s.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(SA(s)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Wu(t,e,n,i){return t instanceof wc?function(l,c,d,p){if(!Eh(l.precondition,c))return d;const m=l.value.clone(),v=L1(l.fieldTransforms,p,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof rs?function(l,c,d,p){if(!Eh(l.precondition,c))return d;const m=L1(l.fieldTransforms,p,c),v=c.data;return v.setAll(SA(l)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(t,e,n,i):function(l,c,d){return Eh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function FP(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),l=yA(i.transform,s||null);l!=null&&(n===null&&(n=qn.empty()),n.set(i.field,l))}return n||null}function k1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&ll(i,s,(l,c)=>LP(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wc extends Rd{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class rs extends Rd{constructor(e,n,i,s,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function SA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function V1(t,e,n){const i=new Map;dt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const l=t[s],c=l.transform,d=e.data.field(l.field);i.set(l.field,VP(c,d,n[s]))}return i}function L1(t,e,n){const i=new Map;for(const s of t){const l=s.transform,c=n.data.field(s.field);i.set(s.field,kP(l,c,e))}return i}class cy extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zP extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&jP(l,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Wu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Wu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=gA();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(s.key)?null:d;const p=TA(c,d);p!==null&&i.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(n,i)=>k1(n,i))&&ll(this.baseMutations,e.baseMutations,(n,i)=>k1(n,i))}}class fy{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){dt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return OP}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new fy(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,st;function $P(t){switch(t){case fe.OK:return Ue(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function wA(t){if(t===void 0)return Gi("GRPC error has no .code"),fe.UNKNOWN;switch(t){case Yt.OK:return fe.OK;case Yt.CANCELLED:return fe.CANCELLED;case Yt.UNKNOWN:return fe.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return fe.INTERNAL;case Yt.UNAVAILABLE:return fe.UNAVAILABLE;case Yt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Yt.NOT_FOUND:return fe.NOT_FOUND;case Yt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Yt.ABORTED:return fe.ABORTED;case Yt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Yt.DATA_LOSS:return fe.DATA_LOSS;default:return Ue(39323,{code:t})}}(st=Yt||(Yt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=new Fa([4294967295,4294967295],0);function U1(t){const e=Kw().encode(t),n=new Fw;return n.update(e),new Uint8Array(n.digest())}function j1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fa([n,i],0),new Fa([s,l],0)]}class hy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new zu(`Invalid padding: ${n}`);if(i<0)throw new zu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new zu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Fa.fromNumber(this.pe)}we(e,n,i){let s=e.add(n.multiply(Fa.fromNumber(i)));return s.compare(GP)===1&&(s=new Fa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=U1(e),[i,s]=j1(n);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);if(!this.be(c))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new hy(l,s,n);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const n=U1(e),[i,s]=j1(n);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,i,s,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Cd(ze.min(),s,new Ot(Xe),Yi(),nt())}}class Ac{constructor(e,n,i,s,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ac(i,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,i,s){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=s}}class AA{constructor(e,n){this.targetId=e,this.Ce=n}}class xA{constructor(e,n,i=En.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class F1{constructor(){this.Fe=0,this.Me=z1(),this.xe=En.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=nt(),n=nt(),i=nt();return this.Me.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ue(38017,{changeType:l})}}),new Ac(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=z1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class YP{constructor(e){this.ze=e,this.je=new Map,this.He=Yi(),this.Je=rh(),this.Ye=rh(),this.Ze=new Ot(Xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,i=e.Ce.count,s=this._t(n);if(s){const l=s.target;if(Qg(l))if(i===0){const c=new Me(l.path);this.tt(n,c,Rn.newNoDocument(c,ze.min()))}else dt(i===1,20013,{expectedCount:i});else{const c=this.ut(n);if(c!==i){const d=this.ct(e),p=d?this.lt(d,e,c):1;if(p!==0){this.st(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=n;let c,d;try{c=$a(i).toUint8Array()}catch(p){if(p instanceof Zw)return ol("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new hy(c,s,l)}catch(p){return ol(p instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let s=0;return i.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(n,l,null),s++)}),s}It(e){const n=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&Qg(d.target)){const p=new Me(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,Rn.newNoDocument(p,e))}l.Le&&(n.set(c,l.qe()),l.Qe())}});let i=nt();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const m=this._t(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const s=new Cd(e,n,this.Ze,this.He,i);return this.He=Yi(),this.Je=rh(),this.Ye=rh(),this.Ze=new Ot(Xe),s}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new F1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new rn(Xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new rn(Xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new F1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function rh(){return new Ot(Me.comparator)}function z1(){return new Ot(Me.comparator)}const KP={asc:"ASCENDING",desc:"DESCENDING"},QP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XP={and:"AND",or:"OR"};class WP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wg(t,e){return t.useProto3Json||Ed(e)?e:{value:e}}function Yh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZP(t,e){return Yh(t,e.toTimestamp())}function li(t){return dt(!!t,49232),ze.fromTimestamp(function(n){const i=qa(n);return new Xt(i.seconds,i.nanos)}(t))}function dy(t,e){return Zg(t,e).canonicalString()}function Zg(t,e){const n=function(s){return new Rt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CA(t){const e=Rt.fromString(t);return dt(MA(e),10190,{key:e.toString()}),e}function Jg(t,e){return dy(t.databaseId,e.path)}function sg(t,e){const n=CA(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(OA(n))}function IA(t,e){return dy(t.databaseId,e)}function JP(t){const e=CA(t);return e.length===4?Rt.emptyPath():OA(e)}function ev(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OA(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function B1(t,e,n){return{name:Jg(t,e),fields:n.value.mapValue.fields}}function e4(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(m,v){return m.useProto3Json?(dt(v===void 0||typeof v=="string",58123),En.fromBase64String(v||"")):(dt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),En.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const v=m.code===void 0?fe.UNKNOWN:wA(m.code);return new Ce(v,m.message||"")}(c);n=new xA(i,s,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=sg(t,i.document.name),l=li(i.document.updateTime),c=i.document.createTime?li(i.document.createTime):ze.min(),d=new qn({mapValue:{fields:i.document.fields}}),p=Rn.newFoundDocument(s,l,c,d),m=i.targetIds||[],v=i.removedTargetIds||[];n=new Th(m,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=sg(t,i.document),l=i.readTime?li(i.readTime):ze.min(),c=Rn.newNoDocument(s,l),d=i.removedTargetIds||[];n=new Th([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=sg(t,i.document),l=i.removedTargetIds||[];n=new Th([],l,s,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new qP(s,l),d=i.targetId;n=new AA(d,c)}}return n}function t4(t,e){let n;if(e instanceof wc)n={update:B1(t,e.key,e.value)};else if(e instanceof cy)n={delete:Jg(t,e.key)};else if(e instanceof rs)n={update:B1(t,e.key,e.data),updateMask:c4(e.fieldMask)};else{if(!(e instanceof zP))return Ue(16599,{ft:e.type});n={verify:Jg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof $h)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof cc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof fc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Gh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Ue(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:ZP(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue(27497)}(t,e.precondition)),n}function n4(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(n=>function(s,l){let c=s.updateTime?li(s.updateTime):li(l);return c.isEqual(ze.min())&&(c=li(l)),new UP(c,s.transformResults||[])}(n,e))):[]}function r4(t,e){return{documents:[IA(t,e.path)]}}function i4(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=IA(t,s);const l=function(m){if(m.length!==0)return DA(fi.create(m,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(v=>function(A){return{field:Qo(A.field),direction:o4(A.dir)}}(v))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Wg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:s}}function a4(t){let e=JP(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){dt(i===1,65062);const v=n.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=function(b){const A=NA(b);return A instanceof fi&&lA(A)?A.getFilters():[A]}(n.where));let c=[];n.orderBy&&(c=function(b){return b.map(A=>function(k){return new qh(Xo(k.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(A))}(n.orderBy));let d=null;n.limit&&(d=function(b){let A;return A=typeof b=="object"?b.value:b,Ed(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(b){const A=!!b.before,N=b.values||[];return new Hh(N,A)}(n.startAt));let m=null;return n.endAt&&(m=function(b){const A=!b.before,N=b.values||[];return new Hh(N,A)}(n.endAt)),wP(e,s,c,l,d,"F",p,m)}function s4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Xo(n.unaryFilter.field);return nn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Xo(n.unaryFilter.field);return nn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Xo(n.unaryFilter.field);return nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Xo(n.unaryFilter.field);return nn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return nn.create(Xo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fi.create(n.compositeFilter.filters.map(i=>NA(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(n.compositeFilter.op))}(t):Ue(30097,{filter:t})}function o4(t){return KP[t]}function l4(t){return QP[t]}function u4(t){return XP[t]}function Qo(t){return{fieldPath:t.canonicalString()}}function Xo(t){return bn.fromServerFormat(t.fieldPath)}function DA(t){return t instanceof nn?function(n){if(n.op==="=="){if(I1(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NAN"}};if(C1(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I1(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NAN"}};if(C1(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(n.field),op:l4(n.op),value:n.value}}}(t):t instanceof fi?function(n){const i=n.getFilters().map(s=>DA(s));return i.length===1?i[0]:{compositeFilter:{op:u4(n.op),filters:i}}}(t):Ue(54877,{filter:t})}function c4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,i,s,l=ze.min(),c=ze.min(),d=En.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.wt=e}}function h4(t){const e=a4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.Cn=new p4}addToCollectionParentIndex(e,n){return this.Cn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(Ha.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(Ha.min())}updateCollectionGroup(e,n,i){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class p4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new rn(Rt.comparator),l=!s.has(i);return this.index[n]=s.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new rn(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PA=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(PA,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new fl(0)}static lr(){return new fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="LruGarbageCollector",m4=1048576;function $1([t,e],[n,i]){const s=Xe(t,n);return s===0?Xe(e,i):s}class g4{constructor(e){this.Er=e,this.buffer=new rn($1),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();$1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class v4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){be(q1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Tl(n)?be(q1,"Ignoring IndexedDB error during garbage collection: ",n):await El(n)}await this.mr(3e5)})}}class y4{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(bd.le);const i=new g4(n);return this.gr.forEachTarget(e,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.gr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(H1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H1):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let i,s,l,c,d,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,c=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(i=b,d=Date.now(),this.removeTargets(e,i,n))).next(b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(m=Date.now(),Yo()<=tt.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:b})))}}function _4(t,e){return new y4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.changes=new Zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ue.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Wu(i.mutation,s,ir.empty(),Xt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,nt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=nt()){const s=Ls();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(l=>{let c=Fu();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=Ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,nt()))}populateOverlays(e,n,i){const s=[];return i.forEach(l=>{n.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,i,s){let l=Yi();const c=Xu(),d=function(){return Xu()}();return n.forEach((p,m)=>{const v=i.get(m.key);s.has(m.key)&&(v===void 0||v.mutation instanceof rs)?l=l.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),Wu(v.mutation,m,v.mutation.getFieldMask(),Xt.now())):c.set(m.key,ir.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,v)=>c.set(m,v)),n.forEach((m,v)=>{var b;return d.set(m,new E4(v,(b=c.get(m))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,n){const i=Xu();let s=new Ot((c,d)=>c-d),l=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let v=i.get(p)||ir.empty();v=d.applyToLocalView(m,v),i.set(p,v);const b=(s.get(d.batchId)||nt()).add(p);s=s.insert(d.batchId,b)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,v=p.value,b=gA();v.forEach(A=>{if(!l.has(A)){const N=TA(n.get(A),i.get(A));N!==null&&b.set(A,N),l=l.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return ue.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(c){return Me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-l.size):ue.resolve(Ls());let d=sc,p=l;return c.next(m=>ue.forEach(m,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next(A=>{p=p.insert(v,A)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,nt())).next(v=>({batchId:d,changes:mA(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next(i=>{let s=Fu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const l=n.collectionGroup;let c=Fu();return this.indexManager.getCollectionParents(e,l).next(d=>ue.forEach(d,p=>{const m=function(b,A){return new Sd(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,s).next(v=>{v.forEach((b,A)=>{c=c.insert(b,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,s))).next(c=>{l.forEach((p,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,Rn.newInvalidDocument(v)))});let d=Fu();return c.forEach((p,m)=>{const v=l.get(p);v!==void 0&&Wu(v.mutation,m,ir.empty(),Xt.now()),Ad(n,m)&&(d=d.insert(p,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ue.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:li(s.createTime)}}(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:h4(s.bundledQuery),readTime:li(s.readTime)}}(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.overlays=new Ot(Me.comparator),this.Qr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ls();return ue.forEach(n,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,l)=>{this.St(e,n,l)}),ue.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),ue.resolve()}getOverlaysForCollection(e,n,i){const s=Ls(),l=n.length+1,c=new Me(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&s.set(p.getKey(),p)}return ue.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let l=new Ot((m,v)=>m-v);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let v=l.get(m.largestBatchId);v===null&&(v=Ls(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Ls(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=s)););return ue.resolve(d)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new HP(n,i));let l=this.Qr.get(n);l===void 0&&(l=nt(),this.Qr.set(n,l)),this.Qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this.$r=new rn(hn.Ur),this.Kr=new rn(hn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const i=new hn(e,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.zr(new hn(e,n))}jr(e,n){e.forEach(i=>this.removeReference(i,n))}Hr(e){const n=new Me(new Rt([])),i=new hn(n,e),s=new hn(n,e+1),l=[];return this.Kr.forEachInRange([i,s],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Me(new Rt([])),i=new hn(n,e),s=new hn(n,e+1);let l=nt();return this.Kr.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new hn(e,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class hn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Me.comparator(e.key,n.key)||Xe(e.Zr,n.Zr)}static Wr(e,n){return Xe(e.Zr,n.Zr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new rn(hn.Ur)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new BP(l,n,i,s);this.mutationQueue.push(c);for(const d of s)this.Xr=this.Xr.add(new hn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,n){return ue.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ti(i),l=s<0?0:s;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?ry:this.nr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new hn(n,0),s=new hn(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,s],c=>{const d=this.ei(c.Zr);l.push(d)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new rn(Xe);return n.forEach(s=>{const l=new hn(s,0),c=new hn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{i=i.add(d.Zr)})}),ue.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let l=i;Me.isDocumentKey(l)||(l=l.child(""));const c=new hn(new Me(l),0);let d=new rn(Xe);return this.Xr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(d=d.add(p.Zr)),!0)},c),ue.resolve(this.ni(d))}ni(e){const n=[];return e.forEach(i=>{const s=this.ei(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){dt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return ue.forEach(n.mutations,s=>{const l=new hn(s.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,n){const i=new hn(n,0),s=this.Xr.firstAfterOrEqual(i);return ue.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.ii=e,this.docs=function(){return new Ot(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),l=s?s.size:0,c=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ue.resolve(i?i.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let i=Yi();return n.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():Rn.newInvalidDocument(s))}),ue.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let l=Yi();const c=n.path,d=new Me(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||nP(tP(v),i)<=0||(s.has(v.key)||Ad(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,n,i,s){Ue(9500)}si(e,n){return ue.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new C4(this)}getSize(e){return ue.resolve(this.size)}}class C4 extends b4{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(i)}),ue.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.persistence=e,this.oi=new Zs(n=>sy(n),oy),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this._i=0,this.ai=new py,this.targetCount=0,this.ui=fl.cr()}forEachTarget(e,n){return this.oi.forEach((i,s)=>n(s)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),ue.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new fl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Tr(n),ue.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,i){let s=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),ue.waitFor(l).next(()=>s)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const i=this.oi.get(n)||null;return ue.resolve(i)}addMatchingKeys(e,n,i){return this.ai.Gr(n,i),ue.resolve()}removeMatchingKeys(e,n,i){this.ai.jr(n,i);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ai.Yr(n);return ue.resolve(i)}containsKey(e,n){return ue.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n){this.ci={},this.overlays={},this.li=new bd(0),this.hi=!1,this.hi=!0,this.Pi=new A4,this.referenceDelegate=e(this),this.Ti=new I4(this),this.indexManager=new d4,this.remoteDocumentCache=function(s){return new R4(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new f4(n),this.Ei=new S4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ci[e.toKey()];return i||(i=new x4(n,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,i){be("MemoryPersistence","Starting transaction:",e);const s=new O4(this.li.next());return this.referenceDelegate.di(),i(s).next(l=>this.referenceDelegate.Ai(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ri(e,n){return ue.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,n)))}}class O4 extends iP{constructor(e){super(),this.currentSequenceNumber=e}}class my{constructor(e){this.persistence=e,this.Vi=new py,this.mi=null}static fi(e){return new my(e)}get gi(){if(this.mi)return this.mi;throw Ue(60996)}addReference(e,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),ue.resolve()}removeReference(e,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.gi,i=>{const s=Me.fromPath(i);return this.pi(e,s).next(l=>{l||n.removeEntry(s,ze.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ue.or([()=>ue.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Kh{constructor(e,n){this.persistence=e,this.yi=new Zs(i=>oP(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=_4(this,n)}static fi(e,n){return new Kh(e,n)}di(){}Ai(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}br(e){let n=0;return this.yr(e,i=>{n++}).next(()=>n)}yr(e,n){return ue.forEach(this.yi,(i,s)=>this.Dr(e,i,s).next(l=>l?ue.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.si(e,c=>this.Dr(e,c,n).next(d=>{d||(i++,l.removeEntry(c,ze.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ue.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}Dr(e,n,i){return ue.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return ue.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ds=i,this.As=s}static Rs(e,n){let i=nt(),s=nt();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new gy(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return fO()?8:aP(In())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,i,s){const l={result:null};return this.ws(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,n,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new N4;return this.Ss(e,n,c).next(d=>{if(l.result=d,this.fs)return this.Ds(e,n,c,d.size)})}).next(()=>l.result)}Ds(e,n,i,s){return i.documentReadCount<this.gs?(Yo()<=tt.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ue.resolve()):(Yo()<=tt.DEBUG&&be("QueryEngine","Query:",Ko(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(Yo()<=tt.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(n))):ue.resolve())}ws(e,n){if(M1(n))return ue.resolve(null);let i=oi(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Xg(n,null,"F"),i=oi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=nt(...l);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.vs(n,d);return this.Cs(n,m,c,p.readTime)?this.ws(e,Xg(n,null,"F")):this.Fs(e,m,n,p)}))})))}bs(e,n,i,s){return M1(n)||s.isEqual(ze.min())?ue.resolve(null):this.ys.getDocuments(e,i).next(l=>{const c=this.vs(n,l);return this.Cs(n,c,i,s)?ue.resolve(null):(Yo()<=tt.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ko(n)),this.Fs(e,c,n,eP(s,sc)).next(d=>d))})}vs(e,n){let i=new rn(dA(e));return n.forEach((s,l)=>{Ad(e,l)&&(i=i.add(l))}),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Ss(e,n,i){return Yo()<=tt.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Ko(n)),this.ys.getDocumentsMatchingQuery(e,n,Ha.min(),i)}Fs(e,n,i,s){return this.ys.getDocumentsMatchingQuery(e,i,s).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="LocalStore",M4=3e8;class P4{constructor(e,n,i,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Ot(Xe),this.Os=new Zs(l=>sy(l),oy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function k4(t,e,n,i){return new P4(t,e,n,i)}async function VA(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,n.Ls(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=nt();for(const m of s){c.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){d.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(i,p).next(m=>({ks:m,removedBatchIds:c,addedBatchIds:d}))})})}function V4(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(d,p,m,v){const b=m.batch,A=b.keys();let N=ue.resolve();return A.forEach(k=>{N=N.next(()=>v.getEntry(p,k)).next(V=>{const O=m.docVersions.get(k);dt(O!==null,48541),V.version.compareTo(O)<0&&(b.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),v.addEntry(V)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=nt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function LA(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function L4(t,e){const n=qe(t),i=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const d=[];e.targetChanges.forEach((v,b)=>{const A=s.get(b);if(!A)return;d.push(n.Ti.removeMatchingKeys(l,v.removedDocuments,b).next(()=>n.Ti.addMatchingKeys(l,v.addedDocuments,b)));let N=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(En.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,i)),s=s.insert(b,N),function(V,O,F){return V.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=M4?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(A,N,v)&&d.push(n.Ti.updateTargetData(l,N))});let p=Yi(),m=nt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(U4(l,c,e.documentUpdates).next(v=>{p=v.qs,m=v.Qs})),!i.isEqual(ze.min())){const v=n.Ti.getLastRemoteSnapshotVersion(l).next(b=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return ue.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(n.xs=s,l))}function U4(t,e,n){let i=nt(),s=nt();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=Yi();return n.forEach((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(ze.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):be(vy,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)}),{qs:c,Qs:s}})}function j4(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=ry),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function F4(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ti.getTargetData(i,e).next(l=>l?(s=l,ue.resolve(s)):n.Ti.allocateTargetId(i).next(c=>(s=new ka(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(e,i.targetId)),i})}async function tv(t,e,n){const i=qe(t),s=i.xs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Tl(c))throw c;be(vy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(s.target)}function G1(t,e,n){const i=qe(t);let s=ze.min(),l=nt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,v){const b=qe(p),A=b.Os.get(v);return A!==void 0?ue.resolve(b.xs.get(A)):b.Ti.getTargetData(m,v)}(i,c,oi(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,n?s:ze.min(),n?l:nt())).next(d=>(z4(i,RP(e),d),{documents:d,$s:l})))}function z4(t,e,n){let i=t.Ns.get(e)||ze.min();n.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Ns.set(e,i)}class Y1{constructor(){this.activeTargetIds=MP()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B4{constructor(){this.xo=new Y1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,i){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Y1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="ConnectivityMonitor";class Q1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){be(K1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){be(K1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function nv(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="RestConnection",q4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $4{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===zh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(e,n,i,s,l){const c=nv(),d=this.jo(e,n.toUriEncodedString());be(og,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,s,l);const{host:m}=new URL(d),v=es(m);return this.Jo(e,d,p,i,v).then(b=>(be(og,`Received RPC '${e}' ${c}: `,b),b),b=>{throw ol(og,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b})}Yo(e,n,i,s,l,c){return this.zo(e,n,i,s,l)}Ho(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}jo(e,n){const i=q4[e];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class Y4 extends $4{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,l){const c=nv();return new Promise((d,p)=>{const m=new zw;m.setWithCredentials(!0),m.listenOnce(Bw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case yh.NO_ERROR:const b=m.getResponseJson();be(wn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case yh.TIMEOUT:be(wn,`RPC '${e}' ${c} timed out`),p(new Ce(fe.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const A=m.getStatus();if(be(wn,`RPC '${e}' ${c} failed with status:`,A,"response text:",m.getResponseText()),A>0){let N=m.getResponseJson();Array.isArray(N)&&(N=N[0]);const k=N==null?void 0:N.error;if(k&&k.status&&k.message){const V=function(F){const Q=F.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(Q)>=0?Q:fe.UNKNOWN}(k.status);p(new Ce(V,k.message))}else p(new Ce(fe.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new Ce(fe.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{h_:e,streamId:c,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{be(wn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(s);be(wn,`RPC '${e}' ${c} sending request:`,s),m.send(n,"POST",v,i,15)})}I_(e,n,i){const s=nv(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=$w(),d=qw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const v=l.join("");be(wn,`Creating RPC '${e}' stream ${s}: ${v}`,p);const b=c.createWebChannel(v,p);this.E_(b);let A=!1,N=!1;const k=new G4({Zo:O=>{N?be(wn,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(A||(be(wn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),A=!0),be(wn,`RPC '${e}' stream ${s} sending:`,O),b.send(O))},Xo:()=>b.close()}),V=(O,F,Q)=>{O.listen(F,q=>{try{Q(q)}catch(ie){setTimeout(()=>{throw ie},0)}})};return V(b,ju.EventType.OPEN,()=>{N||(be(wn,`RPC '${e}' stream ${s} transport opened.`),k.__())}),V(b,ju.EventType.CLOSE,()=>{N||(N=!0,be(wn,`RPC '${e}' stream ${s} transport closed`),k.u_(),this.d_(b))}),V(b,ju.EventType.ERROR,O=>{N||(N=!0,ol(wn,`RPC '${e}' stream ${s} transport errored. Name:`,O.name,"Message:",O.message),k.u_(new Ce(fe.UNAVAILABLE,"The operation could not be completed")))}),V(b,ju.EventType.MESSAGE,O=>{var F;if(!N){const Q=O.data[0];dt(!!Q,16349);const q=Q,ie=(q==null?void 0:q.error)||((F=q[0])===null||F===void 0?void 0:F.error);if(ie){be(wn,`RPC '${e}' stream ${s} received error:`,ie);const $=ie.status;let ee=function(T){const R=Yt[T];if(R!==void 0)return wA(R)}($),C=ie.message;ee===void 0&&(ee=fe.INTERNAL,C="Unknown error status: "+$+" with message "+ie.message),N=!0,k.u_(new Ce(ee,C)),b.close()}else be(wn,`RPC '${e}' stream ${s} received:`,Q),k.c_(Q)}}),V(d,Hw.STAT_EVENT,O=>{O.stat===qg.PROXY?be(wn,`RPC '${e}' stream ${s} detected buffering proxy`):O.stat===qg.NOPROXY&&be(wn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.a_()},0),k}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){return new WP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,i=1e3,s=1.5,l=6e4){this.xi=e,this.timerId=n,this.A_=i,this.R_=s,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-i);s>0&&be("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="PersistentStream";class jA{constructor(e,n,i,s,l,c,d,p){this.xi=e,this.S_=i,this.D_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new UA(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===n&&this.z_(i,s)},i=>{e(()=>{const s=new Ce(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(e,n){const i=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return be(X1,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(be(X1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K4 extends jA{constructor(e,n,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,c),this.serializer=l}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=e4(this.serializer,e),i=function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?li(c.readTime):ze.min()}(e);return this.listener.Y_(n,i)}Z_(e){const n={};n.database=ev(this.serializer),n.addTarget=function(l,c){let d;const p=c.target;if(d=Qg(p)?{documents:r4(l,p)}:{query:i4(l,p).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=RA(l,c.resumeToken);const m=Wg(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(ze.min())>0){d.readTime=Yh(l,c.snapshotVersion.toTimestamp());const m=Wg(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=s4(this.serializer,e);i&&(n.labels=i),this.Q_(n)}X_(e){const n={};n.database=ev(this.serializer),n.removeTarget=e,this.Q_(n)}}class Q4 extends jA{constructor(e,n,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=n4(e.writeResults,e.commitTime),i=li(e.commitTime);return this.listener.ra(i,n)}ia(){const e={};e.database=ev(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>t4(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{}class W4 extends X4{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Ce(fe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,Zg(n,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(fe.UNKNOWN,l.toString())})}Yo(e,n,i,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,Zg(n,i),s,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(fe.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Z4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Gi(n),this.ua=!1):be("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class J4{constructor(e,n,i,s,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{i.enqueueAndForget(async()=>{Js(this)&&(be(Hs,"Restarting streams for network reachability change."),await async function(p){const m=qe(p);m.da.add(4),await xc(m),m.Va.set("Unknown"),m.da.delete(4),await Od(m)}(this))})}),this.Va=new Z4(i,s)}}async function Od(t){if(Js(t))for(const e of t.Aa)await e(!0)}async function xc(t){for(const e of t.Aa)await e(!1)}function FA(t,e){const n=qe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Ey(n)?by(n):Sl(n).N_()&&_y(n,e))}function yy(t,e){const n=qe(t),i=Sl(n);n.Ea.delete(e),i.N_()&&zA(n,e),n.Ea.size===0&&(i.N_()?i.k_():Js(n)&&n.Va.set("Unknown"))}function _y(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sl(t).Z_(e)}function zA(t,e){t.ma.Ke(e),Sl(t).X_(e)}function by(t){t.ma=new YP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Sl(t).start(),t.Va.ca()}function Ey(t){return Js(t)&&!Sl(t).O_()&&t.Ea.size>0}function Js(t){return qe(t).da.size===0}function BA(t){t.ma=void 0}async function ek(t){t.Va.set("Online")}async function tk(t){t.Ea.forEach((e,n)=>{_y(t,e)})}async function nk(t,e){BA(t),Ey(t)?(t.Va.Pa(e),by(t)):t.Va.set("Unknown")}async function rk(t,e,n){if(t.Va.set("Online"),e instanceof xA&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ea.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ea.delete(d),s.ma.removeTarget(d))}(t,e)}catch(i){be(Hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Qh(t,i)}else if(e instanceof Th?t.ma.Xe(e):e instanceof AA?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ze.min()))try{const i=await LA(t.localStore);n.compareTo(i)>=0&&await function(l,c){const d=l.ma.It(c);return d.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ea.get(m);v&&l.Ea.set(m,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,m)=>{const v=l.Ea.get(p);if(!v)return;l.Ea.set(p,v.withResumeToken(En.EMPTY_BYTE_STRING,v.snapshotVersion)),zA(l,p);const b=new ka(v.target,p,m,v.sequenceNumber);_y(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(i){be(Hs,"Failed to raise snapshot:",i),await Qh(t,i)}}async function Qh(t,e,n){if(!Tl(e))throw e;t.da.add(1),await xc(t),t.Va.set("Offline"),n||(n=()=>LA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be(Hs,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Od(t)})}function HA(t,e){return e().catch(n=>Qh(t,n,e))}async function Nd(t){const e=qe(t),n=Ya(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:ry;for(;ik(e);)try{const s=await j4(e.localStore,i);if(s===null){e.Ia.length===0&&n.k_();break}i=s.batchId,ak(e,s)}catch(s){await Qh(e,s)}qA(e)&&$A(e)}function ik(t){return Js(t)&&t.Ia.length<10}function ak(t,e){t.Ia.push(e);const n=Ya(t);n.N_()&&n.ea&&n.ta(e.mutations)}function qA(t){return Js(t)&&!Ya(t).O_()&&t.Ia.length>0}function $A(t){Ya(t).start()}async function sk(t){Ya(t).ia()}async function ok(t){const e=Ya(t);for(const n of t.Ia)e.ta(n.mutations)}async function lk(t,e,n){const i=t.Ia.shift(),s=fy.from(i,e,n);await HA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Nd(t)}async function uk(t,e){e&&Ya(t).ea&&await async function(i,s){if(function(c){return $P(c)&&c!==fe.ABORTED}(s.code)){const l=i.Ia.shift();Ya(i).L_(),await HA(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Nd(i)}}(t,e),qA(t)&&$A(t)}async function W1(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),be(Hs,"RemoteStore received new credentials");const i=Js(n);n.da.add(3),await xc(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Od(n)}async function ck(t,e){const n=qe(t);e?(n.da.delete(2),await Od(n)):e||(n.da.add(2),await xc(n),n.Va.set("Unknown"))}function Sl(t){return t.fa||(t.fa=function(n,i,s){const l=qe(n);return l.oa(),new K4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(t.datastore,t.asyncQueue,{e_:ek.bind(null,t),n_:tk.bind(null,t),i_:nk.bind(null,t),Y_:rk.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Ey(t)?by(t):t.Va.set("Unknown")):(await t.fa.stop(),BA(t))})),t.fa}function Ya(t){return t.ga||(t.ga=function(n,i,s){const l=qe(n);return l.oa(),new Q4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:sk.bind(null,t),i_:uk.bind(null,t),na:ok.bind(null,t),ra:lk.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Nd(t)):(await t.ga.stop(),t.Ia.length>0&&(be(Hs,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,i,s,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,l){const c=Date.now()+i,d=new Ty(e,n,c,s,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sy(t,e){if(Gi("AsyncQueue",`${e}: ${t}`),Tl(t))return new Ce(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{static emptySet(e){return new rl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Me.comparator(n.key,i.key):(n,i)=>Me.comparator(n.key,i.key),this.keyedMap=Fu(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new rl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.pa=new Ot(Me.comparator)}track(e){const n=e.doc.key,i=this.pa.get(n);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(n,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(n):e.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ue(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,i)=>{e.push(i)}),e}}class hl{constructor(e,n,i,s,l,c,d,p,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,s,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new hl(e,n,rl.emptySet(n),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class hk{constructor(){this.queries=J1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=qe(n),l=s.queries;s.queries=J1(),l.forEach((c,d)=>{for(const p of d.Sa)p.onError(i)})})(this,new Ce(fe.ABORTED,"Firestore shutting down"))}}function J1(){return new Zs(t=>hA(t),wd)}async function GA(t,e){const n=qe(t);let i=3;const s=e.query;let l=n.queries.get(s);l?!l.Da()&&e.va()&&(i=2):(l=new fk,i=e.va()?0:1);try{switch(i){case 0:l.ba=await n.onListen(s,!0);break;case 1:l.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=Sy(c,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,l),l.Sa.push(e),e.Fa(n.onlineState),l.ba&&e.Ma(l.ba)&&wy(n)}async function YA(t,e){const n=qe(t),i=e.query;let s=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?s=e.va()?0:1:!l.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function dk(t,e){const n=qe(t);let i=!1;for(const s of e){const l=s.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Ma(s)&&(i=!0);c.ba=s}}i&&wy(n)}function pk(t,e,n){const i=qe(t),s=i.queries.get(e);if(s)for(const l of s.Sa)l.onError(n);i.queries.delete(e)}function wy(t){t.Ca.forEach(e=>{e.next()})}var rv,eT;(eT=rv||(rv={})).xa="default",eT.Cache="cache";class KA{constructor(e,n,i){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new hl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==rv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.key=e}}class XA{constructor(e){this.key=e}}class mk{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=nt(),this.mutatedKeys=nt(),this.Za=dA(e),this.Xa=new rl(this.Za)}get eu(){return this.Ha}tu(e,n){const i=n?n.nu:new Z1,s=n?n.Xa:this.Xa;let l=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,b)=>{const A=s.get(v),N=Ad(this.query,b)?b:null,k=!!A&&this.mutatedKeys.has(A.key),V=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let O=!1;A&&N?A.data.isEqual(N.data)?k!==V&&(i.track({type:3,doc:N}),O=!0):this.ru(A,N)||(i.track({type:2,doc:N}),O=!0,(p&&this.Za(N,p)>0||m&&this.Za(N,m)<0)&&(d=!0)):!A&&N?(i.track({type:0,doc:N}),O=!0):A&&!N&&(i.track({type:1,doc:A}),O=!0,(p||m)&&(d=!0)),O&&(N?(c=c.add(N),l=V?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Xa:c,nu:i,Cs:d,mutatedKeys:l}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((v,b)=>function(N,k){const V=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:O})}};return V(N)-V(k)}(v.type,b.type)||this.Za(v.doc,b.doc)),this.iu(i),s=s!=null&&s;const d=n&&!s?this.su():[],p=this.Ya.size===0&&this.current&&!s?1:0,m=p!==this.Ja;return this.Ja=p,c.length!==0||m?{snapshot:new hl(this.query,e.Xa,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Z1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=nt(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new XA(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new QA(i))}),n}au(e){this.Ha=e.$s,this.Ya=nt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return hl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Ay="SyncEngine";class gk{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class vk{constructor(e){this.key=e,this.cu=!1}}class yk{constructor(e,n,i,s,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Zs(d=>hA(d),wd),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ot(Me.comparator),this.Eu=new Map,this.du=new py,this.Au={},this.Ru=new Map,this.Vu=fl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function _k(t,e,n=!0){const i=nx(t);let s;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.uu()):s=await WA(i,e,n,!0),s}async function bk(t,e){const n=nx(t);await WA(n,e,!0,!1)}async function WA(t,e,n,i){const s=await F4(t.localStore,oi(e)),l=s.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await Ek(t,e,l,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&FA(t.remoteStore,s),d}async function Ek(t,e,n,i,s){t.fu=(b,A,N)=>async function(V,O,F,Q){let q=O.view.tu(F);q.Cs&&(q=await G1(V.localStore,O.query,!1).then(({documents:C})=>O.view.tu(C,q)));const ie=Q&&Q.targetChanges.get(O.targetId),$=Q&&Q.targetMismatches.get(O.targetId)!=null,ee=O.view.applyChanges(q,V.isPrimaryClient,ie,$);return nT(V,O.targetId,ee.ou),ee.snapshot}(t,b,A,N);const l=await G1(t.localStore,e,!0),c=new mk(e,l.$s),d=c.tu(l.documents),p=Ac.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),m=c.applyChanges(d,t.isPrimaryClient,p);nT(t,n,m.ou);const v=new gk(e,n,c);return t.hu.set(e,v),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),m.snapshot}async function Tk(t,e,n){const i=qe(t),s=i.hu.get(e),l=i.Pu.get(s.targetId);if(l.length>1)return i.Pu.set(s.targetId,l.filter(c=>!wd(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await tv(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&yy(i.remoteStore,s.targetId),iv(i,s.targetId)}).catch(El)):(iv(i,s.targetId),await tv(i.localStore,s.targetId,!0))}async function Sk(t,e){const n=qe(t),i=n.hu.get(e),s=n.Pu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),yy(n.remoteStore,i.targetId))}async function wk(t,e,n){const i=Nk(t);try{const s=await function(c,d){const p=qe(c),m=Xt.now(),v=d.reduce((N,k)=>N.add(k.key),nt());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let k=Yi(),V=nt();return p.Bs.getEntries(N,v).next(O=>{k=O,k.forEach((F,Q)=>{Q.isValidDocument()||(V=V.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,k)).next(O=>{b=O;const F=[];for(const Q of d){const q=FP(Q,b.get(Q.key).overlayedDocument);q!=null&&F.push(new rs(Q.key,q,aA(q.value.mapValue),Er.exists(!0)))}return p.mutationQueue.addMutationBatch(N,m,F,d)}).next(O=>{A=O;const F=O.applyToLocalDocumentSet(b,V);return p.documentOverlayCache.saveOverlays(N,O.batchId,F)})}).then(()=>({batchId:A.batchId,changes:mA(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,d,p){let m=c.Au[c.currentUser.toKey()];m||(m=new Ot(Xe)),m=m.insert(d,p),c.Au[c.currentUser.toKey()]=m}(i,s.batchId,n),await Rc(i,s.changes),await Nd(i.remoteStore)}catch(s){const l=Sy(s,"Failed to persist write");n.reject(l)}}async function ZA(t,e){const n=qe(t);try{const i=await L4(n.localStore,e);e.targetChanges.forEach((s,l)=>{const c=n.Eu.get(l);c&&(dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.cu=!0:s.modifiedDocuments.size>0?dt(c.cu,14607):s.removedDocuments.size>0&&(dt(c.cu,42227),c.cu=!1))}),await Rc(n,i,e)}catch(i){await El(i)}}function tT(t,e,n){const i=qe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.hu.forEach((l,c)=>{const d=c.view.Fa(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const p=qe(c);p.onlineState=d;let m=!1;p.queries.forEach((v,b)=>{for(const A of b.Sa)A.Fa(d)&&(m=!0)}),m&&wy(p)}(i.eventManager,e),s.length&&i.lu.Y_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Ak(t,e,n){const i=qe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Eu.get(e),l=s&&s.key;if(l){let c=new Ot(Me.comparator);c=c.insert(l,Rn.newNoDocument(l,ze.min()));const d=nt().add(l),p=new Cd(ze.min(),new Map,new Ot(Xe),c,d);await ZA(i,p),i.Iu=i.Iu.remove(l),i.Eu.delete(e),xy(i)}else await tv(i.localStore,e,!1).then(()=>iv(i,e,n)).catch(El)}async function xk(t,e){const n=qe(t),i=e.batch.batchId;try{const s=await V4(n.localStore,e);ex(n,i,null),JA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Rc(n,s)}catch(s){await El(s)}}async function Rk(t,e,n){const i=qe(t);try{const s=await function(c,d){const p=qe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return p.mutationQueue.lookupMutationBatch(m,d).next(b=>(dt(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(m,b))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>p.localDocuments.getDocuments(m,v))})}(i.localStore,e);ex(i,e,n),JA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Rc(i,s)}catch(s){await El(s)}}function JA(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function ex(t,e,n){const i=qe(t);let s=i.Au[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(n?l.reject(n):l.resolve(),s=s.remove(e)),i.Au[i.currentUser.toKey()]=s}}function iv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Pu.get(e))t.hu.delete(i),n&&t.lu.gu(i,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(i=>{t.du.containsKey(i)||tx(t,i)})}function tx(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(yy(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),xy(t))}function nT(t,e,n){for(const i of n)i instanceof QA?(t.du.addReference(i.key,e),Ck(t,i)):i instanceof XA?(be(Ay,"Document no longer in limbo: "+i.key),t.du.removeReference(i.key,e),t.du.containsKey(i.key)||tx(t,i.key)):Ue(19791,{pu:i})}function Ck(t,e){const n=e.key,i=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(i)||(be(Ay,"New document in limbo: "+n),t.Tu.add(i),xy(t))}function xy(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Me(Rt.fromString(e)),i=t.Vu.next();t.Eu.set(i,new vk(n)),t.Iu=t.Iu.insert(n,i),FA(t.remoteStore,new ka(oi(ly(n.path)),i,"TargetPurposeLimboResolution",bd.le))}}async function Rc(t,e,n){const i=qe(t),s=[],l=[],c=[];i.hu.isEmpty()||(i.hu.forEach((d,p)=>{c.push(i.fu(p,e,n).then(m=>{var v;if((m||n)&&i.isPrimaryClient){const b=m?!m.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(m){s.push(m);const b=gy.Rs(p.targetId,m);l.push(b)}}))}),await Promise.all(c),i.lu.Y_(s),await async function(p,m){const v=qe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ue.forEach(m,A=>ue.forEach(A.ds,N=>v.persistence.referenceDelegate.addReference(b,A.targetId,N)).next(()=>ue.forEach(A.As,N=>v.persistence.referenceDelegate.removeReference(b,A.targetId,N)))))}catch(b){if(!Tl(b))throw b;be(vy,"Failed to update sequence numbers: "+b)}for(const b of m){const A=b.targetId;if(!b.fromCache){const N=v.xs.get(A),k=N.snapshotVersion,V=N.withLastLimboFreeSnapshotVersion(k);v.xs=v.xs.insert(A,V)}}}(i.localStore,l))}async function Ik(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){be(Ay,"User change. New user:",e.toKey());const i=await VA(n.localStore,e);n.currentUser=e,function(l,c){l.Ru.forEach(d=>{d.forEach(p=>{p.reject(new Ce(fe.CANCELLED,c))})}),l.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Rc(n,i.ks)}}function Ok(t,e){const n=qe(t),i=n.Eu.get(e);if(i&&i.cu)return nt().add(i.key);{let s=nt();const l=n.Pu.get(e);if(!l)return s;for(const c of l){const d=n.hu.get(c);s=s.unionWith(d.view.eu)}return s}}function nx(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ok.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ak.bind(null,e),e.lu.Y_=dk.bind(null,e.eventManager),e.lu.gu=pk.bind(null,e.eventManager),e}function Nk(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rk.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Id(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return k4(this.persistence,new D4,e.initialUser,this.serializer)}Su(e){return new kA(my.fi,this.serializer)}bu(e){return new B4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class Dk extends Xh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){dt(this.persistence.referenceDelegate instanceof Kh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new v4(i,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new kA(i=>Kh.fi(i,n),this.serializer)}}class av{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ik.bind(null,this.syncEngine),await ck(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hk}()}createDatastore(e){const n=Id(e.databaseInfo.databaseId),i=function(l){return new Y4(l)}(e.databaseInfo);return function(l,c,d,p){return new W4(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,l,c,d){return new J4(i,s,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>tT(this.syncEngine,n,0),function(){return Q1.C()?new Q1:new H4}())}createSyncEngine(e,n){return function(s,l,c,d,p,m,v){const b=new yk(s,l,c,d,p,m);return v&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const l=qe(s);be(Hs,"RemoteStore shutting down."),l.da.add(5),await xc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}av.provider={build:()=>new av};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="FirestoreClient";class Mk{constructor(e,n,i,s,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=xn.UNAUTHENTICATED,this.clientId=Qw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{be(Ka,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(be(Ka,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Sy(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ug(t,e){t.asyncQueue.verifyOperationInProgress(),be(Ka,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await VA(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Pk(t);be(Ka,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>W1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>W1(e.remoteStore,s)),t._onlineComponents=e}async function Pk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(Ka,"Using user provided OfflineComponentProvider");try{await ug(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===fe.FAILED_PRECONDITION||s.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ol("Error using user provided cache. Falling back to memory cache: "+n),await ug(t,new Xh)}}else be(Ka,"Using default OfflineComponentProvider"),await ug(t,new Dk(void 0));return t._offlineComponents}async function ix(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(Ka,"Using user provided OnlineComponentProvider"),await rT(t,t._uninitializedComponentsProvider._online)):(be(Ka,"Using default OnlineComponentProvider"),await rT(t,new av))),t._onlineComponents}function kk(t){return ix(t).then(e=>e.syncEngine)}async function ax(t){const e=await ix(t),n=e.eventManager;return n.onListen=_k.bind(null,e.syncEngine),n.onUnlisten=Tk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Sk.bind(null,e.syncEngine),n}function Vk(t,e,n={}){const i=new zi;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const v=new rx({next:A=>{v.xu(),c.enqueueAndForget(()=>YA(l,b));const N=A.docs.has(d);!N&&A.fromCache?m.reject(new Ce(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&A.fromCache&&p&&p.source==="server"?m.reject(new Ce(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),b=new KA(ly(d.path),v,{includeMetadataChanges:!0,Qa:!0});return GA(l,b)}(await ax(t),t.asyncQueue,e,n,i)),i.promise}function Lk(t,e,n={}){const i=new zi;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const v=new rx({next:A=>{v.xu(),c.enqueueAndForget(()=>YA(l,b)),A.fromCache&&p.source==="server"?m.reject(new Ce(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),b=new KA(d,v,{includeMetadataChanges:!0,Qa:!0});return GA(l,b)}(await ax(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e,n){if(!n)throw new Ce(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Uk(t,e,n,i){if(e===!0&&i===!0)throw new Ce(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aT(t){if(!Me.isDocumentKey(t))throw new Ce(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sT(t){if(Me.isDocumentKey(t))throw new Ce(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ry(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function Nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ry(t);throw new Ce(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="firestore.googleapis.com",oT=!0;class lT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lx,this.ssl=oT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:oT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m4)throw new Ce(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Uk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sx((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ce(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ce(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ce(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new $M;switch(i.type){case"firstParty":return new QM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=iT.get(n);i&&(be("ComponentProvider","Removing Datastore"),iT.delete(n),i.terminate())}(this),Promise.resolve()}}function jk(t,e,n,i={}){var s;t=Nr(t,Dd);const l=es(e),c=t._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),p=`${e}:${n}`;l&&(Fv(`https://${p}`),zv("Firestore",!0)),c.host!==lx&&c.host!==p&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:i});if(!Fs(m,d)&&(t._setSettings(m),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=xn.MOCK_USER;else{v=tw(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new Ce(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new xn(A)}t._authCredentials=new GM(new Yw(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Md(this.firestore,e,this._query)}}class $n{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class za extends Md{constructor(e,n,i){super(e,n,ly(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Me(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function Cn(t,e,...n){if(t=zt(t),ox("collection","path",e),t instanceof Dd){const i=Rt.fromString(e,...n);return sT(i),new za(t,null,i)}{if(!(t instanceof $n||t instanceof za))throw new Ce(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Rt.fromString(e,...n));return sT(i),new za(t.firestore,null,i)}}function Qa(t,e,...n){if(t=zt(t),arguments.length===1&&(e=Qw.newId()),ox("doc","path",e),t instanceof Dd){const i=Rt.fromString(e,...n);return aT(i),new $n(t,null,new Me(i))}{if(!(t instanceof $n||t instanceof za))throw new Ce(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Rt.fromString(e,...n));return aT(i),new $n(t.firestore,t instanceof za?t.converter:null,new Me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="AsyncQueue";class cT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new UA(this,"async_queue_retry"),this.rc=()=>{const i=lg();i&&be(uT,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const n=lg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new zi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Tl(e))throw e;be(uT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Gi("INTERNAL UNHANDLED ERROR: ",fT(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(e,n,i){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=Ty.createAndSchedule(this,e,n,i,l=>this.uc(l));return this.Zu.push(s),s}oc(){this.Xu&&Ue(47125,{cc:fT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function fT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class eo extends Dd{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new cT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cT(e),this._firestoreClient=void 0,await e}}}function Dr(t,e){const n=typeof t=="object"?t:qv(),i=typeof t=="string"?t:zh,s=md(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=ZS("firestore");l&&jk(s,...l)}return s}function Cy(t){if(t._terminated)throw new Ce(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Fk(t),t._firestoreClient}function Fk(t){var e,n,i;const s=t._freezeSettings(),l=function(d,p,m,v){return new cP(d,p,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,sx(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Mk(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(En.fromBase64String(e))}catch(n){throw new Ce(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dl(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=/^__.*__$/;class Bk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new wc(e,this.data,n,this.fieldTransforms)}}class ux{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ic:t})}}class Dy{constructor(e,n,i,s,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Dy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:i,Rc:!1});return s.Vc(e),s}mc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Wh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(cx(this.Ic)&&zk.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Hk{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Id(e)}bc(e,n,i,s=!1){return new Dy({Ic:e,methodName:n,wc:i,path:bn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function My(t){const e=t._freezeSettings(),n=Id(t._databaseId);return new Hk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fx(t,e,n,i,s,l={}){const c=t.bc(l.merge||l.mergeFields?2:0,e,n,s);Py("Data must be an object, but it was:",c,i);const d=hx(i,c);let p,m;if(l.merge)p=new ir(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const A=sv(e,b,n);if(!c.contains(A))throw new Ce(fe.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);px(v,A)||v.push(A)}p=new ir(v),m=c.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,m=c.fieldTransforms;return new Bk(new qn(d),p,m)}class kd extends Iy{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kd}}function qk(t,e,n,i){const s=t.bc(1,e,n);Py("Data must be an object, but it was:",s,i);const l=[],c=qn.empty();ns(i,(p,m)=>{const v=ky(e,p,n);m=zt(m);const b=s.mc(v);if(m instanceof kd)l.push(v);else{const A=Vd(m,b);A!=null&&(l.push(v),c.set(v,A))}});const d=new ir(l);return new ux(c,d,s.fieldTransforms)}function $k(t,e,n,i,s,l){const c=t.bc(1,e,n),d=[sv(e,i,n)],p=[s];if(l.length%2!=0)throw new Ce(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)d.push(sv(e,l[A])),p.push(l[A+1]);const m=[],v=qn.empty();for(let A=d.length-1;A>=0;--A)if(!px(m,d[A])){const N=d[A];let k=p[A];k=zt(k);const V=c.mc(N);if(k instanceof kd)m.push(N);else{const O=Vd(k,V);O!=null&&(m.push(N),v.set(N,O))}}const b=new ir(m);return new ux(v,b,c.fieldTransforms)}function Vd(t,e){if(dx(t=zt(t)))return Py("Unsupported field value:",e,t),hx(t,e);if(t instanceof Iy)return function(i,s){if(!cx(s.Ic))throw s.gc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const d of i){let p=Vd(d,s.fc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,s){if((i=zt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return PP(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Xt.fromDate(i);return{timestampValue:Yh(s.serializer,l)}}if(i instanceof Xt){const l=new Xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yh(s.serializer,l)}}if(i instanceof Oy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof dl)return{bytesValue:RA(s.serializer,i._byteString)};if(i instanceof $n){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:dy(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Ny)return function(c,d){return{mapValue:{fields:{[rA]:{stringValue:iA},[Bh]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.gc("VectorValues must only contain numeric values.");return uy(d.serializer,m)})}}}}}}(i,s);throw s.gc(`Unsupported field value: ${Ry(i)}`)}(t,e)}function hx(t,e){const n={};return Ww(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(t,(i,s)=>{const l=Vd(s,e.Ac(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function dx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof Oy||t instanceof dl||t instanceof $n||t instanceof Iy||t instanceof Ny)}function Py(t,e,n){if(!dx(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Ry(n);throw i==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+i)}}function sv(t,e,n){if((e=zt(e))instanceof Pd)return e._internalPath;if(typeof e=="string")return ky(t,e);throw Wh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Gk=new RegExp("[~\\*/\\[\\]]");function ky(t,e,n){if(e.search(Gk)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pd(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wh(t,e,n,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${s}`),p+=")"),new Ce(fe.INVALID_ARGUMENT,d+t+p)}function px(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,i,s,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Yk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Yk extends mx{data(){return super.data()}}function gx(t,e){return typeof e=="string"?ky(t,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qk{convertValue(e,n="none"){switch(Ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ns(e,(s,l)=>{i[s]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,s;const l=(s=(i=(n=e.fields)===null||n===void 0?void 0:n[Bh].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>Ft(c.doubleValue));return new Ny(l)}convertGeoPoint(e){return new Oy(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Td(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(oc(e));default:return null}}convertTimestamp(e){const n=qa(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Rt.fromString(e);dt(MA(i),9688,{name:e});const s=new lc(i.get(1),i.get(3)),l=new Me(i.popFirst(5));return s.isEqual(n)||Gi(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yx extends mx{constructor(e,n,i,s,l,c){super(e,n,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(gx("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Sh extends yx{data(e={}){return super.data(e)}}class Xk{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Bu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Sh(this._firestore,this._userDataWriter,i.key,i,new Bu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const p=new Sh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Bu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Sh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Bu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,v=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:Wk(d.type),doc:p,oldIndex:m,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Wk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t){t=Nr(t,$n);const e=Nr(t.firestore,eo);return Vk(Cy(e),t._key).then(n=>Jk(e,t,n))}class _x extends Qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function ti(t){t=Nr(t,Md);const e=Nr(t.firestore,eo),n=Cy(e),i=new _x(e);return Kk(t._query),Lk(n,t._query).then(s=>new Xk(e,i,t,s))}function hT(t,e,n){t=Nr(t,$n);const i=Nr(t.firestore,eo),s=vx(t.converter,e);return Ld(i,[fx(My(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Er.none())])}function bx(t,e,n,...i){t=Nr(t,$n);const s=Nr(t.firestore,eo),l=My(s);let c;return c=typeof(e=zt(e))=="string"||e instanceof Pd?$k(l,"updateDoc",t._key,e,n,i):qk(l,"updateDoc",t._key,e),Ld(s,[c.toMutation(t._key,Er.exists(!0))])}function Zk(t){return Ld(Nr(t.firestore,eo),[new cy(t._key,Er.none())])}function pl(t,e){const n=Nr(t.firestore,eo),i=Qa(t),s=vx(t.converter,e);return Ld(n,[fx(My(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,Er.exists(!1))]).then(()=>i)}function Ld(t,e){return function(i,s){const l=new zi;return i.asyncQueue.enqueueAndForget(async()=>wk(await kk(i),s,l)),l.promise}(Cy(t),e)}function Jk(t,e,n){const i=n.docs.get(e._key),s=new _x(t);return new yx(t,s,e._key,i,new Bu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){bl=s})(Qs),zs(new Ba("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new eo(new YM(i.getProvider("auth-internal")),new XM(c,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ce(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(m.options.projectId,v)}(c,s),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ai(g1,v1,e),ai(g1,v1,"esm2017")})();const eV="/assets/img1-DVwx2mag.svg",tV="/assets/img2-g_SNuGLK.svg",dT=Dr(Yn),pT=Sc(Yn),nV=()=>{const t=yc(),[e,n]=z.useState(""),[i,s]=z.useState(""),[l,c]=z.useState(null),d=async()=>{const m=new Yu("microsoft.com");m.setCustomParameters({prompt:"select_account"});try{const b=(await XD(pT,m)).user,A=Qa(dT,"users",b.uid);(await Zh(A)).exists()||await hT(A,{id:b.uid,email:b.email,role:null}),t("/home")}catch(v){console.error("Error en login con Microsoft:",v.message),c("Error al iniciar sesin con Microsoft.")}},p=async m=>{m.preventDefault();try{const b=(await RD(pT,e,i)).user;console.log("Usuario autenticado:",b);const A=Qa(dT,"users",b.uid);(await Zh(A)).exists()||await hT(A,{id:b.uid,email:b.email,role:null}),t("/home")}catch(v){console.error("Error en login:",v),v instanceof Error?c(v.message):c("Error desconocido.")}};return w.jsxs("div",{className:"w-full min-h-screen bg-gray-50 flex flex-col sm:justify-center items-center pt-6 sm:pt-0 relative",children:[w.jsxs("div",{className:"w-full sm:max-w-md p-5 mx-auto",children:[w.jsx("h2",{className:"mb-12 text-center text-5xl font-extrabold",children:"F1315"}),w.jsxs("form",{onSubmit:p,children:[w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block mb-1",htmlFor:"email",children:"Usuario"}),w.jsx("input",{id:"email",type:"email",name:"email",value:e,onChange:m=>n(m.target.value),className:"py-2 px-3 border border-gray-300 rounded-md shadow-sm w-full",required:!0})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block mb-1",htmlFor:"password",children:"Contrasea"}),w.jsx("input",{id:"password",type:"password",name:"password",value:i,onChange:m=>s(m.target.value),className:"py-2 px-3 border border-gray-300 rounded-md shadow-sm w-full",required:!0})]}),l&&w.jsx("div",{className:"text-red-600 text-sm mb-3",children:l}),w.jsx("div",{className:"mt-6",children:w.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-950 text-white rounded-md hover:bg-blue-800",children:"Sign In"})})]}),w.jsx("div",{className:"flex justify-center flex-col items-center mt-4",children:w.jsxs("button",{onClick:d,className:"m-3 flex flex-col items-center justify-center cursor-pointer  p-2 rounded-2xl hover:bg-red-100",children:[w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"3vh",height:"auto",viewBox:"0 0 48 48",children:[w.jsx("path",{fill:"#ff5722",d:"M6 6H22V22H6z"}),w.jsx("path",{fill:"#4caf50",d:"M26 6H42V22H26z"}),w.jsx("path",{fill:"#ffc107",d:"M26 26H42V42H26z"}),w.jsx("path",{fill:"#03a9f4",d:"M6 26H22V42H6z"})]}),"Iniciar con Microsoft"]})})]}),w.jsxs("div",{className:"imgBanner",children:[w.jsx("div",{children:w.jsx("img",{className:"img1",src:eV,alt:"img1"})}),w.jsx("div",{children:w.jsx("img",{className:"img2",src:tV,alt:"img2"})})]})]})};function rV(){return w.jsx(w.Fragment,{children:w.jsx("div",{className:"bg-amber-100",children:w.jsx(nV,{})})})}function mT(){return w.jsx(w.Fragment,{children:w.jsx("div",{className:"transition-transform duration-300 ease-in-out",children:w.jsxs("div",{className:"p-8 bg-gray-100 min-h-screen flex flex-col items-center justify-start",children:[w.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Bienvenido!"}),w.jsx("p",{className:"text-lg mb-8 text-center max-w-2xl",children:"Aqu puedes gestionar y visualizar los registros de hormetros y eficiencias de tus mquinas. Usa los enlaces abajo para navegar rpidamente por las funciones principales."}),w.jsx("div",{className:"mt-6 text-center italic text-gray-700 max-w-2xl",children:'"El xito es la suma de pequeos esfuerzos repetidos da tras da."'})]})})})}const Vy=z.createContext(void 0),iV=({children:t})=>{const e=Sc(),[n,i]=z.useState(null);z.useEffect(()=>{const d=Cw(e,p=>{i(p)});return()=>d()},[]);const[s,l]=z.useState(!1),c=()=>{l(d=>!d)};return w.jsx(Vy.Provider,{value:{user:n,openMenu:s,toogleMenu:c},children:t})};function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function aV(t,e){if(qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(qs(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ex(t){var e=aV(t,"string");return qs(e)=="symbol"?e:e+""}function Hu(t,e,n){return(e=Ex(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(n),!0).forEach(function(i){Hu(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function sV(t){if(Array.isArray(t))return t}function oV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,s,l,c,d=[],p=!0,m=!1;try{if(l=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;p=!1}else for(;!(p=(i=l.call(n)).done)&&(d.push(i.value),d.length!==e);p=!0);}catch(v){m=!0,s=v}finally{try{if(!p&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw s}}return d}}function ov(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function Tx(t,e){if(t){if(typeof t=="string")return ov(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ov(t,e):void 0}}function lV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bi(t,e){return sV(t)||oV(t,e)||Tx(t,e)||lV()}function uV(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Wi(t,e){if(t==null)return{};var n,i,s=uV(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)n=l[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var cV=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function fV(t){var e=t.defaultInputValue,n=e===void 0?"":e,i=t.defaultMenuIsOpen,s=i===void 0?!1:i,l=t.defaultValue,c=l===void 0?null:l,d=t.inputValue,p=t.menuIsOpen,m=t.onChange,v=t.onInputChange,b=t.onMenuClose,A=t.onMenuOpen,N=t.value,k=Wi(t,cV),V=z.useState(d!==void 0?d:n),O=Bi(V,2),F=O[0],Q=O[1],q=z.useState(p!==void 0?p:s),ie=Bi(q,2),$=ie[0],ee=ie[1],C=z.useState(N!==void 0?N:c),_=Bi(C,2),T=_[0],R=_[1],P=z.useCallback(function(ce,he){typeof m=="function"&&m(ce,he),R(ce)},[m]),M=z.useCallback(function(ce,he){var L;typeof v=="function"&&(L=v(ce,he)),Q(L!==void 0?L:ce)},[v]),D=z.useCallback(function(){typeof A=="function"&&A(),ee(!0)},[A]),_e=z.useCallback(function(){typeof b=="function"&&b(),ee(!1)},[b]),Se=d!==void 0?d:F,B=p!==void 0?p:$,ne=N!==void 0?N:T;return De(De({},k),{},{inputValue:Se,menuIsOpen:B,onChange:P,onInputChange:M,onMenuClose:_e,onMenuOpen:D,value:ne})}function Le(){return Le=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Le.apply(null,arguments)}function hV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vT(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Ex(i.key),i)}}function dV(t,e,n){return e&&vT(t.prototype,e),n&&vT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lv(t,e){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lv(t,e)}function pV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lv(t,e)}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jh(t)}function Sx(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sx=function(){return!!t})()}function mV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gV(t,e){if(e&&(qs(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mV(t)}function vV(t){var e=Sx();return function(){var n,i=Jh(t);if(e){var s=Jh(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return gV(this,n)}}function yV(t){if(Array.isArray(t))return ov(t)}function _V(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ly(t){return yV(t)||_V(t)||Tx(t)||bV()}function EV(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function TV(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var SV=function(){function t(n){var i=this;this._insertTag=function(s){var l;i.tags.length===0?i.insertionPoint?l=i.insertionPoint.nextSibling:i.prepend?l=i.container.firstChild:l=i.before:l=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,l),i.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(TV(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var l=EV(s);try{l.insertRule(i,l.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var s;return(s=i.parentNode)==null?void 0:s.removeChild(i)}),this.tags=[],this.ctr=0},t}(),An="-ms-",ed="-moz-",ut="-webkit-",wx="comm",Uy="rule",jy="decl",wV="@import",Ax="@keyframes",AV="@layer",xV=Math.abs,Ud=String.fromCharCode,RV=Object.assign;function CV(t,e){return _n(t,0)^45?(((e<<2^_n(t,0))<<2^_n(t,1))<<2^_n(t,2))<<2^_n(t,3):0}function xx(t){return t.trim()}function IV(t,e){return(t=e.exec(t))?t[0]:t}function ct(t,e,n){return t.replace(e,n)}function uv(t,e){return t.indexOf(e)}function _n(t,e){return t.charCodeAt(e)|0}function hc(t,e,n){return t.slice(e,n)}function Zr(t){return t.length}function Fy(t){return t.length}function ah(t,e){return e.push(t),t}function OV(t,e){return t.map(e).join("")}var jd=1,ml=1,Rx=0,Gn=0,Kt=0,wl="";function Fd(t,e,n,i,s,l,c){return{value:t,root:e,parent:n,type:i,props:s,children:l,line:jd,column:ml,length:c,return:""}}function Mu(t,e){return RV(Fd("",null,null,"",null,null,0),t,{length:-t.length},e)}function NV(){return Kt}function DV(){return Kt=Gn>0?_n(wl,--Gn):0,ml--,Kt===10&&(ml=1,jd--),Kt}function sr(){return Kt=Gn<Rx?_n(wl,Gn++):0,ml++,Kt===10&&(ml=1,jd++),Kt}function ui(){return _n(wl,Gn)}function wh(){return Gn}function Cc(t,e){return hc(wl,t,e)}function dc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Cx(t){return jd=ml=1,Rx=Zr(wl=t),Gn=0,[]}function Ix(t){return wl="",t}function Ah(t){return xx(Cc(Gn-1,cv(t===91?t+2:t===40?t+1:t)))}function MV(t){for(;(Kt=ui())&&Kt<33;)sr();return dc(t)>2||dc(Kt)>3?"":" "}function PV(t,e){for(;--e&&sr()&&!(Kt<48||Kt>102||Kt>57&&Kt<65||Kt>70&&Kt<97););return Cc(t,wh()+(e<6&&ui()==32&&sr()==32))}function cv(t){for(;sr();)switch(Kt){case t:return Gn;case 34:case 39:t!==34&&t!==39&&cv(Kt);break;case 40:t===41&&cv(t);break;case 92:sr();break}return Gn}function kV(t,e){for(;sr()&&t+Kt!==57;)if(t+Kt===84&&ui()===47)break;return"/*"+Cc(e,Gn-1)+"*"+Ud(t===47?t:sr())}function VV(t){for(;!dc(ui());)sr();return Cc(t,Gn)}function LV(t){return Ix(xh("",null,null,null,[""],t=Cx(t),0,[0],t))}function xh(t,e,n,i,s,l,c,d,p){for(var m=0,v=0,b=c,A=0,N=0,k=0,V=1,O=1,F=1,Q=0,q="",ie=s,$=l,ee=i,C=q;O;)switch(k=Q,Q=sr()){case 40:if(k!=108&&_n(C,b-1)==58){uv(C+=ct(Ah(Q),"&","&\f"),"&\f")!=-1&&(F=-1);break}case 34:case 39:case 91:C+=Ah(Q);break;case 9:case 10:case 13:case 32:C+=MV(k);break;case 92:C+=PV(wh()-1,7);continue;case 47:switch(ui()){case 42:case 47:ah(UV(kV(sr(),wh()),e,n),p);break;default:C+="/"}break;case 123*V:d[m++]=Zr(C)*F;case 125*V:case 59:case 0:switch(Q){case 0:case 125:O=0;case 59+v:F==-1&&(C=ct(C,/\f/g,"")),N>0&&Zr(C)-b&&ah(N>32?_T(C+";",i,n,b-1):_T(ct(C," ","")+";",i,n,b-2),p);break;case 59:C+=";";default:if(ah(ee=yT(C,e,n,m,v,s,d,q,ie=[],$=[],b),l),Q===123)if(v===0)xh(C,e,ee,ee,ie,l,b,d,$);else switch(A===99&&_n(C,3)===110?100:A){case 100:case 108:case 109:case 115:xh(t,ee,ee,i&&ah(yT(t,ee,ee,0,0,s,d,q,s,ie=[],b),$),s,$,b,d,i?ie:$);break;default:xh(C,ee,ee,ee,[""],$,0,d,$)}}m=v=N=0,V=F=1,q=C="",b=c;break;case 58:b=1+Zr(C),N=k;default:if(V<1){if(Q==123)--V;else if(Q==125&&V++==0&&DV()==125)continue}switch(C+=Ud(Q),Q*V){case 38:F=v>0?1:(C+="\f",-1);break;case 44:d[m++]=(Zr(C)-1)*F,F=1;break;case 64:ui()===45&&(C+=Ah(sr())),A=ui(),v=b=Zr(q=C+=VV(wh())),Q++;break;case 45:k===45&&Zr(C)==2&&(V=0)}}return l}function yT(t,e,n,i,s,l,c,d,p,m,v){for(var b=s-1,A=s===0?l:[""],N=Fy(A),k=0,V=0,O=0;k<i;++k)for(var F=0,Q=hc(t,b+1,b=xV(V=c[k])),q=t;F<N;++F)(q=xx(V>0?A[F]+" "+Q:ct(Q,/&\f/g,A[F])))&&(p[O++]=q);return Fd(t,e,n,s===0?Uy:d,p,m,v)}function UV(t,e,n){return Fd(t,e,n,wx,Ud(NV()),hc(t,2,-2),0)}function _T(t,e,n,i){return Fd(t,e,n,jy,hc(t,0,i),hc(t,i+1,-1),i)}function il(t,e){for(var n="",i=Fy(t),s=0;s<i;s++)n+=e(t[s],s,t,e)||"";return n}function jV(t,e,n,i){switch(t.type){case AV:if(t.children.length)break;case wV:case jy:return t.return=t.return||t.value;case wx:return"";case Ax:return t.return=t.value+"{"+il(t.children,i)+"}";case Uy:t.value=t.props.join(",")}return Zr(n=il(t.children,i))?t.return=t.value+"{"+n+"}":""}function FV(t){var e=Fy(t);return function(n,i,s,l){for(var c="",d=0;d<e;d++)c+=t[d](n,i,s,l)||"";return c}}function zV(t){return function(e){e.root||(e=e.return)&&t(e)}}function BV(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var HV=function(e,n,i){for(var s=0,l=0;s=l,l=ui(),s===38&&l===12&&(n[i]=1),!dc(l);)sr();return Cc(e,Gn)},qV=function(e,n){var i=-1,s=44;do switch(dc(s)){case 0:s===38&&ui()===12&&(n[i]=1),e[i]+=HV(Gn-1,n,i);break;case 2:e[i]+=Ah(s);break;case 4:if(s===44){e[++i]=ui()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=Ud(s)}while(s=sr());return e},$V=function(e,n){return Ix(qV(Cx(e),n))},bT=new WeakMap,GV=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,i=e.parent,s=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!bT.get(i))&&!s){bT.set(e,!0);for(var l=[],c=$V(n,l),d=i.props,p=0,m=0;p<c.length;p++)for(var v=0;v<d.length;v++,m++)e.props[m]=l[p]?c[p].replace(/&\f/g,d[v]):d[v]+" "+c[p]}}},YV=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Ox(t,e){switch(CV(t,e)){case 5103:return ut+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ut+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ut+t+ed+t+An+t+t;case 6828:case 4268:return ut+t+An+t+t;case 6165:return ut+t+An+"flex-"+t+t;case 5187:return ut+t+ct(t,/(\w+).+(:[^]+)/,ut+"box-$1$2"+An+"flex-$1$2")+t;case 5443:return ut+t+An+"flex-item-"+ct(t,/flex-|-self/,"")+t;case 4675:return ut+t+An+"flex-line-pack"+ct(t,/align-content|flex-|-self/,"")+t;case 5548:return ut+t+An+ct(t,"shrink","negative")+t;case 5292:return ut+t+An+ct(t,"basis","preferred-size")+t;case 6060:return ut+"box-"+ct(t,"-grow","")+ut+t+An+ct(t,"grow","positive")+t;case 4554:return ut+ct(t,/([^-])(transform)/g,"$1"+ut+"$2")+t;case 6187:return ct(ct(ct(t,/(zoom-|grab)/,ut+"$1"),/(image-set)/,ut+"$1"),t,"")+t;case 5495:case 3959:return ct(t,/(image-set\([^]*)/,ut+"$1$`$1");case 4968:return ct(ct(t,/(.+:)(flex-)?(.*)/,ut+"box-pack:$3"+An+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ut+t+t;case 4095:case 3583:case 4068:case 2532:return ct(t,/(.+)-inline(.+)/,ut+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Zr(t)-1-e>6)switch(_n(t,e+1)){case 109:if(_n(t,e+4)!==45)break;case 102:return ct(t,/(.+:)(.+)-([^]+)/,"$1"+ut+"$2-$3$1"+ed+(_n(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~uv(t,"stretch")?Ox(ct(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(_n(t,e+1)!==115)break;case 6444:switch(_n(t,Zr(t)-3-(~uv(t,"!important")&&10))){case 107:return ct(t,":",":"+ut)+t;case 101:return ct(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ut+(_n(t,14)===45?"inline-":"")+"box$3$1"+ut+"$2$3$1"+An+"$2box$3")+t}break;case 5936:switch(_n(t,e+11)){case 114:return ut+t+An+ct(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ut+t+An+ct(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ut+t+An+ct(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ut+t+An+t+t}return t}var KV=function(e,n,i,s){if(e.length>-1&&!e.return)switch(e.type){case jy:e.return=Ox(e.value,e.length);break;case Ax:return il([Mu(e,{value:ct(e.value,"@","@"+ut)})],s);case Uy:if(e.length)return OV(e.props,function(l){switch(IV(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return il([Mu(e,{props:[ct(l,/:(read-\w+)/,":"+ed+"$1")]})],s);case"::placeholder":return il([Mu(e,{props:[ct(l,/:(plac\w+)/,":"+ut+"input-$1")]}),Mu(e,{props:[ct(l,/:(plac\w+)/,":"+ed+"$1")]}),Mu(e,{props:[ct(l,/:(plac\w+)/,An+"input-$1")]})],s)}return""})}},QV=[KV],XV=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(V){var O=V.getAttribute("data-emotion");O.indexOf(" ")!==-1&&(document.head.appendChild(V),V.setAttribute("data-s",""))})}var s=e.stylisPlugins||QV,l={},c,d=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(V){for(var O=V.getAttribute("data-emotion").split(" "),F=1;F<O.length;F++)l[O[F]]=!0;d.push(V)});var p,m=[GV,YV];{var v,b=[jV,zV(function(V){v.insert(V)})],A=FV(m.concat(s,b)),N=function(O){return il(LV(O),A)};p=function(O,F,Q,q){v=Q,N(O?O+"{"+F.styles+"}":F.styles),q&&(k.inserted[F.name]=!0)}}var k={key:n,sheet:new SV({key:n,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:p};return k.sheet.hydrate(d),k},cg={exports:{}},ht={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function WV(){if(ET)return ht;ET=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,l=t?Symbol.for("react.profiler"):60114,c=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,p=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,v=t?Symbol.for("react.forward_ref"):60112,b=t?Symbol.for("react.suspense"):60113,A=t?Symbol.for("react.suspense_list"):60120,N=t?Symbol.for("react.memo"):60115,k=t?Symbol.for("react.lazy"):60116,V=t?Symbol.for("react.block"):60121,O=t?Symbol.for("react.fundamental"):60117,F=t?Symbol.for("react.responder"):60118,Q=t?Symbol.for("react.scope"):60119;function q($){if(typeof $=="object"&&$!==null){var ee=$.$$typeof;switch(ee){case e:switch($=$.type,$){case p:case m:case i:case l:case s:case b:return $;default:switch($=$&&$.$$typeof,$){case d:case v:case k:case N:case c:return $;default:return ee}}case n:return ee}}}function ie($){return q($)===m}return ht.AsyncMode=p,ht.ConcurrentMode=m,ht.ContextConsumer=d,ht.ContextProvider=c,ht.Element=e,ht.ForwardRef=v,ht.Fragment=i,ht.Lazy=k,ht.Memo=N,ht.Portal=n,ht.Profiler=l,ht.StrictMode=s,ht.Suspense=b,ht.isAsyncMode=function($){return ie($)||q($)===p},ht.isConcurrentMode=ie,ht.isContextConsumer=function($){return q($)===d},ht.isContextProvider=function($){return q($)===c},ht.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===e},ht.isForwardRef=function($){return q($)===v},ht.isFragment=function($){return q($)===i},ht.isLazy=function($){return q($)===k},ht.isMemo=function($){return q($)===N},ht.isPortal=function($){return q($)===n},ht.isProfiler=function($){return q($)===l},ht.isStrictMode=function($){return q($)===s},ht.isSuspense=function($){return q($)===b},ht.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===i||$===m||$===l||$===s||$===b||$===A||typeof $=="object"&&$!==null&&($.$$typeof===k||$.$$typeof===N||$.$$typeof===c||$.$$typeof===d||$.$$typeof===v||$.$$typeof===O||$.$$typeof===F||$.$$typeof===Q||$.$$typeof===V)},ht.typeOf=q,ht}var TT;function ZV(){return TT||(TT=1,cg.exports=WV()),cg.exports}var fg,ST;function JV(){if(ST)return fg;ST=1;var t=ZV(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[t.ForwardRef]=i,l[t.Memo]=s;function c(k){return t.isMemo(k)?s:l[k.$$typeof]||e}var d=Object.defineProperty,p=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,v=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,A=Object.prototype;function N(k,V,O){if(typeof V!="string"){if(A){var F=b(V);F&&F!==A&&N(k,F,O)}var Q=p(V);m&&(Q=Q.concat(m(V)));for(var q=c(k),ie=c(V),$=0;$<Q.length;++$){var ee=Q[$];if(!n[ee]&&!(O&&O[ee])&&!(ie&&ie[ee])&&!(q&&q[ee])){var C=v(V,ee);try{d(k,ee,C)}catch{}}}}return k}return fg=N,fg}JV();var e3=!0;function t3(t,e,n){var i="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(i+=s+" ")}),i}var Nx=function(e,n,i){var s=e.key+"-"+n.name;(i===!1||e3===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},n3=function(e,n,i){Nx(e,n,i);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var l=n;do e.insert(n===l?"."+s:"",l,e.sheet,!0),l=l.next;while(l!==void 0)}};function r3(t){for(var e=0,n,i=0,s=t.length;s>=4;++i,s-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var i3={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a3=/[A-Z]|^ms/g,s3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Dx=function(e){return e.charCodeAt(1)===45},wT=function(e){return e!=null&&typeof e!="boolean"},hg=BV(function(t){return Dx(t)?t:t.replace(a3,"-$&").toLowerCase()}),AT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(s3,function(i,s,l){return Jr={name:s,styles:l,next:Jr},s})}return i3[e]!==1&&!Dx(e)&&typeof n=="number"&&n!==0?n+"px":n};function pc(t,e,n){if(n==null)return"";var i=n;if(i.__emotion_styles!==void 0)return i;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Jr={name:s.name,styles:s.styles,next:Jr},s.name;var l=n;if(l.styles!==void 0){var c=l.next;if(c!==void 0)for(;c!==void 0;)Jr={name:c.name,styles:c.styles,next:Jr},c=c.next;var d=l.styles+";";return d}return o3(t,e,n)}case"function":{if(t!==void 0){var p=Jr,m=n(t);return Jr=p,pc(t,e,m)}break}}var v=n;return v}function o3(t,e,n){var i="";if(Array.isArray(n))for(var s=0;s<n.length;s++)i+=pc(t,e,n[s])+";";else for(var l in n){var c=n[l];if(typeof c!="object"){var d=c;wT(d)&&(i+=hg(l)+":"+AT(l,d)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&e==null)for(var p=0;p<c.length;p++)wT(c[p])&&(i+=hg(l)+":"+AT(l,c[p])+";");else{var m=pc(t,e,c);switch(l){case"animation":case"animationName":{i+=hg(l)+":"+m+";";break}default:i+=l+"{"+m+"}"}}}return i}var xT=/label:\s*([^\s;{]+)\s*(;|$)/g,Jr;function Mx(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Jr=void 0;var l=t[0];if(l==null||l.raw===void 0)i=!1,s+=pc(n,e,l);else{var c=l;s+=c[0]}for(var d=1;d<t.length;d++)if(s+=pc(n,e,t[d]),i){var p=l;s+=p[d]}xT.lastIndex=0;for(var m="",v;(v=xT.exec(s))!==null;)m+="-"+v[1];var b=r3(s)+m;return{name:b,styles:s,next:Jr}}var l3=function(e){return e()},u3=Dg.useInsertionEffect?Dg.useInsertionEffect:!1,c3=u3||l3,Px=z.createContext(typeof HTMLElement<"u"?XV({key:"css"}):null);Px.Provider;var f3=function(e){return z.forwardRef(function(n,i){var s=z.useContext(Px);return e(n,s,i)})},h3=z.createContext({}),zy={}.hasOwnProperty,fv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",d3=function(e,n){var i={};for(var s in n)zy.call(n,s)&&(i[s]=n[s]);return i[fv]=e,i},p3=function(e){var n=e.cache,i=e.serialized,s=e.isStringTag;return Nx(n,i,s),c3(function(){return n3(n,i,s)}),null},m3=f3(function(t,e,n){var i=t.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var s=t[fv],l=[i],c="";typeof t.className=="string"?c=t3(e.registered,l,t.className):t.className!=null&&(c=t.className+" ");var d=Mx(l,void 0,z.useContext(h3));c+=e.key+"-"+d.name;var p={};for(var m in t)zy.call(t,m)&&m!=="css"&&m!==fv&&(p[m]=t[m]);return p.className=c,n&&(p.ref=n),z.createElement(z.Fragment,null,z.createElement(p3,{cache:e,serialized:d,isStringTag:typeof s=="string"}),z.createElement(s,p))}),g3=m3,Ie=function(e,n){var i=arguments;if(n==null||!zy.call(n,"css"))return z.createElement.apply(void 0,i);var s=i.length,l=new Array(s);l[0]=g3,l[1]=d3(e,n);for(var c=2;c<s;c++)l[c]=i[c];return z.createElement.apply(null,l)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Ie||(Ie={}));function By(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Mx(e)}function v3(){var t=By.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function y3(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const _3=Math.min,b3=Math.max,td=Math.round,sh=Math.floor,nd=t=>({x:t,y:t});function E3(t){const{x:e,y:n,width:i,height:s}=t;return{width:i,height:s,top:n,left:e,right:e+i,bottom:n+s,x:e,y:n}}function zd(){return typeof window<"u"}function kx(t){return Lx(t)?(t.nodeName||"").toLowerCase():"#document"}function Ki(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vx(t){var e;return(e=(Lx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Lx(t){return zd()?t instanceof Node||t instanceof Ki(t).Node:!1}function T3(t){return zd()?t instanceof Element||t instanceof Ki(t).Element:!1}function Hy(t){return zd()?t instanceof HTMLElement||t instanceof Ki(t).HTMLElement:!1}function RT(t){return!zd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ki(t).ShadowRoot}function Ux(t){const{overflow:e,overflowX:n,overflowY:i,display:s}=qy(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(s)}function S3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function w3(t){return["html","body","#document"].includes(kx(t))}function qy(t){return Ki(t).getComputedStyle(t)}function A3(t){if(kx(t)==="html")return t;const e=t.assignedSlot||t.parentNode||RT(t)&&t.host||Vx(t);return RT(e)?e.host:e}function jx(t){const e=A3(t);return w3(e)?t.ownerDocument?t.ownerDocument.body:t.body:Hy(e)&&Ux(e)?e:jx(e)}function rd(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=jx(t),l=s===((i=t.ownerDocument)==null?void 0:i.body),c=Ki(s);if(l){const d=hv(c);return e.concat(c,c.visualViewport||[],Ux(s)?s:[],d&&n?rd(d):[])}return e.concat(s,rd(s,[],n))}function hv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function x3(t){const e=qy(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=Hy(t),l=s?t.offsetWidth:n,c=s?t.offsetHeight:i,d=td(n)!==l||td(i)!==c;return d&&(n=l,i=c),{width:n,height:i,$:d}}function $y(t){return T3(t)?t:t.contextElement}function CT(t){const e=$y(t);if(!Hy(e))return nd(1);const n=e.getBoundingClientRect(),{width:i,height:s,$:l}=x3(e);let c=(l?td(n.width):n.width)/i,d=(l?td(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const R3=nd(0);function C3(t){const e=Ki(t);return!S3()||!e.visualViewport?R3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function I3(t,e,n){return!1}function IT(t,e,n,i){e===void 0&&(e=!1);const s=t.getBoundingClientRect(),l=$y(t);let c=nd(1);e&&(c=CT(t));const d=I3()?C3(l):nd(0);let p=(s.left+d.x)/c.x,m=(s.top+d.y)/c.y,v=s.width/c.x,b=s.height/c.y;if(l){const A=Ki(l),N=i;let k=A,V=hv(k);for(;V&&i&&N!==k;){const O=CT(V),F=V.getBoundingClientRect(),Q=qy(V),q=F.left+(V.clientLeft+parseFloat(Q.paddingLeft))*O.x,ie=F.top+(V.clientTop+parseFloat(Q.paddingTop))*O.y;p*=O.x,m*=O.y,v*=O.x,b*=O.y,p+=q,m+=ie,k=Ki(V),V=hv(k)}}return E3({width:v,height:b,x:p,y:m})}function Fx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function O3(t,e){let n=null,i;const s=Vx(t);function l(){var d;clearTimeout(i),(d=n)==null||d.disconnect(),n=null}function c(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),l();const m=t.getBoundingClientRect(),{left:v,top:b,width:A,height:N}=m;if(d||e(),!A||!N)return;const k=sh(b),V=sh(s.clientWidth-(v+A)),O=sh(s.clientHeight-(b+N)),F=sh(v),q={rootMargin:-k+"px "+-V+"px "+-O+"px "+-F+"px",threshold:b3(0,_3(1,p))||1};let ie=!0;function $(ee){const C=ee[0].intersectionRatio;if(C!==p){if(!ie)return c();C?c(!1,C):i=setTimeout(()=>{c(!1,1e-7)},1e3)}C===1&&!Fx(m,t.getBoundingClientRect())&&c(),ie=!1}try{n=new IntersectionObserver($,{...q,root:s.ownerDocument})}catch{n=new IntersectionObserver($,q)}n.observe(t)}return c(!0),l}function N3(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=i,m=$y(t),v=s||l?[...m?rd(m):[],...rd(e)]:[];v.forEach(F=>{s&&F.addEventListener("scroll",n,{passive:!0}),l&&F.addEventListener("resize",n)});const b=m&&d?O3(m,n):null;let A=-1,N=null;c&&(N=new ResizeObserver(F=>{let[Q]=F;Q&&Q.target===m&&N&&(N.unobserve(e),cancelAnimationFrame(A),A=requestAnimationFrame(()=>{var q;(q=N)==null||q.observe(e)})),n()}),m&&!p&&N.observe(m),N.observe(e));let k,V=p?IT(t):null;p&&O();function O(){const F=IT(t);V&&!Fx(V,F)&&n(),V=F,k=requestAnimationFrame(O)}return n(),()=>{var F;v.forEach(Q=>{s&&Q.removeEventListener("scroll",n),l&&Q.removeEventListener("resize",n)}),b==null||b(),(F=N)==null||F.disconnect(),N=null,p&&cancelAnimationFrame(k)}}var dv=z.useLayoutEffect,D3=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],id=function(){};function M3(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function P3(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var l=[].concat(i);if(e&&t)for(var c in e)e.hasOwnProperty(c)&&e[c]&&l.push("".concat(M3(t,c)));return l.filter(function(d){return d}).map(function(d){return String(d).trim()}).join(" ")}var OT=function(e){return H3(e)?e.filter(Boolean):qs(e)==="object"&&e!==null?[e]:[]},zx=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Wi(e,D3);return De({},n)},Pt=function(e,n,i){var s=e.cx,l=e.getStyles,c=e.getClassNames,d=e.className;return{css:l(n,e),className:s(i??{},c(n,e),d)}};function Bd(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function k3(t){return Bd(t)?window.innerHeight:t.clientHeight}function Bx(t){return Bd(t)?window.pageYOffset:t.scrollTop}function ad(t,e){if(Bd(t)){window.scrollTo(0,e);return}t.scrollTop=e}function V3(t){var e=getComputedStyle(t),n=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(n&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function L3(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e}function oh(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:id,s=Bx(t),l=e-s,c=10,d=0;function p(){d+=c;var m=L3(d,s,l,n);ad(t,m),d<n?window.requestAnimationFrame(p):i(t)}p()}function NT(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),s=e.offsetHeight/3;i.bottom+s>n.bottom?ad(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):i.top-s<n.top&&ad(t,Math.max(e.offsetTop-s,0))}function U3(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function DT(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function j3(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Hx=!1,F3={get passive(){return Hx=!0}},lh=typeof window<"u"?window:{};lh.addEventListener&&lh.removeEventListener&&(lh.addEventListener("p",id,F3),lh.removeEventListener("p",id,!1));var z3=Hx;function B3(t){return t!=null}function H3(t){return Array.isArray(t)}function uh(t,e,n){return t?e:n}var q3=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];var l=Object.entries(e).filter(function(c){var d=Bi(c,1),p=d[0];return!i.includes(p)});return l.reduce(function(c,d){var p=Bi(d,2),m=p[0],v=p[1];return c[m]=v,c},{})},$3=["children","innerProps"],G3=["children","innerProps"];function Y3(t){var e=t.maxHeight,n=t.menuEl,i=t.minHeight,s=t.placement,l=t.shouldScroll,c=t.isFixedPosition,d=t.controlHeight,p=V3(n),m={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return m;var v=p.getBoundingClientRect(),b=v.height,A=n.getBoundingClientRect(),N=A.bottom,k=A.height,V=A.top,O=n.offsetParent.getBoundingClientRect(),F=O.top,Q=c?window.innerHeight:k3(p),q=Bx(p),ie=parseInt(getComputedStyle(n).marginBottom,10),$=parseInt(getComputedStyle(n).marginTop,10),ee=F-$,C=Q-V,_=ee+q,T=b-q-V,R=N-Q+q+ie,P=q+V-$,M=160;switch(s){case"auto":case"bottom":if(C>=k)return{placement:"bottom",maxHeight:e};if(T>=k&&!c)return l&&oh(p,R,M),{placement:"bottom",maxHeight:e};if(!c&&T>=i||c&&C>=i){l&&oh(p,R,M);var D=c?C-ie:T-ie;return{placement:"bottom",maxHeight:D}}if(s==="auto"||c){var _e=e,Se=c?ee:_;return Se>=i&&(_e=Math.min(Se-ie-d,e)),{placement:"top",maxHeight:_e}}if(s==="bottom")return l&&ad(p,R),{placement:"bottom",maxHeight:e};break;case"top":if(ee>=k)return{placement:"top",maxHeight:e};if(_>=k&&!c)return l&&oh(p,P,M),{placement:"top",maxHeight:e};if(!c&&_>=i||c&&ee>=i){var B=e;return(!c&&_>=i||c&&ee>=i)&&(B=c?ee-$:_-$),l&&oh(p,P,M),{placement:"top",maxHeight:B}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return m}function K3(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var qx=function(e){return e==="auto"?"bottom":e},Q3=function(e,n){var i,s=e.placement,l=e.theme,c=l.borderRadius,d=l.spacing,p=l.colors;return De((i={label:"menu"},Hu(i,K3(s),"100%"),Hu(i,"position","absolute"),Hu(i,"width","100%"),Hu(i,"zIndex",1),i),n?{}:{backgroundColor:p.neutral0,borderRadius:c,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:d.menuGutter,marginTop:d.menuGutter})},$x=z.createContext(null),X3=function(e){var n=e.children,i=e.minMenuHeight,s=e.maxMenuHeight,l=e.menuPlacement,c=e.menuPosition,d=e.menuShouldScrollIntoView,p=e.theme,m=z.useContext($x)||{},v=m.setPortalPlacement,b=z.useRef(null),A=z.useState(s),N=Bi(A,2),k=N[0],V=N[1],O=z.useState(null),F=Bi(O,2),Q=F[0],q=F[1],ie=p.spacing.controlHeight;return dv(function(){var $=b.current;if($){var ee=c==="fixed",C=d&&!ee,_=Y3({maxHeight:s,menuEl:$,minHeight:i,placement:l,shouldScroll:C,isFixedPosition:ee,controlHeight:ie});V(_.maxHeight),q(_.placement),v==null||v(_.placement)}},[s,l,c,d,i,v,ie]),n({ref:b,placerProps:De(De({},e),{},{placement:Q||qx(l),maxHeight:k})})},W3=function(e){var n=e.children,i=e.innerRef,s=e.innerProps;return Ie("div",Le({},Pt(e,"menu",{menu:!0}),{ref:i},s),n)},Z3=W3,J3=function(e,n){var i=e.maxHeight,s=e.theme.spacing.baseUnit;return De({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:s,paddingTop:s})},e6=function(e){var n=e.children,i=e.innerProps,s=e.innerRef,l=e.isMulti;return Ie("div",Le({},Pt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:s},i),n)},Gx=function(e,n){var i=e.theme,s=i.spacing.baseUnit,l=i.colors;return De({textAlign:"center"},n?{}:{color:l.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},t6=Gx,n6=Gx,r6=function(e){var n=e.children,i=n===void 0?"No options":n,s=e.innerProps,l=Wi(e,$3);return Ie("div",Le({},Pt(De(De({},l),{},{children:i,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),i)},i6=function(e){var n=e.children,i=n===void 0?"Loading...":n,s=e.innerProps,l=Wi(e,G3);return Ie("div",Le({},Pt(De(De({},l),{},{children:i,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),i)},a6=function(e){var n=e.rect,i=e.offset,s=e.position;return{left:n.left,position:s,top:i,width:n.width,zIndex:1}},s6=function(e){var n=e.appendTo,i=e.children,s=e.controlElement,l=e.innerProps,c=e.menuPlacement,d=e.menuPosition,p=z.useRef(null),m=z.useRef(null),v=z.useState(qx(c)),b=Bi(v,2),A=b[0],N=b[1],k=z.useMemo(function(){return{setPortalPlacement:N}},[]),V=z.useState(null),O=Bi(V,2),F=O[0],Q=O[1],q=z.useCallback(function(){if(s){var C=U3(s),_=d==="fixed"?0:window.pageYOffset,T=C[A]+_;(T!==(F==null?void 0:F.offset)||C.left!==(F==null?void 0:F.rect.left)||C.width!==(F==null?void 0:F.rect.width))&&Q({offset:T,rect:C})}},[s,d,A,F==null?void 0:F.offset,F==null?void 0:F.rect.left,F==null?void 0:F.rect.width]);dv(function(){q()},[q]);var ie=z.useCallback(function(){typeof m.current=="function"&&(m.current(),m.current=null),s&&p.current&&(m.current=N3(s,p.current,q,{elementResize:"ResizeObserver"in window}))},[s,q]);dv(function(){ie()},[ie]);var $=z.useCallback(function(C){p.current=C,ie()},[ie]);if(!n&&d!=="fixed"||!F)return null;var ee=Ie("div",Le({ref:$},Pt(De(De({},e),{},{offset:F.offset,position:d,rect:F.rect}),"menuPortal",{"menu-portal":!0}),l),i);return Ie($x.Provider,{value:k},n?q2.createPortal(ee,n):ee)},o6=function(e){var n=e.isDisabled,i=e.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},l6=function(e){var n=e.children,i=e.innerProps,s=e.isDisabled,l=e.isRtl;return Ie("div",Le({},Pt(e,"container",{"--is-disabled":s,"--is-rtl":l}),i),n)},u6=function(e,n){var i=e.theme.spacing,s=e.isMulti,l=e.hasValue,c=e.selectProps.controlShouldRenderValue;return De({alignItems:"center",display:s&&l&&c?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},c6=function(e){var n=e.children,i=e.innerProps,s=e.isMulti,l=e.hasValue;return Ie("div",Le({},Pt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":l}),i),n)},f6=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},h6=function(e){var n=e.children,i=e.innerProps;return Ie("div",Le({},Pt(e,"indicatorsContainer",{indicators:!0}),i),n)},MT,d6=["size"],p6=["innerProps","isRtl","size"],m6={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Yx=function(e){var n=e.size,i=Wi(e,d6);return Ie("svg",Le({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:m6},i))},Gy=function(e){return Ie(Yx,Le({size:20},e),Ie("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Kx=function(e){return Ie(Yx,Le({size:20},e),Ie("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Qx=function(e,n){var i=e.isFocused,s=e.theme,l=s.spacing.baseUnit,c=s.colors;return De({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:i?c.neutral60:c.neutral20,padding:l*2,":hover":{color:i?c.neutral80:c.neutral40}})},g6=Qx,v6=function(e){var n=e.children,i=e.innerProps;return Ie("div",Le({},Pt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),n||Ie(Kx,null))},y6=Qx,_6=function(e){var n=e.children,i=e.innerProps;return Ie("div",Le({},Pt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),n||Ie(Gy,null))},b6=function(e,n){var i=e.isDisabled,s=e.theme,l=s.spacing.baseUnit,c=s.colors;return De({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:i?c.neutral10:c.neutral20,marginBottom:l*2,marginTop:l*2})},E6=function(e){var n=e.innerProps;return Ie("span",Le({},n,Pt(e,"indicatorSeparator",{"indicator-separator":!0})))},T6=v3(MT||(MT=y3([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),S6=function(e,n){var i=e.isFocused,s=e.size,l=e.theme,c=l.colors,d=l.spacing.baseUnit;return De({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},n?{}:{color:i?c.neutral60:c.neutral20,padding:d*2})},dg=function(e){var n=e.delay,i=e.offset;return Ie("span",{css:By({animation:"".concat(T6," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},w6=function(e){var n=e.innerProps,i=e.isRtl,s=e.size,l=s===void 0?4:s,c=Wi(e,p6);return Ie("div",Le({},Pt(De(De({},c),{},{innerProps:n,isRtl:i,size:l}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Ie(dg,{delay:0,offset:i}),Ie(dg,{delay:160,offset:!0}),Ie(dg,{delay:320,offset:!i}))},A6=function(e,n){var i=e.isDisabled,s=e.isFocused,l=e.theme,c=l.colors,d=l.borderRadius,p=l.spacing;return De({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:p.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:i?c.neutral5:c.neutral0,borderColor:i?c.neutral10:s?c.primary:c.neutral20,borderRadius:d,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(c.primary):void 0,"&:hover":{borderColor:s?c.primary:c.neutral30}})},x6=function(e){var n=e.children,i=e.isDisabled,s=e.isFocused,l=e.innerRef,c=e.innerProps,d=e.menuIsOpen;return Ie("div",Le({ref:l},Pt(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":s,"control--menu-is-open":d}),c,{"aria-disabled":i||void 0}),n)},R6=x6,C6=["data"],I6=function(e,n){var i=e.theme.spacing;return n?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},O6=function(e){var n=e.children,i=e.cx,s=e.getStyles,l=e.getClassNames,c=e.Heading,d=e.headingProps,p=e.innerProps,m=e.label,v=e.theme,b=e.selectProps;return Ie("div",Le({},Pt(e,"group",{group:!0}),p),Ie(c,Le({},d,{selectProps:b,theme:v,getStyles:s,getClassNames:l,cx:i}),m),Ie("div",null,n))},N6=function(e,n){var i=e.theme,s=i.colors,l=i.spacing;return De({label:"group",cursor:"default",display:"block"},n?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:l.baseUnit*3,paddingRight:l.baseUnit*3,textTransform:"uppercase"})},D6=function(e){var n=zx(e);n.data;var i=Wi(n,C6);return Ie("div",Le({},Pt(e,"groupHeading",{"group-heading":!0}),i))},M6=O6,P6=["innerRef","isDisabled","isHidden","inputClassName"],k6=function(e,n){var i=e.isDisabled,s=e.value,l=e.theme,c=l.spacing,d=l.colors;return De(De({visibility:i?"hidden":"visible",transform:s?"translateZ(0)":""},V6),n?{}:{margin:c.baseUnit/2,paddingBottom:c.baseUnit/2,paddingTop:c.baseUnit/2,color:d.neutral80})},Xx={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},V6={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":De({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Xx)},L6=function(e){return De({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Xx)},U6=function(e){var n=e.cx,i=e.value,s=zx(e),l=s.innerRef,c=s.isDisabled,d=s.isHidden,p=s.inputClassName,m=Wi(s,P6);return Ie("div",Le({},Pt(e,"input",{"input-container":!0}),{"data-value":i||""}),Ie("input",Le({className:n({input:!0},p),ref:l,style:L6(d),disabled:c},m)))},j6=U6,F6=function(e,n){var i=e.theme,s=i.spacing,l=i.borderRadius,c=i.colors;return De({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:c.neutral10,borderRadius:l/2,margin:s.baseUnit/2})},z6=function(e,n){var i=e.theme,s=i.borderRadius,l=i.colors,c=e.cropWithEllipsis;return De({overflow:"hidden",textOverflow:c||c===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:s/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},B6=function(e,n){var i=e.theme,s=i.spacing,l=i.borderRadius,c=i.colors,d=e.isFocused;return De({alignItems:"center",display:"flex"},n?{}:{borderRadius:l/2,backgroundColor:d?c.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:c.dangerLight,color:c.danger}})},Wx=function(e){var n=e.children,i=e.innerProps;return Ie("div",i,n)},H6=Wx,q6=Wx;function $6(t){var e=t.children,n=t.innerProps;return Ie("div",Le({role:"button"},n),e||Ie(Gy,{size:14}))}var G6=function(e){var n=e.children,i=e.components,s=e.data,l=e.innerProps,c=e.isDisabled,d=e.removeProps,p=e.selectProps,m=i.Container,v=i.Label,b=i.Remove;return Ie(m,{data:s,innerProps:De(De({},Pt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":c})),l),selectProps:p},Ie(v,{data:s,innerProps:De({},Pt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:p},n),Ie(b,{data:s,innerProps:De(De({},Pt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},d),selectProps:p}))},Y6=G6,K6=function(e,n){var i=e.isDisabled,s=e.isFocused,l=e.isSelected,c=e.theme,d=c.spacing,p=c.colors;return De({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:l?p.primary:s?p.primary25:"transparent",color:i?p.neutral20:l?p.neutral0:"inherit",padding:"".concat(d.baseUnit*2,"px ").concat(d.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:l?p.primary:p.primary50}})},Q6=function(e){var n=e.children,i=e.isDisabled,s=e.isFocused,l=e.isSelected,c=e.innerRef,d=e.innerProps;return Ie("div",Le({},Pt(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":s,"option--is-selected":l}),{ref:c,"aria-disabled":i},d),n)},X6=Q6,W6=function(e,n){var i=e.theme,s=i.spacing,l=i.colors;return De({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:l.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Z6=function(e){var n=e.children,i=e.innerProps;return Ie("div",Le({},Pt(e,"placeholder",{placeholder:!0}),i),n)},J6=Z6,eL=function(e,n){var i=e.isDisabled,s=e.theme,l=s.spacing,c=s.colors;return De({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:i?c.neutral40:c.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},tL=function(e){var n=e.children,i=e.isDisabled,s=e.innerProps;return Ie("div",Le({},Pt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),s),n)},nL=tL,rL={ClearIndicator:_6,Control:R6,DropdownIndicator:v6,DownChevron:Kx,CrossIcon:Gy,Group:M6,GroupHeading:D6,IndicatorsContainer:h6,IndicatorSeparator:E6,Input:j6,LoadingIndicator:w6,Menu:Z3,MenuList:e6,MenuPortal:s6,LoadingMessage:i6,NoOptionsMessage:r6,MultiValue:Y6,MultiValueContainer:H6,MultiValueLabel:q6,MultiValueRemove:$6,Option:X6,Placeholder:J6,SelectContainer:l6,SingleValue:nL,ValueContainer:c6},iL=function(e){return De(De({},rL),e.components)},PT=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function aL(t,e){return!!(t===e||PT(t)&&PT(e))}function sL(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!aL(t[n],e[n]))return!1;return!0}function oL(t,e){e===void 0&&(e=sL);var n=null;function i(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var c=t.apply(this,s);return n={lastResult:c,lastArgs:s,lastThis:this},c}return i.clear=function(){n=null},i}var lL={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},uL=function(e){return Ie("span",Le({css:lL},e))},kT=uL,cL={guidance:function(e){var n=e.isSearchable,i=e.isMulti,s=e.tabSelectsValue,l=e.context,c=e.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return c?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,i=e.label,s=i===void 0?"":i,l=e.labels,c=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return c?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var n=e.context,i=e.focused,s=e.options,l=e.label,c=l===void 0?"":l,d=e.selectValue,p=e.isDisabled,m=e.isSelected,v=e.isAppleDevice,b=function(V,O){return V&&V.length?"".concat(V.indexOf(O)+1," of ").concat(V.length):""};if(n==="value"&&d)return"value ".concat(c," focused, ").concat(b(d,i),".");if(n==="menu"&&v){var A=p?" disabled":"",N="".concat(m?" selected":"").concat(A);return"".concat(c).concat(N,", ").concat(b(s,i),".")}return""},onFilter:function(e){var n=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(n?" for search term "+n:"",".")}},fL=function(e){var n=e.ariaSelection,i=e.focusedOption,s=e.focusedValue,l=e.focusableOptions,c=e.isFocused,d=e.selectValue,p=e.selectProps,m=e.id,v=e.isAppleDevice,b=p.ariaLiveMessages,A=p.getOptionLabel,N=p.inputValue,k=p.isMulti,V=p.isOptionDisabled,O=p.isSearchable,F=p.menuIsOpen,Q=p.options,q=p.screenReaderStatus,ie=p.tabSelectsValue,$=p.isLoading,ee=p["aria-label"],C=p["aria-live"],_=z.useMemo(function(){return De(De({},cL),b||{})},[b]),T=z.useMemo(function(){var Se="";if(n&&_.onChange){var B=n.option,ne=n.options,ce=n.removedValue,he=n.removedValues,L=n.value,U=function(ve){return Array.isArray(ve)?null:ve},G=ce||B||U(L),Y=G?A(G):"",oe=ne||he||void 0,me=oe?oe.map(A):[],de=De({isDisabled:G&&V(G,d),label:Y,labels:me},n);Se=_.onChange(de)}return Se},[n,_,V,d,A]),R=z.useMemo(function(){var Se="",B=i||s,ne=!!(i&&d&&d.includes(i));if(B&&_.onFocus){var ce={focused:B,label:A(B),isDisabled:V(B,d),isSelected:ne,options:l,context:B===i?"menu":"value",selectValue:d,isAppleDevice:v};Se=_.onFocus(ce)}return Se},[i,s,A,V,_,l,d,v]),P=z.useMemo(function(){var Se="";if(F&&Q.length&&!$&&_.onFilter){var B=q({count:l.length});Se=_.onFilter({inputValue:N,resultsMessage:B})}return Se},[l,N,F,_,Q,q,$]),M=(n==null?void 0:n.action)==="initial-input-focus",D=z.useMemo(function(){var Se="";if(_.guidance){var B=s?"value":F?"menu":"input";Se=_.guidance({"aria-label":ee,context:B,isDisabled:i&&V(i,d),isMulti:k,isSearchable:O,tabSelectsValue:ie,isInitialFocus:M})}return Se},[ee,i,s,k,V,O,F,_,d,ie,M]),_e=Ie(z.Fragment,null,Ie("span",{id:"aria-selection"},T),Ie("span",{id:"aria-focused"},R),Ie("span",{id:"aria-results"},P),Ie("span",{id:"aria-guidance"},D));return Ie(z.Fragment,null,Ie(kT,{id:m},M&&_e),Ie(kT,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},c&&!M&&_e))},hL=fL,pv=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],dL=new RegExp("["+pv.map(function(t){return t.letters}).join("")+"]","g"),Zx={};for(var pg=0;pg<pv.length;pg++)for(var mg=pv[pg],gg=0;gg<mg.letters.length;gg++)Zx[mg.letters[gg]]=mg.base;var Jx=function(e){return e.replace(dL,function(n){return Zx[n]})},pL=oL(Jx),VT=function(e){return e.replace(/^\s+|\s+$/g,"")},mL=function(e){return"".concat(e.label," ").concat(e.value)},gL=function(e){return function(n,i){if(n.data.__isNew__)return!0;var s=De({ignoreCase:!0,ignoreAccents:!0,stringify:mL,trim:!0,matchFrom:"any"},e),l=s.ignoreCase,c=s.ignoreAccents,d=s.stringify,p=s.trim,m=s.matchFrom,v=p?VT(i):i,b=p?VT(d(n)):d(n);return l&&(v=v.toLowerCase(),b=b.toLowerCase()),c&&(v=pL(v),b=Jx(b)),m==="start"?b.substr(0,v.length)===v:b.indexOf(v)>-1}},vL=["innerRef"];function yL(t){var e=t.innerRef,n=Wi(t,vL),i=q3(n,"onExited","in","enter","exit","appear");return Ie("input",Le({ref:e},i,{css:By({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var _L=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function bL(t){var e=t.isEnabled,n=t.onBottomArrive,i=t.onBottomLeave,s=t.onTopArrive,l=t.onTopLeave,c=z.useRef(!1),d=z.useRef(!1),p=z.useRef(0),m=z.useRef(null),v=z.useCallback(function(O,F){if(m.current!==null){var Q=m.current,q=Q.scrollTop,ie=Q.scrollHeight,$=Q.clientHeight,ee=m.current,C=F>0,_=ie-$-q,T=!1;_>F&&c.current&&(i&&i(O),c.current=!1),C&&d.current&&(l&&l(O),d.current=!1),C&&F>_?(n&&!c.current&&n(O),ee.scrollTop=ie,T=!0,c.current=!0):!C&&-F>q&&(s&&!d.current&&s(O),ee.scrollTop=0,T=!0,d.current=!0),T&&_L(O)}},[n,i,s,l]),b=z.useCallback(function(O){v(O,O.deltaY)},[v]),A=z.useCallback(function(O){p.current=O.changedTouches[0].clientY},[]),N=z.useCallback(function(O){var F=p.current-O.changedTouches[0].clientY;v(O,F)},[v]),k=z.useCallback(function(O){if(O){var F=z3?{passive:!1}:!1;O.addEventListener("wheel",b,F),O.addEventListener("touchstart",A,F),O.addEventListener("touchmove",N,F)}},[N,A,b]),V=z.useCallback(function(O){O&&(O.removeEventListener("wheel",b,!1),O.removeEventListener("touchstart",A,!1),O.removeEventListener("touchmove",N,!1))},[N,A,b]);return z.useEffect(function(){if(e){var O=m.current;return k(O),function(){V(O)}}},[e,k,V]),function(O){m.current=O}}var LT=["boxSizing","height","overflow","paddingRight","position"],UT={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function jT(t){t.cancelable&&t.preventDefault()}function FT(t){t.stopPropagation()}function zT(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function BT(){return"ontouchstart"in window||navigator.maxTouchPoints}var HT=!!(typeof window<"u"&&window.document&&window.document.createElement),Pu=0,Go={capture:!1,passive:!1};function EL(t){var e=t.isEnabled,n=t.accountForScrollbars,i=n===void 0?!0:n,s=z.useRef({}),l=z.useRef(null),c=z.useCallback(function(p){if(HT){var m=document.body,v=m&&m.style;if(i&&LT.forEach(function(k){var V=v&&v[k];s.current[k]=V}),i&&Pu<1){var b=parseInt(s.current.paddingRight,10)||0,A=document.body?document.body.clientWidth:0,N=window.innerWidth-A+b||0;Object.keys(UT).forEach(function(k){var V=UT[k];v&&(v[k]=V)}),v&&(v.paddingRight="".concat(N,"px"))}m&&BT()&&(m.addEventListener("touchmove",jT,Go),p&&(p.addEventListener("touchstart",zT,Go),p.addEventListener("touchmove",FT,Go))),Pu+=1}},[i]),d=z.useCallback(function(p){if(HT){var m=document.body,v=m&&m.style;Pu=Math.max(Pu-1,0),i&&Pu<1&&LT.forEach(function(b){var A=s.current[b];v&&(v[b]=A)}),m&&BT()&&(m.removeEventListener("touchmove",jT,Go),p&&(p.removeEventListener("touchstart",zT,Go),p.removeEventListener("touchmove",FT,Go)))}},[i]);return z.useEffect(function(){if(e){var p=l.current;return c(p),function(){d(p)}}},[e,c,d]),function(p){l.current=p}}var TL=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},SL={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function wL(t){var e=t.children,n=t.lockEnabled,i=t.captureEnabled,s=i===void 0?!0:i,l=t.onBottomArrive,c=t.onBottomLeave,d=t.onTopArrive,p=t.onTopLeave,m=bL({isEnabled:s,onBottomArrive:l,onBottomLeave:c,onTopArrive:d,onTopLeave:p}),v=EL({isEnabled:n}),b=function(N){m(N),v(N)};return Ie(z.Fragment,null,n&&Ie("div",{onClick:TL,css:SL}),e(b))}var AL={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},xL=function(e){var n=e.name,i=e.onFocus;return Ie("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:AL,value:"",onChange:function(){}})},RL=xL;function Yy(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function CL(){return Yy(/^iPhone/i)}function eR(){return Yy(/^Mac/i)}function IL(){return Yy(/^iPad/i)||eR()&&navigator.maxTouchPoints>1}function OL(){return CL()||IL()}function NL(){return eR()||OL()}var DL=function(e){return e.label},ML=function(e){return e.label},PL=function(e){return e.value},kL=function(e){return!!e.isDisabled},VL={clearIndicator:y6,container:o6,control:A6,dropdownIndicator:g6,group:I6,groupHeading:N6,indicatorsContainer:f6,indicatorSeparator:b6,input:k6,loadingIndicator:S6,loadingMessage:n6,menu:Q3,menuList:J3,menuPortal:a6,multiValue:F6,multiValueLabel:z6,multiValueRemove:B6,noOptionsMessage:t6,option:K6,placeholder:W6,singleValue:eL,valueContainer:u6},LL={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},UL=4,tR=4,jL=38,FL=tR*2,zL={baseUnit:tR,controlHeight:jL,menuGutter:FL},vg={borderRadius:UL,colors:LL,spacing:zL},BL={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:DT(),captureMenuScroll:!DT(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:gL(),formatGroupLabel:DL,getOptionLabel:ML,getOptionValue:PL,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:kL,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!j3(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function qT(t,e,n,i){var s=iR(t,e,n),l=aR(t,e,n),c=rR(t,e),d=sd(t,e);return{type:"option",data:e,isDisabled:s,isSelected:l,label:c,value:d,index:i}}function Rh(t,e){return t.options.map(function(n,i){if("options"in n){var s=n.options.map(function(c,d){return qT(t,c,e,d)}).filter(function(c){return GT(t,c)});return s.length>0?{type:"group",data:n,options:s,index:i}:void 0}var l=qT(t,n,e,i);return GT(t,l)?l:void 0}).filter(B3)}function nR(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Ly(n.options.map(function(i){return i.data}))):e.push(n.data),e},[])}function $T(t,e){return t.reduce(function(n,i){return i.type==="group"?n.push.apply(n,Ly(i.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(i.index,"-").concat(s.index)}}))):n.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),n},[])}function HL(t,e){return nR(Rh(t,e))}function GT(t,e){var n=t.inputValue,i=n===void 0?"":n,s=e.data,l=e.isSelected,c=e.label,d=e.value;return(!oR(t)||!l)&&sR(t,{label:c,value:d,data:s},i)}function qL(t,e){var n=t.focusedValue,i=t.selectValue,s=i.indexOf(n);if(s>-1){var l=e.indexOf(n);if(l>-1)return n;if(s<e.length)return e[s]}return null}function $L(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var yg=function(e,n){var i,s=(i=e.find(function(l){return l.data===n}))===null||i===void 0?void 0:i.id;return s||null},rR=function(e,n){return e.getOptionLabel(n)},sd=function(e,n){return e.getOptionValue(n)};function iR(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function aR(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var i=sd(t,e);return n.some(function(s){return sd(t,s)===i})}function sR(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var oR=function(e){var n=e.hideSelectedOptions,i=e.isMulti;return n===void 0?i:n},GL=1,lR=function(t){pV(n,t);var e=vV(n);function n(i){var s;if(hV(this,n),s=e.call(this,i),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=NL(),s.controlRef=null,s.getControlRef=function(p){s.controlRef=p},s.focusedOptionRef=null,s.getFocusedOptionRef=function(p){s.focusedOptionRef=p},s.menuListRef=null,s.getMenuListRef=function(p){s.menuListRef=p},s.inputRef=null,s.getInputRef=function(p){s.inputRef=p},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(p,m){var v=s.props,b=v.onChange,A=v.name;m.name=A,s.ariaOnChange(p,m),b(p,m)},s.setValue=function(p,m,v){var b=s.props,A=b.closeMenuOnSelect,N=b.isMulti,k=b.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:k}),A&&(s.setState({inputIsHiddenAfterUpdate:!N}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(p,{action:m,option:v})},s.selectOption=function(p){var m=s.props,v=m.blurInputOnSelect,b=m.isMulti,A=m.name,N=s.state.selectValue,k=b&&s.isOptionSelected(p,N),V=s.isOptionDisabled(p,N);if(k){var O=s.getOptionValue(p);s.setValue(N.filter(function(F){return s.getOptionValue(F)!==O}),"deselect-option",p)}else if(!V)b?s.setValue([].concat(Ly(N),[p]),"select-option",p):s.setValue(p,"select-option");else{s.ariaOnChange(p,{action:"select-option",option:p,name:A});return}v&&s.blurInput()},s.removeValue=function(p){var m=s.props.isMulti,v=s.state.selectValue,b=s.getOptionValue(p),A=v.filter(function(k){return s.getOptionValue(k)!==b}),N=uh(m,A,A[0]||null);s.onChange(N,{action:"remove-value",removedValue:p}),s.focusInput()},s.clearValue=function(){var p=s.state.selectValue;s.onChange(uh(s.props.isMulti,[],null),{action:"clear",removedValues:p})},s.popValue=function(){var p=s.props.isMulti,m=s.state.selectValue,v=m[m.length-1],b=m.slice(0,m.length-1),A=uh(p,b,b[0]||null);v&&s.onChange(A,{action:"pop-value",removedValue:v})},s.getFocusedOptionId=function(p){return yg(s.state.focusableOptionsWithIds,p)},s.getFocusableOptionsWithIds=function(){return $T(Rh(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return P3.apply(void 0,[s.props.classNamePrefix].concat(m))},s.getOptionLabel=function(p){return rR(s.props,p)},s.getOptionValue=function(p){return sd(s.props,p)},s.getStyles=function(p,m){var v=s.props.unstyled,b=VL[p](m,v);b.boxSizing="border-box";var A=s.props.styles[p];return A?A(b,m):b},s.getClassNames=function(p,m){var v,b;return(v=(b=s.props.classNames)[p])===null||v===void 0?void 0:v.call(b,m)},s.getElementId=function(p){return"".concat(s.state.instancePrefix,"-").concat(p)},s.getComponents=function(){return iL(s.props)},s.buildCategorizedOptions=function(){return Rh(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return nR(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(p,m){s.setState({ariaSelection:De({value:p},m)})},s.onMenuMouseDown=function(p){p.button===0&&(p.stopPropagation(),p.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(p){s.blockOptionHover=!1},s.onControlMouseDown=function(p){if(!p.defaultPrevented){var m=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?p.target.tagName!=="INPUT"&&p.target.tagName!=="TEXTAREA"&&s.onMenuClose():m&&s.openMenu("first"):(m&&(s.openAfterFocus=!0),s.focusInput()),p.target.tagName!=="INPUT"&&p.target.tagName!=="TEXTAREA"&&p.preventDefault()}},s.onDropdownIndicatorMouseDown=function(p){if(!(p&&p.type==="mousedown"&&p.button!==0)&&!s.props.isDisabled){var m=s.props,v=m.isMulti,b=m.menuIsOpen;s.focusInput(),b?(s.setState({inputIsHiddenAfterUpdate:!v}),s.onMenuClose()):s.openMenu("first"),p.preventDefault()}},s.onClearIndicatorMouseDown=function(p){p&&p.type==="mousedown"&&p.button!==0||(s.clearValue(),p.preventDefault(),s.openAfterFocus=!1,p.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(p){typeof s.props.closeMenuOnScroll=="boolean"?p.target instanceof HTMLElement&&Bd(p.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(p)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(p){var m=p.touches,v=m&&m.item(0);v&&(s.initialTouchX=v.clientX,s.initialTouchY=v.clientY,s.userIsDragging=!1)},s.onTouchMove=function(p){var m=p.touches,v=m&&m.item(0);if(v){var b=Math.abs(v.clientX-s.initialTouchX),A=Math.abs(v.clientY-s.initialTouchY),N=5;s.userIsDragging=b>N||A>N}},s.onTouchEnd=function(p){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(p.target)&&s.menuListRef&&!s.menuListRef.contains(p.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(p){s.userIsDragging||s.onControlMouseDown(p)},s.onClearIndicatorTouchEnd=function(p){s.userIsDragging||s.onClearIndicatorMouseDown(p)},s.onDropdownIndicatorTouchEnd=function(p){s.userIsDragging||s.onDropdownIndicatorMouseDown(p)},s.handleInputChange=function(p){var m=s.props.inputValue,v=p.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(v,{action:"input-change",prevInputValue:m}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(p){s.props.onFocus&&s.props.onFocus(p),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(p){var m=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(p),s.onInputChange("",{action:"input-blur",prevInputValue:m}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(p){if(!(s.blockOptionHover||s.state.focusedOption===p)){var m=s.getFocusableOptions(),v=m.indexOf(p);s.setState({focusedOption:p,focusedOptionId:v>-1?s.getFocusedOptionId(p):null})}},s.shouldHideSelectedOptions=function(){return oR(s.props)},s.onValueInputFocus=function(p){p.preventDefault(),p.stopPropagation(),s.focus()},s.onKeyDown=function(p){var m=s.props,v=m.isMulti,b=m.backspaceRemovesValue,A=m.escapeClearsValue,N=m.inputValue,k=m.isClearable,V=m.isDisabled,O=m.menuIsOpen,F=m.onKeyDown,Q=m.tabSelectsValue,q=m.openMenuOnFocus,ie=s.state,$=ie.focusedOption,ee=ie.focusedValue,C=ie.selectValue;if(!V&&!(typeof F=="function"&&(F(p),p.defaultPrevented))){switch(s.blockOptionHover=!0,p.key){case"ArrowLeft":if(!v||N)return;s.focusValue("previous");break;case"ArrowRight":if(!v||N)return;s.focusValue("next");break;case"Delete":case"Backspace":if(N)return;if(ee)s.removeValue(ee);else{if(!b)return;v?s.popValue():k&&s.clearValue()}break;case"Tab":if(s.isComposing||p.shiftKey||!O||!Q||!$||q&&s.isOptionSelected($,C))return;s.selectOption($);break;case"Enter":if(p.keyCode===229)break;if(O){if(!$||s.isComposing)return;s.selectOption($);break}return;case"Escape":O?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:N}),s.onMenuClose()):k&&A&&s.clearValue();break;case" ":if(N)return;if(!O){s.openMenu("first");break}if(!$)return;s.selectOption($);break;case"ArrowUp":O?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":O?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!O)return;s.focusOption("pageup");break;case"PageDown":if(!O)return;s.focusOption("pagedown");break;case"Home":if(!O)return;s.focusOption("first");break;case"End":if(!O)return;s.focusOption("last");break;default:return}p.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++GL),s.state.selectValue=OT(i.value),i.menuIsOpen&&s.state.selectValue.length){var l=s.getFocusableOptionsWithIds(),c=s.buildFocusableOptions(),d=c.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=l,s.state.focusedOption=c[d],s.state.focusedOptionId=yg(l,c[d])}return s}return dV(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&NT(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var l=this.props,c=l.isDisabled,d=l.menuIsOpen,p=this.state.isFocused;(p&&!c&&s.isDisabled||p&&d&&!s.menuIsOpen)&&this.focusInput(),p&&c&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!p&&!c&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(NT(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,l){this.props.onInputChange(s,l)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var l=this,c=this.state,d=c.selectValue,p=c.isFocused,m=this.buildFocusableOptions(),v=s==="first"?0:m.length-1;if(!this.props.isMulti){var b=m.indexOf(d[0]);b>-1&&(v=b)}this.scrollToFocusedOptionOnUpdate=!(p&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:m[v],focusedOptionId:this.getFocusedOptionId(m[v])},function(){return l.onMenuOpen()})}},{key:"focusValue",value:function(s){var l=this.state,c=l.selectValue,d=l.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var p=c.indexOf(d);d||(p=-1);var m=c.length-1,v=-1;if(c.length){switch(s){case"previous":p===0?v=0:p===-1?v=m:v=p-1;break;case"next":p>-1&&p<m&&(v=p+1);break}this.setState({inputIsHidden:v!==-1,focusedValue:c[v]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",l=this.props.pageSize,c=this.state.focusedOption,d=this.getFocusableOptions();if(d.length){var p=0,m=d.indexOf(c);c||(m=-1),s==="up"?p=m>0?m-1:d.length-1:s==="down"?p=(m+1)%d.length:s==="pageup"?(p=m-l,p<0&&(p=0)):s==="pagedown"?(p=m+l,p>d.length-1&&(p=d.length-1)):s==="last"&&(p=d.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:d[p],focusedValue:null,focusedOptionId:this.getFocusedOptionId(d[p])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(vg):De(De({},vg),this.props.theme):vg}},{key:"getCommonProps",value:function(){var s=this.clearValue,l=this.cx,c=this.getStyles,d=this.getClassNames,p=this.getValue,m=this.selectOption,v=this.setValue,b=this.props,A=b.isMulti,N=b.isRtl,k=b.options,V=this.hasValue();return{clearValue:s,cx:l,getStyles:c,getClassNames:d,getValue:p,hasValue:V,isMulti:A,isRtl:N,options:k,selectOption:m,selectProps:b,setValue:v,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,l=s.isClearable,c=s.isMulti;return l===void 0?c:l}},{key:"isOptionDisabled",value:function(s,l){return iR(this.props,s,l)}},{key:"isOptionSelected",value:function(s,l){return aR(this.props,s,l)}},{key:"filterOption",value:function(s,l){return sR(this.props,s,l)}},{key:"formatOptionLabel",value:function(s,l){if(typeof this.props.formatOptionLabel=="function"){var c=this.props.inputValue,d=this.state.selectValue;return this.props.formatOptionLabel(s,{context:l,inputValue:c,selectValue:d})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,l=s.isDisabled,c=s.isSearchable,d=s.inputId,p=s.inputValue,m=s.tabIndex,v=s.form,b=s.menuIsOpen,A=s.required,N=this.getComponents(),k=N.Input,V=this.state,O=V.inputIsHidden,F=V.ariaSelection,Q=this.commonProps,q=d||this.getElementId("input"),ie=De(De(De({"aria-autocomplete":"list","aria-expanded":b,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":A,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},b&&{"aria-controls":this.getElementId("listbox")}),!c&&{"aria-readonly":!0}),this.hasValue()?(F==null?void 0:F.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return c?z.createElement(k,Le({},Q,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:q,innerRef:this.getInputRef,isDisabled:l,isHidden:O,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:m,form:v,type:"text",value:p},ie)):z.createElement(yL,Le({id:q,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:id,onFocus:this.onInputFocus,disabled:l,tabIndex:m,inputMode:"none",form:v,value:""},ie))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,l=this.getComponents(),c=l.MultiValue,d=l.MultiValueContainer,p=l.MultiValueLabel,m=l.MultiValueRemove,v=l.SingleValue,b=l.Placeholder,A=this.commonProps,N=this.props,k=N.controlShouldRenderValue,V=N.isDisabled,O=N.isMulti,F=N.inputValue,Q=N.placeholder,q=this.state,ie=q.selectValue,$=q.focusedValue,ee=q.isFocused;if(!this.hasValue()||!k)return F?null:z.createElement(b,Le({},A,{key:"placeholder",isDisabled:V,isFocused:ee,innerProps:{id:this.getElementId("placeholder")}}),Q);if(O)return ie.map(function(_,T){var R=_===$,P="".concat(s.getOptionLabel(_),"-").concat(s.getOptionValue(_));return z.createElement(c,Le({},A,{components:{Container:d,Label:p,Remove:m},isFocused:R,isDisabled:V,key:P,index:T,removeProps:{onClick:function(){return s.removeValue(_)},onTouchEnd:function(){return s.removeValue(_)},onMouseDown:function(D){D.preventDefault()}},data:_}),s.formatOptionLabel(_,"value"))});if(F)return null;var C=ie[0];return z.createElement(v,Le({},A,{data:C,isDisabled:V}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),l=s.ClearIndicator,c=this.commonProps,d=this.props,p=d.isDisabled,m=d.isLoading,v=this.state.isFocused;if(!this.isClearable()||!l||p||!this.hasValue()||m)return null;var b={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return z.createElement(l,Le({},c,{innerProps:b,isFocused:v}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),l=s.LoadingIndicator,c=this.commonProps,d=this.props,p=d.isDisabled,m=d.isLoading,v=this.state.isFocused;if(!l||!m)return null;var b={"aria-hidden":"true"};return z.createElement(l,Le({},c,{innerProps:b,isDisabled:p,isFocused:v}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),l=s.DropdownIndicator,c=s.IndicatorSeparator;if(!l||!c)return null;var d=this.commonProps,p=this.props.isDisabled,m=this.state.isFocused;return z.createElement(c,Le({},d,{isDisabled:p,isFocused:m}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),l=s.DropdownIndicator;if(!l)return null;var c=this.commonProps,d=this.props.isDisabled,p=this.state.isFocused,m={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return z.createElement(l,Le({},c,{innerProps:m,isDisabled:d,isFocused:p}))}},{key:"renderMenu",value:function(){var s=this,l=this.getComponents(),c=l.Group,d=l.GroupHeading,p=l.Menu,m=l.MenuList,v=l.MenuPortal,b=l.LoadingMessage,A=l.NoOptionsMessage,N=l.Option,k=this.commonProps,V=this.state.focusedOption,O=this.props,F=O.captureMenuScroll,Q=O.inputValue,q=O.isLoading,ie=O.loadingMessage,$=O.minMenuHeight,ee=O.maxMenuHeight,C=O.menuIsOpen,_=O.menuPlacement,T=O.menuPosition,R=O.menuPortalTarget,P=O.menuShouldBlockScroll,M=O.menuShouldScrollIntoView,D=O.noOptionsMessage,_e=O.onMenuScrollToTop,Se=O.onMenuScrollToBottom;if(!C)return null;var B=function(Y,oe){var me=Y.type,de=Y.data,ye=Y.isDisabled,ve=Y.isSelected,we=Y.label,Ne=Y.value,Ee=V===de,Fe=ye?void 0:function(){return s.onOptionHover(de)},Oe=ye?void 0:function(){return s.selectOption(de)},xe="".concat(s.getElementId("option"),"-").concat(oe),$e={id:xe,onClick:Oe,onMouseMove:Fe,onMouseOver:Fe,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:ve};return z.createElement(N,Le({},k,{innerProps:$e,data:de,isDisabled:ye,isSelected:ve,key:xe,label:we,type:me,value:Ne,isFocused:Ee,innerRef:Ee?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(Y.data,"menu"))},ne;if(this.hasOptions())ne=this.getCategorizedOptions().map(function(G){if(G.type==="group"){var Y=G.data,oe=G.options,me=G.index,de="".concat(s.getElementId("group"),"-").concat(me),ye="".concat(de,"-heading");return z.createElement(c,Le({},k,{key:de,data:Y,options:oe,Heading:d,headingProps:{id:ye,data:G.data},label:s.formatGroupLabel(G.data)}),G.options.map(function(ve){return B(ve,"".concat(me,"-").concat(ve.index))}))}else if(G.type==="option")return B(G,"".concat(G.index))});else if(q){var ce=ie({inputValue:Q});if(ce===null)return null;ne=z.createElement(b,k,ce)}else{var he=D({inputValue:Q});if(he===null)return null;ne=z.createElement(A,k,he)}var L={minMenuHeight:$,maxMenuHeight:ee,menuPlacement:_,menuPosition:T,menuShouldScrollIntoView:M},U=z.createElement(X3,Le({},k,L),function(G){var Y=G.ref,oe=G.placerProps,me=oe.placement,de=oe.maxHeight;return z.createElement(p,Le({},k,L,{innerRef:Y,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:q,placement:me}),z.createElement(wL,{captureEnabled:F,onTopArrive:_e,onBottomArrive:Se,lockEnabled:P},function(ye){return z.createElement(m,Le({},k,{innerRef:function(we){s.getMenuListRef(we),ye(we)},innerProps:{role:"listbox","aria-multiselectable":k.isMulti,id:s.getElementId("listbox")},isLoading:q,maxHeight:de,focusedOption:V}),ne)}))});return R||T==="fixed"?z.createElement(v,Le({},k,{appendTo:R,controlElement:this.controlRef,menuPlacement:_,menuPosition:T}),U):U}},{key:"renderFormField",value:function(){var s=this,l=this.props,c=l.delimiter,d=l.isDisabled,p=l.isMulti,m=l.name,v=l.required,b=this.state.selectValue;if(v&&!this.hasValue()&&!d)return z.createElement(RL,{name:m,onFocus:this.onValueInputFocus});if(!(!m||d))if(p)if(c){var A=b.map(function(V){return s.getOptionValue(V)}).join(c);return z.createElement("input",{name:m,type:"hidden",value:A})}else{var N=b.length>0?b.map(function(V,O){return z.createElement("input",{key:"i-".concat(O),name:m,type:"hidden",value:s.getOptionValue(V)})}):z.createElement("input",{name:m,type:"hidden",value:""});return z.createElement("div",null,N)}else{var k=b[0]?this.getOptionValue(b[0]):"";return z.createElement("input",{name:m,type:"hidden",value:k})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,l=this.state,c=l.ariaSelection,d=l.focusedOption,p=l.focusedValue,m=l.isFocused,v=l.selectValue,b=this.getFocusableOptions();return z.createElement(hL,Le({},s,{id:this.getElementId("live-region"),ariaSelection:c,focusedOption:d,focusedValue:p,isFocused:m,selectValue:v,focusableOptions:b,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),l=s.Control,c=s.IndicatorsContainer,d=s.SelectContainer,p=s.ValueContainer,m=this.props,v=m.className,b=m.id,A=m.isDisabled,N=m.menuIsOpen,k=this.state.isFocused,V=this.commonProps=this.getCommonProps();return z.createElement(d,Le({},V,{className:v,innerProps:{id:b,onKeyDown:this.onKeyDown},isDisabled:A,isFocused:k}),this.renderLiveRegion(),z.createElement(l,Le({},V,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:A,isFocused:k,menuIsOpen:N}),z.createElement(p,Le({},V,{isDisabled:A}),this.renderPlaceholderOrValue(),this.renderInput()),z.createElement(c,Le({},V,{isDisabled:A}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,l){var c=l.prevProps,d=l.clearFocusValueOnUpdate,p=l.inputIsHiddenAfterUpdate,m=l.ariaSelection,v=l.isFocused,b=l.prevWasFocused,A=l.instancePrefix,N=s.options,k=s.value,V=s.menuIsOpen,O=s.inputValue,F=s.isMulti,Q=OT(k),q={};if(c&&(k!==c.value||N!==c.options||V!==c.menuIsOpen||O!==c.inputValue)){var ie=V?HL(s,Q):[],$=V?$T(Rh(s,Q),"".concat(A,"-option")):[],ee=d?qL(l,Q):null,C=$L(l,ie),_=yg($,C);q={selectValue:Q,focusedOption:C,focusedOptionId:_,focusableOptionsWithIds:$,focusedValue:ee,clearFocusValueOnUpdate:!1}}var T=p!=null&&s!==c?{inputIsHidden:p,inputIsHiddenAfterUpdate:void 0}:{},R=m,P=v&&b;return v&&!P&&(R={value:uh(F,Q,Q[0]||null),options:Q,action:"initial-input-focus"},P=!b),(m==null?void 0:m.action)==="initial-input-focus"&&(R=null),De(De(De({},q),T),{},{prevProps:s,ariaSelection:R,prevWasFocused:P})}}]),n}(z.Component);lR.defaultProps=BL;var YL=z.forwardRef(function(t,e){var n=fV(t);return z.createElement(lR,Le({ref:e},n))}),KL=YL;const ku=Dr(Yn),QL=()=>{const[t,e]=z.useState(""),[n,i]=z.useState(""),[s,l]=z.useState([]),[c,d]=z.useState([]),[p,m]=z.useState(null),[v,b]=z.useState(!1),[A,N]=z.useState(""),[k,V]=z.useState(null),[O,F]=z.useState([]),[Q,q]=z.useState([]),[ie,$]=z.useState(!1),[ee,C]=z.useState(null);z.useEffect(()=>{(async()=>{try{const[ne,ce]=await Promise.all([ti(Cn(ku,"machines")),ti(Cn(ku,"assignments"))]),he=ne.docs.map(U=>({id:U.id,...U.data()}));l(he);const L=ce.docs.map(U=>{const G=U.data();return{id:U.id,operator:G.operator??"",machines:G.machines??[],timestamp:G.timestamp??null}});d(L)}catch(ne){console.error("Error fetching data:",ne)}})()},[]);const _=c.filter(B=>B.operator.toUpperCase().includes(n.toUpperCase())),T=B=>{e(B.operator),F(B.machines),q(B.machines),m(B.id??null)},R=B=>c.some(ne=>ne.operator.toUpperCase()===B.toUpperCase()&&ne.id!==p),P=B=>{B&&(V(B),N(""),b(!0))},M=async()=>{if(A==="C4ballo.2024*"&&k)try{await Zk(Qa(ku,"assignments",k)),d(B=>B.filter(ne=>ne.id!==k)),alert("Asignacin eliminada"),k===p&&(e(""),F([]),m(null))}catch(B){console.error("Error eliminando:",B),alert("Error al eliminar")}else alert("Contrasea incorrecta.");b(!1),V(null)},D=async B=>{B.preventDefault();const ne=t.toUpperCase();if(R(ne)&&!p){alert(`El operario "${t}" ya tiene asignada una mquina. Por favor, busque y edite esa asignacin.`);return}const ce={operator:ne,machines:O,timestamp:Xt.now()};try{if(p){const he=Qa(ku,"assignments",p);await bx(he,ce),d(L=>L.map(U=>U.id===p?{...U,...ce}:U)),alert("Asignacin actualizada")}else{const he=await pl(Cn(ku,"assignments"),ce);d(L=>[...L,{id:he.id,...ce}]),alert("Asignacin guardada")}e(""),F([]),q([]),m(null),i("")}catch(he){console.error("Error al guardar:",he),alert("Hubo un error al guardar")}},_e=s.filter(B=>B.abbreviation).map(B=>({value:B.abbreviation,label:B.abbreviation})),Se=B=>{p&&O.includes(B)?(C(B),$(!0)):F(ne=>ne.filter(ce=>ce!==B))};return w.jsxs("div",{className:"p-6 rounded-lg shadow-md w-full max-w-full mx-auto backgroundForm",children:[w.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Asignar Mquinas a operarios"}),w.jsxs("form",{onSubmit:D,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1 text-white",children:"Operario"}),w.jsx("input",{type:"text",value:t,onChange:B=>e(B.target.value),className:"w-full border px-3 bg-gray-200 py-2 rounded-md",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1 text-white",children:"Seleccionar mquinas"}),w.jsx(KL,{isMulti:!0,options:_e,value:O.map(B=>({value:B,label:B})),placeholder:"Buscar y seleccionar mquinas...",className:"z-0",onKeyDown:B=>{B.key==="Backspace"&&p&&O.length>0&&(Se(O[O.length-1]),B.preventDefault())},onFocus:()=>{q(O)},onChange:B=>{const ne=Array.isArray(B)?B.map(he=>he.value):[],ce=Q.filter(he=>!ne.includes(he));if(ce.length>0&&p){C(ce[0]),$(!0);return}F(ne)}})]}),w.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:p?"Actualizar":"Asignar"})]}),w.jsxs("div",{className:"bg-gray-700 p-3 mt-5",children:[w.jsxs("div",{className:"mb-4 mt-5 ",children:[w.jsx("label",{className:"block mb-1 text-white",children:"Buscar Cdigo de Operario"}),w.jsx("input",{type:"text",placeholder:"Buscar...",value:n,onChange:B=>i(B.target.value),className:"w-full border px-3 bg-gray-200 py-2 rounded-md"})]}),w.jsxs("div",{className:"mt-8",children:[w.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Operarios y sus asignaciones"}),_.length===0?w.jsx("p",{className:"text-white",children:"No hay coincidencias."}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map(B=>w.jsxs("div",{className:"bg-gray-800 p-4 rounded shadow hover:shadow-lg transition-shadow duration-300 relative",children:[w.jsx("h4",{className:"text-xl font-semibold mb-2 text-white",children:B.operator}),w.jsxs("p",{className:"mb-1 text-white",children:[w.jsx("strong",{children:"Mquinas:"})," ",w.jsx("small",{className:"font-bold text-emerald-500",children:B.machines.join(", ")})]}),w.jsxs("p",{className:"mb-1 text-white",children:[w.jsx("strong",{children:"Fecha:"})," ",B.timestamp?new Date(B.timestamp.seconds*1e3).toLocaleString():"Sin fecha"]}),w.jsxs("div",{className:"flex space-x-2 mt-2",children:[w.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded",onClick:()=>T(B),children:"Editar"}),w.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded",onClick:()=>P(B.id),children:"Eliminar"})]})]},B.id))})]})]}),v&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white p-6 rounded shadow max-w-sm w-full",children:[w.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Ingrese la contrasea para eliminar"}),w.jsx("input",{type:"password",className:"w-full border px-3 py-2 rounded mb-4",value:A,onChange:B=>N(B.target.value),placeholder:"Contrasea"}),w.jsxs("div",{className:"flex justify-end space-x-2",children:[w.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded",onClick:()=>{b(!1),C(null),$(!1),N("")},children:"Cancelar"}),w.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded",onClick:M,children:"Confirmar"})]})]})}),ie&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white p-6 rounded shadow max-w-sm w-full",children:[w.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Ingrese la contrasea para quitar la mquina"}),w.jsx("input",{type:"password",className:"w-full border px-3 py-2 rounded mb-4",value:A,onChange:B=>N(B.target.value),placeholder:"Contrasea"}),w.jsxs("div",{className:"flex justify-end space-x-2",children:[w.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded",onClick:()=>{$(!1),C(null),N("")},children:"Cancelar"}),w.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded",onClick:()=>{A==="C4ballo.2024*"?ee&&F(B=>B.filter(ne=>ne!==ee)):alert("Contrasea incorrecta"),$(!1),C(null),N("")},children:"Confirmar"})]})]})})]})};function YT(){return w.jsx(w.Fragment,{children:w.jsx(QL,{})})}const XL=[{title:"Registrar",slug:"f1315"},{title:"Ver registros",slug:"eficence"}];function WL({item:t}){return w.jsx(dd,{to:`/picado/${t.slug}`,children:w.jsx("button",{className:"button",children:t.title})})}const ZL=()=>w.jsx(w.Fragment,{children:w.jsxs("div",{className:"flex flex-col items-center p-4 space-y-6 md:space-y-8",children:[w.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:XL.map((t,e)=>w.jsx(WL,{item:t},e))}),w.jsx("div",{className:"w-full ",children:w.jsx(jv,{})})]})}),_g=Dr(Yn),JL=Sc(),bg=({editable:t=!1})=>{var L;const[e,n]=z.useState([]),[i,s]=z.useState(null),[l,c]=z.useState({}),[d,p]=z.useState(""),[m,v]=z.useState(null),[b,A]=z.useState(!1),[N,k]=z.useState(null),V=U=>{k(U),A(!0)},O=()=>{A(!1),k(null)},[F,Q]=z.useState(""),[q,ie]=z.useState(""),[$,ee]=z.useState({}),[C,_]=z.useState(()=>new Date().toISOString().slice(0,7)),[T,R]=z.useState("");z.useEffect(()=>{const U=JL.currentUser;U&&v(U.email)},[]);const P=async()=>{try{const U=await ti(Cn(_g,"machines")),G={};U.forEach(Y=>{const oe=Y.data();oe.abbreviation&&oe.efficiency&&(G[oe.abbreviation]=oe.efficiency)}),ee(G)}catch(U){console.error("Error fetching machine standards:",U)}},M=U=>{if(!U)return"";const G=new Date(U),Y=String(G.getDate()).padStart(2,"0"),oe=String(G.getMonth()+1).padStart(2,"0"),me=G.getFullYear(),de=String(G.getHours()).padStart(2,"0"),ye=String(G.getMinutes()).padStart(2,"0");return`${Y}/${oe}/${me} ${de}:${ye}`};z.useEffect(()=>{(async()=>{try{const Y=(await ti(Cn(_g,"registro_horometros"))).docs.map(oe=>({id:oe.id,...oe.data()}));n(Y)}catch(G){console.error("Error fetching registros:",G)}})(),P()},[]);const D=Array.from(new Set(e.map(U=>U.operatorCode))),_e=e.filter(U=>F?U.fecha===F:!0).filter(U=>q?U.machines.some(G=>G.machine===q):!0).filter(U=>T?U.operatorCode===T:!0).sort((U,G)=>new Date(G.fecha).getTime()-new Date(U.fecha).getTime()).filter(U=>C?U.fecha.slice(0,7)===C:!0),Se=_e.reduce((U,G)=>(G.machines.forEach(Y=>{const oe=parseFloat(Y.horometroFinal),me=parseFloat(Y.horometroInicial),de=isNaN(oe)||isNaN(me)?0:oe-me,ye=$[Y.machine]??"0",ve=parseFloat(ye),we=typeof Y.horasAsignadas=="string"?parseFloat(Y.horasAsignadas):Y.horasAsignadas;if(!isNaN(de)&&!isNaN(ve)&&!isNaN(we)){const Ne=de-ve*we;U+=Ne}}),U),0),B=(U,G)=>{s(U.id+"-"+G);const Y=U.machines[G],oe=U.fecha,de=new Date(oe).toISOString().slice(0,16);c({...Y,fechaHora:de}),p(String(Y.horasAsignadas))},ne=async(U,G)=>{const Y=e.findIndex(Oe=>Oe.id===U);if(Y===-1)return;const oe=e[Y],me=parseFloat(d);if(isNaN(me)){alert("Ingrese un nmero vlido para horas.");return}const de=[...oe.machines],ye=oe.originalMachines?oe.originalMachines[G]:void 0,ve=ye??{horasAsignadas:"",horometroFinal:"",horometroInicial:"",machine:"",reference:"",paradasMayores:"",observaciones:""};de[G]={horasAsignadas:me,horometroFinal:l.horometroFinal??(ye==null?void 0:ye.horometroFinal)??"",horometroInicial:l.horometroInicial??(ye==null?void 0:ye.horometroInicial)??"",machine:l.machine??(ye==null?void 0:ye.machine)??"",paradasMayores:l.paradasMayores??(ye==null?void 0:ye.paradasMayores)??"",reference:l.reference??(ye==null?void 0:ye.reference)??"",observaciones:l.observaciones??(ye==null?void 0:ye.observaciones)??""};let we=oe.fecha;l.fechaHora&&(we=new Date(l.fechaHora).toISOString());const Ne=[];Object.keys(de[G]).forEach(Oe=>{const xe=ve[Oe],$e=de[G][Oe];xe!==$e&&Ne.push({campo:Oe,valorAnterior:xe,valorNuevo:$e})});const Ee=new Date().toLocaleString("es-CO"),Fe=m??"Desconocido";try{await bx(Qa(_g,"registro_horometros",U),{machines:de,fecha:we,editadoPor:Fe,camposModificados:Ne.join(", "),fechaUltimaEdicion:new Date().toISOString(),detallesEdicion:[...oe.detallesEdicion??[],{usuario:Fe,fechaHora:Ee,valorAnterior:Ne.reduce((xe,$e)=>(xe[$e.campo]=$e.valorAnterior,xe),{}),valorNuevo:Ne.reduce((xe,$e)=>(xe[$e.campo]=$e.valorNuevo,xe),{})}]});const Oe=[...e];Oe[Y]={...oe,machines:de,fecha:we},n(Oe),s(null)}catch(Oe){console.error("Error al guardar:",Oe)}},ce=U=>typeof U=="number"?U.toFixed(2):String(U),he=()=>{const U=["Fecha","Cdigo","Mquina","Hormetro inicial","Hormetro final","Reference","Paradas mayores","Observaciones","Horas Asignadas","Horas trabajadas","Estandar","Eficiencia"],G=_e.flatMap(de=>de.machines.map(ye=>{const ve=parseFloat(ye.horometroFinal),we=parseFloat(ye.horometroInicial),Ne=isNaN(ve)||isNaN(we)?0:ve-we,Ee=$[ye.machine]??"0",Fe=parseFloat(Ee),Oe=typeof ye.horasAsignadas=="string"?parseFloat(ye.horasAsignadas):ye.horasAsignadas,xe=!isNaN(Ne)&&!isNaN(Fe)&&!isNaN(Oe)?Ne-Fe*Oe:0;return{Fecha:de.fecha,Cdigo:de.operatorCode,Mquina:ye.machine,"Hormetro inicial":ye.horometroInicial,"Hormetro final":ye.horometroFinal,Reference:ye.reference,"Paradas mayores":ye.paradasMayores,Observaciones:ye.observaciones,"Horas Asignadas":Oe,"Horas trabajadas":Ne.toFixed(2),Estandar:Fe,Eficiencia:xe.toFixed(2)}})),Y="data:text/csv;charset=utf-8,"+[U.join(","),...G.map(de=>U.map(ye=>`"${String(de[ye]??"")}"`).join(","))].join(`
`),oe=encodeURI(Y),me=document.createElement("a");me.setAttribute("href",oe),me.setAttribute("download","eficiencia_picado.csv"),document.body.appendChild(me),me.click(),document.body.removeChild(me)};return w.jsxs("div",{className:"p-6 w-full bg-white rounded-lg border border-gray-200 shadow-lg overflow-x-auto relative",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800"}),w.jsx("button",{onClick:he,className:"bg-blue-950 hover:bg-blue-900 text-white px-4 py-2 rounded shadow cursor-pointer",children:"Exportar CSV"})]}),w.jsx("hr",{}),w.jsxs("div",{className:"flex flex-col md:flex-row mb-4 gap-2 items-center",children:[w.jsxs("div",{children:[w.jsx("label",{className:"mr-2 font-semibold",children:"Filtrar por da:"}),w.jsx("input",{type:"date",value:F,onChange:U=>Q(U.target.value),className:"border p-1 rounded"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"mr-2 font-semibold",children:"Filtrar por mquina:"}),w.jsxs("select",{value:q,onChange:U=>ie(U.target.value),className:"border p-1 rounded",children:[w.jsx("option",{value:"",children:"Todas"}),Array.from(new Set(e.flatMap(U=>U.machines.map(G=>G.machine)))).map(U=>w.jsx("option",{value:U,children:U},U))]})]})]}),w.jsxs("div",{className:"flex flex-col md:flex-row mb-4 gap-2 items-center",children:[w.jsxs("div",{children:[w.jsx("label",{className:"mr-2 font-semibold",children:"Filtrar por mes:"}),w.jsx("input",{type:"month",value:C,onChange:U=>_(U.target.value),className:"border p-1 rounded"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"mr-2 font-semibold",children:"Filtrar por operario:"}),w.jsxs("select",{value:T,onChange:U=>R(U.target.value),className:"border p-1 rounded",children:[w.jsx("option",{value:"",children:"Todos"}),D.map(U=>w.jsx("option",{value:U,children:U},U))]})]})]}),w.jsxs("div",{className:"overflow-x-auto w-full",children:[w.jsxs("table",{className:"min-w-full w-full border border-gray-300 text-sm text-left",children:[w.jsx("thead",{className:"backgroundForm text-white",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-3 py-2 border",children:"Fecha"}),w.jsx("th",{className:"px-3 py-2 border",children:"Maquina"}),w.jsx("th",{className:"px-3 py-2 border",children:"Cod.Operario"}),w.jsx("th",{className:"px-3 py-2 border",children:"Horometro inicial"}),w.jsx("th",{className:"px-3 py-2 border",children:"Horometro final"}),w.jsx("th",{className:"px-3 py-2 border",children:"reference"}),w.jsx("th",{className:"px-3 py-2 border",children:"Paradas mayores"}),w.jsx("th",{className:"px-3 py-2 border",children:"Observaciones"}),w.jsx("th",{className:"px-3 py-2 border",children:"Horas Asignadas"}),w.jsx("th",{className:"px-3 py-2 border",children:"Horas trabajadas"}),w.jsx("th",{className:"px-3 py-2 border",children:"Estandar"}),w.jsx("th",{className:"px-3 py-2 border",children:"Eficiencia en horas"}),t&&w.jsx("th",{className:"px-3 py-2 border",children:"Acciones"}),w.jsx("th",{className:"px-3 py-2 border",children:""})]})}),w.jsx("tbody",{children:_e.flatMap(U=>U.machines.map((G,Y)=>{const oe=parseFloat(G.horometroFinal),me=parseFloat(G.horometroInicial),de=isNaN(oe)||isNaN(me)?0:oe-me,ye=$[G.machine]??"0",ve=parseFloat(ye),we=typeof G.horasAsignadas=="string"?parseFloat(G.horasAsignadas):G.horasAsignadas;let Ne=0;!isNaN(de)&&!isNaN(ve)&&!isNaN(we)&&(Ne=de-ve*we);let Ee="";Ne>=0?Ee="bg-green-200":Ne>=-10&&Ne<0?Ee="bg-yellow-200":Ne>=-100&&Ne<-10&&(Ee="bg-red-200");const Fe=i===U.id+"-"+Y;return w.jsxs("tr",{className:`hover:bg-gray-100 ${Ee}`,children:[w.jsx("td",{className:"px-3 py-2 border",children:Fe?w.jsx("input",{type:"datetime-local",value:l.fechaHora??"",onChange:Oe=>c(xe=>({...xe,fechaHora:Oe.target.value})),className:"w-full border p-1"}):M(U.fecha)})," ",w.jsx("td",{className:"px-3 py-2 border",children:G.machine}),w.jsx("td",{className:"px-3 py-2 border",children:U.operatorCode}),w.jsx("td",{className:"px-3 py-2 border",children:Fe?w.jsx("input",{type:"number",step:"0.01",value:l.horometroInicial??"",onChange:Oe=>c(xe=>({...xe,horometroInicial:Oe.target.value})),className:"w-full border p-1"}):G.horometroInicial&&G.horometroInicial.trim()!==""?parseFloat(G.horometroInicial).toFixed(2):"0.00"}),w.jsx("td",{className:"px-3 py-2 border",children:Fe?w.jsx("input",{type:"number",step:"0.01",value:l.horometroFinal??"",onChange:Oe=>c(xe=>({...xe,horometroFinal:Oe.target.value})),className:"w-full border p-1"}):G.horometroFinal&&G.horometroFinal.trim()!==""?parseFloat(G.horometroFinal).toFixed(2):"0.00"}),w.jsx("td",{className:"px-3 py-2 border",children:G.reference?G.reference:"N/A"}),w.jsx("td",{className:"px-3 py-2 border",children:Fe?w.jsx("input",{type:"text",value:l.paradasMayores??"",onChange:Oe=>c(xe=>({...xe,paradasMayores:Oe.target.value})),className:"w-full border p-1"}):G.paradasMayores&&G.paradasMayores.trim()!==""?G.paradasMayores:"0.00"}),w.jsx("td",{className:"px-3 py-2 border",children:G.observaciones}),w.jsx("td",{className:"px-3 py-2 border",children:Fe?w.jsx("input",{type:"number",step:"0.01",value:d,onChange:Oe=>p(Oe.target.value),className:"w-full border p-1 ",min:"0"}):ce(G.horasAsignadas||0)}),w.jsx("td",{className:"px-3 py-2 border",children:de.toFixed(2)}),w.jsx("td",{className:"px-3 py-2 border",children:$[G.machine]??"N/A"}),w.jsx("td",{className:"px-3 py-2 border",children:Ne.toFixed(2)}),t&&w.jsx("td",{className:"px-3 py-2 border",children:Fe?w.jsx("button",{onClick:()=>ne(U.id,Y),className:"bg-blue-500 text-white px-2 py-1 rounded cursor-pointer",children:"Guardar"}):w.jsx("button",{onClick:()=>B(U,Y),className:"bg-gray-500 text-white px-2 py-1 rounded cursor-pointer",children:"Editar"})}),w.jsx("td",{className:"px-3 py-2 border text-center",children:U.detallesEdicion&&U.detallesEdicion.length>0&&w.jsx("div",{className:"relative inline-block cursor-pointer",onClick:()=>V(U),children:w.jsx("span",{className:"text-blue-600",children:""})})})]},`${U.id}-${Y}`)}))})]}),b&&N&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white p-4 rounded shadow-lg max-w-lg w-full max-h-full overflow-y-auto",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Detalles de Edicin"}),w.jsx("button",{className:"absolute top-2 right-2 text-red-600 font-bold",onClick:O,children:""}),(L=N.detallesEdicion)==null?void 0:L.map((U,G)=>w.jsxs("div",{className:"mb-4 border-b border-gray-300 pb-2",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Usuario:"})," ",U.usuario]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Fecha y hora:"})," ",U.fechaHora]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Modificaciones:"}),w.jsx("ul",{children:Object.keys(U.valorAnterior).map(Y=>{const oe=U.valorAnterior[Y],me=U.valorNuevo[Y];return oe!==me?w.jsxs("li",{children:[w.jsxs("strong",{children:[Y,":"]})," ",oe," "," ",me]},Y):null})})]})]},G))]})})]}),w.jsxs("div",{className:`mt-4 p-2 rounded shadow ${Se>=0?"bg-green-200 text-green-800":Se>=-5&&Se<=-.1?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"}`,children:[w.jsx("strong",{children:"Total eficiencia del mes: "}),Se.toFixed(2)]})]})},e9=[{title:"Operarios",subtitle:"Gestin de tareas y seguimiento de operarios",url:"/picado"},{title:"Asignaciones",subtitle:"Asigna maquinas a operarios",url:"/supervisor"},{title:"Configuracion",subtitle:"Crearcin de maquinas, usuarios y edicin de registros",url:"/configurations"}],t9="/assets/user-Ckodi9qk.png",KT=Sc(Yn),n9=Dr(Yn),r9=e9,i9=({openMenu:t})=>{const[e,n]=z.useState({user:null,photoURL:null}),i=yc();z.useEffect(()=>{const l=Cw(KT,async c=>{if(c){const d=Qa(n9,"users",c.uid),p=await Zh(d),m=p.exists()?p.data().role:null;n({user:c.displayName||c.email||c.uid,photoURL:c.photoURL||null,role:m||null})}else n({user:null,photoURL:null,role:null})});return()=>{l()}},[]);const s=()=>{OD(KT).then(()=>{console.log("Sesion cerrada correctamente"),i("/")}).catch(l=>{console.log(l)})};return w.jsx(w.Fragment,{children:w.jsxs("div",{id:"menu",className:"bg-gray-900 min-h-screen z-10 text-slate-300 w-64 fixed top-0 h-screen overflow-y-scroll transition-transform duration-300 ease-in-out  translate-x-1 right-1",children:[w.jsx("div",{id:"logo",className:"my-4 px-6",children:w.jsxs("h1",{className:"text-lg md:text-2xl font-bold text-white",children:["El Caballo",w.jsx("span",{className:"text-blue-500",children:"S.A"}),"."]})}),w.jsxs("div",{id:"profile",className:"px-6 py-10",children:[w.jsx("p",{className:"text-slate-500",children:"Bienvenido,"}),w.jsxs("a",{href:"#",className:"inline-flex space-x-2 items-center",children:[w.jsx("span",{children:e.photoURL?w.jsx("img",{className:"rounded-full w-full h-auto",src:e.photoURL,alt:""}):w.jsx("div",{children:w.jsx("img",{className:"w-16",src:t9,alt:"Foto de Usuario"})})}),w.jsx("span",{className:"text-sm md:text-base font-bold",children:e.user?w.jsxs(w.Fragment,{children:[w.jsx("p",{children:e.user}),w.jsx("span",{className:"text-xs text-slate-400 italic",children:e.role?e.role:"Sin rol"})]}):w.jsx("p",{children:"No hay usuario autenticado"})})]})]}),w.jsx("div",{className:"flex justify-center items-center pb-5",children:w.jsx("button",{onClick:s,className:"bg-red-600 w-full rounded-2xl mx-5 hover:bg-white/8 cursor-pointer",children:"Salir"})}),w.jsx("div",{id:"nav",className:"w-full px-6",children:r9.map((l,c)=>w.jsx(dd,{to:l.url,className:"w-full px-2 inline-flex space-x-2 items-center border-b border-slate-700 py-3 hover:bg-white/5 transition ease-linear duration-150",children:w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-lg font-bold leading-5 text-white",children:l.title}),w.jsx("span",{className:"text-sm text-white/50 hidden md:block",children:l.subtitle})]})},c))})]})})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const a9={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},s9={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function o9(t,e,n){return(e=u9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(n),!0).forEach(function(i){o9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function l9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u9(t){var e=l9(t,"string");return typeof e=="symbol"?e:e+""}const XT=()=>{};let Ky={},uR={},cR=null,fR={mark:XT,measure:XT};try{typeof window<"u"&&(Ky=window),typeof document<"u"&&(uR=document),typeof MutationObserver<"u"&&(cR=MutationObserver),typeof performance<"u"&&(fR=performance)}catch{}const{userAgent:WT=""}=Ky.navigator||{},Xa=Ky,St=uR,ZT=cR,ch=fR;Xa.document;const Zi=!!St.documentElement&&!!St.head&&typeof St.addEventListener=="function"&&typeof St.createElement=="function",hR=~WT.indexOf("MSIE")||~WT.indexOf("Trident/");var c9=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,f9=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,dR={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},h9={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},pR=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],On="classic",Hd="duotone",d9="sharp",p9="sharp-duotone",mR=[On,Hd,d9,p9],m9={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},g9={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},v9=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),y9={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},_9=["fak","fa-kit","fakd","fa-kit-duotone"],JT={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},b9=["kit"],E9={kit:{"fa-kit":"fak"}},T9=["fak","fakd"],S9={kit:{fak:"fa-kit"}},eS={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},fh={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},w9=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],A9=["fak","fa-kit","fakd","fa-kit-duotone"],x9={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},R9={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},C9={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},mv={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},I9=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],gv=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...w9,...I9],O9=["solid","regular","light","thin","duotone","brands"],gR=[1,2,3,4,5,6,7,8,9,10],N9=gR.concat([11,12,13,14,15,16,17,18,19,20]),D9=[...Object.keys(C9),...O9,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",fh.GROUP,fh.SWAP_OPACITY,fh.PRIMARY,fh.SECONDARY].concat(gR.map(t=>"".concat(t,"x"))).concat(N9.map(t=>"w-".concat(t))),M9={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Qi="___FONT_AWESOME___",vv=16,vR="fa",yR="svg-inline--fa",$s="data-fa-i2svg",yv="data-fa-pseudo-element",P9="data-fa-pseudo-element-pending",Qy="data-prefix",Xy="data-icon",tS="fontawesome-i2svg",k9="async",V9=["HTML","HEAD","STYLE","SCRIPT"],_R=(()=>{try{return!0}catch{return!1}})();function Ic(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[On]}})}const bR=pe({},dR);bR[On]=pe(pe(pe(pe({},{"fa-duotone":"duotone"}),dR[On]),JT.kit),JT["kit-duotone"]);const L9=Ic(bR),_v=pe({},y9);_v[On]=pe(pe(pe(pe({},{duotone:"fad"}),_v[On]),eS.kit),eS["kit-duotone"]);const nS=Ic(_v),bv=pe({},mv);bv[On]=pe(pe({},bv[On]),S9.kit);const Wy=Ic(bv),Ev=pe({},R9);Ev[On]=pe(pe({},Ev[On]),E9.kit);Ic(Ev);const U9=c9,ER="fa-layers-text",j9=f9,F9=pe({},m9);Ic(F9);const z9=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Eg=h9,B9=[...b9,...D9],Zu=Xa.FontAwesomeConfig||{};function H9(t){var e=St.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function q9(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}St&&typeof St.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,i]=e;const s=q9(H9(n));s!=null&&(Zu[i]=s)});const TR={styleDefault:"solid",familyDefault:On,cssPrefix:vR,replacementClass:yR,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Zu.familyPrefix&&(Zu.cssPrefix=Zu.familyPrefix);const gl=pe(pe({},TR),Zu);gl.autoReplaceSvg||(gl.observeMutations=!1);const Ae={};Object.keys(TR).forEach(t=>{Object.defineProperty(Ae,t,{enumerable:!0,set:function(e){gl[t]=e,Ju.forEach(n=>n(Ae))},get:function(){return gl[t]}})});Object.defineProperty(Ae,"familyPrefix",{enumerable:!0,set:function(t){gl.cssPrefix=t,Ju.forEach(e=>e(Ae))},get:function(){return gl.cssPrefix}});Xa.FontAwesomeConfig=Ae;const Ju=[];function $9(t){return Ju.push(t),()=>{Ju.splice(Ju.indexOf(t),1)}}const Ca=vv,ni={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function G9(t){if(!t||!Zi)return;const e=St.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=St.head.childNodes;let i=null;for(let s=n.length-1;s>-1;s--){const l=n[s],c=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(i=l)}return St.head.insertBefore(e,i),t}const Y9="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function mc(){let t=12,e="";for(;t-- >0;)e+=Y9[Math.random()*62|0];return e}function Al(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Zy(t){return t.classList?Al(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function SR(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function K9(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(SR(t[n]),'" '),"").trim()}function qd(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function Jy(t){return t.size!==ni.size||t.x!==ni.x||t.y!==ni.y||t.rotate!==ni.rotate||t.flipX||t.flipY}function Q9(t){let{transform:e,containerWidth:n,iconWidth:i}=t;const s={transform:"translate(".concat(n/2," 256)")},l="translate(".concat(e.x*32,", ").concat(e.y*32,") "),c="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),d="rotate(".concat(e.rotate," 0 0)"),p={transform:"".concat(l," ").concat(c," ").concat(d)},m={transform:"translate(".concat(i/2*-1," -256)")};return{outer:s,inner:p,path:m}}function X9(t){let{transform:e,width:n=vv,height:i=vv,startCentered:s=!1}=t,l="";return s&&hR?l+="translate(".concat(e.x/Ca-n/2,"em, ").concat(e.y/Ca-i/2,"em) "):s?l+="translate(calc(-50% + ".concat(e.x/Ca,"em), calc(-50% + ").concat(e.y/Ca,"em)) "):l+="translate(".concat(e.x/Ca,"em, ").concat(e.y/Ca,"em) "),l+="scale(".concat(e.size/Ca*(e.flipX?-1:1),", ").concat(e.size/Ca*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var W9=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function wR(){const t=vR,e=yR,n=Ae.cssPrefix,i=Ae.replacementClass;let s=W9;if(n!==t||i!==e){const l=new RegExp("\\.".concat(t,"\\-"),"g"),c=new RegExp("\\--".concat(t,"\\-"),"g"),d=new RegExp("\\.".concat(e),"g");s=s.replace(l,".".concat(n,"-")).replace(c,"--".concat(n,"-")).replace(d,".".concat(i))}return s}let rS=!1;function Tg(){Ae.autoAddCss&&!rS&&(G9(wR()),rS=!0)}var Z9={mixout(){return{dom:{css:wR,insertCss:Tg}}},hooks(){return{beforeDOMElementCreation(){Tg()},beforeI2svg(){Tg()}}}};const Xi=Xa||{};Xi[Qi]||(Xi[Qi]={});Xi[Qi].styles||(Xi[Qi].styles={});Xi[Qi].hooks||(Xi[Qi].hooks={});Xi[Qi].shims||(Xi[Qi].shims=[]);var ri=Xi[Qi];const AR=[],xR=function(){St.removeEventListener("DOMContentLoaded",xR),od=1,AR.map(t=>t())};let od=!1;Zi&&(od=(St.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(St.readyState),od||St.addEventListener("DOMContentLoaded",xR));function J9(t){Zi&&(od?setTimeout(t,0):AR.push(t))}function Oc(t){const{tag:e,attributes:n={},children:i=[]}=t;return typeof t=="string"?SR(t):"<".concat(e," ").concat(K9(n),">").concat(i.map(Oc).join(""),"</").concat(e,">")}function iS(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Sg=function(e,n,i,s){var l=Object.keys(e),c=l.length,d=n,p,m,v;for(i===void 0?(p=1,v=e[l[0]]):(p=0,v=i);p<c;p++)m=l[p],v=d(v,e[m],m,e);return v};function eU(t){const e=[];let n=0;const i=t.length;for(;n<i;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<i){const l=t.charCodeAt(n++);(l&64512)==56320?e.push(((s&1023)<<10)+(l&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}function Tv(t){const e=eU(t);return e.length===1?e[0].toString(16):null}function tU(t,e){const n=t.length;let i=t.charCodeAt(e),s;return i>=55296&&i<=56319&&n>e+1&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}function aS(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return!!i.icon?e[i.iconName]=i.icon:e[n]=i,e},{})}function Sv(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:i=!1}=n,s=aS(e);typeof ri.hooks.addPack=="function"&&!i?ri.hooks.addPack(t,aS(e)):ri.styles[t]=pe(pe({},ri.styles[t]||{}),s),t==="fas"&&Sv("fa",e)}const{styles:gc,shims:nU}=ri,RR=Object.keys(Wy),rU=RR.reduce((t,e)=>(t[e]=Object.keys(Wy[e]),t),{});let e0=null,CR={},IR={},OR={},NR={},DR={};function iU(t){return~B9.indexOf(t)}function aU(t,e){const n=e.split("-"),i=n[0],s=n.slice(1).join("-");return i===t&&s!==""&&!iU(s)?s:null}const MR=()=>{const t=i=>Sg(gc,(s,l,c)=>(s[c]=Sg(l,i,{}),s),{});CR=t((i,s,l)=>(s[3]&&(i[s[3]]=l),s[2]&&s[2].filter(d=>typeof d=="number").forEach(d=>{i[d.toString(16)]=l}),i)),IR=t((i,s,l)=>(i[l]=l,s[2]&&s[2].filter(d=>typeof d=="string").forEach(d=>{i[d]=l}),i)),DR=t((i,s,l)=>{const c=s[2];return i[l]=l,c.forEach(d=>{i[d]=l}),i});const e="far"in gc||Ae.autoFetchSvg,n=Sg(nU,(i,s)=>{const l=s[0];let c=s[1];const d=s[2];return c==="far"&&!e&&(c="fas"),typeof l=="string"&&(i.names[l]={prefix:c,iconName:d}),typeof l=="number"&&(i.unicodes[l.toString(16)]={prefix:c,iconName:d}),i},{names:{},unicodes:{}});OR=n.names,NR=n.unicodes,e0=$d(Ae.styleDefault,{family:Ae.familyDefault})};$9(t=>{e0=$d(t.styleDefault,{family:Ae.familyDefault})});MR();function t0(t,e){return(CR[t]||{})[e]}function sU(t,e){return(IR[t]||{})[e]}function Us(t,e){return(DR[t]||{})[e]}function PR(t){return OR[t]||{prefix:null,iconName:null}}function oU(t){const e=NR[t],n=t0("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Wa(){return e0}const kR=()=>({prefix:null,iconName:null,rest:[]});function lU(t){let e=On;const n=RR.reduce((i,s)=>(i[s]="".concat(Ae.cssPrefix,"-").concat(s),i),{});return mR.forEach(i=>{(t.includes(n[i])||t.some(s=>rU[i].includes(s)))&&(e=i)}),e}function $d(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=On}=e,i=L9[n][t];if(n===Hd&&!t)return"fad";const s=nS[n][t]||nS[n][i],l=t in ri.styles?t:null;return s||l||null}function uU(t){let e=[],n=null;return t.forEach(i=>{const s=aU(Ae.cssPrefix,i);s?n=s:i&&e.push(i)}),{iconName:n,rest:e}}function sS(t){return t.sort().filter((e,n,i)=>i.indexOf(e)===n)}function Gd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let i=null;const s=gv.concat(A9),l=sS(t.filter(b=>s.includes(b))),c=sS(t.filter(b=>!gv.includes(b))),d=l.filter(b=>(i=b,!pR.includes(b))),[p=null]=d,m=lU(l),v=pe(pe({},uU(c)),{},{prefix:$d(p,{family:m})});return pe(pe(pe({},v),dU({values:t,family:m,styles:gc,config:Ae,canonical:v,givenPrefix:i})),cU(n,i,v))}function cU(t,e,n){let{prefix:i,iconName:s}=n;if(t||!i||!s)return{prefix:i,iconName:s};const l=e==="fa"?PR(s):{},c=Us(i,s);return s=l.iconName||c||s,i=l.prefix||i,i==="far"&&!gc.far&&gc.fas&&!Ae.autoFetchSvg&&(i="fas"),{prefix:i,iconName:s}}const fU=mR.filter(t=>t!==On||t!==Hd),hU=Object.keys(mv).filter(t=>t!==On).map(t=>Object.keys(mv[t])).flat();function dU(t){const{values:e,family:n,canonical:i,givenPrefix:s="",styles:l={},config:c={}}=t,d=n===Hd,p=e.includes("fa-duotone")||e.includes("fad"),m=c.familyDefault==="duotone",v=i.prefix==="fad"||i.prefix==="fa-duotone";if(!d&&(p||m||v)&&(i.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(i.prefix="fab"),!i.prefix&&fU.includes(n)&&(Object.keys(l).find(A=>hU.includes(A))||c.autoFetchSvg)){const A=v9.get(n).defaultShortPrefixId;i.prefix=A,i.iconName=Us(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||s==="fa")&&(i.prefix=Wa()||"fas"),i}class pU{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(l=>{this.definitions[l]=pe(pe({},this.definitions[l]||{}),s[l]),Sv(l,s[l]);const c=Wy[On][l];c&&Sv(c,s[l]),MR()})}reset(){this.definitions={}}_pullDefinitions(e,n){const i=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(i).map(s=>{const{prefix:l,iconName:c,icon:d}=i[s],p=d[2];e[l]||(e[l]={}),p.length>0&&p.forEach(m=>{typeof m=="string"&&(e[l][m]=d)}),e[l][c]=d}),e}}let oS=[],Zo={};const al={},mU=Object.keys(al);function gU(t,e){let{mixoutsTo:n}=e;return oS=t,Zo={},Object.keys(al).forEach(i=>{mU.indexOf(i)===-1&&delete al[i]}),oS.forEach(i=>{const s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(l=>{typeof s[l]=="function"&&(n[l]=s[l]),typeof s[l]=="object"&&Object.keys(s[l]).forEach(c=>{n[l]||(n[l]={}),n[l][c]=s[l][c]})}),i.hooks){const l=i.hooks();Object.keys(l).forEach(c=>{Zo[c]||(Zo[c]=[]),Zo[c].push(l[c])})}i.provides&&i.provides(al)}),n}function wv(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return(Zo[t]||[]).forEach(c=>{e=c.apply(null,[e,...i])}),e}function Gs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(Zo[t]||[]).forEach(l=>{l.apply(null,n)})}function Za(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return al[t]?al[t].apply(null,e):void 0}function Av(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||Wa();if(e)return e=Us(n,e)||e,iS(VR.definitions,n,e)||iS(ri.styles,n,e)}const VR=new pU,vU=()=>{Ae.autoReplaceSvg=!1,Ae.observeMutations=!1,Gs("noAuto")},yU={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Zi?(Gs("beforeI2svg",t),Za("pseudoElements2svg",t),Za("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;Ae.autoReplaceSvg===!1&&(Ae.autoReplaceSvg=!0),Ae.observeMutations=!0,J9(()=>{bU({autoReplaceSvgRoot:e}),Gs("watch",t)})}},_U={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Us(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=$d(t[0]);return{prefix:n,iconName:Us(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Ae.cssPrefix,"-"))>-1||t.match(U9))){const e=Gd(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Wa(),iconName:Us(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=Wa();return{prefix:e,iconName:Us(e,t)||t}}}},or={noAuto:vU,config:Ae,dom:yU,parse:_U,library:VR,findIconDefinition:Av,toHtml:Oc},bU=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=St}=t;(Object.keys(ri.styles).length>0||Ae.autoFetchSvg)&&Zi&&Ae.autoReplaceSvg&&or.dom.i2svg({node:e})};function Yd(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Oc(n))}}),Object.defineProperty(t,"node",{get:function(){if(!Zi)return;const n=St.createElement("div");return n.innerHTML=t.html,n.children}}),t}function EU(t){let{children:e,main:n,mask:i,attributes:s,styles:l,transform:c}=t;if(Jy(c)&&n.found&&!i.found){const{width:d,height:p}=n,m={x:d/p/2,y:.5};s.style=qd(pe(pe({},l),{},{"transform-origin":"".concat(m.x+c.x/16,"em ").concat(m.y+c.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function TU(t){let{prefix:e,iconName:n,children:i,attributes:s,symbol:l}=t;const c=l===!0?"".concat(e,"-").concat(Ae.cssPrefix,"-").concat(n):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:pe(pe({},s),{},{id:c}),children:i}]}]}function n0(t){const{icons:{main:e,mask:n},prefix:i,iconName:s,transform:l,symbol:c,title:d,maskId:p,titleId:m,extra:v,watchable:b=!1}=t,{width:A,height:N}=n.found?n:e,k=T9.includes(i),V=[Ae.replacementClass,s?"".concat(Ae.cssPrefix,"-").concat(s):""].filter($=>v.classes.indexOf($)===-1).filter($=>$!==""||!!$).concat(v.classes).join(" ");let O={children:[],attributes:pe(pe({},v.attributes),{},{"data-prefix":i,"data-icon":s,class:V,role:v.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(A," ").concat(N)})};const F=k&&!~v.classes.indexOf("fa-fw")?{width:"".concat(A/N*16*.0625,"em")}:{};b&&(O.attributes[$s]=""),d&&(O.children.push({tag:"title",attributes:{id:O.attributes["aria-labelledby"]||"title-".concat(m||mc())},children:[d]}),delete O.attributes.title);const Q=pe(pe({},O),{},{prefix:i,iconName:s,main:e,mask:n,maskId:p,transform:l,symbol:c,styles:pe(pe({},F),v.styles)}),{children:q,attributes:ie}=n.found&&e.found?Za("generateAbstractMask",Q)||{children:[],attributes:{}}:Za("generateAbstractIcon",Q)||{children:[],attributes:{}};return Q.children=q,Q.attributes=ie,c?TU(Q):EU(Q)}function lS(t){const{content:e,width:n,height:i,transform:s,title:l,extra:c,watchable:d=!1}=t,p=pe(pe(pe({},c.attributes),l?{title:l}:{}),{},{class:c.classes.join(" ")});d&&(p[$s]="");const m=pe({},c.styles);Jy(s)&&(m.transform=X9({transform:s,startCentered:!0,width:n,height:i}),m["-webkit-transform"]=m.transform);const v=qd(m);v.length>0&&(p.style=v);const b=[];return b.push({tag:"span",attributes:p,children:[e]}),l&&b.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),b}function SU(t){const{content:e,title:n,extra:i}=t,s=pe(pe(pe({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),l=qd(i.styles);l.length>0&&(s.style=l);const c=[];return c.push({tag:"span",attributes:s,children:[e]}),n&&c.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),c}const{styles:wg}=ri;function xv(t){const e=t[0],n=t[1],[i]=t.slice(4);let s=null;return Array.isArray(i)?s={tag:"g",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(Eg.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(Eg.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(Eg.PRIMARY),fill:"currentColor",d:i[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:n,icon:s}}const wU={found:!1,width:512,height:512};function AU(t,e){!_R&&!Ae.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Rv(t,e){let n=e;return e==="fa"&&Ae.styleDefault!==null&&(e=Wa()),new Promise((i,s)=>{if(n==="fa"){const l=PR(t)||{};t=l.iconName||t,e=l.prefix||e}if(t&&e&&wg[e]&&wg[e][t]){const l=wg[e][t];return i(xv(l))}AU(t,e),i(pe(pe({},wU),{},{icon:Ae.showMissingIcons&&t?Za("missingIconAbstract")||{}:{}}))})}const uS=()=>{},Cv=Ae.measurePerformance&&ch&&ch.mark&&ch.measure?ch:{mark:uS,measure:uS},qu='FA "6.7.2"',xU=t=>(Cv.mark("".concat(qu," ").concat(t," begins")),()=>LR(t)),LR=t=>{Cv.mark("".concat(qu," ").concat(t," ends")),Cv.measure("".concat(qu," ").concat(t),"".concat(qu," ").concat(t," begins"),"".concat(qu," ").concat(t," ends"))};var r0={begin:xU,end:LR};const Ch=()=>{};function cS(t){return typeof(t.getAttribute?t.getAttribute($s):null)=="string"}function RU(t){const e=t.getAttribute?t.getAttribute(Qy):null,n=t.getAttribute?t.getAttribute(Xy):null;return e&&n}function CU(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Ae.replacementClass)}function IU(){return Ae.autoReplaceSvg===!0?Ih.replace:Ih[Ae.autoReplaceSvg]||Ih.replace}function OU(t){return St.createElementNS("http://www.w3.org/2000/svg",t)}function NU(t){return St.createElement(t)}function UR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?OU:NU}=e;if(typeof t=="string")return St.createTextNode(t);const i=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(l){i.setAttribute(l,t.attributes[l])}),(t.children||[]).forEach(function(l){i.appendChild(UR(l,{ceFn:n}))}),i}function DU(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Ih={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(UR(n),e)}),e.getAttribute($s)===null&&Ae.keepOriginalSource){let n=St.createComment(DU(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~Zy(e).indexOf(Ae.replacementClass))return Ih.replace(t);const i=new RegExp("".concat(Ae.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const l=n[0].attributes.class.split(" ").reduce((c,d)=>(d===Ae.replacementClass||d.match(i)?c.toSvg.push(d):c.toNode.push(d),c),{toNode:[],toSvg:[]});n[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",l.toNode.join(" "))}const s=n.map(l=>Oc(l)).join(`
`);e.setAttribute($s,""),e.innerHTML=s}};function fS(t){t()}function jR(t,e){const n=typeof e=="function"?e:Ch;if(t.length===0)n();else{let i=fS;Ae.mutateApproach===k9&&(i=Xa.requestAnimationFrame||fS),i(()=>{const s=IU(),l=r0.begin("mutate");t.map(s),l(),n()})}}let i0=!1;function FR(){i0=!0}function Iv(){i0=!1}let ld=null;function hS(t){if(!ZT||!Ae.observeMutations)return;const{treeCallback:e=Ch,nodeCallback:n=Ch,pseudoElementsCallback:i=Ch,observeMutationsRoot:s=St}=t;ld=new ZT(l=>{if(i0)return;const c=Wa();Al(l).forEach(d=>{if(d.type==="childList"&&d.addedNodes.length>0&&!cS(d.addedNodes[0])&&(Ae.searchPseudoElements&&i(d.target),e(d.target)),d.type==="attributes"&&d.target.parentNode&&Ae.searchPseudoElements&&i(d.target.parentNode),d.type==="attributes"&&cS(d.target)&&~z9.indexOf(d.attributeName))if(d.attributeName==="class"&&RU(d.target)){const{prefix:p,iconName:m}=Gd(Zy(d.target));d.target.setAttribute(Qy,p||c),m&&d.target.setAttribute(Xy,m)}else CU(d.target)&&n(d.target)})}),Zi&&ld.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function MU(){ld&&ld.disconnect()}function PU(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((i,s)=>{const l=s.split(":"),c=l[0],d=l.slice(1);return c&&d.length>0&&(i[c]=d.join(":").trim()),i},{})),n}function kU(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),i=t.innerText!==void 0?t.innerText.trim():"";let s=Gd(Zy(t));return s.prefix||(s.prefix=Wa()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=sU(s.prefix,t.innerText)||t0(s.prefix,Tv(t.innerText))),!s.iconName&&Ae.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function VU(t){const e=Al(t.attributes).reduce((s,l)=>(s.name!=="class"&&s.name!=="style"&&(s[l.name]=l.value),s),{}),n=t.getAttribute("title"),i=t.getAttribute("data-fa-title-id");return Ae.autoA11y&&(n?e["aria-labelledby"]="".concat(Ae.replacementClass,"-title-").concat(i||mc()):(e["aria-hidden"]="true",e.focusable="false")),e}function LU(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ni,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function dS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:i,rest:s}=kU(t),l=VU(t),c=wv("parseNodeAttributes",{},t);let d=e.styleParser?PU(t):[];return pe({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:ni,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:d,attributes:l}},c)}const{styles:UU}=ri;function zR(t){const e=Ae.autoReplaceSvg==="nest"?dS(t,{styleParser:!1}):dS(t);return~e.extra.classes.indexOf(ER)?Za("generateLayersText",t,e):Za("generateSvgReplacementMutation",t,e)}function jU(){return[..._9,...gv]}function pS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Zi)return Promise.resolve();const n=St.documentElement.classList,i=v=>n.add("".concat(tS,"-").concat(v)),s=v=>n.remove("".concat(tS,"-").concat(v)),l=Ae.autoFetchSvg?jU():pR.concat(Object.keys(UU));l.includes("fa")||l.push("fa");const c=[".".concat(ER,":not([").concat($s,"])")].concat(l.map(v=>".".concat(v,":not([").concat($s,"])"))).join(", ");if(c.length===0)return Promise.resolve();let d=[];try{d=Al(t.querySelectorAll(c))}catch{}if(d.length>0)i("pending"),s("complete");else return Promise.resolve();const p=r0.begin("onTree"),m=d.reduce((v,b)=>{try{const A=zR(b);A&&v.push(A)}catch(A){_R||A.name==="MissingIcon"&&console.error(A)}return v},[]);return new Promise((v,b)=>{Promise.all(m).then(A=>{jR(A,()=>{i("active"),i("complete"),s("pending"),typeof e=="function"&&e(),p(),v()})}).catch(A=>{p(),b(A)})})}function FU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;zR(t).then(n=>{n&&jR([n],e)})}function zU(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=(e||{}).icon?e:Av(e||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:Av(s||{})),t(i,pe(pe({},n),{},{mask:s}))}}const BU=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=ni,symbol:i=!1,mask:s=null,maskId:l=null,title:c=null,titleId:d=null,classes:p=[],attributes:m={},styles:v={}}=e;if(!t)return;const{prefix:b,iconName:A,icon:N}=t;return Yd(pe({type:"icon"},t),()=>(Gs("beforeDOMElementCreation",{iconDefinition:t,params:e}),Ae.autoA11y&&(c?m["aria-labelledby"]="".concat(Ae.replacementClass,"-title-").concat(d||mc()):(m["aria-hidden"]="true",m.focusable="false")),n0({icons:{main:xv(N),mask:s?xv(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:A,transform:pe(pe({},ni),n),symbol:i,title:c,maskId:l,titleId:d,extra:{attributes:m,styles:v,classes:p}})))};var HU={mixout(){return{icon:zU(BU)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=pS,t.nodeCallback=FU,t}}},provides(t){t.i2svg=function(e){const{node:n=St,callback:i=()=>{}}=e;return pS(n,i)},t.generateSvgReplacementMutation=function(e,n){const{iconName:i,title:s,titleId:l,prefix:c,transform:d,symbol:p,mask:m,maskId:v,extra:b}=n;return new Promise((A,N)=>{Promise.all([Rv(i,c),m.iconName?Rv(m.iconName,m.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(k=>{let[V,O]=k;A([e,n0({icons:{main:V,mask:O},prefix:c,iconName:i,transform:d,symbol:p,maskId:v,title:s,titleId:l,extra:b,watchable:!0})])}).catch(N)})},t.generateAbstractIcon=function(e){let{children:n,attributes:i,main:s,transform:l,styles:c}=e;const d=qd(c);d.length>0&&(i.style=d);let p;return Jy(l)&&(p=Za("generateAbstractTransformGrouping",{main:s,transform:l,containerWidth:s.width,iconWidth:s.width})),n.push(p||s.icon),{children:n,attributes:i}}}},qU={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return Yd({type:"layer"},()=>{Gs("beforeDOMElementCreation",{assembler:t,params:e});let i=[];return t(s=>{Array.isArray(s)?s.map(l=>{i=i.concat(l.abstract)}):i=i.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Ae.cssPrefix,"-layers"),...n].join(" ")},children:i}]})}}}},$U={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:i=[],attributes:s={},styles:l={}}=e;return Yd({type:"counter",content:t},()=>(Gs("beforeDOMElementCreation",{content:t,params:e}),SU({content:t.toString(),title:n,extra:{attributes:s,styles:l,classes:["".concat(Ae.cssPrefix,"-layers-counter"),...i]}})))}}}},GU={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=ni,title:i=null,classes:s=[],attributes:l={},styles:c={}}=e;return Yd({type:"text",content:t},()=>(Gs("beforeDOMElementCreation",{content:t,params:e}),lS({content:t,transform:pe(pe({},ni),n),title:i,extra:{attributes:l,styles:c,classes:["".concat(Ae.cssPrefix,"-layers-text"),...s]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:i,transform:s,extra:l}=n;let c=null,d=null;if(hR){const p=parseInt(getComputedStyle(e).fontSize,10),m=e.getBoundingClientRect();c=m.width/p,d=m.height/p}return Ae.autoA11y&&!i&&(l.attributes["aria-hidden"]="true"),Promise.resolve([e,lS({content:e.innerHTML,width:c,height:d,transform:s,title:i,extra:l,watchable:!0})])}}};const YU=new RegExp('"',"ug"),mS=[1105920,1112319],gS=pe(pe(pe(pe({},{FontAwesome:{normal:"fas",400:"fas"}}),g9),M9),x9),Ov=Object.keys(gS).reduce((t,e)=>(t[e.toLowerCase()]=gS[e],t),{}),KU=Object.keys(Ov).reduce((t,e)=>{const n=Ov[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function QU(t){const e=t.replace(YU,""),n=tU(e,0),i=n>=mS[0]&&n<=mS[1],s=e.length===2?e[0]===e[1]:!1;return{value:Tv(s?e[0]:e),isSecondary:i||s}}function XU(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),s=isNaN(i)?"normal":i;return(Ov[n]||{})[s]||KU[n]}function vS(t,e){const n="".concat(P9).concat(e.replace(":","-"));return new Promise((i,s)=>{if(t.getAttribute(n)!==null)return i();const c=Al(t.children).filter(A=>A.getAttribute(yv)===e)[0],d=Xa.getComputedStyle(t,e),p=d.getPropertyValue("font-family"),m=p.match(j9),v=d.getPropertyValue("font-weight"),b=d.getPropertyValue("content");if(c&&!m)return t.removeChild(c),i();if(m&&b!=="none"&&b!==""){const A=d.getPropertyValue("content");let N=XU(p,v);const{value:k,isSecondary:V}=QU(A),O=m[0].startsWith("FontAwesome");let F=t0(N,k),Q=F;if(O){const q=oU(k);q.iconName&&q.prefix&&(F=q.iconName,N=q.prefix)}if(F&&!V&&(!c||c.getAttribute(Qy)!==N||c.getAttribute(Xy)!==Q)){t.setAttribute(n,Q),c&&t.removeChild(c);const q=LU(),{extra:ie}=q;ie.attributes[yv]=e,Rv(F,N).then($=>{const ee=n0(pe(pe({},q),{},{icons:{main:$,mask:kR()},prefix:N,iconName:Q,extra:ie,watchable:!0})),C=St.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(C,t.firstChild):t.appendChild(C),C.outerHTML=ee.map(_=>Oc(_)).join(`
`),t.removeAttribute(n),i()}).catch(s)}else i()}else i()})}function WU(t){return Promise.all([vS(t,"::before"),vS(t,"::after")])}function ZU(t){return t.parentNode!==document.head&&!~V9.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(yv)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function yS(t){if(Zi)return new Promise((e,n)=>{const i=Al(t.querySelectorAll("*")).filter(ZU).map(WU),s=r0.begin("searchPseudoElements");FR(),Promise.all(i).then(()=>{s(),Iv(),e()}).catch(()=>{s(),Iv(),n()})})}var JU={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=yS,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=St}=e;Ae.searchPseudoElements&&yS(n)}}};let _S=!1;var e5={mixout(){return{dom:{unwatch(){FR(),_S=!0}}}},hooks(){return{bootstrap(){hS(wv("mutationObserverCallbacks",{}))},noAuto(){MU()},watch(t){const{observeMutationsRoot:e}=t;_S?Iv():hS(wv("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const bS=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,i)=>{const s=i.toLowerCase().split("-"),l=s[0];let c=s.slice(1).join("-");if(l&&c==="h")return n.flipX=!0,n;if(l&&c==="v")return n.flipY=!0,n;if(c=parseFloat(c),isNaN(c))return n;switch(l){case"grow":n.size=n.size+c;break;case"shrink":n.size=n.size-c;break;case"left":n.x=n.x-c;break;case"right":n.x=n.x+c;break;case"up":n.y=n.y-c;break;case"down":n.y=n.y+c;break;case"rotate":n.rotate=n.rotate+c;break}return n},e)};var t5={mixout(){return{parse:{transform:t=>bS(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=bS(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:i,containerWidth:s,iconWidth:l}=e;const c={transform:"translate(".concat(s/2," 256)")},d="translate(".concat(i.x*32,", ").concat(i.y*32,") "),p="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),m="rotate(".concat(i.rotate," 0 0)"),v={transform:"".concat(d," ").concat(p," ").concat(m)},b={transform:"translate(".concat(l/2*-1," -256)")},A={outer:c,inner:v,path:b};return{tag:"g",attributes:pe({},A.outer),children:[{tag:"g",attributes:pe({},A.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:pe(pe({},n.icon.attributes),A.path)}]}]}}}};const Ag={x:0,y:0,width:"100%",height:"100%"};function ES(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function n5(t){return t.tag==="g"?t.children:[t]}var r5={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),i=n?Gd(n.split(" ").map(s=>s.trim())):kR();return i.prefix||(i.prefix=Wa()),t.mask=i,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:i,main:s,mask:l,maskId:c,transform:d}=e;const{width:p,icon:m}=s,{width:v,icon:b}=l,A=Q9({transform:d,containerWidth:v,iconWidth:p}),N={tag:"rect",attributes:pe(pe({},Ag),{},{fill:"white"})},k=m.children?{children:m.children.map(ES)}:{},V={tag:"g",attributes:pe({},A.inner),children:[ES(pe({tag:m.tag,attributes:pe(pe({},m.attributes),A.path)},k))]},O={tag:"g",attributes:pe({},A.outer),children:[V]},F="mask-".concat(c||mc()),Q="clip-".concat(c||mc()),q={tag:"mask",attributes:pe(pe({},Ag),{},{id:F,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[N,O]},ie={tag:"defs",children:[{tag:"clipPath",attributes:{id:Q},children:n5(b)},q]};return n.push(ie,{tag:"rect",attributes:pe({fill:"currentColor","clip-path":"url(#".concat(Q,")"),mask:"url(#".concat(F,")")},Ag)}),{children:n,attributes:i}}}},i5={provides(t){let e=!1;Xa.matchMedia&&(e=Xa.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:pe(pe({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const l=pe(pe({},s),{},{attributeName:"opacity"}),c={tag:"circle",attributes:pe(pe({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||c.children.push({tag:"animate",attributes:pe(pe({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:pe(pe({},l),{},{values:"1;0;1;1;0;1;"})}),n.push(c),n.push({tag:"path",attributes:pe(pe({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:pe(pe({},l),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:pe(pe({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:pe(pe({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},a5={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),i=n===null?!1:n===""?!0:n;return t.symbol=i,t}}}},s5=[Z9,HU,qU,$U,GU,JU,e5,t5,r5,i5,a5];gU(s5,{mixoutsTo:or});or.noAuto;or.config;or.library;or.dom;const Nv=or.parse;or.findIconDefinition;or.toHtml;const o5=or.icon;or.layer;or.text;or.counter;var xg={exports:{}},Rg,TS;function l5(){if(TS)return Rg;TS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Rg=t,Rg}var Cg,SS;function u5(){if(SS)return Cg;SS=1;var t=l5();function e(){}function n(){}return n.resetWarningCache=e,Cg=function(){function i(c,d,p,m,v,b){if(b!==t){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}i.isRequired=i;function s(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},Cg}var wS;function c5(){return wS||(wS=1,xg.exports=u5()()),xg.exports}var f5=c5();const et=kv(f5);function AS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(n),!0).forEach(function(i){Jo(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function Jo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h5(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,l;for(l=0;l<i.length;l++)s=i[l],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function d5(t,e){if(t==null)return{};var n=h5(t,e),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)i=l[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Dv(t){return p5(t)||m5(t)||g5(t)||v5()}function p5(t){if(Array.isArray(t))return Mv(t)}function m5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g5(t,e){if(t){if(typeof t=="string")return Mv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mv(t,e)}}function Mv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function v5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y5(t){var e,n=t.beat,i=t.fade,s=t.beatFade,l=t.bounce,c=t.shake,d=t.flash,p=t.spin,m=t.spinPulse,v=t.spinReverse,b=t.pulse,A=t.fixedWidth,N=t.inverse,k=t.border,V=t.listItem,O=t.flip,F=t.size,Q=t.rotation,q=t.pull,ie=(e={"fa-beat":n,"fa-fade":i,"fa-beat-fade":s,"fa-bounce":l,"fa-shake":c,"fa-flash":d,"fa-spin":p,"fa-spin-reverse":v,"fa-spin-pulse":m,"fa-pulse":b,"fa-fw":A,"fa-inverse":N,"fa-border":k,"fa-li":V,"fa-flip":O===!0,"fa-flip-horizontal":O==="horizontal"||O==="both","fa-flip-vertical":O==="vertical"||O==="both"},Jo(e,"fa-".concat(F),typeof F<"u"&&F!==null),Jo(e,"fa-rotate-".concat(Q),typeof Q<"u"&&Q!==null&&Q!==0),Jo(e,"fa-pull-".concat(q),typeof q<"u"&&q!==null),Jo(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(ie).map(function($){return ie[$]?$:null}).filter(function($){return $})}function _5(t){return t=t-0,t===t}function BR(t){return _5(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var b5=["style"];function E5(t){return t.charAt(0).toUpperCase()+t.slice(1)}function T5(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var i=n.indexOf(":"),s=BR(n.slice(0,i)),l=n.slice(i+1).trim();return s.startsWith("webkit")?e[E5(s)]=l:e[s]=l,e},{})}function HR(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(p){return HR(t,p)}),s=Object.keys(e.attributes||{}).reduce(function(p,m){var v=e.attributes[m];switch(m){case"class":p.attrs.className=v,delete e.attributes.class;break;case"style":p.attrs.style=T5(v);break;default:m.indexOf("aria-")===0||m.indexOf("data-")===0?p.attrs[m.toLowerCase()]=v:p.attrs[BR(m)]=v}return p},{attrs:{}}),l=n.style,c=l===void 0?{}:l,d=d5(n,b5);return s.attrs.style=ei(ei({},s.attrs.style),c),t.apply(void 0,[e.tag,ei(ei({},s.attrs),d)].concat(Dv(i)))}var qR=!1;try{qR=!0}catch{}function S5(){if(!qR&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function xS(t){if(t&&ud(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Nv.icon)return Nv.icon(t);if(t===null)return null;if(t&&ud(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Ig(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Jo({},t,e):{}}var RS={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Kd=cd.forwardRef(function(t,e){var n=ei(ei({},RS),t),i=n.icon,s=n.mask,l=n.symbol,c=n.className,d=n.title,p=n.titleId,m=n.maskId,v=xS(i),b=Ig("classes",[].concat(Dv(y5(n)),Dv((c||"").split(" ")))),A=Ig("transform",typeof n.transform=="string"?Nv.transform(n.transform):n.transform),N=Ig("mask",xS(s)),k=o5(v,ei(ei(ei(ei({},b),A),N),{},{symbol:l,title:d,titleId:p,maskId:m}));if(!k)return S5("Could not find icon",v),null;var V=k.abstract,O={ref:e};return Object.keys(n).forEach(function(F){RS.hasOwnProperty(F)||(O[F]=n[F])}),w5(V[0],O)});Kd.displayName="FontAwesomeIcon";Kd.propTypes={beat:et.bool,border:et.bool,beatFade:et.bool,bounce:et.bool,className:et.string,fade:et.bool,flash:et.bool,mask:et.oneOfType([et.object,et.array,et.string]),maskId:et.string,fixedWidth:et.bool,inverse:et.bool,flip:et.oneOf([!0,!1,"horizontal","vertical","both"]),icon:et.oneOfType([et.object,et.array,et.string]),listItem:et.bool,pull:et.oneOf(["right","left"]),pulse:et.bool,rotation:et.oneOf([0,90,180,270]),shake:et.bool,size:et.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:et.bool,spinPulse:et.bool,spinReverse:et.bool,symbol:et.oneOfType([et.bool,et.string]),title:et.string,titleId:et.string,transform:et.oneOfType([et.string,et.object]),swapOpacity:et.bool};var w5=HR.bind(null,cd.createElement);const A5=({isOpen:t,toggle:e})=>w.jsx("div",{className:"flex justify-end",children:w.jsxs("button",{onClick:e,className:"flex flex-col items-center p-2 bg text-white font top-4 left-4 z-50 rounded-2xl hover:text-black-500 cursor-pointer",children:[w.jsx(Kd,{icon:a9,className:"mr-2 w-auto"}),t?"Cerrar Men":"Abrir Men"]})}),x5=()=>{const{openMenu:t,toogleMenu:e}=cd.useContext(Vy)||{};return w.jsx(w.Fragment,{children:w.jsxs("div",{className:"bg-gray-900 text-slate-300 w-full h-16 flex items-center justify-between px-4",children:[w.jsx(A5,{isOpen:!!t,toggle:e||(()=>{})}),w.jsx("div",{children:w.jsxs(dd,{to:"/home",className:" text-white p-2 flex flex-col rounded shadow hover:bg-gray-600 transition",children:[w.jsx(Kd,{icon:s9,style:{color:"#fcfcfc"}}),w.jsx("small",{children:"Inicio"})]})})]})})},R5=()=>{const{openMenu:t}=z.useContext(Vy)??{},e="16rem";return w.jsxs("div",{className:"flex min-h-screen relative",children:[w.jsx("div",{className:"fixed top-0 left-0 h-full bg-gray-900 z-30 transition-transform duration-300 ease-in-out",style:{width:e,transform:`translateX(${t?"0":`-${e}`})`},children:w.jsx(i9,{openMenu:t??!1})}),w.jsxs("div",{className:"flex flex-col flex-1 w-full transition-all duration-300",style:{paddingLeft:t?e:"0"},children:[w.jsx("div",{className:"w-full bg-white z-40 shadow-md",children:w.jsx(x5,{})}),w.jsx("main",{className:"p-4",children:w.jsx(jv,{})})]})]})},C5=[{title:"Crear usuario",slug:"createUser"},{title:"Crear maquina",slug:"createMachine"},{title:"Editar registros",slug:"editingRegister"},{title:"Crear Referencia",slug:"createReferencia"}];function I5({item:t}){return w.jsx(dd,{to:`/configurations/${t.slug}`,children:w.jsx("button",{className:"button",children:t.title})})}const O5=()=>w.jsxs("div",{className:"flex flex-col items-center p-4 space-y-6 md:space-y-8",children:[w.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:C5.map((t,e)=>w.jsx(I5,{item:t},e))}),w.jsx("div",{className:"w-full max-w-full",children:w.jsx(jv,{})})]}),N5=[{name:"firstName",label:"Nombres",type:"text",required:!0,placeholder:"Ingrese sus nombres"},{name:"lastName",label:"Apellidos",type:"text",required:!0,placeholder:"Ingrese sus apellidos"},{name:"code",label:"Codigo",type:"text",required:!0,placeholder:"Ingrese su codigo"},{name:"section",label:"Seccion",type:"text",required:!0,placeholder:"Ingrese su seccion"}],D5=[{name:"date",label:"Fecha",type:"date",required:!0,placeholder:"Seleccione una fecha"},{name:"abbreviation",label:"Abreviacion de maquina",type:"text",required:!0,placeholder:"e.g., F1315"},{name:"machineName",label:"Nombre de maquina",type:"text",required:!0,placeholder:"e.g., Cutter Alpha"},{name:"efficiency",label:"Eficiencia (%)",type:"number",required:!0,placeholder:"e.g., 92"}],$R=({type:t="success",title:e,message:n,onClose:i})=>{const l={success:{bg:"bg-green-50",border:"border-green-300",text:"text-green-800",darkBg:"dark:bg-gray-800",darkText:"dark:text-green-400",darkBorder:"dark:border-green-800"},error:{bg:"bg-red-50",border:"border-red-300",text:"text-red-800",darkBg:"dark:bg-gray-800",darkText:"dark:text-red-400",darkBorder:"dark:border-red-800"}}[t];return w.jsxs("div",{className:`p-4 mb-4 border rounded-lg ${l.bg} ${l.border} ${l.text} ${l.darkBg} ${l.darkText} ${l.darkBorder}`,role:"alert",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h3",{className:"text-lg font-medium",children:e}),w.jsx("button",{onClick:i,className:`text-sm px-2 py-1 rounded ${l.text} border ${l.border} hover:bg-opacity-20`,children:"Cerrar"})]}),w.jsx("p",{className:"mt-2 text-sm",children:n})]})},M5=Dr(Yn),P5=()=>{const[t,e]=z.useState({}),[n,i]=z.useState(null),s=c=>{const{name:d,value:p}=c.target;e(m=>({...m,[d]:p.toLocaleUpperCase()}))},l=async c=>{c.preventDefault();try{await pl(Cn(M5,"machines"),t),i({type:"success",title:"Maquina creada",message:"Maquina creada correctamente.",onClose:()=>i(null)}),e({})}catch(d){console.error("Error al crear la mquina:",d),i({type:"error",title:"Error al crear maquina",message:"Ha ocurrido un error al crear el usuario. Por favor, intntalo de nuevo.",onClose:()=>i(null)})}};return w.jsx("div",{className:"roun min-h-screen flex items-center justify-center rounded-2xl backgroundForm",children:w.jsxs("form",{onSubmit:l,className:"bg-opacity-20 backdrop-blur-md p-8 rounded-lg shadow-lg w-full max-w-md text-white space-y-6",children:[w.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Crear mquina"}),D5.map(c=>w.jsxs("div",{children:[w.jsx("label",{htmlFor:c.name,className:"block text-sm font-medium mb-1",children:c.label}),w.jsx("input",{type:c.type,id:c.name,name:c.name,required:c.required,placeholder:c.placeholder,value:t[c.name]||"",onChange:s,className:"w-full px-4 py-2 rounded border bg-gray-200 text-blue-950 focus:outline-none focus:ring-2 focus:ring-blue-400"})]},c.name)),w.jsx("button",{type:"submit",className:"cursor-pointer w-full py-2 rounded bg-blue-600 hover:bg-blue-800 transition-colors duration-300 text-white font-semibold",children:"Crear mquina"}),n&&w.jsx($R,{type:n.type,title:n.title,message:n.message,onClose:n.onClose})]})})},k5=Dr(Yn),V5=()=>{const[t,e]=z.useState({}),[n,i]=z.useState(null),s=c=>{const{name:d,value:p}=c.target;e(m=>({...m,[d]:p.toLocaleUpperCase()}))},l=async c=>{c.preventDefault();try{await pl(Cn(k5,"operators"),t),i({type:"success",title:"Usuario creado",message:"El usuario se ha creado correctamente.",onClose:()=>i(null)}),e({})}catch(d){console.error("Error al crear el usuario:",d),i({type:"error",title:"Error al crear usuario",message:"Ha ocurrido un error al crear el usuario. Por favor, intntalo de nuevo.",onClose:()=>i(null)})}};return w.jsx(w.Fragment,{children:w.jsx("div",{className:"min-h-screen flex items-center justify-center rounded-2xl backgroundForm",children:w.jsxs("form",{onSubmit:l,className:"p-8 rounded-lg shadow-md w-full max-w-md text-white space-y-4",children:[w.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Crear usurio"}),N5.map(c=>w.jsxs("div",{children:[w.jsx("label",{htmlFor:c.name,className:"block text-sm font-medium mb-1",children:c.label}),w.jsx("input",{type:c.type,id:c.name,name:c.name,placeholder:c.placeholder,value:t[c.name]||"",onChange:s,className:"w-full p-2 rounded border border-gray-600 bg-gray-200 text-blue-950 focus:outline-none focus:ring-2 focus:ring-blue-500",required:c.required})]},c.name)),w.jsx("button",{type:"submit",className:"cursor-pointer w-full bg-blue-600 hover:bg-blue-800 text-white font-semibold py-2 px-4 rounded transition-colors",children:"Crear usuario"}),n&&w.jsx($R,{type:n.type,title:n.title,message:n.message,onClose:n.onClose})]})})})},L5=Dr(Yn),U5=()=>{const[t,e]=z.useState([]);return z.useEffect(()=>{(async()=>{try{const s=(await ti(Cn(L5,"registro_horometros"))).docs.map(l=>{const c=l.data();return{id:l.id,...c}});e(s)}catch(i){console.error("Error fetching registros:",i)}})()},[]),w.jsxs("div",{className:"overflow-x-auto p-4",children:[w.jsx("h2",{className:"text-xl font-bold mb-4",children:"Listado de Registros"}),w.jsxs("table",{className:"min-w-full border border-gray-300",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-gray-200",children:[w.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"ID"}),w.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"Operador"}),w.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"Fecha"}),w.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"Paradas Mayores"}),w.jsx("th",{className:"border border-gray-300 px-2 py-1",children:"Mquinas"})]})}),w.jsx("tbody",{children:t.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:5,className:"text-center p-4",children:"No hay registros."})}):t.map(n=>w.jsxs("tr",{className:"border-b border-gray-200",children:[w.jsx("td",{className:"border border-gray-300 px-2 py-1",children:n.id}),w.jsx("td",{className:"border border-gray-300 px-2 py-1",children:n.operatorCode}),w.jsx("td",{className:"border border-gray-300 px-2 py-1",children:n.fecha}),w.jsx("td",{className:"border border-gray-300 px-2 py-1",children:n.paradasMayores}),w.jsx("td",{className:"border border-gray-300 px-2 py-1",children:n.machines&&n.machines.length>0?n.machines.map((i,s)=>w.jsxs("div",{className:"mb-2 border p-2 rounded bg-gray-50",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Abreviatura:"})," ",i.machine]}),i.standard&&w.jsxs("div",{className:"text-sm mb-1",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Nombre mquina:"})," ",i.standard.machineName]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Fecha:"})," ",i.standard.date]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Eficiencia:"})," ",i.standard.efficiency]})]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Horas asignadas:"})," ",i.horasAsignadas]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Hormetro inicial:"})," ",i.horometroInicial]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Hormetro final:"})," ",i.horometroFinal]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Observaciones:"})," ",i.observaciones]})]},s)):w.jsx("em",{children:"No hay mquinas"})})]},n.id))})]})]})},j5=Dr(Yn),F5=()=>{const[t,e]=z.useState([]),[n,i]=z.useState(""),[s,l]=z.useState(""),[c,d]=z.useState(""),[p,m]=z.useState("");z.useEffect(()=>{(async()=>{try{const k=(await ti(Cn(j5,"registro_horometros"))).docs.map(V=>{const O=V.data();return{id:V.id,fecha:O.fecha,machines:O.machines,operatorCode:O.operatorCode,reference:O.reference,majorStops:O.majorStops,totalHours:O.totalHours,editadoPor:O.editadoPor,camposModificados:O.camposModificados,fechaUltimaEdicion:O.fechaUltimaEdicion,originalMachines:O.originalMachines}});e(k)}catch(N){console.log(N)}})()},[]);const v=()=>t.filter(A=>{const N=new Date(A.fecha),k=n?new Date(n):null,V=s?new Date(s):null,O=(!k||N>=k)&&(!V||N<=V),F=c?A.operatorCode.toLowerCase().includes(c.toLowerCase()):!0,Q=p?A.machines.some(q=>q.machine.toLowerCase().includes(p.toLowerCase())):!0;return O&&F&&Q}),b=()=>{const A=v(),N=["ID","Fecha","Mquina","Operador","Hormetro Inicial","Hormetro Final","Paradas mayores","Observaciones","Horas Asignadas","editadoPor"],k=A.flatMap(q=>q.machines.map(ie=>[q.id,q.fecha,q.operatorCode,ie.machine,ie.horometroInicial,ie.horometroFinal,q.majorStops||"",ie.observaciones,q.machines.reduce(($,ee)=>$+Number(ee.horasAsignadas||0),0),q.editadoPor??""])),V=[N.join(","),...k.map(q=>q.join(","))].join(`
`),O=new Blob([V],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(O),Q=document.createElement("a");Q.href=F,Q.setAttribute("download",`registros_${n||"todos"}_${s||"hoy"}.csv`),document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)};return w.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg max-w-4xl mx-auto backgroundForm text-white",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"Exportar registros por rango de fechas"}),w.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block mb-1 font-medium text-white",children:"Fecha inicial"}),w.jsx("input",{type:"date",className:"w-full border border-gray-200 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",value:n,onChange:A=>i(A.target.value)})]}),w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block mb-1 font-medium text-white",children:"Fecha final"}),w.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",value:s,onChange:A=>l(A.target.value)})]})]}),w.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block mb-1 font-medium text-white",children:"Operario"}),w.jsx("input",{type:"text",placeholder:"Operario",value:c,onChange:A=>d(A.target.value),className:"w-full border rounded px-3 py-2"})]}),w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block mb-1 font-medium text-white",children:"Mquina"}),w.jsx("input",{type:"text",placeholder:"Mquina",value:p,onChange:A=>m(A.target.value),className:"w-full border rounded px-3 py-2"})]})]}),w.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded shadow",onClick:b,children:"Exportar CSV"}),w.jsxs("div",{className:"mt-6 max-h-64 overflow-y-auto border border-gray-200 rounded p-4",children:[w.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Registros filtrados:"}),v().length===0?w.jsx("p",{className:"text-gray-500",children:"No hay registros en ese rango de fechas."}):w.jsx("ul",{className:"list-disc list-inside space-y-1 text-white",children:v().map(A=>w.jsxs("li",{className:"text-sm",children:[w.jsx("strong",{children:A.fecha})," - ",A.operatorCode]},A.id))})]})]})};function z5(){return w.jsxs(w.Fragment,{children:[w.jsx("div",{children:w.jsx(F5,{})}),w.jsx(U5,{})]})}const Wo=Dr(Yn);console.log("Firestore DB:",Wo);const B5=()=>{const[t,e]=z.useState([]),[n,i]=z.useState(""),[,s]=z.useState([]),[l,c]=z.useState([]),[d,p]=z.useState(""),[m,v]=z.useState({});z.useEffect(()=>{(async()=>{try{const C=await ti(Cn(Wo,"registro_horometros")),_={};C.forEach(R=>{const P=R.data();P.machines.forEach(M=>{const D=M.machine,_e=_[D];(!_e||new Date(P.fecha)>new Date(_e.fecha))&&(_[D]={fecha:P.fecha,horometroFinal:M.horometroFinal})})});const T={};for(const R in _)T[R]=_[R].horometroFinal;v(T)}catch(C){console.error("Error al traer ltimos hormetros:",C)}})()},[]);const[b,A]=z.useState({}),[N,k]=z.useState([]),[V,O]=z.useState([]);z.useEffect(()=>{(async()=>{try{const _=(await ti(Cn(Wo,"referencias"))).docs.map(T=>T.data());O(_)}catch(C){console.error("Error al cargar referencias:",C)}})()},[]),z.useEffect(()=>{(async()=>{try{const _=(await ti(Cn(Wo,"assignments"))).docs.map(T=>({id:T.id,...T.data()}));e(_)}catch(C){console.error(C)}})()},[]);const F=async()=>{try{const ee=await ti(Cn(Wo,"machines")),C={};ee.forEach(_=>{const T=_.data();C[T.abbreviation]=T}),A(C)}catch(ee){console.error("Error fetching standards:",ee)}};z.useEffect(()=>{F()},[]);const Q=ee=>{i(ee);const C=t.find(_=>_.operator===ee);C?(s(C.machines),c(C.machines.map(_=>{const R=m[_]||"";return{machine:_,horometroInicial:R,horometroFinal:"",horasAsignadas:"",observaciones:"",paradasMayores:"",reference:""}}))):(s([]),c([]))},q=()=>{if(!d||!n||l.length===0){alert("Por favor completa todos los campos antes de agregar.");return}const ee={id:Date.now().toString(),fecha:d,operatorCode:n,machines:[...l],paradasMayores:""};k([...N,ee]),p(""),i(""),s([]),c([])},ie=async ee=>{const C=N.find(T=>T.id===ee);if(!C)return;if(!C.operatorCode||!C.fecha||C.machines.length===0){alert("Por favor completa todos los campos principales del registro.");return}for(const T of C.machines){if(!T.machine||!T.horometroInicial||!T.horometroFinal||T.horasAsignadas===void 0||T.horometroInicial.toString().trim()===""||T.horometroFinal.toString().trim()===""){alert("Por favor completa todos los campos requeridos de cada mquina.");return}if(Number(T.horometroFinal)<Number(T.horometroInicial)){alert(`El hormetro final no puede ser menor que el inicial para la mquina: ${T.machine}`);return}}const _={operatorCode:C.operatorCode,fecha:$(),machines:C.machines,timestamp:new Date().toISOString()};try{await pl(Cn(Wo,"registro_horometros"),_),alert("Registro enviado correctamente "),k(N.filter(T=>T.id!==ee))}catch(T){console.error("Error al guardar en Firestore:",T),alert("Error al guardar los datos ")}},$=()=>{const ee=new Date,C=-5,_=ee.getTime()+ee.getTimezoneOffset()*6e4,T=new Date(_+C*36e5),R=T.getFullYear(),P=String(T.getMonth()+1).padStart(2,"0"),M=String(T.getDate()).padStart(2,"0"),D=String(T.getHours()).padStart(2,"0"),_e=String(T.getMinutes()).padStart(2,"0"),Se=String(T.getSeconds()).padStart(2,"0");return`${R}-${P}-${M}T${D}:${_e}:${Se}`};return w.jsxs("div",{className:"flex flex-col items-center p-5 w-full bg-gray-200 rounded-2xl backgroundForm",children:[w.jsxs("div",{className:"mb-4 w-full max-w-2xl",children:[w.jsx("label",{className:"block text-white text-xs font-bold mb-2 uppercase tracking-wide",children:"Buscar cdigo de operario"}),w.jsx("input",{type:"number",value:n,onChange:ee=>Q(ee.target.value),placeholder:"Cdigo de operario",className:"block w-full bg-gray-200 text-blue-950 border border-blue-950 rounded py-3 px-4 mb-2 no-spinner"}),w.jsx("div",{className:"flex flex-wrap -mx-3 mb-6",children:w.jsxs("div",{className:"w-full md:w-1/2 px-3",children:[w.jsx("label",{className:"block text-white text-xs font-bold mb-2 uppercase tracking-wide",children:"Fecha de registro"}),w.jsx("input",{type:"date",value:d,onChange:ee=>p(ee.target.value),className:"block w-full bg-gray-200 text-blue-950 border border-blue-950 rounded py-3 px-4 mb-2 no-spinner"})]})}),w.jsx("button",{onClick:q,className:"w-full py-2 bg-green-600 text-white font-semibold rounded hover:bg-green-700 transition",children:"Ver mis maquinas"})]}),w.jsx("form",{onSubmit:ee=>{ee.preventDefault(),q()},className:"w-full max-w-2xl",children:N.map(ee=>w.jsxs("div",{className:"border border-amber-400 p-3 mb-4 bg-white rounded",children:[w.jsxs("div",{className:"flex justify-between items-center mb-2",children:[w.jsxs("div",{children:[w.jsxs("p",{className:"font-semibold",children:["Fecha: ",ee.fecha]}),w.jsxs("p",{className:"font-semibold",children:["Cdigo: ",ee.operatorCode]})]}),w.jsx("button",{onClick:()=>ie(ee.id),className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700",children:"Enviar"})]}),ee.machines.map((C,_)=>w.jsxs("div",{className:"border p-2 mb-2 rounded bg-gray-50",children:[w.jsx("h4",{className:"font-semibold mb-1",children:C.machine}),b[C.machine]&&w.jsxs("div",{className:"mb-2 text-sm border p-2 rounded bg-gray-100",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Abreviatura:"})," ",b[C.machine].abbreviation]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Nombre mquina:"})," ",b[C.machine].machineName]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Fecha estndar:"})," ",b[C.machine].date]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Estndar:"})," ",b[C.machine].efficiency]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"Horas asignadas"}),w.jsx("input",{type:"number",min:0,value:C.horasAsignadas,required:!0,onChange:T=>{const R=T.target.value;k(P=>P.map(M=>M.id===ee.id?{...M,machines:M.machines.map((D,_e)=>_e===_?{...D,horasAsignadas:R}:D)}:M))},className:"w-full border border-gray-300 rounded px-2 py-1"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"Hormetro inicial"}),w.jsx("input",{type:"number",value:C.horometroInicial,required:!0,min:3,onChange:T=>{const R=T.target.value;k(P=>P.map(M=>M.id===ee.id?{...M,machines:M.machines.map((D,_e)=>_e===_?{...D,horometroInicial:R}:D)}:M))},className:"w-full border border-gray-300 rounded px-2 py-1"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"Hormetro final"}),w.jsx("input",{type:"number",value:C.horometroFinal,required:!0,min:3,onChange:T=>{const R=T.target.value;k(P=>P.map(M=>M.id===ee.id?{...M,machines:M.machines.map((D,_e)=>_e===_?{...D,horometroFinal:R}:D)}:M))},className:"w-full border border-gray-300 rounded px-2 py-1"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"Paradas mayores en minutos"}),w.jsx("input",{type:"number",value:C.paradasMayores,onChange:T=>{const R=T.target.value;k(P=>P.map(M=>M.id===ee.id?{...M,machines:M.machines.map((D,_e)=>_e===_?{...D,paradasMayores:R}:D)}:M))},className:"w-full border border-gray-300 rounded px-2 py-1"})]}),w.jsxs("select",{value:C.reference,required:!0,onChange:T=>{const R=T.target.value;k(P=>P.map(M=>M.id===ee.id?{...M,machines:M.machines.map((D,_e)=>_e===_?{...D,reference:R}:D)}:M))},className:"w-full border border-gray-300 rounded px-2 py-1",children:[w.jsx("option",{value:"",children:"Selecciona una referencia"}),V.slice().sort((T,R)=>T.nombre.localeCompare(R.nombre)).map((T,R)=>w.jsx("option",{value:T.nombre,children:T.nombre},R))]}),w.jsxs("div",{className:"col-span-2",children:[w.jsx("label",{className:"block mb-1",children:"Observaciones"}),w.jsx("textarea",{value:C.observaciones,onChange:T=>{const R=T.target.value;k(P=>P.map(M=>M.id===ee.id?{...M,machines:M.machines.map((D,_e)=>_e===_?{...D,observaciones:R}:D)}:M))},className:"w-full border border-gray-300 rounded px-2 py-1"})]})]})]},_))]},ee.id))})]})},H5=()=>w.jsx(w.Fragment,{children:w.jsx(B5,{})}),q5=Dr(Yn);function $5(){const[t,e]=z.useState(null),[n,i]=z.useState(!0);return z.useEffect(()=>{(async()=>{const c=Sc().currentUser;if(c){const d=await Zh(Qa(q5,"users",c.uid));d.exists()?e(d.data().role||null):e(null)}else e(null);i(!1)})()},[]),{role:t,loading:n}}const Ui=({allowedRoles:t,children:e})=>{const{role:n,loading:i}=$5(),s=yc();return i?w.jsx("div",{children:"Cargando..."}):n?t.includes(n)?w.jsx(w.Fragment,{children:e}):w.jsxs("div",{className:"max-w-lg mx-auto mt-10 text-center text-red-600",children:["No tienes permiso para acceder a esta opcin.",w.jsx("br",{}),"Solicita autorizacin al administrador.",w.jsx("hr",{}),w.jsxs("p",{className:"mt-4",children:["Tu rol actual es: ",w.jsx("strong",{children:n})]})]}):w.jsxs("div",{className:"max-w-lg mx-auto mt-10 text-center text-red-600",children:["No tienes permiso para acceder a esta opcin.",w.jsx("br",{}),"Solicita autorizacin al administrador.",w.jsx("hr",{}),w.jsx("button",{onClick:()=>s("/"),className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded",children:"Volver al inicio"})]})},G5=()=>{const t=yc(),e=()=>{t(-1)};return w.jsxs("div",{children:[w.jsx("button",{onClick:e,type:"button",className:"cursor-pointer text-white bg-blue-900 hover:bg-blue-900 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center me-2 dark:bg-blue-900 dark:hover:bg-blue-900 dark:focus:ring-blue-900",children:w.jsx("svg",{className:"w-4 h-4 rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:w.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})}),w.jsx("small",{children:"Ir atras"})]})},Y5=()=>w.jsx(w.Fragment,{children:w.jsxs("div",{className:"flex flex-col justify-center ",children:[w.jsx("div",{className:"p-9",children:w.jsx(G5,{})}),w.jsx("h1",{children:"Administracin de la plataforma"})]})});var Oh={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var K5=Oh.exports,CS;function Q5(){return CS||(CS=1,function(t,e){((n,i)=>{t.exports=i()})(K5,function n(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},s,l=!i.document&&!!i.postMessage,c=i.IS_PAPA_WORKER||!1,d={},p=0,m={};function v(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var R=$(T);R.chunkSize=parseInt(R.chunkSize),T.step||T.chunk||(R.chunkSize=null),this._handle=new V(R),(this._handle.streamer=this)._config=R}).call(this,_),this.parseChunk=function(T,R){var P=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<P){let D=this._config.newline;D||(M=this._config.quoteChar||'"',D=this._handle.guessLineEndings(T,M)),T=[...T.split(D).slice(P)].join(D)}this.isFirstChunk&&C(this._config.beforeFirstChunk)&&(M=this._config.beforeFirstChunk(T))!==void 0&&(T=M),this.isFirstChunk=!1,this._halted=!1;var P=this._partialLine+T,M=(this._partialLine="",this._handle.parse(P,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(T=M.meta.cursor,P=(this._finished||(this._partialLine=P.substring(T-this._baseIndex),this._baseIndex=T),M&&M.data&&(this._rowCount+=M.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)i.postMessage({results:M,workerId:m.WORKER_ID,finished:P});else if(C(this._config.chunk)&&!R){if(this._config.chunk(M,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=M=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(M.data),this._completeResults.errors=this._completeResults.errors.concat(M.errors),this._completeResults.meta=M.meta),this._completed||!P||!C(this._config.complete)||M&&M.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),P||M&&M.meta.paused||this._nextChunk(),M}this._halted=!0},this._sendError=function(T){C(this._config.error)?this._config.error(T):c&&this._config.error&&i.postMessage({workerId:m.WORKER_ID,error:T,finished:!1})}}function b(_){var T;(_=_||{}).chunkSize||(_.chunkSize=m.RemoteChunkSize),v.call(this,_),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(R){this._input=R,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),l||(T.onload=ee(this._chunkLoaded,this),T.onerror=ee(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var R,P=this._config.downloadRequestHeaders;for(R in P)T.setRequestHeader(R,P[R])}var M;this._config.chunkSize&&(M=this._start+this._config.chunkSize-1,T.setRequestHeader("Range","bytes="+this._start+"-"+M));try{T.send(this._config.downloadRequestBody)}catch(D){this._chunkError(D.message)}l&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize||T.responseText.length,this._finished=!this._config.chunkSize||this._start>=(R=>(R=R.getResponseHeader("Content-Range"))!==null?parseInt(R.substring(R.lastIndexOf("/")+1)):-1)(T),this.parseChunk(T.responseText)))},this._chunkError=function(R){R=T.statusText||R,this._sendError(new Error(R))}}function A(_){(_=_||{}).chunkSize||(_.chunkSize=m.LocalChunkSize),v.call(this,_);var T,R,P=typeof FileReader<"u";this.stream=function(M){this._input=M,R=M.slice||M.webkitSlice||M.mozSlice,P?((T=new FileReader).onload=ee(this._chunkLoaded,this),T.onerror=ee(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var M=this._input,D=(this._config.chunkSize&&(D=Math.min(this._start+this._config.chunkSize,this._input.size),M=R.call(M,this._start,D)),T.readAsText(M,this._config.encoding));P||this._chunkLoaded({target:{result:D}})},this._chunkLoaded=function(M){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(M.target.result)},this._chunkError=function(){this._sendError(T.error)}}function N(_){var T;v.call(this,_=_||{}),this.stream=function(R){return T=R,this._nextChunk()},this._nextChunk=function(){var R,P;if(!this._finished)return R=this._config.chunkSize,T=R?(P=T.substring(0,R),T.substring(R)):(P=T,""),this._finished=!T,this.parseChunk(P)}}function k(_){v.call(this,_=_||{});var T=[],R=!0,P=!1;this.pause=function(){v.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){v.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(M){this._input=M,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):R=!0},this._streamData=ee(function(M){try{T.push(typeof M=="string"?M:M.toString(this._config.encoding)),R&&(R=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(D){this._streamError(D)}},this),this._streamError=ee(function(M){this._streamCleanUp(),this._sendError(M)},this),this._streamEnd=ee(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=ee(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function V(_){var T,R,P,M,D=Math.pow(2,53),_e=-D,Se=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ne=this,ce=0,he=0,L=!1,U=!1,G=[],Y={data:[],errors:[],meta:{}};function oe(ve){return _.skipEmptyLines==="greedy"?ve.join("").trim()==="":ve.length===1&&ve[0].length===0}function me(){if(Y&&P&&(ye("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+m.DefaultDelimiter+"'"),P=!1),_.skipEmptyLines&&(Y.data=Y.data.filter(function(Ee){return!oe(Ee)})),de()){let Ee=function(Fe,Oe){C(_.transformHeader)&&(Fe=_.transformHeader(Fe,Oe)),G.push(Fe)};if(Y)if(Array.isArray(Y.data[0])){for(var ve=0;de()&&ve<Y.data.length;ve++)Y.data[ve].forEach(Ee);Y.data.splice(0,1)}else Y.data.forEach(Ee)}function we(Ee,Fe){for(var Oe=_.header?{}:[],xe=0;xe<Ee.length;xe++){var $e=xe,Ke=Ee[xe],Ke=((wt,Be)=>(pt=>(_.dynamicTypingFunction&&_.dynamicTyping[pt]===void 0&&(_.dynamicTyping[pt]=_.dynamicTypingFunction(pt)),(_.dynamicTyping[pt]||_.dynamicTyping)===!0))(wt)?Be==="true"||Be==="TRUE"||Be!=="false"&&Be!=="FALSE"&&((pt=>{if(Se.test(pt)&&(pt=parseFloat(pt),_e<pt&&pt<D))return 1})(Be)?parseFloat(Be):B.test(Be)?new Date(Be):Be===""?null:Be):Be)($e=_.header?xe>=G.length?"__parsed_extra":G[xe]:$e,Ke=_.transform?_.transform(Ke,$e):Ke);$e==="__parsed_extra"?(Oe[$e]=Oe[$e]||[],Oe[$e].push(Ke)):Oe[$e]=Ke}return _.header&&(xe>G.length?ye("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+xe,he+Fe):xe<G.length&&ye("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+xe,he+Fe)),Oe}var Ne;Y&&(_.header||_.dynamicTyping||_.transform)&&(Ne=1,!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(we),Ne=Y.data.length):Y.data=we(Y.data,0),_.header&&Y.meta&&(Y.meta.fields=G),he+=Ne)}function de(){return _.header&&G.length===0}function ye(ve,we,Ne,Ee){ve={type:ve,code:we,message:Ne},Ee!==void 0&&(ve.row=Ee),Y.errors.push(ve)}C(_.step)&&(M=_.step,_.step=function(ve){Y=ve,de()?me():(me(),Y.data.length!==0&&(ce+=ve.data.length,_.preview&&ce>_.preview?R.abort():(Y.data=Y.data[0],M(Y,ne))))}),this.parse=function(ve,we,Ne){var Ee=_.quoteChar||'"',Ee=(_.newline||(_.newline=this.guessLineEndings(ve,Ee)),P=!1,_.delimiter?C(_.delimiter)&&(_.delimiter=_.delimiter(ve),Y.meta.delimiter=_.delimiter):((Ee=((Fe,Oe,xe,$e,Ke)=>{var wt,Be,pt,Nn;Ke=Ke||[",","	","|",";",m.RECORD_SEP,m.UNIT_SEP];for(var Un=0;Un<Ke.length;Un++){for(var jn,lr=Ke[Un],Nt=0,Dn=0,Ge=0,He=(pt=void 0,new F({comments:$e,delimiter:lr,newline:Oe,preview:10}).parse(Fe)),Ct=0;Ct<He.data.length;Ct++)xe&&oe(He.data[Ct])?Ge++:(jn=He.data[Ct].length,Dn+=jn,pt===void 0?pt=jn:0<jn&&(Nt+=Math.abs(jn-pt),pt=jn));0<He.data.length&&(Dn/=He.data.length-Ge),(Be===void 0||Nt<=Be)&&(Nn===void 0||Nn<Dn)&&1.99<Dn&&(Be=Nt,wt=lr,Nn=Dn)}return{successful:!!(_.delimiter=wt),bestDelimiter:wt}})(ve,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess)).successful?_.delimiter=Ee.bestDelimiter:(P=!0,_.delimiter=m.DefaultDelimiter),Y.meta.delimiter=_.delimiter),$(_));return _.preview&&_.header&&Ee.preview++,T=ve,R=new F(Ee),Y=R.parse(T,we,Ne),me(),L?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return L},this.pause=function(){L=!0,R.abort(),T=C(_.chunk)?"":T.substring(R.getCharIndex())},this.resume=function(){ne.streamer._halted?(L=!1,ne.streamer.parseChunk(T,!0)):setTimeout(ne.resume,3)},this.aborted=function(){return U},this.abort=function(){U=!0,R.abort(),Y.meta.aborted=!0,C(_.complete)&&_.complete(Y),T=""},this.guessLineEndings=function(Fe,Ee){Fe=Fe.substring(0,1048576);var Ee=new RegExp(O(Ee)+"([^]*?)"+O(Ee),"gm"),Ne=(Fe=Fe.replace(Ee,"")).split("\r"),Ee=Fe.split(`
`),Fe=1<Ee.length&&Ee[0].length<Ne[0].length;if(Ne.length===1||Fe)return`
`;for(var Oe=0,xe=0;xe<Ne.length;xe++)Ne[xe][0]===`
`&&Oe++;return Oe>=Ne.length/2?`\r
`:"\r"}}function O(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function F(_){var T=(_=_||{}).delimiter,R=_.newline,P=_.comments,M=_.step,D=_.preview,_e=_.fastMode,Se=null,B=!1,ne=_.quoteChar==null?'"':_.quoteChar,ce=ne;if(_.escapeChar!==void 0&&(ce=_.escapeChar),(typeof T!="string"||-1<m.BAD_DELIMITERS.indexOf(T))&&(T=","),P===T)throw new Error("Comment character same as delimiter");P===!0?P="#":(typeof P!="string"||-1<m.BAD_DELIMITERS.indexOf(P))&&(P=!1),R!==`
`&&R!=="\r"&&R!==`\r
`&&(R=`
`);var he=0,L=!1;this.parse=function(U,G,Y){if(typeof U!="string")throw new Error("Input must be a string");var oe=U.length,me=T.length,de=R.length,ye=P.length,ve=C(M),we=[],Ne=[],Ee=[],Fe=he=0;if(!U)return Nt();if(_e||_e!==!1&&U.indexOf(ne)===-1){for(var Oe=U.split(R),xe=0;xe<Oe.length;xe++){if(Ee=Oe[xe],he+=Ee.length,xe!==Oe.length-1)he+=R.length;else if(Y)return Nt();if(!P||Ee.substring(0,ye)!==P){if(ve){if(we=[],Nn(Ee.split(T)),Dn(),L)return Nt()}else Nn(Ee.split(T));if(D&&D<=xe)return we=we.slice(0,D),Nt(!0)}}return Nt()}for(var $e=U.indexOf(T,he),Ke=U.indexOf(R,he),wt=new RegExp(O(ce)+O(ne),"g"),Be=U.indexOf(ne,he);;)if(U[he]===ne)for(Be=he,he++;;){if((Be=U.indexOf(ne,Be+1))===-1)return Y||Ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:we.length,index:he}),jn();if(Be===oe-1)return jn(U.substring(he,Be).replace(wt,ne));if(ne===ce&&U[Be+1]===ce)Be++;else if(ne===ce||Be===0||U[Be-1]!==ce){$e!==-1&&$e<Be+1&&($e=U.indexOf(T,Be+1));var pt=Un((Ke=Ke!==-1&&Ke<Be+1?U.indexOf(R,Be+1):Ke)===-1?$e:Math.min($e,Ke));if(U.substr(Be+1+pt,me)===T){Ee.push(U.substring(he,Be).replace(wt,ne)),U[he=Be+1+pt+me]!==ne&&(Be=U.indexOf(ne,he)),$e=U.indexOf(T,he),Ke=U.indexOf(R,he);break}if(pt=Un(Ke),U.substring(Be+1+pt,Be+1+pt+de)===R){if(Ee.push(U.substring(he,Be).replace(wt,ne)),lr(Be+1+pt+de),$e=U.indexOf(T,he),Be=U.indexOf(ne,he),ve&&(Dn(),L))return Nt();if(D&&we.length>=D)return Nt(!0);break}Ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:we.length,index:he}),Be++}}else if(P&&Ee.length===0&&U.substring(he,he+ye)===P){if(Ke===-1)return Nt();he=Ke+de,Ke=U.indexOf(R,he),$e=U.indexOf(T,he)}else if($e!==-1&&($e<Ke||Ke===-1))Ee.push(U.substring(he,$e)),he=$e+me,$e=U.indexOf(T,he);else{if(Ke===-1)break;if(Ee.push(U.substring(he,Ke)),lr(Ke+de),ve&&(Dn(),L))return Nt();if(D&&we.length>=D)return Nt(!0)}return jn();function Nn(Ge){we.push(Ge),Fe=he}function Un(Ge){var He=0;return He=Ge!==-1&&(Ge=U.substring(Be+1,Ge))&&Ge.trim()===""?Ge.length:He}function jn(Ge){return Y||(Ge===void 0&&(Ge=U.substring(he)),Ee.push(Ge),he=oe,Nn(Ee),ve&&Dn()),Nt()}function lr(Ge){he=Ge,Nn(Ee),Ee=[],Ke=U.indexOf(R,he)}function Nt(Ge){if(_.header&&!G&&we.length&&!B){var He=we[0],Ct=Object.create(null),Bt=new Set(He);let is=!1;for(let Mr=0;Mr<He.length;Mr++){let an=He[Mr];if(Ct[an=C(_.transformHeader)?_.transformHeader(an,Mr):an]){let Kn,Pr=Ct[an];for(;Kn=an+"_"+Pr,Pr++,Bt.has(Kn););Bt.add(Kn),He[Mr]=Kn,Ct[an]++,is=!0,(Se=Se===null?{}:Se)[Kn]=an}else Ct[an]=1,He[Mr]=an;Bt.add(an)}is&&console.warn("Duplicate headers found and renamed."),B=!0}return{data:we,errors:Ne,meta:{delimiter:T,linebreak:R,aborted:L,truncated:!!Ge,cursor:Fe+(G||0),renamedHeaders:Se}}}function Dn(){M(Nt()),we=[],Ne=[]}},this.abort=function(){L=!0},this.getCharIndex=function(){return he}}function Q(_){var T=_.data,R=d[T.workerId],P=!1;if(T.error)R.userError(T.error,T.file);else if(T.results&&T.results.data){var M={abort:function(){P=!0,q(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ie,resume:ie};if(C(R.userStep)){for(var D=0;D<T.results.data.length&&(R.userStep({data:T.results.data[D],errors:T.results.errors,meta:T.results.meta},M),!P);D++);delete T.results}else C(R.userChunk)&&(R.userChunk(T.results,M,T.file),delete T.results)}T.finished&&!P&&q(T.workerId,T.results)}function q(_,T){var R=d[_];C(R.userComplete)&&R.userComplete(T),R.terminate(),delete d[_]}function ie(){throw new Error("Not implemented.")}function $(_){if(typeof _!="object"||_===null)return _;var T,R=Array.isArray(_)?[]:{};for(T in _)R[T]=$(_[T]);return R}function ee(_,T){return function(){_.apply(T,arguments)}}function C(_){return typeof _=="function"}return m.parse=function(_,T){var R=(T=T||{}).dynamicTyping||!1;if(C(R)&&(T.dynamicTypingFunction=R,R={}),T.dynamicTyping=R,T.transform=!!C(T.transform)&&T.transform,!T.worker||!m.WORKERS_SUPPORTED)return R=null,m.NODE_STREAM_INPUT,typeof _=="string"?(_=(P=>P.charCodeAt(0)!==65279?P:P.slice(1))(_),R=new(T.download?b:N)(T)):_.readable===!0&&C(_.read)&&C(_.on)?R=new k(T):(i.File&&_ instanceof File||_ instanceof Object)&&(R=new A(T)),R.stream(_);(R=(()=>{var P;return!!m.WORKERS_SUPPORTED&&(P=(()=>{var M=i.URL||i.webkitURL||null,D=n.toString();return m.BLOB_URL||(m.BLOB_URL=M.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))})(),(P=new i.Worker(P)).onmessage=Q,P.id=p++,d[P.id]=P)})()).userStep=T.step,R.userChunk=T.chunk,R.userComplete=T.complete,R.userError=T.error,T.step=C(T.step),T.chunk=C(T.chunk),T.complete=C(T.complete),T.error=C(T.error),delete T.worker,R.postMessage({input:_,config:T,workerId:R.id})},m.unparse=function(_,T){var R=!1,P=!0,M=",",D=`\r
`,_e='"',Se=_e+_e,B=!1,ne=null,ce=!1,he=((()=>{if(typeof T=="object"){if(typeof T.delimiter!="string"||m.BAD_DELIMITERS.filter(function(G){return T.delimiter.indexOf(G)!==-1}).length||(M=T.delimiter),typeof T.quotes!="boolean"&&typeof T.quotes!="function"&&!Array.isArray(T.quotes)||(R=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(B=T.skipEmptyLines),typeof T.newline=="string"&&(D=T.newline),typeof T.quoteChar=="string"&&(_e=T.quoteChar),typeof T.header=="boolean"&&(P=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");ne=T.columns}T.escapeChar!==void 0&&(Se=T.escapeChar+_e),T.escapeFormulae instanceof RegExp?ce=T.escapeFormulae:typeof T.escapeFormulae=="boolean"&&T.escapeFormulae&&(ce=/^[=+\-@\t\r].*$/)}})(),new RegExp(O(_e),"g"));if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return L(null,_,B);if(typeof _[0]=="object")return L(ne||Object.keys(_[0]),_,B)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||ne),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),L(_.fields||[],_.data||[],B);throw new Error("Unable to serialize unrecognized input");function L(G,Y,oe){var me="",de=(typeof G=="string"&&(G=JSON.parse(G)),typeof Y=="string"&&(Y=JSON.parse(Y)),Array.isArray(G)&&0<G.length),ye=!Array.isArray(Y[0]);if(de&&P){for(var ve=0;ve<G.length;ve++)0<ve&&(me+=M),me+=U(G[ve],ve);0<Y.length&&(me+=D)}for(var we=0;we<Y.length;we++){var Ne=(de?G:Y[we]).length,Ee=!1,Fe=de?Object.keys(Y[we]).length===0:Y[we].length===0;if(oe&&!de&&(Ee=oe==="greedy"?Y[we].join("").trim()==="":Y[we].length===1&&Y[we][0].length===0),oe==="greedy"&&de){for(var Oe=[],xe=0;xe<Ne;xe++){var $e=ye?G[xe]:xe;Oe.push(Y[we][$e])}Ee=Oe.join("").trim()===""}if(!Ee){for(var Ke=0;Ke<Ne;Ke++){0<Ke&&!Fe&&(me+=M);var wt=de&&ye?G[Ke]:Ke;me+=U(Y[we][wt],Ke)}we<Y.length-1&&(!oe||0<Ne&&!Fe)&&(me+=D)}}return me}function U(G,Y){var oe,me;return G==null?"":G.constructor===Date?JSON.stringify(G).slice(1,25):(me=!1,ce&&typeof G=="string"&&ce.test(G)&&(G="'"+G,me=!0),oe=G.toString().replace(he,Se),(me=me||R===!0||typeof R=="function"&&R(G,Y)||Array.isArray(R)&&R[Y]||((de,ye)=>{for(var ve=0;ve<ye.length;ve++)if(-1<de.indexOf(ye[ve]))return!0;return!1})(oe,m.BAD_DELIMITERS)||-1<oe.indexOf(M)||oe.charAt(0)===" "||oe.charAt(oe.length-1)===" ")?_e+oe+_e:oe)}},m.RECORD_SEP="",m.UNIT_SEP="",m.BYTE_ORDER_MARK="\uFEFF",m.BAD_DELIMITERS=["\r",`
`,'"',m.BYTE_ORDER_MARK],m.WORKERS_SUPPORTED=!l&&!!i.Worker,m.NODE_STREAM_INPUT=1,m.LocalChunkSize=10485760,m.RemoteChunkSize=5242880,m.DefaultDelimiter=",",m.Parser=F,m.ParserHandle=V,m.NetworkStreamer=b,m.FileStreamer=A,m.StringStreamer=N,m.ReadableStreamStreamer=k,i.jQuery&&((s=i.jQuery).fn.parse=function(_){var T=_.config||{},R=[];return this.each(function(D){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var _e=0;_e<this.files.length;_e++)R.push({file:this.files[_e],inputElem:this,instanceConfig:s.extend({},T)})}),P(),this;function P(){if(R.length===0)C(_.complete)&&_.complete();else{var D,_e,Se,B,ne=R[0];if(C(_.before)){var ce=_.before(ne.file,ne.inputElem);if(typeof ce=="object"){if(ce.action==="abort")return D="AbortError",_e=ne.file,Se=ne.inputElem,B=ce.reason,void(C(_.error)&&_.error({name:D},_e,Se,B));if(ce.action==="skip")return void M();typeof ce.config=="object"&&(ne.instanceConfig=s.extend(ne.instanceConfig,ce.config))}else if(ce==="skip")return void M()}var he=ne.instanceConfig.complete;ne.instanceConfig.complete=function(L){C(he)&&he(L,ne.file,ne.inputElem),M()},m.parse(ne.file,ne.instanceConfig)}}function M(){R.splice(0,1),P()}}),c&&(i.onmessage=function(_){_=_.data,m.WORKER_ID===void 0&&_&&(m.WORKER_ID=_.workerId),typeof _.input=="string"?i.postMessage({workerId:m.WORKER_ID,results:m.parse(_.input,_.config),finished:!0}):(i.File&&_.input instanceof File||_.input instanceof Object)&&(_=m.parse(_.input,_.config))&&i.postMessage({workerId:m.WORKER_ID,results:_,finished:!0})}),(b.prototype=Object.create(v.prototype)).constructor=b,(A.prototype=Object.create(v.prototype)).constructor=A,(N.prototype=Object.create(N.prototype)).constructor=N,(k.prototype=Object.create(v.prototype)).constructor=k,m})}(Oh)),Oh.exports}var X5=Q5();const W5=kv(X5);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="firebasestorage.googleapis.com",YR="storageBucket",Z5=2*60*1e3,J5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt extends hi{constructor(e,n,i=0){super(Og(e),`Firebase Storage: ${n} (${Og(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kt||(kt={}));function Og(t){return"storage/"+t}function a0(){const t="An unknown error occurred, please check the error payload for server response.";return new Vt(kt.UNKNOWN,t)}function ej(t){return new Vt(kt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function tj(t){return new Vt(kt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vt(kt.UNAUTHENTICATED,t)}function rj(){return new Vt(kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ij(t){return new Vt(kt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function aj(){return new Vt(kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sj(){return new Vt(kt.CANCELED,"User canceled the upload/download.")}function oj(t){return new Vt(kt.INVALID_URL,"Invalid URL '"+t+"'.")}function lj(t){return new Vt(kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uj(){return new Vt(kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+YR+"' property when initializing the app?")}function cj(){return new Vt(kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fj(){return new Vt(kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hj(t){return new Vt(kt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pv(t){return new Vt(kt.INVALID_ARGUMENT,t)}function KR(){return new Vt(kt.APP_DELETED,"The Firebase app was deleted.")}function dj(t){return new Vt(kt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ec(t,e){return new Vt(kt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vu(t){throw new Vt(kt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=ar.makeFromUrl(e,n)}catch{return new ar(e,"")}if(i.path==="")return i;throw lj(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function l(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),p={bucket:1,path:3};function m(ie){ie.path_=decodeURIComponent(ie.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",N=new RegExp(`^https?://${b}/${v}/b/${s}/o${A}`,"i"),k={bucket:1,path:3},V=n===GR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",F=new RegExp(`^https?://${V}/${s}/${O}`,"i"),q=[{regex:d,indices:p,postModify:l},{regex:N,indices:k,postModify:m},{regex:F,indices:{bucket:1,path:2},postModify:m}];for(let ie=0;ie<q.length;ie++){const $=q[ie],ee=$.regex.exec(e);if(ee){const C=ee[$.indices.bucket];let _=ee[$.indices.path];_||(_=""),i=new ar(C,_),$.postModify(i);break}}if(i==null)throw oj(e);return i}}class pj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t,e,n){let i=1,s=null,l=null,c=!1,d=0;function p(){return d===2}let m=!1;function v(...O){m||(m=!0,e.apply(null,O))}function b(O){s=setTimeout(()=>{s=null,t(N,p())},O)}function A(){l&&clearTimeout(l)}function N(O,...F){if(m){A();return}if(O){A(),v.call(null,O,...F);return}if(p()||c){A(),v.call(null,O,...F);return}i<64&&(i*=2);let q;d===1?(d=2,q=0):q=(i+Math.random())*1e3,b(q)}let k=!1;function V(O){k||(k=!0,A(),!m&&(s!==null?(O||(d=2),clearTimeout(s),b(0)):O||(d=1)))}return b(0),l=setTimeout(()=>{c=!0,V(!0)},n),V}function gj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t){return t!==void 0}function yj(t){return typeof t=="object"&&!Array.isArray(t)}function s0(t){return typeof t=="string"||t instanceof String}function IS(t){return o0()&&t instanceof Blob}function o0(){return typeof Blob<"u"}function OS(t,e,n,i){if(i<e)throw Pv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Pv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function QR(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var js;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(js||(js={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||s||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n,i,s,l,c,d,p,m,v,b,A=!0,N=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=b,this.retry=A,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,V)=>{this.resolve_=k,this.reject_=V,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new hh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===js.NO_ERROR,p=l.getStatus();if(!d||_j(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===js.ABORT;i(!1,new hh(!1,null,v));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new hh(m,l))})},n=(i,s)=>{const l=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());vj(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=a0();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(s.canceled){const p=this.appDelete_?KR():sj();c(p)}else{const p=aj();c(p)}};this.canceled_?n(!1,new hh(!1,null,!0)):this.backoffId_=mj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Ej(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Tj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Sj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function wj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Aj(t,e,n,i,s,l,c=!0,d=!1){const p=QR(t.urlParams),m=t.url+p,v=Object.assign({},t.headers);return Sj(v,e),Ej(v,n),Tj(v,l),wj(v,i),new bj(m,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Rj(...t){const e=xj();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(o0())return new Blob(t);throw new Vt(kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Cj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t){if(typeof atob>"u")throw hj("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ng{constructor(e,n){this.data=e,this.contentType=n||null}}function Oj(t,e){switch(t){case ii.RAW:return new Ng(XR(e));case ii.BASE64:case ii.BASE64URL:return new Ng(WR(t,e));case ii.DATA_URL:return new Ng(Dj(e),Mj(e))}throw a0()}function XR(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=t.charCodeAt(++n);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function Nj(t){let e;try{e=decodeURIComponent(t)}catch{throw ec(ii.DATA_URL,"Malformed data URL.")}return XR(e)}function WR(t,e){switch(t){case ii.BASE64:{const s=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(s||l)throw ec(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ii.BASE64URL:{const s=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(s||l)throw ec(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ij(e)}catch(s){throw s.message.includes("polyfill")?s:ec(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class ZR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ec(ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=Pj(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function Dj(t){const e=new ZR(t);return e.base64?WR(ii.BASE64,e.rest):Nj(e.rest)}function Mj(t){return new ZR(t).contentType}function Pj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){let i=0,s="";IS(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(IS(this.data_)){const i=this.data_,s=Cj(i,e,n);return s===null?null:new Ma(s)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ma(i,!0)}}static getBlob(...e){if(o0()){const n=e.map(i=>i instanceof Ma?i.data_:i);return new Ma(Rj.apply(null,n))}else{const n=e.map(c=>s0(c)?Oj(ii.RAW,c).data:c.data_);let i=0;n.forEach(c=>{i+=c.byteLength});const s=new Uint8Array(i);let l=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)s[l++]=c[d]}),new Ma(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){let e;try{e=JSON.parse(t)}catch{return null}return yj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Vj(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function eC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t,e){return e}class Ln{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||Lj}}let dh=null;function Uj(t){return!s0(t)||t.length<2?t:eC(t)}function tC(){if(dh)return dh;const t=[];t.push(new Ln("bucket")),t.push(new Ln("generation")),t.push(new Ln("metageneration")),t.push(new Ln("name","fullPath",!0));function e(l,c){return Uj(c)}const n=new Ln("name");n.xform=e,t.push(n);function i(l,c){return c!==void 0?Number(c):c}const s=new Ln("size");return s.xform=i,t.push(s),t.push(new Ln("timeCreated")),t.push(new Ln("updated")),t.push(new Ln("md5Hash",null,!0)),t.push(new Ln("cacheControl",null,!0)),t.push(new Ln("contentDisposition",null,!0)),t.push(new Ln("contentEncoding",null,!0)),t.push(new Ln("contentLanguage",null,!0)),t.push(new Ln("contentType",null,!0)),t.push(new Ln("metadata","customMetadata",!0)),dh=t,dh}function jj(t,e){function n(){const i=t.bucket,s=t.fullPath,l=new ar(i,s);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function Fj(t,e,n){const i={};i.type="file";const s=n.length;for(let l=0;l<s;l++){const c=n[l];i[c.local]=c.xform(i,e[c.server])}return jj(i,t),i}function nC(t,e,n){const i=JR(e);return i===null?null:Fj(t,i,n)}function zj(t,e,n,i){const s=JR(e);if(s===null||!s0(s.downloadTokens))return null;const l=s.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(m=>{const v=t.bucket,b=t.fullPath,A="/b/"+c(v)+"/o/"+c(b),N=l0(A,n,i),k=QR({alt:"media",token:m});return N+k})[0]}function Bj(t,e){const n={},i=e.length;for(let s=0;s<i;s++){const l=e[s];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class rC{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t){if(!t)throw a0()}function Hj(t,e){function n(i,s){const l=nC(t,s,e);return iC(l!==null),l}return n}function qj(t,e){function n(i,s){const l=nC(t,s,e);return iC(l!==null),zj(l,s,t.host,t._protocol)}return n}function aC(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=rj():s=nj():n.getStatus()===402?s=tj(t.bucket):n.getStatus()===403?s=ij(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function $j(t){const e=aC(t);function n(i,s){let l=e(i,s);return i.getStatus()===404&&(l=ej(t.path)),l.serverResponse=s.serverResponse,l}return n}function Gj(t,e,n){const i=e.fullServerUrl(),s=l0(i,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,d=new rC(s,l,qj(t,n),c);return d.errorHandler=$j(e),d}function Yj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Kj(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=Yj(null,e)),i}function Qj(t,e,n,i,s){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let q="";for(let ie=0;ie<2;ie++)q=q+Math.random().toString().slice(2);return q}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const m=Kj(e,i,s),v=Bj(m,n),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,A=`\r
--`+p+"--",N=Ma.getBlob(b,i,A);if(N===null)throw cj();const k={name:m.fullPath},V=l0(l,t.host,t._protocol),O="POST",F=t.maxUploadRetryTime,Q=new rC(V,O,Hj(t,n),F);return Q.urlParams=k,Q.headers=c,Q.body=N.uploadData(),Q.errorHandler=aC(e),Q}class Xj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=js.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=js.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=js.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s,l){if(this.sent_)throw Vu("cannot .send() more than once");if(es(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Wj extends Xj{initXhr(){this.xhr_.responseType="text"}}function sC(){return new Wj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this._service=e,n instanceof ar?this._location=n:this._location=ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ys(e,n)}get root(){const e=new ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eC(this._location.path)}get storage(){return this._service}get parent(){const e=kj(this._location.path);if(e===null)return null;const n=new ar(this._location.bucket,e);return new Ys(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw dj(e)}}function Zj(t,e,n){t._throwIfRoot("uploadBytes");const i=Qj(t.storage,t._location,tC(),new Ma(e,!0),n);return t.storage.makeRequestWithTokens(i,sC).then(s=>({metadata:s,ref:t}))}function Jj(t){t._throwIfRoot("getDownloadURL");const e=Gj(t.storage,t._location,tC());return t.storage.makeRequestWithTokens(e,sC).then(n=>{if(n===null)throw fj();return n})}function eF(t,e){const n=Vj(t._location.path,e),i=new ar(t._location.bucket,n);return new Ys(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){return/^[A-Za-z]+:\/\//.test(t)}function nF(t,e){return new Ys(t,e)}function oC(t,e){if(t instanceof u0){const n=t;if(n._bucket==null)throw uj();const i=new Ys(n,n._bucket);return e!=null?oC(i,e):i}else return e!==void 0?eF(t,e):t}function rF(t,e){if(e&&tF(e)){if(t instanceof u0)return nF(t,e);throw Pv("To use ref(service, url), the first argument must be a Storage instance.")}else return oC(t,e)}function NS(t,e){const n=e==null?void 0:e[YR];return n==null?null:ar.makeFromBucketSpec(n,t)}function iF(t,e,n,i={}){t.host=`${e}:${n}`;const s=es(e);s&&(Fv(`https://${t.host}/b`),zv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:tw(l,t.app.options.projectId))}class u0{constructor(e,n,i,s,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=GR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Z5,this._maxUploadRetryTime=J5,this._requests=new Set,s!=null?this._bucket=ar.makeFromBucketSpec(s,this._host):this._bucket=NS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ar.makeFromBucketSpec(this._url,e):this._bucket=NS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){OS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){OS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ys(this,e)}_makeRequest(e,n,i,s,l=!0){if(this._deleted)return new pj(KR());{const c=Aj(e,this._appId,i,s,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const DS="@firebase/storage",MS="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="storage";function aF(t,e,n){return t=zt(t),Zj(t,e,n)}function sF(t){return t=zt(t),Jj(t)}function oF(t,e){return t=zt(t),rF(t,e)}function lF(t=qv(),e){t=zt(t);const i=md(t,lC).getImmediate({identifier:e}),s=ZS("storage");return s&&uF(i,...s),i}function uF(t,e,n,i={}){iF(t,e,n,i)}function cF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new u0(n,i,s,e,Qs)}function fF(){zs(new Ba(lC,cF,"PUBLIC").setMultipleInstances(!0)),ai(DS,MS,""),ai(DS,MS,"esm2017")}fF();const PS=Dr(Yn),hF=lF(Yn),dF=()=>{const[t,e]=z.useState(""),[n,i]=z.useState(""),[s,l]=z.useState(""),c=async p=>{p.preventDefault();try{await pl(Cn(PS,"referencias"),{nombre:t,codigo:n}),l("Referencia guardada correctamente"),e(""),i("")}catch(m){console.error("Error al guardar referencia:",m),l("Error al guardar")}},d=async p=>{var v;const m=(v=p.target.files)==null?void 0:v[0];if(m)try{const b=oF(hF,`csv-referencias/${m.name}`);await aF(b,m);const A=await sF(b);console.log("Archivo subido. URL:",A),W5.parse(m,{header:!0,skipEmptyLines:!0,complete:async N=>{const k=N.data;for(const V of k)if(V.nombre&&V.codigo)try{await pl(Cn(PS,"referencias"),V)}catch(O){console.error("Error al importar:",O)}l("Importacin completada. Archivo guardado en Firebase Storage")}})}catch(b){console.error("Error al subir CSV:",b),l("Error al subir archivo")}};return w.jsxs("div",{className:"max-w-md mx-auto p-4 bg-white shadow-md rounded-lg space-y-4",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Crear Referencia"}),s&&w.jsx("div",{className:"text-green-600",children:s}),w.jsxs("form",{onSubmit:c,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Nombre"}),w.jsx("input",{type:"text",value:t,onChange:p=>e(p.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-400",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Cdigo"}),w.jsx("input",{type:"text",value:n,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-400",required:!0})]}),w.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:"Guardar"})]}),w.jsxs("div",{className:"mt-6",children:[w.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-600",children:"Importar CSV"}),w.jsx("input",{type:"file",accept:".csv",onChange:d,className:"w-full text-sm bg-amber-100 px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-400"})]})]})};function pF(){return w.jsx(iV,{children:w.jsx(qI,{children:w.jsxs(LI,{children:[w.jsx(fn,{path:"/",element:w.jsx(rV,{})}),w.jsxs(fn,{path:"/",element:w.jsx(Ui,{allowedRoles:["admin","supervisor","operator","superadmin"],children:w.jsx(R5,{})}),children:[w.jsx(fn,{path:"home",element:w.jsx(mT,{})}),w.jsx(fn,{path:"supervisor",element:w.jsx(Ui,{allowedRoles:["admin","operator","superadmin"],children:w.jsx(YT,{})})}),w.jsx(fn,{path:"eficencia",element:w.jsx(bg,{})}),w.jsxs(fn,{path:"picado",element:w.jsx(ZL,{}),children:[w.jsx(fn,{path:"f1315",element:w.jsx(H5,{})}),w.jsx(fn,{path:"eficence",element:w.jsx(bg,{})})]}),w.jsx(fn,{path:"/supervisor",element:w.jsx(Ui,{allowedRoles:["admin","superadmin"],children:w.jsx(YT,{})})}),w.jsxs(fn,{path:"/configurations",element:w.jsx(Ui,{allowedRoles:["superadmin"],children:w.jsx(O5,{})}),children:[w.jsx(fn,{path:"createMachine",element:w.jsx(Ui,{allowedRoles:["superadmin"],children:w.jsx(P5,{})})}),w.jsx(fn,{path:"createUser",element:w.jsx(Ui,{allowedRoles:["superadmin"],children:w.jsx(V5,{name:"username",label:"Username",type:"text",required:!0,placeholder:"Enter username"})})}),w.jsx(fn,{path:"createReferencia",element:w.jsx(Ui,{allowedRoles:["superadmin"],children:w.jsx(dF,{})})}),w.jsx(fn,{path:"editingRegister",element:w.jsx(bg,{editable:!0})})]}),w.jsx(fn,{path:"data",element:w.jsx(Ui,{allowedRoles:["admin","superadmin"],children:w.jsx(z5,{})})}),w.jsx(fn,{path:"*",element:w.jsx(mT,{})})]}),w.jsx(fn,{path:"/adminapplication",element:w.jsx(Ui,{allowedRoles:["superadmin"],children:w.jsx(Y5,{})})})]})})})}H2.createRoot(document.getElementById("root")).render(w.jsx(z.StrictMode,{children:w.jsx(pF,{})}));M2({webhookUrl:"http://localhost:5678/webhook/74ce0cf9-3cf8-4f8c-a63b-f2c462925877/chat",webhookConfig:{method:"POST",headers:{}},target:"#n8n-chat",mode:"window",chatInputKey:"chatInput",chatSessionKey:"sessionId",metadata:{},showWelcomeScreen:!1,defaultLanguage:"en",initialMessages:["Hola,! ","Mi nombre es Jaky. En qu puedo ayudarte hoy?"],i18n:{en:{title:"Hola! ",subtitle:"Inicia un chat. Estamos aqu para ayudarte 24/7.",footer:"",getStarted:"Nueva Conversacin",inputPlaceholder:"Escribe tu pregunta.."}}});
